<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
  <title>ðŸ§ŠðŸ“š POLAR Documentation</title>
	<link rel="stylesheet" href="./github-markdown.css">
  <style>
    body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
    @media (prefers-color-scheme: dark) {
      html {
        background-color: #0d1117;
      }
    }
  </style>
</head>
<body>
  <article class="markdown-body">
    <h1 id="core" tabindex="-1">Core</h1>
<h2 id="scope" tabindex="-1">Scope</h2>
<p>The client's core is the base package to create clients in the POLAR environment.</p>
<p>It offers this functionality:</p>
<ul>
<li>Plugin mechanism</li>
<li>@masterportal/masterportalapi functionality</li>
<li>Localization mechanism</li>
</ul>
<h2 id="interaction" tabindex="-1">Interaction</h2>
<p>If a client is rendered as part of another page, the zoom and drag-pan behaviour is different to if the client is rendered as complete page.<br />
If it's part of another page, drag-panning on mobile devices is only usable if at least two fingers are being used while on desktop clients the user can only zoom if using the respective platform modifier key (e.g. CTRL).</p>
<p>It is important to note that the behaviour will be desktop-like on larger touchscreen devices (e.g. tablets).</p>
<h2 id="initialization-%2F-configuration" tabindex="-1">Initialization / Configuration</h2>
<p>It depends on the client how exactly the initialization will take place for the embedding programmer. However, the core mechanism remains the same.</p>
<p>The exported default object is an extended masterportalapi, adding the <code>addPlugins</code> and extending the <code>createMap</code> functions. For masterportalapi details, <a href="https://bitbucket.org/geowerkstatt-hamburg/masterportalapi/src/master/">see their repository</a>.</p>
<h3 id="addplugins" tabindex="-1">addPlugins</h3>
<p>Before instantiating the map, all required plugins have to be added. Depending on how you use POLAR, this may already have been done. Ready-made clients (that is, packages prefixed <code>@polar/client-</code>) come with plugins prepared. You may add further plugins or proceed with <code>createMap</code>.</p>
<p>In case you're integrating new plugins, call <code>addPlugins</code> with an array of instances.</p>
<pre><code class="language-js">client.addPlugins([Plugin({ pluginConfig })])
</code></pre>
<p>In case you're writing a new plugin, it must fulfill the following API:</p>
<pre><code class="language-js">const Plugin = (options: PluginOptions) =&gt; (instance: Vue) =&gt;
  instance.$store.dispatch('addComponent', {
    name: 'plugin', // unique technical name
    plugin: Plugin, // a vue component
    language, // an i18n locale batch
    options, // configuration; overriddable with mapConfiguration on createMap
    storeModule, // vuex store module, if required
  })
</code></pre>
<p>If the storeModule features a <code>setupModule</code> action, it will be executed automatically after initialization.</p>
<h3 id="initializelayerlist" tabindex="-1">initializeLayerList</h3>
<p>Layers intended to be used in the map have to be initialized by calling <code>initializeLayerList</code> with a service register.<br />
This register may either be a link to a predefined service register like <a href="https://geodienste.hamburg.de/services-internet.json">the Hamburg service register</a>, or the custom service register that is also used in <a href="#mapconfigurationlayerconf">mapConfiguration.layerConf</a>.</p>
<p><code>js core.rawLayerList.initializeLayerList(services: mapConfiguration.layerConf | string, callback?: Function) </code></p>
<p><a href="#createmap">createMap</a> is usually called inside the callback or directly after this function call.</p>
<h3 id="createmap" tabindex="-1">createMap</h3>
<p>The map is created by calling the <code>createMap</code> method. Depending on how you use POLAR, this may already have been done, as some clients come as ready-made standalone HTML pages that do this for you.</p>
<pre><code class="language-js">MapClient.createMap({
  // arbitrary id, must point to a div
  containerId: 'polarstern',
  // see below
  mapConfiguration,
}).then((map) =&gt; {
  /* Your Code, e.g. for setting up callbacks. */
})
</code></pre>
<h4 id="mapconfiguration" tabindex="-1">mapConfiguration</h4>
<p>The mapConfiguration allows controlling many client instance details.</p>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;...masterportalapi.fields&gt;</td>
<td>various</td>
<td>Multiple different parameters are required by the masterportalapi to be able to create the map. Also, some fields are optional but relevant and thus described here as well. For all additional options, refer to the documentation of the masterportalapi itself.</td>
</tr>
<tr>
<td>checkServiceAvailability</td>
<td>boolean?</td>
<td>If set to <code>true</code>, all services' availability will be checked with head requests.</td>
</tr>
<tr>
<td>extendedMasterportalapiMarkers</td>
<td>extendedMasterportalapiMarkers?</td>
<td>Optional. If set, all configured visible vector layers' features can be hovered and selected by mouseover and click respectively. They are available as features in the store. Layers with <code>clusterDistance</code> will be clustered to a multi-marker that supports the same features. Please mind that this only works properly if you configure nothing but point marker vector layers styled by the masterportalapi.</td>
</tr>
<tr>
<td>language</td>
<td>enum[&quot;de&quot;, &quot;en&quot;]?</td>
<td>Initial language.</td>
</tr>
<tr>
<td>locales</td>
<td>LanguageOption[]?</td>
<td>All locales in POLAR's plugins can be overridden to fit your needs.</td>
</tr>
<tr>
<td>&lt;plugin.fields&gt;</td>
<td>various?</td>
<td>Fields for configuring plugins added with <code>addPlugins</code>. Refer to each plugin's documentation for specific fields and options. Global plugin parameters are described <a href="#global-plugin-parameters">below</a>.</td>
</tr>
<tr>
<td>renderFaToLightDom</td>
<td>boolean?</td>
<td>POLAR requires FontAwesome in the Light/Root DOM due to an <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=336876">unfixed bug in many browsers</a>. This value defaults to <code>true</code>. POLAR will, by default, just add the required CSS by itself. Should you have a version of Fontawesome already included, you can try to set this to <code>false</code> to check whether the versions are interoperable.</td>
</tr>
<tr>
<td>stylePath</td>
<td>string?</td>
<td>This path will be used to create the link node in the client itself. It defaults to <code>'./style.css'</code>.</td>
</tr>
<tr>
<td>vuetify</td>
<td>object?</td>
<td>You may add vuetify configuration here.</td>
</tr>
</tbody>
</table>
<details>
<summary>Example configuration</summary>
<pre><code class="language-ts">import locales from './locales'

const mapConfiguration = {
  stylePath: '../dist/polar-client.css',
  checkServiceAvailability: true,
  language: 'de',
  locales, // the languageOptions object will normally be outsourced to another file
  layerConf, // the layerConf object will normally be outsourced to another file - for more information, see the relevant chapter
  layers: [
    // parts of the layer configuration can be outsourced to another file
    // and referenced in the mapConfiguration by id like the second layer
    {
      id: 'backgroundmap',
      name: 'WMS DE BASEMAP.DE WEB RASTER',
      url: 'https://sgx.geodatenzentrum.de/wms_basemapde',
      typ: 'WMS',
      layers: 'de_basemapde_web_raster_grau',
      format: 'image/png',
      version: '1.3.0',
      singleTile: false,
      transparent: true,
    },
    {
      id: '1561',
      visibility: true,
      type: 'mask',
      name: 'Building Plans',
      minZoom: 2,
    },
  ],
  addressSearch: {
    displayComponent: false,
  },
  export: {
    showPdf: false,
  },
  ...
}
</code></pre>
</details>
<h5 id="mapconfiguration.languageoption" tabindex="-1">mapConfiguration.LanguageOption</h5>
<p>A language option is an object consisting of a type (its language key) and the i18next resource definition. You may e.g. decide that the texts offered in the LayerChooser do not fit the style of your client, or that they could be more precise in your situation since you're only using <em>very specific</em> overlays.</p>
<p>An example for a LanguageOption array usable in <code>createMap</code> is this array:</p>
<pre><code class="language-ts">const languageOptions: LanguageOption[] = [
  {
    type: 'de',
    resources: {
      plugins: {
        layerChooser: {
          maskTitle: 'Bahnstrecken',
        },
      },
    },
  },
  {
    type: 'en',
    resources: {
      plugins: {
        layerChooser: {
          maskTitle: 'Railway lines',
        },
      },
    },
  },
]
</code></pre>
<p>To figure out the name of the locales to override, inspect the matching plugin in GitHub's file browser. In <code>packages/plugins</code>, open the plugin you desire to override. Each plugin's <code>src</code> folder contains a <code>language.ts</code> listing all used locale keys with appropriate nesting.</p>
<h5 id="mapconfiguration.extendedmasterportalapimarkers" tabindex="-1">mapConfiguration.extendedMasterportalapiMarkers</h5>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>layers</td>
<td>string[]</td>
<td>List of layer ids. The effect will only be applied to these layers.</td>
</tr>
<tr>
<td>clusterClickZoom</td>
<td>boolean?</td>
<td>If <code>true</code>, clicking a cluster feature will zoom into the clustered features' bounding box (with padding) so that the cluster is &quot;resolved&quot;. This happens until the maximum zoom level is reached, at which no further zooming can take place. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td>defaultStyle</td>
<td>MarkerStyle?</td>
<td>Used as the default marker style. The default fill color for these markers is <code>'#005CA9'</code>.</td>
</tr>
<tr>
<td>dispatchOnMapSelect</td>
<td>string[]?</td>
<td>If set, the parameters will be spread to dispatchment on map selection. <code>['target', 'value']</code> will <code>dispatch(...['target', 'value'])</code>. This can be used to open the iconMenu's GFI with <code>['plugin/iconMenu/openMenuById', 'gfi']</code>, should the IconMenu exist and the gfi plugin be in it with this id.</td>
</tr>
<tr>
<td>hoverStyle</td>
<td>MarkerStyle?</td>
<td>Used as map marker style for hovered features. The default fill color for these markers is <code>'#7B1045'</code>.</td>
</tr>
<tr>
<td>isSelectable</td>
<td>((feature: GeoJsonFeature) =&gt; boolean)?</td>
<td>If undefined, all features are selectable. If defined, this can be used to sort out features to be unselectable, and such features will be styled different and won't react on click.</td>
</tr>
<tr>
<td>selectionStyle</td>
<td>MarkerStyle?</td>
<td>Used as map marker style for selected features. The default fill color for these markers is <code>'#679100'</code>.</td>
</tr>
<tr>
<td>unselectableStyle</td>
<td>MarkerStyle?</td>
<td>Used as a map marker style for unselectable features. Features are unselectable if a given <code>isSelectable</code> method returns falsy for a feature. The default fill color for these markers is <code>'#333333'</code>.</td>
</tr>
</tbody>
</table>
<p>Example configuration:</p>
<pre><code class="language-js">extendedMasterportalapiMarkers: {
  layers: ['reportServiceLayerId'],
  defaultStyle: {
    stroke: '#FFFFFF',
    fill: '#005CA9',
  },
  hoverStyle: {
    stroke: '#46688E',
    fill: '#8BA1B8',
  },
  selectionStyle: {
    stroke: '#FFFFFF',
    fill: '#E10019',
  },
  unselectableStyle: {
    stroke: '#FFFFFF',
    fill: '#333333'
  },
  isSelectable: (feature: Feature) =&gt; feature.get('indicator')
  clusterClickZoom: true,
  dispatchOnMapSelect: ['plugin/iconMenu/openMenuById', 'gfi'],
},
</code></pre>
<h6 id="mapconfiguration.extendedmasterportalapimarkers.markerstyle" tabindex="-1">mapConfiguration.extendedMasterportalapiMarkers.MarkerStyle</h6>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clusterSize</td>
<td>[number, number]?</td>
<td><code>width</code> and <code>height</code> of the <code>&lt;svg&gt;</code>-cluster-marker.</td>
</tr>
<tr>
<td>fill</td>
<td>(string | masterportalapiPolygonFillHatch)?</td>
<td>Fill color (or hatch pattern) for map marker.</td>
</tr>
<tr>
<td>size</td>
<td>[number, number]?</td>
<td><code>width</code> and <code>height</code> of the <code>&lt;svg&gt;</code>-marker.</td>
</tr>
<tr>
<td>stroke</td>
<td>string?</td>
<td>Color of marker stroke (outer line). Defaults to <code>'#ffffff'</code>.</td>
</tr>
<tr>
<td>strokeWidth</td>
<td>(string | number)?</td>
<td>Width of marker stroke (outer line). Defaults to <code>'2'</code>.</td>
</tr>
</tbody>
</table>
<p>Example configuration:</p>
<pre><code class="language-js">defaultStyle: {
  stroke: '#FFFFFF',
  fill: '#005CA9',
},
</code></pre>
<p>A full documentation of the masterportalapiPolygonFillHatch is available at the Masterportal's documentation file <a href="https://bitbucket.org/geowerkstatt-hamburg/masterportal/src/dev/doc/style.json.md">style.json.md</a>, chapter 'Polygon.polygonFillHatch'. The basic usage is quoted below for quick lookup. For more details, visual examples, and expert features, see there.</p>
<blockquote>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>backgroundColor</td>
<td>no</td>
<td>Number[]</td>
<td><code>[0, 0, 0, 1]</code></td>
<td>Background color of polygon.</td>
</tr>
<tr>
<td>lineWidth</td>
<td>no</td>
<td>Number</td>
<td><code>10</code></td>
<td>Line width of drawn pattern. To achieve an even distribution in diagonal and zig-line pattern, choose lineWidth as (1/3 * size). For triangle and diamond, a lineWidth of 1 must be chosen. For rectangle, a lineWidth of at most (1/4 * size) should be chosen. Deviating from these rules is not harmful, but patterns may seem off.</td>
</tr>
<tr>
<td>pattern</td>
<td>no</td>
<td>enum[&quot;diagonal&quot;, &quot;diagonal-right&quot;, &quot;zig-line&quot;, &quot;zig-line-horizontal&quot;, &quot;circle&quot;, &quot;rectangle&quot;, &quot;triangle&quot;, &quot;diamond&quot;]/Object</td>
<td><code>&quot;diagonal&quot;</code></td>
<td>Draw pattern. You may either use a pre-defined pattern from the enum or specify one yourself.</td>
</tr>
<tr>
<td>patternColor</td>
<td>no</td>
<td>Number[]</td>
<td><code>[255, 255, 255, 1]</code></td>
<td>Fill color of pattern drawn on polygon.</td>
</tr>
<tr>
<td>size</td>
<td>no</td>
<td>Number</td>
<td><code>30</code></td>
<td>Edge length of a singular repeated pattern element.</td>
</tr>
</tbody>
</table>
</blockquote>
<h5 id="%3C...masterportalapi.fields%3E" tabindex="-1">&lt;...masterportalapi.fields&gt;</h5>
<p>The <code>&lt;...masterportalapi.fields&gt;</code> means that any masterportalapi field may also be used here <em>directly</em> in the mapConfiguration. The fields described here are fields that are interesting for the usage of POLAR.
Fields that are not set as required have default values.</p>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>layerConf</td>
<td>layerConf</td>
<td>Layer configuration of all available layers as a service register. Layers defined here are not directly shown in a client, see <code>mapconfiguration.layers</code> for that.</td>
</tr>
<tr>
<td>layers</td>
<td>layer[]</td>
<td>Configuration of layers that are supposed to be used in the respective client. All layers defined here have to have an entry in <code>mapConfiguration.layerConf</code>. If <code>@polar/plugin-layer-chooser</code> is installed and configured, all these layers will be displayed in that menu.</td>
</tr>
<tr>
<td>startCenter</td>
<td>number[]</td>
<td>Initial center coordinate. Needs to be defined in the chosen leading coordinate system.</td>
</tr>
<tr>
<td>epsg</td>
<td><code>EPSG:${string}</code>?</td>
<td>Leading coordinate system. The coordinate system has to be defined in <code>mapConfiguration.namedProjections</code> as well. Changing this value should also lead to changes in <code>mapConfiguration.startCenter</code>, <code>mapConfiguration.extent</code>, <code>mapConfiguration.options</code> and <code>mapConfiguration.startResolution</code> as they are described in or related to the leading coordinate system. Defaults to <code>'EPSG:25832'</code>.</td>
</tr>
<tr>
<td>extent</td>
<td>number[]?</td>
<td>Map movement will be restricted to the rectangle described by the given coordinates. Unrestricted by default.</td>
</tr>
<tr>
<td>namedProjections</td>
<td>Array&lt;[string,string]&gt;?</td>
<td>Array of usable coordinated systems mapped to a projection as a proj4 string. Defines <code>'EPSG:25832'</code>, <code>'EPSG:3857'</code>, <code>'EPSG:4326'</code>, <code>'EPSG:31467'</code> and <code>'EPSG:4647'</code> by default. If you set a value, please mind that all pre-configured projections are overridden, and requiring e.g. <code>'EPSG:4326'</code> will only work if it is also defined in your override.</td>
</tr>
<tr>
<td>options</td>
<td>zoomOption[]?</td>
<td>Defines all available zoom levels mapped to the respective resolution and related scale. Defines 10 zoomLevels for <code>'EPSG:25832'</code> by default.</td>
</tr>
<tr>
<td>startResolution</td>
<td>number?</td>
<td>Initial resolution; must be described in <code>mapConfiguration.options</code>. Defaults to <code>15.874991427504629</code> which is zoom level to in the default of <code>mapConfiguration.options</code>.</td>
</tr>
</tbody>
</table>
<details>
<summary>Example configuration</summary>
<pre><code class="language-js">{
  startResolution: 264.583190458,
  startCenter: [553655.72, 6004479.25],
  extent: [426205.6233, 5913461.9593, 650128.6567, 6101486.8776],
  epsg: 'EPSG:25832',
  options: [
    { resolution: 66.14579761460263, scale: 250000, zoomLevel: 0 },
    { resolution: 26.458319045841044, scale: 100000, zoomLevel: 1 },
    { resolution: 15.874991427504629, scale: 60000, zoomLevel: 2 },
    { resolution: 10.583327618336419, scale: 40000, zoomLevel: 3 },
    { resolution: 5.2916638091682096, scale: 20000, zoomLevel: 4 },
    { resolution: 2.6458319045841048, scale: 10000, zoomLevel: 5 },
    { resolution: 1.3229159522920524, scale: 5000, zoomLevel: 6 },
    { resolution: 0.6614579761460262, scale: 2500, zoomLevel: 7 },
    { resolution: 0.2645831904584105, scale: 1000, zoomLevel: 8 },
    { resolution: 0.1322915952292052, scale: 500, zoomLevel: 9 },
  ],
  namedProjections: [
    [
      'EPSG:25832',
      '+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',
    ],
  ],
}
</code></pre>
</details>
<h5 id="mapconfiguration.layerconf" tabindex="-1">mapConfiguration.layerConf</h5>
<p>The layer configuration (or: service register) is read by the masterportalapi. The full definition can be read <a href="https://bitbucket.org/geowerkstatt-hamburg/masterportal/src/dev/doc/services.json.md">here</a>.</p>
<p>However, not all listed services have been implemented in the masterportalapi yet, and no documentation regarding implemented properties exists there yet.</p>
<p>Whitelisted and confirmed parameters include:</p>
<ul>
<li>WMS:  id, name, url, typ, format, version, transparent, layers, STYLES</li>
<li>WFS:  id, name, url, typ, outputFormat, version, featureType</li>
<li>WMTS: id, name, urls, typ, capabilitiesUrl, optionsFromCapabilities, tileMatrixSet, layers, legendURL, format, coordinateSystem, origin, transparent, tileSize, minScale, maxScale, requestEncoding, resLength</li>
</ul>
<h6 id="example-services-register" tabindex="-1">Example services register</h6>
<pre><code class="language-json">[
  {
    &quot;id&quot;: &quot;my-wfs-id&quot;,
    &quot;name&quot;: &quot;Service name&quot;,
    &quot;url&quot;: &quot;Service url&quot;,
    &quot;typ&quot;: &quot;WFS&quot;,
    &quot;outputFormat&quot;: &quot;XML&quot;,
    &quot;version&quot;: &quot;1.1.0&quot;,
    &quot;featureType&quot;: &quot;ns:featureType&quot;
  },
  {
    &quot;id&quot;: &quot;my-wms-id&quot;,
    &quot;name&quot;: &quot;Service name&quot;,
    &quot;url&quot;: &quot;Service url&quot;,
    &quot;typ&quot;: &quot;WMS&quot;,
    &quot;format&quot;: &quot;image/png&quot;,
    &quot;version&quot;: &quot;1.3.0&quot;,
    &quot;transparent&quot;: true,
    &quot;layers&quot;: [&quot;A&quot;, &quot;B&quot;]
  },
  {
    &quot;id&quot;: &quot;my-self-defined-wmts&quot;,
    &quot;urls&quot;: [
      &quot;url1/{TileMatrix}/{TileCol}/{TileRow}.png&quot;,
      &quot;url2/{TileMatrix}/{TileCol}/{TileRow}.png&quot;,
      &quot;url3/{TileMatrix}/{TileCol}/{TileRow}.png&quot;
    ],
    &quot;typ&quot;: &quot;WMTS&quot;,
    &quot;format&quot;: &quot;image/png&quot;,
    &quot;coordinateSystem&quot;: &quot;EPSG:3857&quot;,
    &quot;origin&quot;: [-20037508.3428, 20037508.3428],
    &quot;transparent&quot;: false,
    &quot;tileSize&quot;: &quot;256&quot;,
    &quot;minScale&quot;: &quot;1&quot;,
    &quot;maxScale&quot;: &quot;2500000&quot;,
    &quot;tileMatrixSet&quot;: &quot;google3857&quot;,
    &quot;requestEncoding&quot;: &quot;REST&quot;,
    &quot;resLength&quot;: &quot;20&quot;
  },
  {
    &quot;id&quot;: &quot;my-capabilities-wmts&quot;,
    &quot;capabilitiesUrl&quot;: &quot;WMTS capabilities url&quot;,
    &quot;urls&quot;: &quot;WMTS url&quot;,
    &quot;optionsFromCapabilities&quot;: true,
    &quot;tileMatrixSet&quot;: &quot;EU_EPSG_25832_TOPPLUS&quot;,
    &quot;typ&quot;: &quot;WMTS&quot;,
    &quot;layers&quot;: &quot;layer-name&quot;,
    &quot;legendURL&quot;: &quot;my-legend-url&quot;
  }
]
</code></pre>
<p>Since this is the base for many functions, the service id set in this is used to reference map material in many places of the map client.</p>
<h6 id="zoomoption" tabindex="-1">zoomOption</h6>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>resolution</td>
<td>number</td>
<td>Size of 1 pixel on the screen converted to map units (e.g. meters) depending on the used projection (<code>epsg</code>).</td>
</tr>
<tr>
<td>scale</td>
<td>number</td>
<td>Scale in meters.</td>
</tr>
<tr>
<td>zoomLevel</td>
<td>number</td>
<td>Zoom level.</td>
</tr>
</tbody>
</table>
<h5 id="layer" tabindex="-1">layer</h5>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Service register id in <code>mapConfiguration.layerConf</code>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Display name in UI.</td>
</tr>
</tbody>
</table>
<details>
<summary>Example configuration</summary>
<pre><code class="language-js">layers: [
  {
    id: 'basemap',
    name: 'Basemap Grayscale',
  },
  {
    id: 'my-wfs',
    name: 'My WFS service',
  },
]
</code></pre>
</details>
<h5 id="%3Cplugin.fields%3E" tabindex="-1">&lt;plugin.fields&gt;</h5>
<p>Plugins in POLAR are modular components that extend the functionality of the map client. They can be added using the <a href="#addplugins">addPlugins</a> method and configured through the <code>mapConfiguration</code> object. Each plugin has its own set of fields and options that can be customized.</p>
<p>On how to configure a plugin, see the respective plugin. The configuration is given in the <code>mapConfiguration</code> object by the plugin's name as specified in its respective documentation.</p>
<h6 id="global-plugin-parameters" tabindex="-1">Global Plugin Parameters</h6>
<p>Most plugins honor this additional field.</p>
<table>
<thead>
<tr>
<th>fieldName</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>displayComponent</td>
<td>boolean?</td>
<td>Optional field that allows hiding UI elements from the user. The store will still be initialized, allowing you to add your own UI elements and control the plugin's functionality via the Store. This may or may not make sense, depending on the plugin. Defaults to <code>false</code> , meaning the default UI is hidden.</td>
</tr>
</tbody>
</table>
<h6 id="example-configuration" tabindex="-1">Example Configuration</h6>
<p>For example, a <code>@polar/plugin-address-search</code> plugin can be configured like this:</p>
<pre><code class="language-js">{
  addressSearch: {
    // Plugin-specific configuration
    displayComponent: true, // Optional field to control UI elements
    // ...
  }
}
</code></pre>
<h5 id="mapconfiguration.vuetify" tabindex="-1">mapConfiguration.vuetify</h5>
<p>These fields let you e.g. specify a <a href="https://vuetifyjs.com/en/features/theme/">Vuetify-Theme</a>. For more options, refer to the official vuetify documentation.</p>
<p>Additionally to the regular fields, <code>primaryContrast</code> and <code>secondaryContrast</code> are interpreted. They serve as contrast colors to their respective fields and are used for e.g. button icons.</p>
<pre><code class="language-js">{
  theme: {
    themes: {
      light: {
        primary: &quot;black&quot;,
        primaryContrast: &quot;white&quot;,
        secondary: &quot;#c0ffee&quot;,
        secondaryContrast: &quot;#de1e7e&quot;
      }
    }
  }
}
</code></pre>
<h2 id="store" tabindex="-1">Store</h2>
<p>The core module features a vuex root store that all plugin vuex modules are plugged into. However, the root contents are only relevant to plugins. It is accessible with <code>map.$store</code>, and can be used as a starting point for plugin access.</p>
<p>To ease use, the map instance also features a <code>subscribe</code> method that will register a watcher to any state field. Please mind that only documented paths should be used, and all others are subject to change without notice.</p>
<pre><code class="language-js">// state subscription â€“ listening to data held by the map client
map.subscribe('some/key', (value) =&gt; {
  // do something with the value
})

// getter subscription â€“ these are computed values from various sources
map.$store.watch(
    (_, getters) =&gt; getters['some/key'],
    (value) =&gt; {
        // effect
    }
)
</code></pre>
<p>This is, for example, useful to listen to search results, draw features, or marker coordinates. The plugins document how exactly to use their respective fields.</p>
<p>To add content to the <code>MoveHandle</code>, the mutation <code>setMoveHandle</code> can be used. The values needed are described in <code>@polar/lib-custom-types:MoveHandleProperties</code>.</p>

    
  </article>
  <hr>
  <a href="https://github.com/Dataport/polar/blob/main/LEGALNOTICE.md" style="font-family: sans-serif;">Legal Notice (Impressum)</a>
</body>
</html>