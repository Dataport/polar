const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pinia-DFMOV6lD-BZLsqLPB.js","./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js","./invisibleStyle-BctMBDPz-CsIl7PKR.js","./index-iUJySvLX-CJxfh9PK.js","./Style-C94KaxyX-Ch5PZd-8.js","./asserts-BVD3j-0a-pcJD3tIw.js","./xml2js-BbVVFNWz-CKTwSDEB.js","./doesFeaturePassFilter-Cqeyg6pV-8BE03ay4.js","./reverseGeocode-CR3Bbmu1-BkP1SGuk.js","./indicateLoading-BMtjzCI9-CPNIyu5L.js"])))=>i.map(i=>d[i]);
import{computed as Q,toRaw as on,ref as Ce,watch as yt,defineCustomElement as ik,nextTick as Yi,defineComponent as Le,shallowRef as ok,inject as ym,useCssVars as ak,useTemplateRef as pi,createElementBlock as ee,onMounted as Wi,useHost as sk,useShadowRoot as lk,onBeforeUnmount as Hl,openBlock as N,createVNode as Pr,createBlock as Te,createCommentVNode as Ye,unref as M,createElementVNode as se,Fragment as lt,resolveDynamicComponent as Qt,normalizeClass as it,toDisplayString as qe,withModifiers as ir,onUnmounted as ck,markRaw as Pi,withCtx as Ir,Transition as uk,renderList as Lt,renderSlot as Yd,useId as ts,withDirectives as Ki,withKeys as Sr,isRef as Vu,vModelText as vm,normalizeStyle as ci,useModel as Nn,vModelSelect as dk,mergeProps as Hu,mergeModels as Qi,vModelCheckbox as km,vModelRadio as hk,createTextVNode as pk,provide as gk,vModelDynamic as fk,onScopeDispose as bm}from"./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js";import{p as cr,d as dr,w as mk,e as an,u as Vi,o as ve,W as yk,n as Fo,q as We,b as vt,x as Wd,g as xm,f as Ia,F as sn,h as Xt,V as Dn,k as vk,G as kk,i as bk,v as Qp,j as Ni,Y as dl,l as jo,Z as sa,m as xk,A as Xp,r as wk,s as ui,y as wm,T as _k,H as _m,z as Tk,C as Ck,K as Jp,D as Ek,L as Mk,I as qo,J as Sk,O as rs,M as Lk,N as Ik,P as Ak,Q as Pk,R as Zu,U as Nk,X as Dk,a0 as Tm,a1 as Ok,a2 as Zr,a3 as Rk,a4 as Cm,a5 as Fk,a6 as jk,a7 as qk,a8 as zk,a9 as Em,aa as Mm,ab as Sm,ac as $k,ad as Uk,ae as Lm,c as Bt,af as Gk,ag as Bk,ah as Vk,ai as Hk,aj as Zk,ak as Yk,al as Wk,am as Kd,an as hl,ao as Im,ap as Am,aq as Gn,ar as $t,as as pl,at as Pm,au as Di,av as zo,aw as Kk,ax as Qk,ay as rl,az as Xk,aA as Nm,aB as Jk,aC as Xi,aD as Dm,aE as eb,aF as Hi,aG as vr,aH as tb,aI as yi,aJ as Yt,aK as Aa,$ as Fr,aL as at,aM as Zl,aN as Qd,aO as rb,aP as Xd,aQ as nb,aR as gl,aS as ib,aT as ob,aU as ab,B as Om,aV as $o,aW as Cs,aX as Yu,aY as Rm,aZ as Pa,a_ as sb,a$ as Fm,b0 as fl,b1 as lb,b2 as oo,b3 as eg,b4 as cb,b5 as jm,b6 as Uo,b7 as qm,a as _t,b8 as ns,b9 as tg,ba as _r,bb as zm,bc as Jd,bd as $m,be as Um,bf as Br,bg as Kc,bh as Qc,bi as rg,bj as In,bk as Gm,bl as En,bm as Na,bn as Gt,bo as ub,bp as db,S as On,bq as Bm,br as hb,_ as pb,bs as gi,bt as Xc,bu as gb,bv as fb,bw as mb,bx as ng,by as yb,bz as Vm,bA as vb,bB as kb,bC as bb,bD as xb,bE as wb,bF as _b,bG as ig,bH as Tb,bI as Cb,bJ as Eb,bK as Mb,bL as Sb,bM as No,bN as Yl,bO as Lb,bP as nl,bQ as Hm,bR as Zm,bS as Ib,bT as un,bU as Ab,bV as Wu,bW as Ym,bX as Pb,bY as Wm,bZ as Nb,b_ as Ku,b$ as eh,c0 as Db,c1 as og,c2 as ag,c3 as Jc,c4 as sg,c5 as lg,c6 as cg,c7 as Ob,c8 as ga,c9 as Rb,ca as ml,cb as Km,cc as Fb,cd as jb,E as qb,ce as zb,cf as $b,cg as Es,ch as Ub,ci as yl,cj as vo,ck as ug,cl as Rr,cm as Qm,cn as Gb,co as Bb,cp as Vb,cq as Hb}from"./index-iUJySvLX-CJxfh9PK.js";import{defineStore as Wr,createPinia as Zb,storeToRefs as ct}from"./pinia-DFMOV6lD-BZLsqLPB.js";import{_ as Da,g as Xm,v as th,a0 as rh,a1 as Yb,a2 as Wb,a3 as Jm,a4 as Kb,a5 as Qb,C as Pt,D as Lr,k as ln,a6 as Wl,u as Ct,a7 as ii,a as oi,a8 as Xb,y as nh,a9 as ko,aa as ih,j as bo,b as Mi,ab as e0,ac as dg,n as t0,R as Jb,w as e2,ad as Kl,ae as t2,af as hg,ag as Ql,ah as Ms,ai as oh,aj as pg,ak as gg,al as r0,I as ah,X as r2,am as sh,x as n2}from"./Style-C94KaxyX-Ch5PZd-8.js";import{K as ar,U as Et,f as n0,F as Nt,x as Ue,c as st,L as Oe,y as Oa,p as jt,P as Ra,V as Go,D as fn,E as Nr,A as Xl,B as Bo,S as i0,O as lh,g as ch,j as i2,N as o2,w as rn,R as a2,G as o0}from"./asserts-BVD3j-0a-pcJD3tIw.js";import{A as s2,X as fg}from"./xml2js-BbVVFNWz-CKTwSDEB.js";import{i as Ft,s as l2}from"./doesFeaturePassFilter-Cqeyg6pV-8BE03ay4.js";import{l as c2,y as u2,n as d2}from"./invisibleStyle-BctMBDPz-CsIl7PKR.js";import{indicateLoading as h2}from"./indicateLoading-BMtjzCI9-CPNIyu5L.js";import{reverseGeocode as p2}from"./reverseGeocode-CR3Bbmu1-BkP1SGuk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const Ke=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},Qu="http://www.w3.org/2001/XMLSchema-instance";function Ae(r,e){return uh().createElementNS(r,e)}function Zi(r,e){return a0(r,e,[]).join("")}function a0(r,e,t){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)t.push(r.nodeValue);else{let n;for(n=r.firstChild;n;n=n.nextSibling)a0(n,e,t)}return t}function Si(r){return"documentElement"in r}function g2(r,e,t){return r.getAttributeNS(e,t)||""}function Li(r){return new DOMParser().parseFromString(r,"application/xml")}function s0(r,e){return(function(t,n){const i=r.call(this,t,n);if(i!==void 0){const o=n[n.length-1];ar(o,i)}})}function xe(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&n[n.length-1].push(i)})}function be(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&(n[n.length-1]=i)})}function Ze(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=n.localName;let l;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}})}function A(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=e!==void 0?e:n.localName;a[s]=o}})}function O(r,e){return(function(t,n,i){r.call(e??this,t,n,i),i[i.length-1].node.appendChild(t)})}function xr(r,e){return(function(t,n,i){const o=n[n.length-1].node;let a=r;a===void 0&&(a=i);const s=e!==void 0?e:o.namespaceURI;return Ae(s,a)})}const l0=xr();function we(r,e,t){t=t!==void 0?t:{};let n,i;for(n=0,i=r.length;n<i;++n)t[r[n]]=e;return t}function Oi(r,e,t,n){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const o=r[i.namespaceURI];if(o!==void 0){const a=o[i.localName];a!==void 0&&a.call(n,i,t)}}}function ie(r,e,t,n,i){return n.push(r),Oi(e,t,n,i),n.pop()}function f2(r,e,t,n,i,o){const a=(i!==void 0?i:t).length;let s,l;for(let c=0;c<a;++c)s=t[c],s!==void 0&&(l=e.call(o,s,n,i!==void 0?i[c]:void 0),l!==void 0&&r[l.namespaceURI][l.localName].call(o,l,s,n))}function xt(r,e,t,n,i,o,a){return i.push(r),f2(e,t,n,i,o,a),i.pop()}let eu;function m2(){return eu===void 0&&typeof XMLSerializer<"u"&&(eu=new XMLSerializer),eu}let tu;function uh(){return tu===void 0&&typeof document<"u"&&(tu=document.implementation.createDocument("","",null)),tu}function fr(r){const e=/^\s*(true|1)|(false|0)\s*$/.exec(r);if(e)return e[1]!==void 0||!1}function Ii(r){const e=Zi(r,!1);return jr(e)}function jr(r){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r);if(e)return parseFloat(e[1])}function Ut(r){const e=Zi(r,!1);return Ln(e)}function Ln(r){const e=/^\s*(\d+)\s*$/.exec(r);if(e)return parseInt(e[1],10)}function ue(r){return Zi(r,!1).trim()}function y2(r,e){r.appendChild(uh().createCDATASection(e))}const v2=/^\s/,k2=/\s$/,b2=/(\n|\t|\r|<|&| {2})/;function It(r,e){typeof e=="string"&&(v2.test(e)||k2.test(e)||b2.test(e))?e.split("]]>").forEach((t,n,i)=>{n<i.length-1&&(t+="]]"),n>0&&(t=">"+t),y2(r,t)}):r.appendChild(uh().createTextNode(e))}function Jl(r,e){const t=(""+r).split("."),n=(""+e).split(".");for(let i=0;i<Math.max(t.length,n.length);i++){const o=parseInt(t[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}let dh=class{read(e){if(!e)return null;if(typeof e=="string"){const t=Li(e);return this.readFromDocument(t)}return Si(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){Et()}};const x2="http://www.w3.org/1999/xlink";function Vo(r){return r.getAttributeNS(x2,"href")}const Mt={ADD:"add",REMOVE:"remove"},mg={LENGTH:"length"};let Ss=class extends Nr{constructor(e,t,n){super(e),this.element=t,this.index=n}},qt=class extends Go{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let n=1,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(mg.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ss(Mt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ss(Mt.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ss(Mt.REMOVE,i,e)),this.dispatchEvent(new Ss(Mt.ADD,t,e))}updateLength_(){this.set(mg.LENGTH,this.array_.length)}assertUnique_(e,t){const n=this.array_;for(let i=0,o=n.length;i<o;++i)if(n[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},w2=!1;function c0(r,e,t,n,i,o,a){const s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(t,n,i):r,!0),e.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=w2,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=s.responseText:c=="xml"?u=s.responseXML||s.responseText:c=="arraybuffer"&&(u=s.response),u?o(e.readFeatures(u,{extent:t,featureProjection:i}),e.readProjection(u)):a()}catch{a()}}else a()},s.onerror=a,s.send()}function yg(r,e){return function(t,n,i,o,a){c0(r,e,t,n,i,(s,l)=>{this.addFeatures(s),o!==void 0&&o(s)},()=>{this.changed(),a!==void 0&&a()})}}function _2(r,e){return[[-1/0,-1/0,1/0,1/0]]}function To(r,e){return[r]}let Xu=class{constructor(e){this.rbush_=new yk(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Ue(t)]=n}load(e,t){const n=new Array(t.length);for(let i=0,o=t.length;i<o;i++){const a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[Ue(s)]=l}this.rbush_.load(n)}remove(e){const t=Ue(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null}update(e,t){const n=this.items_[Ue(t)],i=[n.minX,n.minY,n.maxX,n.maxY];Vi(i,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let i=0,o=e.length;i<o;i++)if(n=t(e[i]),n)return n;return n}isEmpty(){return Ra(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Fo(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},Ho=class extends Go{constructor(e){super(),this.projection=ve(e.projection),this.attributions_=vg(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,i){t.viewResolver=n,t.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=vg(e),this.changed()}setState(e){this.state_=e,this.changed()}};function vg(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),e=>r):null}let Zn=class extends Nr{constructor(e,t,n){super(e),this.feature=t,this.features=n}},sr=class extends Ho{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=n0,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Nt(this.format_,"`format` must be set when `url` is set"),this.loader_=yg(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:_2;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Xu:null,this.loadedExtentsRtree_=new Xu,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,i;Array.isArray(e.features)?i=e.features:e.features&&(n=e.features,i=n.getArray()),!t&&n===void 0&&(n=new qt(i)),i!==void 0&&this.addFeaturesInternal(i),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Ue(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Zn(cr.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof dr||(this.featureChangeKeys_[e]=[st(t,Oe.CHANGE,this.handleFeatureChange_,this),st(t,Oa.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(t.getId()!==void 0){const i=String(t.getId());if(!(i in this.idIndex_))this.idIndex_[i]=t;else if(t instanceof dr){const o=this.idIndex_[i];o instanceof dr?Array.isArray(o)?o.push(t):this.idIndex_[i]=[o,t]:n=!1}else n=!1}return n&&(Nt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o],l=Ue(s);this.addToIndex_(l,s)&&n.push(s)}for(let o=0,a=n.length;o<a;o++){const s=n[o],l=Ue(s);this.setupChangeEvents_(l,s);const c=s.getGeometry();if(c){const u=c.getExtent();t.push(u),i.push(s)}else this.nullGeometryFeatures_[l]=s}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(cr.ADDFEATURE))for(let o=0,a=n.length;o<a;o++)this.dispatchEvent(new Zn(cr.ADDFEATURE,n[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(cr.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(cr.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(Mt.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(Mt.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(jt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(n=>{this.removeFeatureInternal(n)});for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Zn(cr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(i){const o=i.getGeometry();if(o instanceof dr||o.intersectsCoordinate(e))return t(i)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const i=n.getGeometry();if(i instanceof dr||i.intersectsExtent(e)){const o=t(n);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Ra(this.nullGeometryFeatures_)||ar(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=mk(e,t);return[].concat(...n.map(i=>this.featuresRtree_.getInExtent(i)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],i=e[1];let o=null;const a=[NaN,NaN];let s=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||fn,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const u=c.getGeometry(),d=s;if(s=u instanceof dr?0:u.closestPointXY(n,i,a,s),s<d){o=c;const h=Math.sqrt(s);l[0]=n-h,l[1]=i-h,l[2]=n+h,l[3]=i+h}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=Ue(t),i=t.getGeometry();if(!i)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{const a=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(a,t)):this.featuresRtree_&&this.featuresRtree_.update(a,t)}const o=t.getId();if(o!==void 0){const a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Zn(cr.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Ue(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ra(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,n){const i=this.loadedExtentsRtree_,o=this.strategy_(e,t,n);for(let a=0,s=o.length;a<s;++a){const l=o[a];i.forEachInExtent(l,function(c){return an(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Zn(cr.FEATURESLOADSTART)),this.loader_.call(this,l,t,n,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(cr.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(cr.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(i){if(Vi(i.extent,e))return i});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,i=e.length;n<i;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Ue(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(jt),delete this.featureChangeKeys_[t];const n=e.getId();if(n!==void 0){const i=n.toString(),o=this.idIndex_[i];o===e?delete this.idIndex_[i]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[i]=o[0]))}return delete this.uidIndex_[t],this.hasListener(cr.REMOVEFEATURE)&&this.dispatchEvent(new Zn(cr.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Nt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(yg(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}};function u0(r){return Q(()=>(We().language,r()))}const T2="modulepreload",C2=function(r,e){return new URL(r,e).href},kg={},mr=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(t.map(u=>{if(u=C2(u,n),u in kg)return;kg[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(n)for(let f=a.length-1;f>=0;f--){const y=a[f];if(y.href===u&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":T2,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,y)=>{p.addEventListener("load",f),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},Fa="toast",hh=Wr("plugins/toast",()=>{const r=We(),e=Q(()=>r.configuration[Fa]),t=Ce([]);function n(o,a){const s=vt({timeout:o.severity==="error"?null:5e3},a||{});o.theme=vt(e.value[o.severity]||{},o.theme||{});const l={toast:o};t.value.push(l),typeof s.timeout=="number"&&(l.timeout=setTimeout(()=>i(o),s.timeout))}function i(o){const a=t.value.findIndex(l=>on(l.toast)===on(o));if(a<0)return!1;const[s]=t.value.splice(a,1);return s?.timeout&&clearTimeout(s.timeout),!0}return{toasts:Q(()=>t.value.map(({toast:o})=>o)),addToast:n,removeToast:i}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await mr(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await mr(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:l}},[],import.meta.url),a=await mr(()=>import("./invisibleStyle-BctMBDPz-CsIl7PKR.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[Fa]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=hh();await l(c)},timer:[async({},l)=>{t.useFakeTimers(),await l(null),t.resetAllMocks()},{auto:!0}]});s("Toast can be added and safely removed",({store:l})=>{const c={text:"TOAST",severity:"error"};l.addToast(c),r(l.toasts.length).toBe(1),r(on(l.toasts[0])).toEqual(c),r(l.removeToast(c)).toBe(!0),r(l.toasts.length).toBe(0),r(l.removeToast(c)).toBe(!1)}),s.for([{severity:"error",timeout:null},{severity:"warning",timeout:5},{severity:"info",timeout:5},{severity:"success",timeout:5}])("Toast with severity $severity is automatically removed after $timeout seconds (null = never)",({severity:l,timeout:c},{store:u})=>{u.addToast({text:"TOAST",severity:l}),c?(t.advanceTimersByTime(c*1e3-1),r(u.toasts.length).toBe(1),t.advanceTimersByTime(1),r(u.toasts.length).toBe(0)):(t.runAllTimers(),r(u.toasts.length).toBe(1))}),s.for([{config:{color:"SC",icon:"SI"},options:{icon:"OI"},result:{color:"SC",icon:"OI"}},{config:{icon:"SI"},options:{},result:{icon:"SI"}}])("Toast consideres theme settings in the right precedence",({config:l,options:c,result:u},{coreStore:d,store:h})=>{d.configuration[Fa].info=l,h.addToast({text:"TEXT",severity:"info",theme:c}),r(h.toasts.length).toBe(1),r(h.toasts[0]?.theme).toEqual(u)})}let E2=class extends xm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ia(),this.wrappedRenderedExtent_=Ia(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const i=t.extent,o=t.viewState,a=o.center,s=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),p=t.pixelRatio,f=t.viewHints,y=!(f[sn.ANIMATING]||f[sn.INTERACTING]),m=this.context,b=Math.round(Xt(i)/s*p),k=Math.round(Dn(i)/s*p),C=d.getWrapX()&&l.canWrapX(),T=C?Xt(u):null,E=C?Math.ceil((i[2]-u[2])/T)+1:1;let R=C?Math.floor((i[0]-u[0])/T):0;do{let F=this.getRenderTransform(a,s,0,p,b,k,R*T);t.declutter&&(F=F.slice(0)),e.execute(m,[m.canvas.width,m.canvas.height],F,c,y,n===void 0?vk:n?kk:bk,n?h&&t.declutter[h]:void 0)}while(++R<E)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Da(this.context.canvas.width,this.context.canvas.height,Qp))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Xm(this.context),Qp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const i=e.viewState;this.prepareContainer(e,t);const o=this.context,a=this.replayGroup_;let s=a&&!a.isEmpty();if(!s&&!(this.getLayer().hasListener(Ni.PRERENDER)||this.getLayer().hasListener(Ni.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,e),i.projection,this.clipped_=!1,s&&n.extent&&this.clipping){const l=dl(n.extent);s=jo(l,e.extent),this.clipped_=s&&!an(l,e.extent),this.clipped_&&this.clipUnrotated(o,e,l)}return s&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=this.frameState.size.slice(),i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=n[0]*sa,h=n[1]*sa;u.push(this.getRenderTransform(i,o,a,sa,d,h,0).slice());const p=c.getSource(),f=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!an(f,l)){let y=l[0];const m=Xt(f);let b=0,k;for(;y<f[0];)--b,k=m*b,u.push(this.getRenderTransform(i,o,a,sa,d,h,k).slice()),y+=m;for(b=0,y=l[2];y>f[2];)++b,k=m*b,u.push(this.getRenderTransform(i,o,a,sa,d,h,k).slice()),y-=m}this.hitDetectionImageData_=xk(n,u,this.renderedFeatures_,c.getStyleFunction(),l,o,a,Xp(o,this.renderedPixelRatio_),null)}t(wk(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,i,o){if(!this.replayGroup_)return;const a=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),c={},u=function(h,p,f){const y=Ue(h),m=c[y];if(m){if(m!==!0&&f<m.distanceSq){if(f===0)return c[y]=!0,o.splice(o.lastIndexOf(m),1),i(h,l,p);m.geometry=p,m.distanceSq=f}}else{if(f===0)return c[y]=!0,i(h,l,p);o.push(c[y]={feature:h,layer:l,geometry:p,distanceSq:f,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,s,n,u,d?t.declutter?.[d]?.all().map(h=>h.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const i=e.viewHints[sn.ANIMATING],o=e.viewHints[sn.INTERACTING],a=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!a&&i||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,p=t.getRevision(),f=t.getRenderBuffer();let y=t.getRenderOrder();y===void 0&&(y=Ek);const m=c.center.slice(),b=ui(l,f*d),k=b.slice(),C=[b.slice()],T=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!an(T,e.extent)){const S=Xt(T),H=Math.max(Xt(b)/2,S);b[0]=T[0]-H,b[2]=T[2]+H,wm(m,u);const ne=_k(C[0],u);ne[0]<T[0]&&ne[2]<T[2]?C.push([ne[0]+S,ne[1],ne[2]+S,ne[3]]):ne[0]>T[0]&&ne[2]>T[2]&&C.push([ne[0]-S,ne[1],ne[2]-S,ne[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==p&&this.renderedRenderOrder_==y&&this.renderedFrameDeclutter_===!!e.declutter&&an(this.wrappedRenderedExtent_,b))return Xl(this.renderedExtent_,k)||(this.hitDetectionImageData_=null,this.renderedExtent_=k),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const E=new Tk(Mk(d,h),b,d,h);let R;for(let S=0,H=C.length;S<H;++S)n.loadFeatures(C[S],d,u);const F=Xp(d,h);let le=!0;const oe=((S,H)=>{let ne;const X=S.getStyleFunction()||t.getStyleFunction();if(X&&(ne=X(S,d)),ne){const me=this.renderFeature(S,F,ne,E,R,this.getLayer().getDeclutter(),H);le=le&&!me}}),ge=_m(b),$=n.getFeaturesInExtent(ge);y&&$.sort(y);for(let S=0,H=$.length;S<H;++S)oe($[S],S);this.renderedFeatures_=$,this.ready=le;const q=E.finish(),te=new Ck(b,d,h,n.getOverlaps(),q,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=p,this.renderedRenderOrder_=y,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=k,this.wrappedRenderedExtent_=b,this.renderedCenter_=m,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=te,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,i,o,a,s){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let c=0,u=n.length;c<u;++c)l=Jp(i,e,n[c],t,this.boundHandleStyleImageChange_,o,a,s)||l;else l=Jp(i,e,n,t,this.boundHandleStyleImageChange_,o,a,s);return l}},lr=class extends Wd{constructor(e){super(e)}createRenderer(){return new E2(this)}};function Ju(r,e,t){const n=We().getPluginStore("toast");n&&(typeof e=="function"&&(e=u0(e)),n.addToast({severity:r,text:e},t))}let Vr=class ed extends qo{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){ar(this.flatCoordinates,e),this.changed()}clone(){const e=new ed(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<rs(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}forEachSegment(e){return qk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,zk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Em(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Sm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=$k(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ed(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Uk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lm(this.flatCoordinates,0,e,this.stride),this.changed()}},d0=class td extends hl{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(jt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(st(e[t],Oe.CHANGE,this.changed,this))}clone(){const e=new td(ru(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<rs(this.getExtent(),e,t))return i;const o=this.geometries_;for(let a=0,s=o.length;a<s;++a)i=o[a].closestPointXY(e,t,n,i);return i}containsXY(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)if(n[i].containsXY(e,t))return!0;return!1}computeExtent(e){Im(e);const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)Am(e,t[n].getExtent());return e}getGeometries(){return ru(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let i=!1;for(let o=0,a=n.length;o<a;++o){const s=n[o],l=s.getSimplifiedGeometry(e);t.push(l),l!==s&&(i=!0)}return i?new td(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].rotate(e,t);this.changed()}scale(e,t,n){n||(n=Gn(this.getExtent()));const i=this.geometries_;for(let o=0,a=i.length;o<a;++o)i[o].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(ru(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function ru(r){return r.map(e=>e.clone())}let Ji=class rd extends qo{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const i=e,o=[],a=[];for(let l=0,c=i.length;l<c;++l){const u=i[l];ar(o,u.getFlatCoordinates()),a.push(o.length)}const s=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(e){ar(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new rd(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<rs(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Vk(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bk(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}getCoordinateAtM(e,t,n){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,Hk(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return Zk(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Vr(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[];let o=0;for(let a=0,s=t.length;a<s;++a){const l=t[a],c=new Vr(e.slice(o,l),n);i.push(c),o=l}return i}getLength(){const e=this.ends_;let t=0,n=0;for(let i=0,o=e.length;i<o;++i)n+=Sm(this.flatCoordinates,t,e[i],this.stride),t=e[i];return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const i=this.ends_,o=this.stride;for(let a=0,s=i.length;a<s;++a){const l=i[a],c=Mm(t,n,l,o,.5);ar(e,c),n=l}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Yk(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new rd(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return Wk(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Kd(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}},Zo=class h0 extends qo{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){ar(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new h0(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<rs(this.getExtent(),e,t))return i;const o=this.flatCoordinates,a=this.stride;for(let s=0,l=o.length;s<l;s+=a){const c=th(e,t,o[s],o[s+1]);if(c<i){i=c;for(let u=0;u<a;++u)n[u]=o[s+u];n.length=a}}return i}getCoordinates(){return Em(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Bt(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,i=[];for(let o=0,a=e.length;o<a;o+=n){const s=new Bt(e.slice(o,o+n),t);i.push(s)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let i=0,o=t.length;i<o;i+=n){const a=t[i],s=t[i+1];if(Gk(e,a,s))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lm(this.flatCoordinates,0,e,this.stride),this.changed()}},eo=class nd extends qo{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const i=e,o=[],a=[];for(let s=0,l=i.length;s<l;++s){const c=i[s],u=o.length,d=c.getEnds();for(let h=0,p=d.length;h<p;++h)d[h]+=u;ar(o,c.getFlatCoordinates()),a.push(d)}t=i.length===0?this.getLayout():i[0].getLayout(),e=o,n=a}t!==void 0&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const n=this.flatCoordinates.length;ar(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let i=0,o=t.length;i<o;++i)t[i]+=n}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=this.endss_[i].slice();const n=new nd(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,i){return i<rs(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Lk(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Sk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}containsXY(e,t){return Ik(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Ak(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Zu(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Pk(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Nk(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Dk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Zo(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Tm(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Zu(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Ok(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new nd(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const n=this.endss_[e].slice(),i=n[n.length-1];if(t!==0)for(let o=0,a=n.length;o<a;++o)n[o]-=t;return new Zr(this.flatCoordinates.slice(t,i),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a].slice(),c=l[l.length-1];if(o!==0)for(let d=0,h=l.length;d<h;++d)l[d]-=o;const u=new Zr(t.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Rk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Cm(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{const i=n[n.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}},ph=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Ft,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?ve(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()==="tile-pixels"&&(n=ve(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Et()}readFeature(e,t){return Et()}readFeatures(e,t){return Et()}readGeometry(e,t){return Et()}readProjection(e){return Et()}writeFeature(e,t){return Et()}writeFeatures(e,t){return Et()}writeGeometry(e,t){return Et()}};function to(r,e,t){const n=t?ve(t.featureProjection):null,i=t?ve(t.dataProjection):null;let o=r;if(n&&i&&!$t(n,i)){e&&(o=r.clone());const a=e?n:i,s=e?i:n;a.getUnits()==="tile-pixels"?o.transform(a,s):o.applyTransform(pl(a,s))}if(e&&t&&t.decimals!==void 0){const a=Math.pow(10,t.decimals),s=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*a)/a;return l};o===r&&(o=r.clone()),o.applyTransform(s)}return o}function gh(r,e){const t=e?ve(e.featureProjection):null,n=e?ve(e.dataProjection):null;return t&&n&&!$t(t,n)?Di(r,n,t):r}const M2={Point:Bt,LineString:Vr,Polygon:Zr,MultiPoint:Zo,MultiLineString:Ji,MultiPolygon:eo};function S2(r,e,t){return Array.isArray(e[0])?(Tm(r,0,e,t)||(r=r.slice(),Zu(r,0,e,t)),r):(Kk(r,0,e,t)||(r=r.slice(),Qk(r,0,e,t)),r)}function p0(r,e){const t=r.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>p0({...r,geometry:o})).flat();const n=t.type==="MultiPolygon"?"Polygon":t.type;if(n==="GeometryCollection"||n==="Circle")throw new Error("Unsupported geometry type: "+n);const i=t.layout.length;return to(new dr(n,n==="Polygon"?S2(t.flatCoordinates,t.ends,i):t.flatCoordinates,t.ends?.flat(),i,r.properties||{},r.id).enableSimplifyTransformed(),!1,e)}function fh(r,e){if(!r)return null;if(Array.isArray(r)){const n=r.map(i=>fh(i,e));return new d0(n)}const t=M2[r.type];return to(new t(r.flatCoordinates,r.layout||"XY",r.ends),!1,e)}let L2=class extends ph{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Ls(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Ls(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Et()}readFeaturesFromObject(e,t){return Et()}readGeometry(e,t){return this.readGeometryFromObject(Ls(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Et()}readProjection(e){return this.readProjectionFromObject(Ls(e))}readProjectionFromObject(e){return Et()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Et()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Et()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Et()}};function Ls(r){return typeof r=="string"?JSON.parse(r)||null:r!==null?r:null}let ja=class extends L2{constructor(e){e=e||{},super(),this.dataProjection=ve(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=ve(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;e.type==="Feature"?n=e:n={type:"Feature",geometry:e,properties:null};const i=mh(n.geometry);if(this.featureClass===dr)return p0({geometry:i,id:n.id,properties:n.properties},t);const o=new Ft;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&o.setGeometryName(n.geometry_name),o.setGeometry(fh(i,t)),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o}readFeaturesFromObject(e,t){const n=e;let i=null;if(n.type==="FeatureCollection"){const o=e;i=[];const a=o.features;for(let s=0,l=a.length;s<l;++s){const c=this.readFeatureFromObject(a[s],t);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,t)];return i.flat()}readGeometryFromObject(e,t){return I2(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if(t.type=="name")n=ve(t.properties.name);else if(t.type==="EPSG")n=ve("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(n.id=i),!e.hasProperties())return n;const o=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=id(a,t),delete o[e.getGeometryName()]),Ra(o)||(n.properties=o),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let i=0,o=e.length;i<o;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return id(e,this.adaptOptions(t))}};function mh(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=P2(r);break}case"LineString":{t=N2(r);break}case"Polygon":{t=F2(r);break}case"MultiPoint":{t=O2(r);break}case"MultiLineString":{t=D2(r);break}case"MultiPolygon":{t=R2(r);break}case"GeometryCollection":{t=A2(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return t}function I2(r,e){const t=mh(r);return fh(t,e)}function A2(r,e){return r.geometries.map(function(t){return mh(t)})}function P2(r){const e=r.coordinates;return{type:"Point",flatCoordinates:e,layout:zo(e.length)}}function N2(r){const e=r.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:zo(e[0]?.length||2)}}function D2(r){const e=r.coordinates,t=e[0]?.[0]?.length||2,n=[],i=Kd(n,0,e,t);return{type:"MultiLineString",flatCoordinates:n,ends:i,layout:zo(t)}}function O2(r){const e=r.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:zo(e[0]?.length||2)}}function R2(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.[0].length||2,i=Cm(t,0,e,n);return{type:"MultiPolygon",flatCoordinates:t,ends:i,layout:zo(n)}}function F2(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.length,i=Kd(t,0,e,n);return{type:"Polygon",flatCoordinates:t,ends:i,layout:zo(n)}}function id(r,e){r=to(r,!0,e);const t=r.getType();let n;switch(t){case"Point":{n=G2(r);break}case"LineString":{n=q2(r);break}case"Polygon":{n=B2(r,e);break}case"MultiPoint":{n=$2(r);break}case"MultiLineString":{n=z2(r);break}case"MultiPolygon":{n=U2(r,e);break}case"GeometryCollection":{n=j2(r,e);break}case"Circle":{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return n}function j2(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(t){return id(t,e)})}}function q2(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function z2(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function $2(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function U2(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function G2(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function B2(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}let g0=class extends ph{constructor(){super(),this.xmlSerializer_=m2()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if(typeof e=="string"){const n=Li(e);return this.readFeatureFromDocument(n,t)}return Si(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if(typeof e=="string"){const n=Li(e);return this.readFeaturesFromDocument(n,t)}return Si(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const n=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&ar(n,this.readFeaturesFromNode(i,t));return n}readFeaturesFromNode(e,t){return Et()}readGeometry(e,t){if(!e)return null;if(typeof e=="string"){const n=Li(e);return this.readGeometryFromDocument(n,t)}return Si(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){const t=Li(e);return this.readProjectionFromDocument(t)}return Si(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}};const An="http://www.opengis.net/gml",V2=/^\s*$/;let he=class extends g0{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:xe(this.readFeaturesInternal),featureMembers:be(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){const n=e.localName;let i=null;if(n=="FeatureCollection")i=ie([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if(n=="featureMembers"||n=="featureMember"||n=="member"){const o=t[0];let a=o.featureType,s=o.featureNS;const l="p",c="p0";if(!a&&e.childNodes){a=[],s={};for(let h=0,p=e.childNodes.length;h<p;++h){const f=e.childNodes[h];if(f.nodeType===1){const y=f.nodeName.split(":").pop();if(!a.includes(y)){let m="",b=0;const k=f.namespaceURI;for(const C in s){if(s[C]===k){m=C;break}++b}m||(m=l+b,s[m]=k),a.push(m+":"+y)}}}n!="featureMember"&&(o.featureType=a,o.featureNS=s)}if(typeof s=="string"){const h=s;s={},s[c]=h}const u={},d=Array.isArray(a)?a:[a];for(const h in s){const p={};for(let f=0,y=d.length;f<y;++f)(d[f].includes(":")?d[f].split(":")[0]:c)===h&&(p[d[f].split(":").pop()]=n=="featureMembers"?xe(this.readFeatureElement,this):be(this.readFeatureElement,this));u[s[h]]=p}n=="featureMember"||n=="member"?i=ie(void 0,u,e,t):i=ie([],u,e,t)}return i===null&&(i=[]),i}readGeometryOrExtent(e,t){const n=t[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),ie(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?gh(i,n):void 0}readGeometryElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?to(i,!1,n):void 0}readFeatureElementInternal(e,t,n){let i;const o={};for(let l=e.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(c=Zi(l,!1),V2.test(c)&&(c=void 0)):(n&&(c=u==="boundedBy"?this.readExtentElement(l,t):this.readGeometryElement(l,t)),c?u!=="boundedBy"&&(i=u):c=this.readFeatureElementInternal(l,t,!1));const d=l.attributes.length;if(d>0&&!(c instanceof hl)){c={_content_:c};for(let h=0;h<d;h++){const p=l.attributes[h].name;c[p]=l.attributes[h].value}}o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(c)):o[u]=c}if(!n)return o;const a=new Ft(o);i&&a.setGeometryName(i);const s=e.getAttribute("fid")||g2(e,this.namespace,"id");return s&&a.setId(s),a}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Bt(n,"XYZ")}readMultiPoint(e,t){const n=ie([],this.MULTIPOINT_PARSERS,e,t,this);if(n)return new Zo(n)}readMultiLineString(e,t){const n=ie([],this.MULTILINESTRING_PARSERS,e,t,this);if(n)return new Ji(n)}readMultiPolygon(e,t){const n=ie([],this.MULTIPOLYGON_PARSERS,e,t,this);if(n)return new eo(n)}pointMemberParser(e,t){Oi(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){Oi(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){Oi(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Vr(n,"XYZ")}readFlatLinearRing(e,t){const n=ie(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(n)return n}readLinearRing(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Pm(n,"XYZ")}readPolygon(e,t){const n=ie([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)ar(i,n[a]),o.push(i.length);return new Zr(i,"XYZ",o)}}readFlatCoordinatesFromNode(e,t){return ie(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){return this.readGeometryElement(e,[this.getReadOptions(e,t||{})])||null}readFeaturesFromNode(e,t){const n={featureType:this.featureType,featureNS:this.featureNS};return n&&Object.assign(n,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[n])||[]}readProjectionFromNode(e){return ve(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}};he.prototype.namespace=An;he.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:xe(he.prototype.pointMemberParser),pointMembers:xe(he.prototype.pointMemberParser)}};he.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:xe(he.prototype.lineStringMemberParser),lineStringMembers:xe(he.prototype.lineStringMemberParser)}};he.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:xe(he.prototype.polygonMemberParser),polygonMembers:xe(he.prototype.polygonMemberParser)}};he.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:xe(he.prototype.readFlatCoordinatesFromNode)}};he.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:xe(he.prototype.readLineString)}};he.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:xe(he.prototype.readPolygon)}};he.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:be(he.prototype.readFlatLinearRing)}};const H2=An+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",Z2={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};let De=class extends he{constructor(e){e=e||{},super(e),this.FEATURE_COLLECTION_PARSERS[An].featureMember=xe(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:H2}readFlatCoordinates(e,t){const n=Zi(e,!1).replace(/^\s*|\s*$/g,""),i=t[0].srsName;let o="enu";if(i){const l=ve(i);l&&(o=l.getAxisOrientation())}const a=n.trim().split(/\s+/),s=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].split(/,+/),d=parseFloat(u[0]),h=parseFloat(u[1]),p=u.length===3?parseFloat(u[2]):0;o.startsWith("en")?s.push(d,h,p):s.push(h,d,p)}return s}readBox(e,t){const n=ie([null],this.BOX_PARSERS_,e,t,this);return Fo(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}outerBoundaryIsParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="MultiLineString"&&s===!0&&(n="MultiCurve")),Ae("http://www.opengis.net/gml",n)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=O(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=O(It)))}}const u=Object.assign({},o);u.node=e,xt(u,o.serializers,xr(void 0,a),c,n,l)}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}else if(e.nodeName==="Curve"){const o=Ae(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();xt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=gh(t,i):a=to(t,!0,i),xt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}createCoordinatesNode_(e){const t=Ae(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=t.getCoordinates(),l=s.length,c=new Array(l);for(let u=0;u<l;++u){const d=s[u];c[u]=this.getCoords_(d,a,o)}It(e,c.join(" "))}writeCurveSegments_(e,t,n){const i=Ae(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();xt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Ae(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Ae(o.namespaceURI,a!==void 0?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,n){const i=Ae(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeRing(e,t,n){const i=Ae(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}getCoords_(e,t,n){let i=(t?ve(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(n){const o=e[2]||0;i+=","+o}return i}writePoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);const l=t.getCoordinates(),c=this.getCoords_(l,a,o);It(s,c)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=t.getPoints();xt({node:e,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS,xr("pointMember"),s,n,void 0,this)}writePointMember(e,t,n){const i=Ae(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();xt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];xt({node:e},this.ENVELOPE_SERIALIZERS,l0,a,n,o,this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Ae("http://www.opengis.net/gml",Z2[i.nodeName])}};De.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:be(De.prototype.readFlatCoordinates)}};De.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:De.prototype.innerBoundaryIsParser,outerBoundaryIs:De.prototype.outerBoundaryIsParser}};De.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:xe(De.prototype.readFlatCoordinates)}};De.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Box:be(De.prototype.readBox)}};De.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:O(De.prototype.writeCurveOrLineString),MultiCurve:O(De.prototype.writeMultiCurveOrLineString),Point:O(De.prototype.writePoint),MultiPoint:O(De.prototype.writeMultiPoint),LineString:O(De.prototype.writeCurveOrLineString),MultiLineString:O(De.prototype.writeMultiCurveOrLineString),LinearRing:O(De.prototype.writeLinearRing),Polygon:O(De.prototype.writeSurfaceOrPolygon),MultiPolygon:O(De.prototype.writeMultiSurfaceOrPolygon),Surface:O(De.prototype.writeSurfaceOrPolygon),MultiSurface:O(De.prototype.writeMultiSurfaceOrPolygon),Envelope:O(De.prototype.writeEnvelope)}};De.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:O(De.prototype.writeLineStringOrCurveMember),curveMember:O(De.prototype.writeLineStringOrCurveMember)}};De.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:O(De.prototype.writeRing),innerBoundaryIs:O(De.prototype.writeRing)}};De.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:O(De.prototype.writePointMember)}};De.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:O(De.prototype.writeSurfaceOrPolygonMember),polygonMember:O(De.prototype.writeSurfaceOrPolygonMember)}};De.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:O(It),upperCorner:O(It)}};const Y2=An+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",W2={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class G extends he{constructor(e){e=e||{},super(e),this.surface_=e.surface!==void 0?e.surface:!1,this.curve_=e.curve!==void 0?e.curve:!1,this.multiCurve_=e.multiCurve!==void 0?e.multiCurve:!0,this.multiSurface_=e.multiSurface!==void 0?e.multiSurface:!0,this.schemaLocation=e.schemaLocation?e.schemaLocation:Y2,this.hasZ=e.hasZ!==void 0?e.hasZ:!1}readMultiCurve(e,t){const n=ie([],this.MULTICURVE_PARSERS,e,t,this);if(n)return new Ji(n)}readFlatCurveRing(e,t){const n=ie([],this.MULTICURVE_PARSERS,e,t,this),i=[];for(let o=0,a=n.length;o<a;++o)ar(i,n[o].getFlatCoordinates());return i}readMultiSurface(e,t){const n=ie([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new eo(n)}curveMemberParser(e,t){Oi(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){Oi(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return ie([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return ie([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return ie([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return ie([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}exteriorParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}readSurface(e,t){const n=ie([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)ar(i,n[a]),o.push(i.length);return new Zr(i,"XYZ",o)}}readCurve(e,t){const n=ie([null],this.CURVE_PARSERS,e,t,this);if(n)return new Vr(n,"XYZ")}readEnvelope(e,t){const n=ie([null],this.ENVELOPE_PARSERS,e,t,this);return Fo(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=Zi(e,!1);const i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];let a;for(;a=i.exec(n);)o.push(parseFloat(a[1])),n=n.substr(a[0].length);if(n!=="")return;const s=t[0].srsName;if((s?ve(s).getAxisOrientation():"enu")==="neu")for(let c=0,u=o.length;c<u;c+=3){const d=o[c],h=o[c+1];o[c]=h,o[c+1]=d}const l=o.length;if(l==2&&o.push(0),l!==0)return o}readFlatPosList(e,t){const n=Zi(e,!1).replace(/^\s*|\s*$/g,""),i=t[0],o=i.srsName,a=i.srsDimension,s=o?ve(o).getAxisOrientation():"enu",l=n.split(/\s+/);let c=2;e.getAttribute("srsDimension")?c=Ln(e.getAttribute("srsDimension")):e.getAttribute("dimension")?c=Ln(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?c=Ln(e.parentNode.getAttribute("srsDimension")):a&&(c=Ln(a));const u=s.startsWith("en");let d,h,p;const f=[];for(let y=0,m=l.length;y<m;y+=c)d=parseFloat(l[y]),h=parseFloat(l[y+1]),p=c===3?parseFloat(l[y+2]):0,u?f.push(d,h,p):f.push(h,d,p);return f}writePos_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=s?ve(s).getAxisOrientation():"enu",c=t.getCoordinates();let u=l.startsWith("en")?c[0]+" "+c[1]:c[1]+" "+c[0];if(o){const d=c[2]||0;u+=" "+d}It(e,u)}getCoords_(e,t,n){let i=(t?ve(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){const o=e[2]||0;i+=" "+o}return i}writePosList_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=t.getCoordinates(),c=l.length,u=new Array(c);let d;for(let h=0;h<c;++h)d=l[h],u[h]=this.getCoords_(d,s,o);It(e,u.join(" "))}writePoint(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Ae(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,t,n)}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];xt({node:e},this.ENVELOPE_SERIALIZERS,l0,a,n,o,this)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Ae(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Ae(o.namespaceURI,a!==void 0?"interior":"exterior")}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();xt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Ae(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=Ae(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}else if(e.nodeName==="Curve"){const o=Ae(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();xt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.srsName,a=i.hasZ;o&&e.setAttribute("srsName",o);const s=t.getPoints();xt({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,xr("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();xt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeRing(e,t,n){const i=Ae(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writePointMember(e,t,n){const i=Ae(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeSurfacePatches_(e,t,n){const i=Ae(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeCurveSegments_(e,t,n){const i=Ae(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=gh(t,i):a=to(t,!0,i),xt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=O(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=O(It)))}}const u=Object.assign({},o);u.node=e,xt(u,o.serializers,xr(void 0,a),c,n,l)}writeFeatureMembers_(e,t,n){const i=n[n.length-1],o=i.featureType,a=i.featureNS,s={};s[a]={},s[a][o]=O(this.writeFeatureElement,this);const l=Object.assign({},i);l.node=e,xt(l,s,xr(o,a),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Ae(this.namespace,W2[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.curve,l=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="LineString"&&s===!0?n="Curve":n==="MultiLineString"&&l===!0&&(n="MultiCurve")),Ae(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=Ae(this.namespace,"geom"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(n,e,[i]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=Ae(this.namespace,"featureMembers");n.setAttributeNS(Qu,"xsi:schemaLocation",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(n,e,[i]),n}}G.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:be(G.prototype.readFlatPos),posList:be(G.prototype.readFlatPosList),coordinates:be(De.prototype.readFlatCoordinates)}};G.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:G.prototype.interiorParser,exterior:G.prototype.exteriorParser}};G.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Surface:be(G.prototype.readSurface),MultiSurface:be(G.prototype.readMultiSurface),Curve:be(G.prototype.readCurve),MultiCurve:be(G.prototype.readMultiCurve),Envelope:be(G.prototype.readEnvelope)}};G.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:xe(G.prototype.curveMemberParser),curveMembers:xe(G.prototype.curveMemberParser)}};G.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:xe(G.prototype.surfaceMemberParser),surfaceMembers:xe(G.prototype.surfaceMemberParser)}};G.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:xe(he.prototype.readLineString),Curve:xe(G.prototype.readCurve)}};G.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:xe(he.prototype.readPolygon),Surface:xe(G.prototype.readSurface)}};G.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:be(G.prototype.readPatch)}};G.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:be(G.prototype.readSegment)}};G.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:xe(G.prototype.readFlatPosList),upperCorner:xe(G.prototype.readFlatPosList)}};G.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:be(G.prototype.readPolygonPatch)}};G.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:s0(G.prototype.readLineStringSegment)}};he.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:be(he.prototype.readFlatLinearRing),Ring:be(G.prototype.readFlatCurveRing)}};G.prototype.writeFeatures;G.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:O(G.prototype.writeRing),interior:O(G.prototype.writeRing)}};G.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:O(It),upperCorner:O(It)}};G.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:O(G.prototype.writeSurfaceOrPolygonMember),polygonMember:O(G.prototype.writeSurfaceOrPolygonMember)}};G.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:O(G.prototype.writePointMember)}};G.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:O(G.prototype.writeLineStringOrCurveMember),curveMember:O(G.prototype.writeLineStringOrCurveMember)}};G.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:O(G.prototype.writeCurveOrLineString),MultiCurve:O(G.prototype.writeMultiCurveOrLineString),Point:O(G.prototype.writePoint),MultiPoint:O(G.prototype.writeMultiPoint),LineString:O(G.prototype.writeCurveOrLineString),MultiLineString:O(G.prototype.writeMultiCurveOrLineString),LinearRing:O(G.prototype.writeLinearRing),Polygon:O(G.prototype.writeSurfaceOrPolygon),MultiPolygon:O(G.prototype.writeMultiSurfaceOrPolygon),Surface:O(G.prototype.writeSurfaceOrPolygon),MultiSurface:O(G.prototype.writeMultiSurfaceOrPolygon),Envelope:O(G.prototype.writeEnvelope)}};let Ge=class extends G{constructor(e){e=e||{},super(e),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,n){const i=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},i),super.writeGeometryElement(e,t,n)}};Ge.prototype.namespace="http://www.opengis.net/gml/3.2";Ge.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:be(G.prototype.readFlatPos),posList:be(G.prototype.readFlatPosList),coordinates:be(De.prototype.readFlatCoordinates)}};Ge.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:G.prototype.interiorParser,exterior:G.prototype.exteriorParser}};Ge.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Surface:be(Ge.prototype.readSurface),MultiSurface:be(G.prototype.readMultiSurface),Curve:be(Ge.prototype.readCurve),MultiCurve:be(G.prototype.readMultiCurve),Envelope:be(Ge.prototype.readEnvelope)}};Ge.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:xe(G.prototype.curveMemberParser),curveMembers:xe(G.prototype.curveMemberParser)}};Ge.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:xe(G.prototype.surfaceMemberParser),surfaceMembers:xe(G.prototype.surfaceMemberParser)}};Ge.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:xe(he.prototype.readLineString),Curve:xe(G.prototype.readCurve)}};Ge.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:xe(he.prototype.readPolygon),Surface:xe(G.prototype.readSurface)}};Ge.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:be(G.prototype.readPatch)}};Ge.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:be(G.prototype.readSegment)}};Ge.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:xe(G.prototype.readFlatPosList),upperCorner:xe(G.prototype.readFlatPosList)}};Ge.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:be(G.prototype.readPolygonPatch)}};Ge.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:s0(G.prototype.readLineStringSegment)}};Ge.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:xe(he.prototype.pointMemberParser),pointMembers:xe(he.prototype.pointMemberParser)}};Ge.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:xe(he.prototype.lineStringMemberParser),lineStringMembers:xe(he.prototype.lineStringMemberParser)}};Ge.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:xe(he.prototype.polygonMemberParser),polygonMembers:xe(he.prototype.polygonMemberParser)}};Ge.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:xe(he.prototype.readFlatCoordinatesFromNode)}};Ge.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:xe(he.prototype.readLineString)}};Ge.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:xe(he.prototype.readPolygon)}};Ge.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:be(he.prototype.readFlatLinearRing),Ring:be(Ge.prototype.readFlatCurveRing)}};Ge.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:O(G.prototype.writeRing),interior:O(G.prototype.writeRing)}};Ge.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:O(It),upperCorner:O(It)}};Ge.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:O(G.prototype.writeSurfaceOrPolygonMember),polygonMember:O(G.prototype.writeSurfaceOrPolygonMember)}};Ge.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:O(G.prototype.writePointMember)}};Ge.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:O(G.prototype.writeLineStringOrCurveMember),curveMember:O(G.prototype.writeLineStringOrCurveMember)}};Ge.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:O(G.prototype.writeCurveOrLineString),MultiCurve:O(G.prototype.writeMultiCurveOrLineString),Point:O(Ge.prototype.writePoint),MultiPoint:O(G.prototype.writeMultiPoint),LineString:O(G.prototype.writeCurveOrLineString),MultiLineString:O(G.prototype.writeMultiCurveOrLineString),LinearRing:O(G.prototype.writeLinearRing),Polygon:O(G.prototype.writeSurfaceOrPolygon),MultiPolygon:O(G.prototype.writeMultiSurfaceOrPolygon),Surface:O(G.prototype.writeSurfaceOrPolygon),MultiSurface:O(G.prototype.writeMultiSurfaceOrPolygon),Envelope:O(G.prototype.writeEnvelope)}};let f0=class{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}};class K2 extends f0{constructor(e,t){super(e),this.conditions=t,Nt(this.conditions.length>=2,"At least 2 conditions are required")}}class Q2 extends K2{constructor(e){super("And",Array.prototype.slice.call(arguments))}}let X2=class extends f0{constructor(e,t,n){if(super("BBOX"),this.geometryName=e,this.extent=t,t.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}};function J2(r){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Q2,e))}function ex(r,e,t){return new X2(r,e,t)}const bg={"http://www.opengis.net/gml":{boundedBy:A(he.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:xe(he.prototype.readFeaturesInternal)}},tx={"http://www.opengis.net/wfs":{totalInserted:A(Ut),totalUpdated:A(Ut),totalDeleted:A(Ut)},"http://www.opengis.net/wfs/2.0":{totalInserted:A(Ut),totalUpdated:A(Ut),totalDeleted:A(Ut)}},rx={"http://www.opengis.net/wfs":{TransactionSummary:A(wg,"transactionSummary"),InsertResults:A(Tg,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:A(wg,"transactionSummary"),InsertResults:A(Tg,"insertIds")}},nx={"http://www.opengis.net/wfs":{PropertyName:O(It)},"http://www.opengis.net/wfs/2.0":{PropertyName:O(It)}},m0={"http://www.opengis.net/wfs":{Insert:O(Cg),Update:O(Mg),Delete:O(Eg),Property:O(Sg),Native:O(Lg)},"http://www.opengis.net/wfs/2.0":{Insert:O(Cg),Update:O(Mg),Delete:O(Eg),Property:O(Sg),Native:O(Lg)}},y0="feature",yh="http://www.w3.org/2000/xmlns/",vh={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},od={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},kh={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},xg={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},bh={"2.0.0":Ge,"1.1.0":G,"1.0.0":De},ix="1.1.0";let xh=class extends g0{constructor(e){super(),e=e||{},this.version_=e.version?e.version:ix,this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new bh[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:xg[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{}));const i=[n];let o;this.version_==="2.0.0"?o=bg:o=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let a=ie([],o,e,i,this.gmlFormat_);return a||(a=[]),a}readTransactionResponse(e){if(e){if(typeof e=="string"){const t=Li(e);return this.readTransactionResponseFromDocument(t)}return Si(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(typeof e=="string"){const t=Li(e);return this.readFeatureCollectionMetadataFromDocument(t)}return Si(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=Ln(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=n,ie(t,bg,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return ie({},rx,e,[])}writeGetFeature(e){const t=Ae(od[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&t.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&t.setAttribute("count",String(e.count)),e.viewParams!==void 0&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(Qu,"xsi:schemaLocation",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),Nt(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),typeof e.featureTypes[0]=="string"){let i=e.filter;e.bbox&&(Nt(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),i=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,i)),Object.assign(n,{geometryName:e.geometryName,filter:i}),qg(t,e.featureTypes,[n])}else e.featureTypes.forEach(i=>{const o=this.combineBboxAndFilter(i.geometryName,i.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:i.geometryName,filter:o}),qg(t,[i.name],[n])});return t}combineBboxAndFilter(e,t,n,i){const o=ex(e,t,n);return i?J2(i,o):o}writeTransaction(e,t,n,i){const o=[],a=i.version?i.version:this.version_,s=Ae(od[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a);let l;i&&(l=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS(Qu,"xsi:schemaLocation",xg[a]);const c=ox(s,l,a,i);return e&&Is("Insert",e,o,c),t&&Is("Update",t,o,c),n&&Is("Delete",n,o,c),i.nativeElements&&Is("Native",i.nativeElements,o,c),s}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(!(t.childNodes.length===0||t.childNodes.length===1&&t.firstChild.nodeType===3)){const n=[{}];return this.gmlFormat_.readGeometryElement(t,n),ve(n.pop().srsName)}}return null}};function ox(r,e,t,n){const i=n.featurePrefix?n.featurePrefix:y0;let o;return t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2),Object.assign({node:r},{version:t,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:i,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}function Is(r,e,t,n){xt(n,m0,xr(r),e,t)}function wg(r,e){return ie({},tx,r,e)}const ax={"http://www.opengis.net/ogc":{FeatureId:xe(function(r,e){return r.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:xe(function(r,e){return r.getAttribute("fid")})}};function _g(r,e){Oi(ax,r,e)}const sx={"http://www.opengis.net/wfs":{Feature:_g},"http://www.opengis.net/wfs/2.0":{Feature:_g}};function Tg(r,e){return ie([],sx,r,e)}function Cg(r,e,t){const n=t[t.length-1],i=n.featureType,o=n.featureNS,a=n.gmlVersion,s=Ae(o,i);r.appendChild(s),a===2?De.prototype.writeFeatureElement(s,e,t):a===3?G.prototype.writeFeatureElement(s,e,t):Ge.prototype.writeFeatureElement(s,e,t)}function v0(r,e,t){const n=t[t.length-1].version,i=vh[n],o=Ae(i,"Filter"),a=Ae(i,"FeatureId");o.appendChild(a),a.setAttribute("fid",e),r.appendChild(o)}function wh(r,e){r=r||y0;const t=r+":";return e.startsWith(t)?e:t+e}function Eg(r,e,t){const n=t[t.length-1];Nt(e.getId()!==void 0,"Features must have an id set");const i=n.featureType,o=n.featurePrefix,a=n.featureNS,s=wh(o,i);r.setAttribute("typeName",s),r.setAttributeNS(yh,"xmlns:"+o,a);const l=e.getId();l!==void 0&&v0(r,l,t)}function Mg(r,e,t){const n=t[t.length-1];Nt(e.getId()!==void 0,"Features must have an id set");const i=n.version,o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=wh(a,o),c=e.getGeometryName();r.setAttribute("typeName",l),r.setAttributeNS(yh,"xmlns:"+a,s);const u=e.getId();if(u!==void 0){const d=e.getKeys(),h=[];for(let p=0,f=d.length;p<f;p++){const y=e.get(d[p]);if(y!==void 0){let m=d[p];y&&typeof y.getSimplifiedGeometry=="function"&&(m=c),h.push({name:m,value:y})}}xt({version:i,gmlVersion:n.gmlVersion,node:r,hasZ:n.hasZ,srsName:n.srsName},m0,xr("Property"),h,t),v0(r,u,t)}}function Sg(r,e,t){const n=t[t.length-1],i=n.version,o=od[i],a=Ae(o,i==="2.0.0"?"ValueReference":"Name"),s=n.gmlVersion;if(r.appendChild(a),It(a,e.name),e.value!==void 0&&e.value!==null){const l=Ae(o,"Value");r.appendChild(l),e.value&&typeof e.value.getSimplifiedGeometry=="function"?s===2?De.prototype.writeGeometryElement(l,e.value,t):s===3?G.prototype.writeGeometryElement(l,e.value,t):Ge.prototype.writeGeometryElement(l,e.value,t):It(l,e.value)}}function Lg(r,e,t){e.vendorId&&r.setAttribute("vendorId",e.vendorId),e.safeToIgnore!==void 0&&r.setAttribute("safeToIgnore",String(e.safeToIgnore)),e.value!==void 0&&It(r,e.value)}const ec={"http://www.opengis.net/wfs":{Query:O(Ig)},"http://www.opengis.net/wfs/2.0":{Query:O(Ig)},"http://www.opengis.net/ogc":{During:O(Ng),And:O(As),Or:O(As),Not:O(Dg),BBOX:O(Ag),Contains:O(Xn),Intersects:O(Xn),Within:O(Xn),DWithin:O(Pg),PropertyIsEqualTo:O(Mr),PropertyIsNotEqualTo:O(Mr),PropertyIsLessThan:O(Mr),PropertyIsLessThanOrEqualTo:O(Mr),PropertyIsGreaterThan:O(Mr),PropertyIsGreaterThanOrEqualTo:O(Mr),PropertyIsNull:O(Og),PropertyIsBetween:O(Rg),PropertyIsLike:O(Fg)},"http://www.opengis.net/fes/2.0":{During:O(Ng),And:O(As),Or:O(As),Not:O(Dg),BBOX:O(Ag),Contains:O(Xn),Disjoint:O(Xn),Intersects:O(Xn),ResourceId:O(cx),Within:O(Xn),DWithin:O(Pg),PropertyIsEqualTo:O(Mr),PropertyIsNotEqualTo:O(Mr),PropertyIsLessThan:O(Mr),PropertyIsLessThanOrEqualTo:O(Mr),PropertyIsGreaterThan:O(Mr),PropertyIsGreaterThanOrEqualTo:O(Mr),PropertyIsNull:O(Og),PropertyIsBetween:O(Rg),PropertyIsLike:O(Fg)}};function Ig(r,e,t){const n=t[t.length-1],i=n.version,o=n.featurePrefix,a=n.featureNS,s=n.propertyNames,l=n.srsName;let c;o?c=wh(o,e):c=e;let u;i==="2.0.0"?u="typeNames":u="typeName",r.setAttribute(u,c),l&&r.setAttribute("srsName",l),a&&r.setAttributeNS(yh,"xmlns:"+o,a);const d=Object.assign({},n);d.node=r,xt(d,nx,xr("PropertyName"),s,t);const h=n.filter;if(h){const p=Ae(tc(i),"Filter");r.appendChild(p),lx(p,h,t)}}function lx(r,e,t){const n=t[t.length-1],i={node:r};Object.assign(i,{context:n}),xt(i,ec,xr(e.getTagName()),[e],t)}function Ag(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=bh[i];Yo(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.extent,t)}function cx(r,e,t){r.setAttribute("rid",e.rid)}function Xn(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=bh[i];Yo(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.geometry,t)}function Pg(r,e,t){const n=t[t.length-1].context.version;Xn(r,e,t);const i=Ae(tc(n),"Distance");It(i,e.distance.toString()),n==="2.0.0"?i.setAttribute("uom",e.unit):i.setAttribute("units",e.unit),r.appendChild(i)}function Ng(r,e,t){const n=t[t.length-1].context.version;vl(kh[n],"ValueReference",r,e.propertyName);const i=Ae(An,"TimePeriod");r.appendChild(i);const o=Ae(An,"begin");i.appendChild(o),jg(o,e.begin);const a=Ae(An,"end");i.appendChild(a),jg(a,e.end)}function As(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.conditions;for(let a=0,s=o.length;a<s;++a){const l=o[a];xt(i,ec,xr(l.getTagName()),[l],t)}}function Dg(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.condition;xt(i,ec,xr(o.getTagName()),[o],t)}function Mr(r,e,t){const n=t[t.length-1].context.version;e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),Yo(n,r,e.propertyName),kl(n,r,""+e.expression)}function Og(r,e,t){const n=t[t.length-1].context.version;Yo(n,r,e.propertyName)}function Rg(r,e,t){const n=t[t.length-1].context.version,i=tc(n);Yo(n,r,e.propertyName);const o=Ae(i,"LowerBoundary");r.appendChild(o),kl(n,o,""+e.lowerBoundary);const a=Ae(i,"UpperBoundary");r.appendChild(a),kl(n,a,""+e.upperBoundary)}function Fg(r,e,t){const n=t[t.length-1].context.version;r.setAttribute("wildCard",e.wildCard),r.setAttribute("singleChar",e.singleChar),r.setAttribute("escapeChar",e.escapeChar),e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),Yo(n,r,e.propertyName),kl(n,r,""+e.pattern)}function vl(r,e,t,n){const i=Ae(r,e);It(i,n),t.appendChild(i)}function kl(r,e,t){vl(tc(r),"Literal",e,t)}function Yo(r,e,t){r==="2.0.0"?vl(kh[r],"ValueReference",e,t):vl(vh[r],"PropertyName",e,t)}function jg(r,e){const t=Ae(An,"TimeInstant");r.appendChild(t);const n=Ae(An,"timePosition");t.appendChild(n),It(n,e)}function qg(r,e,t){const n=t[t.length-1],i=Object.assign({},n);i.node=r,xt(i,ec,xr("Query"),e,t)}function tc(r){let e;return r==="2.0.0"?e=kh[r]:e=vh[r],e}let is=class extends sr{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const n=t.getGeometry();return Nt(!n||n.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),n},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,n){this.source?.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Oe.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Oe.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const n=e===0?0:Math.min(t,e)/e,i=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Ia(),t=this.distance*this.resolution,n=this.source.getFeatures(),i={};for(let o=0,a=n.length;o<a;o++){const s=n[o];if(!(Ue(s)in i)){const l=this.geometryFunction(s);if(l){const c=l.getCoordinates();rl(c,e),ui(e,t,e);const u=this.source.getFeaturesInExtent(e).filter(function(d){const h=Ue(d);return h in i?!1:(i[h]=!0,!0)});this.features.push(this.createCluster(u,e))}}}}createCluster(e,t){const n=[0,0];for(let s=e.length-1;s>=0;--s){const l=this.geometryFunction(e[s]);l?Xk(n,l.getCoordinates()):e.splice(s,1)}Nm(n,1/e.length);const i=Gn(t),o=this.interpolationRatio,a=new Bt([n[0]*(1-o)+i[0]*o,n[1]*(1-o)+i[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(a,e):new Ft({geometry:a,features:e})}},po=class extends Nr{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}},wn=class extends po{constructor(e,t,n,i,o,a){super(e,t,o),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}};const $e={SINGLECLICK:"singleclick",CLICK:Oe.CLICK,DBLCLICK:Oe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},bl={ACTIVE:"active"};class Wo extends Go{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(bl.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(bl.ACTIVE,e)}setMap(e){this.map_=e}}function ux(r,e,t){const n=r.getCenterInternal();if(n){const i=[n[0]+e[0],n[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:Jk,center:r.getConstrainedCenter(i)})}}function _h(r,e,t,n){const i=r.getZoom();if(i===void 0)return;const o=r.getConstrainedZoom(i+e),a=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:Xi})}function ad(r){const e=arguments;return function(t){let n=!0;for(let i=0,o=e.length;i<o&&(n=n&&e[i](t),!!n);++i);return n}}const dx=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},hx=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},px=function(r){const e=r.map.getTargetElement(),t=e.getRootNode(),n=r.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(n):e.contains(n)},k0=function(r){const e=r.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?px(r):!0},Ri=fn,b0=function(r){const e=r.originalEvent;return"pointerId"in e&&e.button==0&&!(Yb&&rh&&e.ctrlKey)},xl=Bo,gx=function(r){return r.type=="pointermove"},x0=function(r){return r.type==$e.SINGLECLICK},Th=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},fx=function(r){const e=r.originalEvent;return!e.altKey&&(rh?e.metaKey:e.ctrlKey)&&!e.shiftKey},mx=function(r){const e=r.originalEvent;return rh?e.metaKey:e.ctrlKey},wl=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},w0=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},nu=function(r){const e=r.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},_0=function(r){const e=r.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};let vi=class extends Wo{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==$e.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==$e.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==$e.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==$e.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function Ch(r){const e=r.length;let t=0,n=0;for(let i=0;i<e;i++)t+=r[i].clientX,n+=r[i].clientY;return{clientX:t/e,clientY:n/e}}const _n={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ht={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let yx=class extends Go{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Wb,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Ht.ELEMENT,this.handleElementChanged),this.addChangeListener(Ht.MAP,this.handleMapChanged),this.addChangeListener(Ht.OFFSET,this.handleOffsetChanged),this.addChangeListener(Ht.POSITION,this.handlePositionChanged),this.addChangeListener(Ht.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Ht.ELEMENT)}getId(){return this.id}getMap(){return this.get(Ht.MAP)||null}getOffset(){return this.get(Ht.OFFSET)}getPosition(){return this.get(Ht.POSITION)}getPositioning(){return this.get(Ht.POSITIONING)}handleElementChanged(){Jm(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),jt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=st(e,_n.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Ht.ELEMENT,e)}setMap(e){this.set(Ht.MAP,e)}setOffset(e){this.set(Ht.OFFSET,e)}setPosition(e){this.set(Ht.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Ht.POSITION))return;const n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),o=this.getRect(i,[Kb(i),Qb(i)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!an(n,o)){const s=o[0]-n[0],l=n[2]-o[2],c=o[1]-n[1],u=n[3]-o[3],d=[0,0];if(s<0?d[0]=s-a:l<0&&(d[0]=Math.abs(l)+a),c<0?d[1]=c-a:u<0&&(d[1]=Math.abs(u)+a),d[0]!==0||d[1]!==0){const h=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(h);if(!p)return;const f=[p[0]+d[0],p[1]+d[1]],y=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:y.duration,easing:y.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]}setPositioning(e){this.set(Ht.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(e,t){const n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const a=`${e[0]+i[0]}px`,s=`${e[1]+i[1]}px`;let l="0%",c="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?c="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${a}, ${s})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u)}getOptions(){return this.options}};function vx(r,e){const t=r.canvas;e=e||{};const n=e.pixelRatio||ih,i=e.size;i&&(t.width=i[0]*n,t.height=i[1]*n,t.style.width=i[0]+"px",t.style.height=i[1]+"px");const o=[0,0,t.width,t.height],a=Cb(Aa(),n,n);return new Eb(r,n,o,a,0)}class kx extends Wl{constructor(e,t,n,i,o){const a=o!==void 0?Ct.IDLE:Ct.LOADED;super(e,t,n,a),this.loader_=o!==void 0?o:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Ct.ERROR):this.state=Ct.LOADED,this.changed()}load(){this.state==Ct.IDLE&&(this.state=Ct.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class bx{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;const o=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const sd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class xx extends a2{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=st(n,sd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=st(n,sd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Oe.TOUCHMOVE,this.boundHandleTouchMove_,e0?{passive:!1}:!1)}emulateClick_(e){let t=new wn($e.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new wn($e.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new wn($e.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==$e.POINTERUP||t.type==$e.POINTERCANCEL){delete this.trackedTouches_[n];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else(t.type==$e.POINTERDOWN||t.type==$e.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new wn($e.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(jt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new wn($e.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(st(n,$e.POINTERMOVE,this.handlePointerMove_,this),st(n,$e.POINTERUP,this.handlePointerUp_,this),st(this.element_,$e.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(st(this.element_.getRootNode(),$e.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new wn($e.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new wn($e.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(jt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Oe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(jt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(jt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Zt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ld=1/0;class wx{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ch(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(e){Nt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=ld?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,i=t.length,o=t[e],a=n[e],s=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&n[c]<n[l]?c:l;t[e]=t[u],n[e]=n[u],e=u}t[e]=o,n[e]=a,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,i=this.priorities_,o=n[t],a=i[t];for(;t>e;){const s=this.getParentIndex_(t);if(i[s]>a)n[t]=n[s],i[t]=i[s],t=s;else break}n[t]=o,i[t]=a}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let i=0;const o=t.length;let a,s,l;for(s=0;s<o;++s)a=t[s],l=e(a),l==ld?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=l,t[i++]=a);t.length=i,n.length=i,this.heapify_()}}class T0 extends wx{constructor(e,t){super(n=>e.apply(null,n),n=>n[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Oe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===at.LOADED||n===at.ERROR||n===at.EMPTY){n!==at.ERROR&&t.removeEventListener(Oe.CHANGE,this.boundHandleTileChange_);const i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const i=this.dequeue()[0],o=i.getKey();i.getState()===at.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,i.load())}}}function _x(r,e,t,n,i){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return ld;const o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}class Eh extends Go{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,n=this.listenerKeys.length;t<n;++t)jt(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==n0&&this.listenerKeys.push(st(e,_n.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Tx extends Eh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=a):this.collapseLabel_=o;const s=e.label!==void 0?e.label:"i";typeof s=="string"?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Oe.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+Kl+" "+oh+(this.collapsed_&&this.collapsible_?" "+pg:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>n.add(i)):n.add(this.attributions_)),!this.overrideCollapsible_){const i=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(i)}return Array.from(n)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(i=>o0(()=>i))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Xl(t,this.renderedAttributions_)){Jm(this.ulElement_);for(let i=0,o=t.length;i<o;++i){const a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(pg),this.collapsed_?gg(this.collapseLabel_,this.label_):gg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Cx extends Eh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const o=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=t+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),a.addEventListener(Oe.CLICK,this.handleClick_.bind(this),!1);const s=t+" "+Kl+" "+oh,l=this.element;l.className=s,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ms)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();t!==void 0&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Xi}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const i="rotate("+n+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ms);!o&&n===0?this.element.classList.add(Ms):o&&n!==0&&this.element.classList.remove(Ms)}this.label_.style.transform=i}this.rotation_=n}}class Ex extends Eh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",s=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Oe.CLICK,this.handleClick_.bind(this,n),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(Oe.CLICK,this.handleClick_.bind(this,-n),!1);const h=t+" "+Kl+" "+oh,p=this.element;p.className=h,p.appendChild(u),p.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(n!==void 0){const i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:Xi})):t.setZoom(i)}}}function Mx(r){r=r||{};const e=new qt;return(r.zoom===void 0||r.zoom)&&e.push(new Ex(r.zoomOptions)),(r.rotate===void 0||r.rotate)&&e.push(new Cx(r.rotateOptions)),(r.attribution===void 0||r.attribution)&&e.push(new Tx(r.attributionOptions)),e}class Sx extends Wo{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==$e.DBLCLICK){const n=e.originalEvent,i=e.map,o=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_,s=i.getView();_h(s,a,o,this.duration_),n.preventDefault(),t=!0}return!t}}class _l extends vi{constructor(e){super({stopDown:Bo}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:ad(Th,_0);this.condition_=e.onFocusOnly?ad(k0,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,i=t.getEventPixel(Ch(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();Nm(o,a.getResolution()),zm(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=t.getPixelFromCoordinateInternal(a),l=t.getCoordinateFromPixelInternal([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(l),duration:500,easing:Xi})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Lx extends vi{constructor(e){e=e||{},super({stopDown:Bo}),this.condition_=e.condition?e.condition:hx,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!nu(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===Um)return;const i=t.getSize(),o=e.pixel,a=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){const s=a-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=a}handleUpEvent(e){return nu(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return nu(e)&&b0(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Ix extends lh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Zr([n])}getGeometry(){return this.geometry_}}const ao={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class la extends Nr{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class Ax extends vi{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Ix(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??b0,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const i=n[0]-t[0],o=n[1]-t[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new la(ao.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new la(t?ao.BOXEND:ao.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new la(ao.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new la(ao.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new la(ao.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Px extends Ax{constructor(e){e=e||{};const t=e.condition?e.condition:wl;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const i=t.rotatedExtentForGeometry(n),o=t.getResolutionForExtentInternal(i),a=t.getResolution()/o;n=n.clone(),n.scale(a*a)}t.fitInternal(n,{duration:this.duration_,easing:Xi})}}const xi={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class C0 extends Wo{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Th(t)&&w0(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Oe.KEYDOWN){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==xi.DOWN||i==xi.LEFT||i==xi.RIGHT||i==xi.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let s=0,l=0;i==xi.DOWN?l=-a:i==xi.LEFT?s=-a:i==xi.RIGHT?s=a:l=a;const c=[s,l];zm(c,o.getRotation()),ux(o,c,this.duration_),n.preventDefault(),t=!0}}return!t}}class E0 extends Wo{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!mx(t)&&w0(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Oe.KEYDOWN||e.type==Oe.KEYPRESS){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==="+"||i==="-")){const o=e.map,a=i==="+"?this.delta_:-this.delta_,s=o.getView();_h(s,a,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const Nx=40,Dx=300;class cd extends Wo{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:Ri;this.condition_=e.onFocusOnly?ad(k0,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Oe.WHEEL)return!0;const t=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let i=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:i*=Nx;break;case WheelEvent.DOM_DELTA_PAGE:i*=Dx;break}if(i===0)return!1;this.lastDelta_=i;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const a=t.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-nh(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),_h(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class Ox extends vi{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Bo),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;const a=e.map,s=a.getView();s.getConstraints().rotation!==Um&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Ch(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class Rx extends vi{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Bo),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,a=n.clientY-i.clientY,s=Math.sqrt(o*o+a*a);this.lastDistance_!==void 0&&(t=this.lastDistance_/s),this.lastDistance_=s;const l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Ch(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function Mh(r){r=r||{};const e=new qt,t=new bx(-.005,.05,100);return(r.altShiftDragRotate===void 0||r.altShiftDragRotate)&&e.push(new Lx),(r.doubleClickZoom===void 0||r.doubleClickZoom)&&e.push(new Sx({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan===void 0||r.dragPan)&&e.push(new _l({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate===void 0||r.pinchRotate)&&e.push(new Ox),(r.pinchZoom===void 0||r.pinchZoom)&&e.push(new Rx({duration:r.zoomDuration})),(r.keyboard===void 0||r.keyboard)&&(e.push(new C0),e.push(new E0({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom===void 0||r.mouseWheelZoom)&&e.push(new cd({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom===void 0||r.shiftDragZoom)&&e.push(new Px({duration:r.zoomDuration})),e}const Yn={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class ei extends Nr{constructor(e,t){super(e),this.layer=t}}const iu={LAYERS:"layers"};class mn extends hb{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(iu.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new qt(n.slice(),{unique:!0}):Nt(typeof n.getArray=="function","Expected `layers` to be an array or a `Collection`"):n=new qt(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(jt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(st(e,Mt.ADD,this.handleLayersAdd_,this),st(e,Mt.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(jt);ch(this.listenerKeys_);const t=e.getArray();for(let n=0,i=t.length;n<i;n++){const o=t[n];this.registerLayerListeners_(o),this.dispatchEvent(new ei(Yn.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){const t=[st(e,Oa.PROPERTYCHANGE,this.handleLayerChange_,this),st(e,Oe.CHANGE,this.handleLayerChange_,this)];e instanceof mn&&t.push(st(e,Yn.ADDLAYER,this.handleLayerGroupAdd_,this),st(e,Yn.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ue(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ei(Yn.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ei(Yn.REMOVELAYER,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ei(Yn.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=Ue(t);this.listenerKeys_[n].forEach(jt),delete this.listenerKeys_[n],this.dispatchEvent(new ei(Yn.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(iu.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let i=0,o=n.length;i<o;++i)this.dispatchEvent(new ei(Yn.REMOVELAYER,n[i]))}this.set(iu.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(t)});const i=this.getLayerState();let o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(let a=n,s=t.length;a<s;a++){const l=t[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Zl(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}}class Fx extends lh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Et()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Rm(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),wb(i,n)}forEachFeatureAtCoordinate(e,t,n,i,o,a,s,l){let c;const u=t.viewState;function d(T,E,R,F){return o.call(a,E,T?R:null,F)}const h=u.projection,p=wm(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){const T=h.getExtent(),E=Xt(T);f.push([-E,0],[E,0])}const y=t.layerStatesArray,m=y.length,b=[],k=[];for(let T=0;T<f.length;T++)for(let E=m-1;E>=0;--E){const R=y[E],F=R.layer;if(F.hasRenderer()&&Vm(R,u)&&s.call(l,F)){const le=F.getRenderer(),oe=F.getSource();if(le&&oe){const ge=oe.getWrapX()?p:e,$=d.bind(null,R.managed);k[0]=ge[0]+f[T][0],k[1]=ge[1]+f[T][1],c=le.forEachFeatureAtCoordinate(k,t,n,$,b)}if(c)return c}}if(b.length===0)return;const C=1/b.length;return b.forEach((T,E)=>T.distanceSq+=E*C),b.sort((T,E)=>T.distanceSq-E.distanceSq),b.some(T=>c=T.callback(T.feature,T.layer,T.geometry)),c}hasFeatureAtCoordinate(e,t,n,i,o,a){return this.forEachFeatureAtCoordinate(e,t,n,i,fn,this,o,a)!==void 0}getMap(){return this.map_}renderFrame(e){Et()}scheduleExpireIconCache(e){r0.canExpireCache()&&e.postRenderFunctions.push(jx)}}function jx(r,e){r0.expire()}class qx extends Fx{constructor(e){super(e),this.fontChangeListenerKey_=st(Jb,Oa.PROPERTYCHANGE,e.redrawText,e),this.element_=bo?e2():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Kl+" ol-layers";const n=e.getViewport();n&&n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const i=new yb(e,void 0,t);n.dispatchEvent(i)}}disposeInternal(){jt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ni.PRECOMPOSE,e);const t=e.layerStatesArray.sort((s,l)=>s.zIndex-l.zIndex);t.some(s=>s.layer instanceof Wd&&s.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const i=[];let o=null;for(let s=0,l=t.length;s<l;++s){const c=t[s];e.layerIndex=s;const u=c.layer,d=u.getSourceState();if(!Vm(c,n)||d!="ready"&&d!="undefined"){u.unrender();continue}const h=u.render(e,o);h&&(h!==o&&(this.children_.push(h),o=h),i.push(c))}this.declutter(e,i),t2(this.element_,this.children_);const a=this.getMap().getTargetElement();if(Mi(a)){const s=a.getContext("2d");for(const l of this.children_){const c=l.firstElementChild||l,u=l.style.backgroundColor;if(u&&(!Mi(c)||c.width>0)&&(s.fillStyle=u,s.fillRect(0,0,a.width,a.height)),Mi(c)&&c.width>0){const d=l.style.opacity||c.style.opacity;s.globalAlpha=d===""?1:Number(d);const h=c.style.transform;if(h)s.setTransform(...vb(h));else{const p=parseFloat(c.style.width)/c.width,f=parseFloat(c.style.height)/c.height;s.setTransform(p,0,0,f,0,0)}s.drawImage(c,0,0)}}s.globalAlpha=1,s.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(Ni.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const i=t[n],o=i.layer;o.getDeclutter()&&o.renderDeclutter(e,i)}t.forEach(n=>n.layer.renderDeferred(e))}}}function M0(r){if(r instanceof $o){r.setMapInternal(null);return}r instanceof mn&&r.getLayers().forEach(M0)}function S0(r,e){if(r instanceof $o){r.setMapInternal(e);return}if(r instanceof mn){const t=r.getLayers().getArray();for(let n=0,i=t.length;n<i;++n)S0(t[n],e)}}let fi=class extends Go{constructor(r){super(),r=r||{},this.on,this.once,this.un;const e=zx(r);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,this.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:ih,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Aa(),this.pixelToCoordinateTransform_=Aa(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,bo||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=r.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,bo||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=e.controls||(bo?new qt:Mx()),this.interactions=e.interactions||(bo?new qt:Mh({onFocusOnly:!0})),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new T0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Zt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Zt.VIEW,this.handleViewChanged_),this.addChangeListener(Zt.SIZE,this.handleSizeChanged_),this.addChangeListener(Zt.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const t=this;r.view&&!(r.view instanceof En)&&r.view.then(function(n){t.setView(new En(n))}),this.controls.addEventListener(Mt.ADD,n=>{n.element.setMap(this)}),this.controls.addEventListener(Mt.REMOVE,n=>{n.element.setMap(null)}),this.interactions.addEventListener(Mt.ADD,n=>{n.element.setMap(this)}),this.interactions.addEventListener(Mt.REMOVE,n=>{n.element.setMap(null)}),this.overlays_.addEventListener(Mt.ADD,n=>{this.addOverlayInternal_(n.element)}),this.overlays_.addEventListener(Mt.REMOVE,n=>{const i=n.element.getId();i!==void 0&&delete this.overlayIdIndex_[i.toString()],n.element.setMap(null)}),this.controls.forEach(n=>{n.setMap(this)}),this.interactions.forEach(n=>{n.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(r){this.getControls().push(r)}addInteraction(r){this.getInteractions().push(r)}addLayer(r){this.getLayerGroup().getLayers().push(r)}handleLayerAdd_(r){S0(r.layer,this)}addOverlay(r){this.getOverlays().push(r)}addOverlayInternal_(r){const e=r.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=r),r.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(r,e,t){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(r);t=t!==void 0?t:{};const i=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.layerFilter!==void 0?t.layerFilter:fn,a=t.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,e,null,o,null)}getFeaturesAtPixel(r,e){const t=[];return this.forEachFeatureAtPixel(r,function(n){t.push(n)},e),t}getAllLayers(){const r=[];function e(t){t.forEach(function(n){n instanceof mn?e(n.getLayers()):r.push(n)})}return e(this.getLayers()),r}hasFeatureAtPixel(r,e){if(!this.frameState_||!this.renderer_)return!1;const t=this.getCoordinateFromPixelInternal(r);e=e!==void 0?e:{};const n=e.layerFilter!==void 0?e.layerFilter:fn,i=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(t,this.frameState_,i,o,n,null)}getEventCoordinate(r){return this.getCoordinateFromPixel(this.getEventPixel(r))}getEventCoordinateInternal(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))}getEventPixel(r){const e=this.viewport_.getBoundingClientRect(),t=this.getSize(),n=e.width/t[0],i=e.height/t[1],o="changedTouches"in r?r.changedTouches[0]:r;return[(o.clientX-e.left)/n,(o.clientY-e.top)/i]}getTarget(){return this.get(Zt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(r){return Na(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())}getCoordinateFromPixelInternal(r){const e=this.frameState_;return e?Yu(e.pixelToCoordinateTransform,r.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(r){const e=this.overlayIdIndex_[r.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Zt.LAYERGROUP)}setLayers(r){const e=this.getLayerGroup();if(r instanceof qt){e.setLayers(r);return}const t=e.getLayers();t.clear(),t.extend(r)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const r=this.getLayerGroup().getLayerStatesArray();for(let e=0,t=r.length;e<t;++e){const n=r[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const o=n.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(r){const e=Gt(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(r){const e=this.frameState_;return e?Yu(e.coordinateToPixelTransform,r.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Zt.SIZE)}getView(){return this.get(Zt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const r=this.getTargetElement();return r?r.ownerDocument:document}getTilePriority(r,e,t,n){return _x(this.frameState_,r,e,t,n)}handleBrowserEvent(r,e){e=e||r.type;const t=new wn(e,this,r);this.handleMapBrowserEvent(t)}handleMapBrowserEvent(r){if(!this.frameState_)return;const e=r.originalEvent,t=e.type;if(t===sd.POINTERDOWN||t===Oe.WHEEL||t===Oe.KEYDOWN){const n=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=e.target,a=i instanceof ShadowRoot?i.host===o?i.host.ownerDocument:i:i===n?n.documentElement:i;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1){const n=this.getInteractions().getArray().slice();for(let i=n.length-1;i>=0;i--){const o=n[i];if(!(o.getMap()!==this||!o.getActive()||!this.getTargetElement())&&(!o.handleEvent(r)||r.propagationStopped))break}}}handlePostRender(){const r=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(r){const o=r.viewHints;if(o[sn.ANIMATING]||o[sn.INTERACTING]){const a=Date.now()-r.time>8;n=a?0:8,i=a?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}r&&this.renderer_&&!r.animate&&(this.renderComplete_?(this.hasListener(Ni.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ni.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new po(_n.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new po(_n.LOADSTART,this,r))));const t=this.postRenderFunctions_;if(r)for(let n=0,i=t.length;n<i;++n)t[n](this,r);t.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,n=this.targetChangeHandlerKeys_.length;t<n;++t)jt(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Oe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Oe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!Mi(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const r=this.getTarget(),e=typeof r=="string"?document.getElementById(r):r;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(Mi(e)||e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new qx(this)),!Mi(e)){this.mapBrowserEventHandler_=new xx(this,this.moveTolerance_);for(const n in $e)this.mapBrowserEventHandler_.addEventListener($e[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Oe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Oe.WHEEL,this.boundHandleBrowserEvent_,e0?{passive:!1}:!1);let t;if(this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}if(this.targetChangeHandlerKeys_=[st(t,Oe.KEYDOWN,this.handleBrowserEvent,this),st(t,Oe.KEYPRESS,this.handleBrowserEvent,this)],e instanceof HTMLElement){const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_?.observe(e)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(jt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(jt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const r=this.getView();r&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=st(r,Oa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=st(r,Oe.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(jt),this.layerGroupPropertyListenerKeys_=null);const r=this.getLayerGroup();r&&(this.handleLayerAdd_(new ei("addlayer",r)),this.layerGroupPropertyListenerKeys_=[st(r,Oa.PROPERTYCHANGE,this.render,this),st(r,Oe.CHANGE,this.render,this),st(r,"addlayer",this.handleLayerAdd_,this),st(r,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const r=this.frameState_.layerStatesArray;for(let e=0,t=r.length;e<t;++e){const n=r[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(r){return this.getControls().remove(r)}removeInteraction(r){return this.getInteractions().remove(r)}removeLayer(r){return this.getLayerGroup().getLayers().remove(r)}handleLayerRemove_(r){M0(r.layer)}removeOverlay(r){return this.getOverlays().remove(r)}renderFrame_(r){const e=this.getSize(),t=this.getView(),n=this.frameState_;let i=null;if(e!==void 0&&dg(e)&&t&&t.isDef()){const o=t.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=t.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:gl(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Ue(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const s=isNaN(a.nextRotation)?a.rotation:a.nextRotation;i.nextExtent=gl(a.nextCenter,a.nextResolution,s,e)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n&&(!this.previousExtent_||!Xd(this.previousExtent_)&&!Vi(i.extent,this.previousExtent_))&&(this.dispatchEvent(new po(_n.MOVESTART,this,n)),this.previousExtent_=Im(this.previousExtent_)),this.previousExtent_&&!i.viewHints[sn.ANIMATING]&&!i.viewHints[sn.INTERACTING]&&!Vi(i.extent,this.previousExtent_)&&(this.dispatchEvent(new po(_n.MOVEEND,this,i)),ub(i.extent,this.previousExtent_))),this.dispatchEvent(new po(_n.POSTRENDER,this,i)),this.renderComplete_=(this.hasListener(_n.LOADSTART)||this.hasListener(_n.LOADEND)||this.hasListener(Ni.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(r){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new ei("removelayer",e)),this.set(Zt.LAYERGROUP,r)}setSize(r){this.set(Zt.SIZE,r)}setTarget(r){this.set(Zt.TARGET,r)}setView(r){if(!r||r instanceof En){this.set(Zt.VIEW,r);return}this.set(Zt.VIEW,new En);const e=this;r.then(function(t){e.setView(new En(t))})}updateSize(){const r=this.getTargetElement();let e;if(r){let n,i;if(Mi(r))n=r.width,i=r.height;else{const o=getComputedStyle(r);n=r.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),i=r.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth)}!isNaN(n)&&!isNaN(i)&&(e=[Math.max(0,n),Math.max(0,i)],!dg(e)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&db("No map visible because the map container's width or height are 0."))}const t=this.getSize();e&&(!t||!Xl(e,t))&&(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(r){const e=this.getView();e&&e.setViewportSize(r)}};function zx(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new mn({layers:r.layers});t[Zt.LAYERGROUP]=n,t[Zt.TARGET]=r.target,t[Zt.VIEW]=r.view instanceof En?r.view:new En;let i;r.controls!==void 0&&(Array.isArray(r.controls)?i=new qt(r.controls.slice()):(Nt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new qt(r.interactions.slice()):(Nt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new qt(r.overlays.slice()):(Nt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=r.overlays):a=new qt,{controls:i,interactions:o,keyboardEventTarget:e,overlays:a,values:t}}const zg=[];class $x extends Tb{constructor(e,t,n,i,o){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.removeSourceTiles_=o,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=Da(1,1,zg)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=Ue(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(Xm(this.context_),zg.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}function Ux(r={},e=_r){const t={startZoomLevel:void 0,startResolution:void 0};return Object.prototype.hasOwnProperty.call(r,"startZoomLevel")&&!Object.prototype.hasOwnProperty.call(r,"startResolution")?t.startZoomLevel=e.startZoomLevel:t.startResolution=e.startResolution,t}function Gx(r){const e=Object.assign({},_r,r),t=Ux(r,e);return new En({projection:e.epsg,center:e.startCenter,extent:e.extent,zoom:t.startZoomLevel,options:e.options,resolution:t.startResolution,resolutions:e.options.map(n=>n.resolution),constrainResolution:!0,constrainOnlyCenter:!0,backgroundImage:e.backgroundImage})}function L0(r){const e=Object.keys(r.defs),t=e.length;let n,i;for(n=0;n<t;++n){const o=e[n];if(!Xc(o)){const a=r.defs(o);let s=a.units;!s&&a.projName==="longlat"&&(s="degrees"),Gm(new Dm({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(n=0;n<t;++n){const o=e[n],a=Xc(o);for(i=0;i<t;++i){const s=e[i],l=Xc(s);if(!gb(o,s))if(r.defs[o]===r.defs[s])fb([a,l]);else{const c=r(o,s);mb(a,l,ng(a,l,c.forward),ng(l,a,c.inverse))}}}}function Bx(r){const e=r.split(":")[1];Br.defs("http://www.opengis.net/gml/srs/epsg.xml#"+e,Br.defs(r)),L0(Br)}function Sh(r){return Br.defs(r)}function Vx(r=_r.namedProjections){Br.defs(r),L0(Br),r.forEach(e=>{Gm(ve(e[0])),Bx(e[0]),Sh(e[0]).masterportal=!0})}function Hx(){return Object.keys(Br.defs).map(r=>Object.assign(Br.defs(r),{name:r})).filter(function(r,e,t){return e===t.indexOf(r)&&r.masterportal===!0})}function Lh(r){return r.getView().getProjection().getCode()}function $g(r){return typeof r=="string"?Sh(r):r}function Ih(r,e,t){const n=$g(r),i=$g(e);if(n&&i&&t)return Br(n,i,t);console.error(`Cancelled coordinate transformation with invalid parameters: ${r}; ${e}; ${t}`)}function Zx(r,e,t){return Ih(e,Lh(r),t)}function Yx(r,e,t){return Ih(Lh(r),e,t)}const Wx={transformFromMapProjection:Yx,transformToMapProjection:Zx,transform:Ih,getMapProjection:Lh,getProjections:Hx,registerProjections:Vx,getProjection:Sh};class Kx extends $o{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Cs.PRELOAD)}setPreload(e){this.set(Cs.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Cs.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Cs.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class ro extends Kx{constructor(e){super(e)}createRenderer(){return new ab(this,{cacheSize:this.getCacheSize()})}}class Qx extends xm{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,o=i.resolution,a=this.getLayer().getSource(),s=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Zl(l,dl(t.extent,i.projection))),!s[sn.ANIMATING]&&!s[sn.INTERACTING]&&!Xd(l))if(a){const c=i.projection,u=a.getImage(l,o,n,c);u&&(this.loadImage(u)?this.image=u:u.getState()===Ct.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),i=Yu(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!Om(o,i))return null;const a=this.image.getExtent(),s=this.image.getImage(),l=Xt(a),c=Math.floor(s.width*((i[0]-a[0])/l));if(c<0||c>=s.width)return null;const u=Dn(a),d=Math.floor(s.height*((a[3]-i[1])/u));return d<0||d>=s.height?null:this.getImageData(s,c,d)}renderFrame(e,t){const n=this.image,i=n.getExtent(),o=n.getResolution(),[a,s]=Array.isArray(o)?o:[o,o],l=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],u=e.pixelRatio,d=e.viewState,h=d.center,p=d.resolution,f=u*a/(p*l),y=u*s/(p*l);this.prepareContainer(e,t);const m=this.context.canvas.width,b=this.context.canvas.height,k=this.getRenderContext(e);let C=!1,T=!0;if(c.extent){const oe=dl(c.extent,d.projection);T=jo(oe,e.extent),C=T&&!an(oe,e.extent),C&&this.clipUnrotated(k,e,oe)}const E=n.getImage(),R=Rm(this.tempTransform,m/2,b/2,f,y,0,l*(i[0]-h[0])/a,l*(h[1]-i[3])/s);this.renderedResolution=s*u/l;const F=E.width*R[0],le=E.height*R[3];if(this.getLayer().getSource().getInterpolate()||(k.imageSmoothingEnabled=!1),this.preRender(k,e),T&&F>=.5&&le>=.5){const oe=R[4],ge=R[5],$=c.opacity;$!==1&&(k.save(),k.globalAlpha=$),k.drawImage(E,0,0,+E.width,+E.height,oe,ge,F,le),$!==1&&k.restore()}return this.postRender(this.context,e),C&&k.restore(),k.imageSmoothingEnabled=!0,this.container}}class Xx extends $o{constructor(e){e=e||{},super(e)}}class os extends Xx{constructor(e){super(e)}createRenderer(){return new Qx(this)}getData(e){return super.getData(e)}}function qa(r,e){const t=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&t.push(i+"="+encodeURIComponent(e[i]))});const n=t.join("&");return r=r.replace(/[?&]$/,""),r+=r.includes("?")?"&":"?",r+n}const Jx=/\{z\}/g,ew=/\{x\}/g,tw=/\{y\}/g,rw=/\{-y\}/g;function nw(r,e,t,n,i){return r.replace(Jx,e.toString()).replace(ew,t.toString()).replace(tw,n.toString()).replace(rw,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-n).toString()})}function I0(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const n=t[1].charCodeAt(0),i=t[2].charCodeAt(0);let o;for(o=n;o<=i;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const n=parseInt(t[2],10);for(let i=parseInt(t[1],10);i<=n;i++)e.push(r.replace(t[0],i.toString()));return e}return e.push(r),e}const so=[0,0,0],Wn=5;class no{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Nt(i2(this.resolutions_,(i,o)=>o-i),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Nt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=fl(n)),Nt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Nt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Fm,Nt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,o)=>{const a=new lb(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(n){const s=this.getTileRangeForExtentAndZ(n,o);a.minX=Math.max(s.minX,a.minX),a.maxX=Math.min(s.maxX,a.maxX),a.minY=Math.max(s.minY,a.minY),a.maxY=Math.min(s.maxY,a.maxY)}return a}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const i=this.getTileRangeForExtentAndZ(e,t);for(let o=i.minX,a=i.maxX;o<=a;++o)for(let s=i.minY,l=i.maxY;s<=l;++s)n([t,o,s])}forEachTileCoordParentTileRange(e,t,n,i){let o,a,s,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(a!==void 0&&s!==void 0?(a=Math.floor(a/2),s=Math.floor(s/2),o=oo(a,a,s,s,n)):o=this.getTileRangeForExtentAndZ(l,c,n),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,a=e[2]*2;return oo(o,o+1,a,a+1,t)}const i=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const i=e[0],o=e[1],a=e[2];if(t===i)return oo(o,a,o,a,n);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-i),c=Math.floor(o*l),u=Math.floor(a*l);if(t<i)return oo(c,c,u,u,n);const d=Math.floor(l*(o+1))-1,h=Math.floor(l*(a+1))-1;return oo(c,d,u,h,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,so);const i=so[1],o=so[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,so);const a=so[1],s=so[2];return oo(i,a,o,s,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=oi(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=oi(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*o[0]*i,s=n[1]-(e[2]+1)*o[1]*i,l=a+o[0]*i,c=s+o[1]*i;return Fo(a,s,l,c,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,i,o){const a=this.getZForResolution(n),s=n/this.getResolution(a),l=this.getOrigin(a),c=oi(this.getTileSize(a),this.tmpSize_);let u=s*(e-l[0])/n/c[0],d=s*(l[1]-t)/n/c[1];return i?(u=ii(u,Wn)-1,d=ii(d,Wn)-1):(u=ko(u,Wn),d=ko(d,Wn)),eg(a,u,d,o)}getTileCoordForXYAndZ_(e,t,n,i,o){const a=this.getOrigin(n),s=this.getResolution(n),l=oi(this.getTileSize(n),this.tmpSize_);let c=(e-a[0])/s/l[0],u=(a[1]-t)/s/l[1];return i?(c=ii(c,Wn)-1,u=ii(u,Wn)-1):(c=ko(c,Wn),u=ko(u,Wn)),eg(n,c,u,o)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=i0(this.resolutions_,e,t||0);return nh(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return cb(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}class A0 extends no{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function iw(r,e,t){const n=[],i=[],o=[],a=[],s=[];t=t!==void 0?t:[];const l="SupportedCRS",c="TileMatrix",u="Identifier",d="ScaleDenominator",h="TopLeftCorner",p="TileWidth",f="TileHeight",y=r[l],m=ve(y),b=m.getMetersPerUnit(),k=m.getAxisOrientation().startsWith("ne");return r[c].sort(function(C,T){return T[d]-C[d]}),r[c].forEach(function(C){let T;if(t.length>0?T=t.find(function(E){return C[u]==E[c]?!0:C[u].includes(":")?!1:r[u]+":"+C[u]===E[c]}):T=!0,T){i.push(C[u]);const E=C[d]*28e-5/b,R=C[p],F=C[f];k?o.push([C[h][1],C[h][0]]):o.push(C[h]),n.push(E),a.push(R==F?R:[R,F]),s.push([C.MatrixWidth,C.MatrixHeight])}}),new A0({extent:e,origins:o,resolutions:n,matrixIds:i,tileSizes:a,sizes:s})}function rc(r){let e=r.getDefaultTileGrid();return e||(e=sw(r),r.setDefaultTileGrid(e)),e}function ow(r,e,t){const n=e[0],i=r.getTileCoordCenter(e),o=as(t);if(!Om(o,i)){const a=Xt(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,r.getTileCoordForCoordAndZ(i,n)}return e}function aw(r,e,t,n){n=n!==void 0?n:"top-left";const i=P0(r,e,t);return new no({extent:r,origin:sb(r,n),resolutions:i,tileSize:t})}function Ah(r){const e=r||{},t=e.extent||ve("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:P0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new no(n)}function P0(r,e,t,n){e=e!==void 0?e:jm,t=oi(t!==void 0?t:Fm);const i=Dn(r),o=Xt(r);n=n>0?n:Math.max(o/t[0],i/t[1]);const a=e+1,s=new Array(a);for(let l=0;l<a;++l)s[l]=n/Math.pow(2,l);return s}function sw(r,e,t,n){const i=as(r);return aw(i,e,t,n)}function as(r){r=ve(r);let e=r.getExtent();if(!e){const t=180*Pa.degrees/r.getMetersPerUnit();e=Fo(-t,-t,t,t)}return e}function lw(r,e){return(function(t,n,i){if(!t)return;let o;const a=t[0];if(e){const s=e.getFullTileRange(a);s&&(o=s.getHeight()-1)}return nw(r,a,t[1],t[2],o)})}function Ph(r,e){const t=r.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=lw(r[i],e);return ud(n)}function ud(r){return r.length===1?r[0]:(function(e,t,n){if(!e)return;const i=Bm(e),o=t0(i,r.length);return r[o](e,t,n)})}class N0 extends Ho{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&oi(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Ue(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,i,o,a){return Et()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:rc(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),a=oi(i.getTileSize(e),this.tmpSize);return o==1?a:Xb(a,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const n=t!==void 0?t:this.getProjection(),i=t!==void 0?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=ow(i,e,n)),ob(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class cw extends Nr{constructor(e,t){super(e),this.tile=t}}const ou={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class nc extends N0{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===nc.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=Ue(t),i=t.getState();let o;i==at.LOADING?(this.tileLoadingKeys_[n]=!0,o=ou.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=i==at.ERROR?ou.TILELOADERROR:i==at.LOADED?ou.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new cw(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=I0(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ph(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}class ic extends nc{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:uw,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:kb,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!$t(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||$t(t,e)))return this.tileGrid;const n=Ue(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=rc(e)),this.tileGridForProjection[n]}createTile_(e,t,n,i,o,a){const s=[e,t,n],l=this.getTileCoordForTileUrlFunction(s,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(s,c!==void 0?at.IDLE:at.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Oe.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,n,i,o,a){const s=this.getProjection();if(!s||!o||$t(s,o))return this.getTileInternal(e,t,n,i,s||o);const l=[e,t,n],c=this.getKey(),u=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),h=this.getTileCoordForTileUrlFunction(l,o),p=new bb(s,u,o,d,l,h,this.getTilePixelRatio(i),this.getGutter(),(f,y,m,b)=>this.getTileInternal(f,y,m,b,s,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,p}getTileInternal(e,t,n,i,o,a){const s=this.getKey(),l=xb(this,s,e,t,n);if(a&&a.containsKey(l))return a.get(l);const c=this.createTile_(e,t,n,i,o,s);return a?.set(l,c),c}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=ve(e);if(n){const i=Ue(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}}function uw(r,e){if(bo){const t=r.getCrossOrigin();let n="same-origin",i="same-origin";t==="anonymous"||t===""?(n="cors",i="omit"):t==="use-credentials"&&(n="cors",i="include"),fetch(e,{mode:n,credentials:i}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{const a=r.getImage();a.width=o.width,a.height=o.height,a.getContext("2d").drawImage(o,0,0),o.close?.(),a.dispatchEvent(new Event("load"))}).catch(()=>{r.getImage().dispatchEvent(new Event("error"))});return}r.getImage().src=e}function dd(r){return Array.isArray(r)?Math.min(...r):r}class dw extends Wl{constructor(e,t,n,i,o,a,s){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const u=c?Zl(n,c):n,d=Gn(u),h=Qd(e,t,d,i),p=ib,f=new rb(e,t,u,l,h*p,i),y=f.calculateSourceExtent(),m=Xd(y)?null:a(y,h,o),b=m?Ct.IDLE:Ct.EMPTY,k=m?m.getPixelRatio():1;super(n,i,k,b),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=f,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=m,this.sourcePixelRatio_=k,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ct.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ct.LOADED){const t=Xt(this.targetExtent_)/this.targetResolution_,n=Dn(this.targetExtent_)/this.targetResolution_;this.canvas_=nb(t,n,this.sourcePixelRatio_,dd(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Ct.IDLE){this.state=Ct.LOADING,this.changed();const e=this.sourceImage_.getState();e==Ct.LOADED||e==Ct.ERROR?this.reproject_():(this.sourceListenerKey_=st(this.sourceImage_,Oe.CHANGE,t=>{const n=this.sourceImage_.getState();(n==Ct.LOADED||n==Ct.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){jt(this.sourceListenerKey_),this.sourceListenerKey_=null}}const ai=4,au={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class hw extends Nr{constructor(e,t){super(e),this.image=t}}class oc extends Ho{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=i0(t,e,0);e=t[n]}return e}getImage(e,t,n,i){const o=this.getProjection();if(!o||!i||$t(o,i))return o&&(i=o),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&$t(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&Vi(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new dw(o,i,e,t,n,(a,s,l)=>this.getImageInternal(a,s,l,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,i){if(this.loader){const o=O0(e,t,n,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&an(this.wantedExtent_,o)||an(this.image.getExtent(),o))&&(this.wantedResolution_&&dd(this.wantedResolution_)===a||dd(this.image.getResolution())===a)))return this.image;this.wantedProjection_=i,this.wantedExtent_=o,this.wantedResolution_=a,this.image=new Wl(o,a,n,this.loader),this.image.addEventListener(Oe.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Ct.LOADING:this.loading=!0,n=au.IMAGELOADSTART;break;case Ct.LOADED:this.loading=!1,n=au.IMAGELOADEND;break;case Ct.ERROR:this.loading=!1,n=au.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new hw(n,t))}}function D0(r,e){r.getImage().src=e}function O0(r,e,t,n){const i=e/t,o=Gn(r),a=ii(Xt(r)/i,ai),s=ii(Dn(r)/i,ai),l=ii((n-1)*a/2,ai),c=a+2*l,u=ii((n-1)*s/2,ai),d=s+2*u;return gl(o,i,0,[c,d])}const Tl="1.3.0",Ug=[101,101];function R0(r,e,t,n,i){i.WIDTH=t[0],i.HEIGHT=t[1];const o=n.getAxisOrientation(),a=Jl(i.VERSION,"1.3")>=0;i[a?"CRS":"SRS"]=n.getCode();const s=a&&o.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e;return i.BBOX=s.join(","),qa(r,i)}function F0(r,e,t,n,i,o,a){o=Object.assign({REQUEST:"GetMap"},o);const s=e/t,l=[hg(Xt(r)/s,ai),hg(Dn(r)/s,ai)];if(t!=1)switch(a){case"geoserver":const c=90*t+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+c:o.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":o.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":o.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return R0(i,r,l,n,o)}function Cl(r,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:Tl,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},r)}function pw(r){const e=r.hidpi===void 0?!0:r.hidpi,t=ve(r.projection||"EPSG:3857"),n=r.ratio||1.5,i=r.load||Ql,o=r.crossOrigin??null;return(a,s,l)=>{a=O0(a,s,l,n),l!=1&&(!e||r.serverType===void 0)&&(l=1);const c=F0(a,s,l,t,r.url,Cl(r.params,"GetMap"),r.serverType),u=new Image;return u.crossOrigin=o,i(u,c).then(d=>({image:d,extent:a,pixelRatio:l}))}}function gw(r,e,t){if(r.url===void 0)return;const n=ve(r.projection||"EPSG:3857"),i=gl(e,t,0,Ug),o={QUERY_LAYERS:r.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,Cl(r.params,"GetFeatureInfo"),r.params);const a=ko((e[0]-i[0])/t,ai),s=ko((i[3]-e[1])/t,ai),l=Jl(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=a,o[l?"J":"Y"]=s,R0(r.url,i,Ug,n,o)}function fw(r,e){if(r.url===void 0)return;const t={SERVICE:"WMS",VERSION:Tl,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e!==void 0){const n=ve(r.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;t.SCALE=e*n/i}if(Object.assign(t,r.params),r.params!==void 0&&t.LAYER===void 0){const n=t.LAYERS;if(!(!Array.isArray(n)||n.length!==1))return;t.LAYER=n}return qa(r.url,t)}class Nh extends ic{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=Ia(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,i){const o=ve(n),a=this.getProjection()||o;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(a));const l=On(e,o,a),c=Qd(a,o,e,t),u=s.getZForResolution(c,this.zDirection),d=s.getResolution(u),h=s.getTileCoordForCoordAndZ(l,u);if(s.getResolutions().length<=h[0])return;let p=s.getTileCoordExtent(h,this.tmpExtent_);const f=this.gutter_;f!==0&&(p=ui(p,d*f,p));const y={QUERY_LAYERS:this.params_.LAYERS};Object.assign(y,Cl(this.params_,"GetFeatureInfo"),i);const m=Math.floor((l[0]-p[0])/d),b=Math.floor((p[3]-l[1])/d);return y[this.v13_?"I":"X"]=m,y[this.v13_?"J":"Y"]=b,this.getRequestUrl_(h,p,1,a||o,y)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const n={SERVICE:"WMS",VERSION:Tl,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;n.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,o=28e-5;n.SCALE=e*i/o}return Object.assign(n,t),qa(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,i,o){const a=this.urls;if(!a)return;let s;if(a.length==1)s=a[0];else{const l=t0(Bm(e),a.length);s=a[l]}return F0(t,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),n,i,s,o,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}setParams_(e){this.params_=e,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(e){this.setParams_(Object.assign({},e))}updateParams(e){this.setParams_(Object.assign(this.params_,e))}updateV13_(){const e=this.params_.VERSION||Tl;this.v13_=Jl(e,"1.3")>=0}tileUrlFunction(e,t,n){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),i.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const o=i.getResolution(e[0]);let a=i.getTileCoordExtent(e,this.tmpExtent_);const s=this.gutter_;s!==0&&(a=ui(a,o*s,a));const l=Object.assign({},Cl(this.params_,"GetMap"));return this.getRequestUrl_(e,a,t,n,l)}}class Dh extends oc{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:D0,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,i){const o=ve(n),a=this.getProjection();a&&a!==o&&(t=Qd(a,o,e,t),e=On(e,o,a));const s={url:this.url_,params:{...this.params_,...i},projection:a||o};return gw(s,e,t)}getLegendUrl(e,t){return fw({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,i){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==i)&&(this.loaderProjection_=i,this.loader=pw({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(o,a)=>(this.image.setImage(o),this.imageLoadFunction_(this.image,a),Ql(o))})),super.getImageInternal(e,t,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}setParams(e){this.params_=Object.assign({},e),this.changed()}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const mw="EPSG:3857";function Oh(){return Math.floor(Math.random()*9999999)}function j0(r,e){const t={...r},n={},i=["STYLES","TIME","CRS"];return Object.keys(e).forEach(o=>{n[o.toUpperCase()]=e[o]}),i.forEach(o=>{e[o]&&(t[o]=e[o])}),t}function q0(r){let e={};return e=Object.assign({CACHEID:Oh(),FORMAT:r.format||"image/png",LAYERS:r.layers,VERSION:r.version,TRANSPARENT:r.transparent,SINGLETILE:r.singleTile,CQL_FILTER:r.cqlFilter},r.singleTile?{}:{WIDTH:r.tilesize,HEIGHT:r.tilesize}),e=j0(e,r),e}function hd({isSecured:r}){return async(e,t)=>{try{const n=await fetch(t,{credentials:r?"include":"omit"}),i=await n.blob();e.getImage().src=URL.createObjectURL(i)}catch(n){console.error(n.message),e.getImage().src=t}}}function z0(r,e,t={}){const n=q0(r),i=r.crs?ve(r.crs):void 0;let o=null,a={};return r.TIME&&r.TIME.toString()==="[object Promise]"&&(n.TIME=new Date().toISOString()),r.singleTile?(a={url:r.url,params:n,serverType:r.serverType,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{imageLoadFunction:hd(r)})),new Dh(a)):(e&&e.resolutions&&(o=new no({resolutions:e.resolutions,origin:e.origin?e.origin:void 0,tileSize:parseInt(r.tilesize,10)})),a={url:r.url,params:n,gutter:r.gutter||0,tileGrid:o,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{tileLoadFunction:hd(r)})),new Nh(a))}function yw(r={},{layerParams:e={},options:t={}}={}){const n=z0(r,t,e),i=r.singleTile?os:ro;return n.set("olcs_projection",ve(mw)),new i(Object.assign({source:n,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,id:r.id,extent:r.extent},e))}function vw(r){const e=r.getSource().getParams().SESSIONID;let t=e;for(;e===t;)t=Oh();return r.getSource().updateParams({SESSIONID:t}),t}function kw(r,e,t){const n=yi.getLayerWhere({Id:r.get("id")}),i=e.getView().getResolution(),o=e.getView().getProjection(),a=Object.assign({INFO_FORMAT:n&&n.infoFormat||"text/xml"},n&&typeof n.featureCount<"u"?{FEATURE_COUNT:n.featureCount}:{});return r.getSource().getFeatureInfoUrl(t,i,o,a)}const bw=Object.freeze(Object.defineProperty({__proto__:null,addOptionalParams:j0,createLayer:yw,createLayerSource:z0,defaultLoadFunction:hd,generateSessionId:Oh,getGfiURL:kw,makeParams:q0,updateSource:vw},Symbol.toStringTag,{value:"Module"}));class ac extends ic{constructor(e){const t=e.requestEncoding!==void 0?e.requestEncoding:"KVP",n=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=I0(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=ud(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join(`
`);this.setTileUrlFunction(ud(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t=="KVP"&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t=="KVP"?qa(e,n):e.replace(/\{(\w+?)\}/g,function(a,s){return s.toLowerCase()in n?n[s.toLowerCase()]:a});const i=this.tileGrid,o=this.dimensions_;return(function(a,s,l){if(!a)return;const c={TileMatrix:i.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(c,o);let u=e;return t=="KVP"?u=qa(u,c):u=u.replace(/\{(\w+?)\}/g,function(d,h){return encodeURIComponent(c[h])}),u})}}function xw(r,e){const t=r.Contents.Layer?.find(function($){return $.Identifier==e.layer});if(!t)return null;const n=r.Contents.TileMatrixSet;let i;t.TileMatrixSetLink.length>1?"projection"in e?i=t.TileMatrixSetLink.findIndex(function($){const q=n.find(function(H){return H.Identifier==$.TileMatrixSet}).SupportedCRS,te=ve(q),S=ve(e.projection);return te&&S?$t(te,S):q==e.projection}):i=t.TileMatrixSetLink.findIndex(function($){return $.TileMatrixSet==e.matrixSet}):i=0,i<0&&(i=0);const o=t.TileMatrixSetLink[i].TileMatrixSet,a=t.TileMatrixSetLink[i].TileMatrixSetLimits;let s=t.Format[0];"format"in e&&(s=e.format),i=t.Style.findIndex(function($){return"style"in e?$.Title==e.style:$.isDefault}),i<0&&(i=0);const l=t.Style[i].Identifier,c={};"Dimension"in t&&t.Dimension.forEach(function($,q,te){const S=$.Identifier;let H=$.Default;H===void 0&&(H=$.Value[0]),c[S]=H});const u=r.Contents.TileMatrixSet.find(function($){return $.Identifier==o});let d;const h=u.SupportedCRS;if(h&&(d=ve(h)),"projection"in e){const $=ve(e.projection);$&&(!d||$t($,d))&&(d=$)}let p=!1;const f=d.getAxisOrientation().startsWith("ne");let y=u.TileMatrix[0],m={MinTileCol:0,MinTileRow:0,MaxTileCol:y.MatrixWidth-1,MaxTileRow:y.MatrixHeight-1};if(a){m=a[a.length-1];const $=u.TileMatrix.find(q=>q.Identifier===m.TileMatrix||u.Identifier+":"+q.Identifier===m.TileMatrix);$&&(y=$)}const b=t.BoundingBox?.find($=>ve($.crs)&&$t(ve($.crs),d)),k=y.ScaleDenominator*28e-5/d.getMetersPerUnit(),C=f?[y.TopLeftCorner[1],y.TopLeftCorner[0]]:y.TopLeftCorner,T=y.TileWidth*k,E=y.TileHeight*k;let R=b?.extent??u.BoundingBox;R&&f&&(R=[R[1],R[0],R[3],R[2]]);let F=[C[0]+T*m.MinTileCol,C[1]-E*(1+m.MaxTileRow),C[0]+T*(1+m.MaxTileCol),C[1]-E*m.MinTileRow];if(R!==void 0&&!an(R,F)){const $=t.WGS84BoundingBox,q=ve("EPSG:4326").getExtent();if(F=R,$)p=$[0]===q[0]&&$[2]===q[2];else{const te=Di(R,u.SupportedCRS,"EPSG:4326");p=te[0]-1e-10<=q[0]&&te[2]+1e-10>=q[2]}}const le=iw(u,F,a),oe=[];let ge=e.requestEncoding;if(ge=ge!==void 0?ge:"","OperationsMetadata"in r&&"GetTile"in r.OperationsMetadata){const $=r.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let q=0,te=$.length;q<te;++q)if($[q].Constraint){const S=$[q].Constraint.find(function(H){return H.name=="GetEncoding"}).AllowedValues.Value;if(ge===""&&(ge=S[0]),ge==="KVP")S.includes("KVP")&&oe.push($[q].href);else break}else $[q].href&&(ge="KVP",oe.push($[q].href))}return oe.length===0&&(ge="REST",t.ResourceURL.forEach(function($){$.resourceType==="tile"&&(s=$.format,oe.push($.template))})),{urls:oe,layer:e.layer,matrixSet:o,format:s,projection:d,requestEncoding:ge,tileGrid:le,style:l,dimensions:c,wrapX:p,crossOrigin:e.crossOrigin}}const pr=[null,"http://www.opengis.net/ows/1.1"],ww=we(pr,{ServiceIdentification:A(Zw),ServiceProvider:A(Ww),OperationsMetadata:A(Vw)});class _w extends dh{constructor(){super()}readFromNode(e){return ie({},ww,e,[])||null}}const Tw=we(pr,{DeliveryPoint:A(ue),City:A(ue),AdministrativeArea:A(ue),PostalCode:A(ue),Country:A(ue),ElectronicMailAddress:A(ue)}),Cw=we(pr,{Value:Ze(Kw)}),Ew=we(pr,{AllowedValues:A(jw)}),Mw=we(pr,{Phone:A(Hw),Address:A(Fw)}),Sw=we(pr,{HTTP:A(Gw)}),Lw=we(pr,{Get:Ze(Uw),Post:void 0}),Iw=we(pr,{DCP:A($w)}),Aw=we(pr,{Operation:Bw}),Pw=we(pr,{Voice:A(ue),Facsimile:A(ue)}),Nw=we(pr,{Constraint:Ze(qw)}),Dw=we(pr,{IndividualName:A(ue),PositionName:A(ue),ContactInfo:A(zw)}),Ow=we(pr,{Abstract:A(ue),AccessConstraints:A(ue),Fees:A(ue),Title:A(ue),ServiceTypeVersion:A(ue),ServiceType:A(ue)}),Rw=we(pr,{ProviderName:A(ue),ProviderSite:A(Vo),ServiceContact:A(Yw)});function Fw(r,e){return ie({},Tw,r,e)}function jw(r,e){return ie({},Cw,r,e)}function qw(r,e){const t=r.getAttribute("name");if(t)return ie({name:t},Ew,r,e)}function zw(r,e){return ie({},Mw,r,e)}function $w(r,e){return ie({},Sw,r,e)}function Uw(r,e){const t=Vo(r);if(t)return ie({href:t},Nw,r,e)}function Gw(r,e){return ie({},Lw,r,e)}function Bw(r,e){const t=r.getAttribute("name"),n=ie({},Iw,r,e);if(!n)return;const i=e[e.length-1];i[t]=n}function Vw(r,e){return ie({},Aw,r,e)}function Hw(r,e){return ie({},Pw,r,e)}function Zw(r,e){return ie({},Ow,r,e)}function Yw(r,e){return ie({},Dw,r,e)}function Ww(r,e){return ie({},Rw,r,e)}function Kw(r,e){return ue(r)}const vn=[null,"http://www.opengis.net/wmts/1.0"],Ko=[null,"http://www.opengis.net/ows/1.1"],Qw=we(vn,{Contents:A(l_)});class Xw extends dh{constructor(){super(),this.owsParser_=new _w}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let n=this.owsParser_.readFromNode(e);return n?(n.version=t,n=ie(n,Qw,e,[]),n||null):null}}const Jw=we(vn,{Layer:Ze(c_),TileMatrixSet:Ze(u_)}),e_=we(vn,{Style:Ze(d_),Format:Ze(ue),TileMatrixSetLink:Ze(h_),Dimension:Ze(p_),ResourceURL:Ze(g_)},we(Ko,{Title:A(ue),Abstract:A(ue),WGS84BoundingBox:A(U0),BoundingBox:Ze(f_),Identifier:A(ue)})),t_=we(vn,{LegendURL:Ze(m_)},we(Ko,{Title:A(ue),Identifier:A(ue)})),r_=we(vn,{TileMatrixSet:A(ue),TileMatrixSetLimits:A(v_)}),n_=we(vn,{TileMatrixLimits:xe(k_)}),i_=we(vn,{TileMatrix:A(ue),MinTileRow:A(Ut),MaxTileRow:A(Ut),MinTileCol:A(Ut),MaxTileCol:A(Ut)}),o_=we(vn,{Default:A(ue),Value:Ze(ue)},we(Ko,{Identifier:A(ue)})),$0=we(Ko,{LowerCorner:xe(pd),UpperCorner:xe(pd)}),a_=we(vn,{WellKnownScaleSet:A(ue),TileMatrix:Ze(y_)},we(Ko,{SupportedCRS:A(ue),Identifier:A(ue),BoundingBox:A(U0)})),s_=we(vn,{TopLeftCorner:A(pd),ScaleDenominator:A(Ii),TileWidth:A(Ut),TileHeight:A(Ut),MatrixWidth:A(Ut),MatrixHeight:A(Ut)},we(Ko,{Identifier:A(ue)}));function l_(r,e){return ie({},Jw,r,e)}function c_(r,e){return ie({},e_,r,e)}function u_(r,e){return ie({},a_,r,e)}function d_(r,e){const t=ie({},t_,r,e);if(!t)return;const n=r.getAttribute("isDefault")==="true";return t.isDefault=n,t}function h_(r,e){return ie({},r_,r,e)}function p_(r,e){return ie({},o_,r,e)}function g_(r,e){const t=r.getAttribute("format"),n=r.getAttribute("template"),i=r.getAttribute("resourceType"),o={};return t&&(o.format=t),n&&(o.template=n),i&&(o.resourceType=i),o}function U0(r,e){const t=ie([],$0,r,e);if(t.length==2)return Yt(t)}function f_(r,e){const t=r.getAttribute("crs"),n=ie([],$0,r,e);if(n.length==2)return{extent:Yt(n),crs:t}}function m_(r,e){const t={};return t.format=r.getAttribute("format"),t.href=Vo(r),t}function pd(r,e){const t=ue(r).split(/\s+/);if(!t||t.length!=2)return;const n=+t[0],i=+t[1];if(!(isNaN(n)||isNaN(i)))return[n,i]}function y_(r,e){return ie({},s_,r,e)}function v_(r,e){return ie([],n_,r,e)}function k_(r,e){return ie({},i_,r,e)}function El(r,e){console.error("content: Layer "+e+": "+r)}function G0(r,e,t,n){for(let i=0;i<t;++i)r[i]=n/Math.pow(2,i),e[i]=i}function B0(r){return fetch(r).then(e=>{if(e&&e.status===200)return e.text();throw console.error(e),new Error(`Failing WMTS request to ${r}. Status: ${e?.status}`)}).then(e=>new Xw().read(e))}function V0(r,e){const t=ve(r.coordinateSystem),n=t.getExtent(),i=r.style,o=r.format,a=r.wrapX?r.wrapX:!1,s=r.urls,l=n?Xt(n)/parseInt(r.tileSize,10):null,c=parseInt(r.resLength,10),u=new Array(c),d=new Array(c),h=new ac({projection:t,attributions:r.olAttribution,tileGrid:new A0({origin:r.origin,resolutions:u,matrixIds:d,tileSize:r.tileSize}),tilePixelRatio:ih,urls:s,matrixSet:r.tileMatrixSet,matrixSizes:r.matrixSizes,layer:r.layers,format:o,style:i,version:r.version,transparent:r.transparent.toString(),wrapX:a,requestEncoding:r.requestEncoding,scales:r.scales});l?G0(u,d,c,l):El(r.name,`${t.getCode()} has been given as projection to wmts.js for layer with id ${r.id}, but only "EPSG:4326" and "EPSG:3857" are supported. Please use the "capabilitiesUrl" and "optionsFromCapabilities" configuration parameters on this layer.`),h.matrixSizes=r.matrixSizes,h.scales=r.scales,e.setSource(h),e.getSource().refresh()}function H0(r,e){const t=r.layers,n=r.capabilitiesUrl,i=r.tileMatrixSet,o=r.format,a={layer:t,format:o};i&&i.length>0?a.matrixSet=i:a.projection="EPSG:3857",B0(n).then(s=>{const l=xw(s,a),c=s.Contents.TileMatrixSet.filter(h=>h.Identifier===l.matrixSet)[0],u=[],d=[];if(c.TileMatrix.forEach(({MatrixHeight:h,MatrixWidth:p,ScaleDenominator:f})=>{u.push([p,h]),d.push(f)}),l!==null){const h=new ac(l);h.matrixSizes=u,h.scales=d,e.set("options",l),e.setSource(h),e.getSource().refresh()}else{const h="Cannot get options from WMTS-Capabilities";throw El(h,r.name||r.id),new Error(h)}}).catch(s=>{s!=="Fetch error"&&El(s,r.name||r.id)})}function b_(r,e={}){const t=new ro(Object.assign({id:r.id,source:new ac({}),name:r.name,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,supported:["2D","3D"],showSettings:!0,extent:null,typ:r.typ,legendURL:r.legendURL,infoFormat:r.infoFormat},e));return!r.optionsFromCapabilities||!r.capabilitiesUrl?V0(r,t):H0(r,t),t}const x_={createLayer:b_,createLayerSourceByCapabilities:H0,createLayerSourceByDefinitions:V0,getWMTSCapabilities:B0,generateArrays:G0,showErrorMessage:El},gd=65536*65536,Gg=1/gd,w_=12,Bg=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),su=0,Ps=1,ca=2,Ns=5;class __{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const i=this.readVarint(),o=i>>3,a=this.pos;this.type=i&7,e(o,t,this),this.pos===a&&this.skip(i)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*gd;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*gd;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,i;return i=t[this.pos++],n=i&127,i<128||(i=t[this.pos++],n|=(i&127)<<7,i<128)||(i=t[this.pos++],n|=(i&127)<<14,i<128)||(i=t[this.pos++],n|=(i&127)<<21,i<128)?n:(i=t[this.pos],n|=(i&15)<<28,T_(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=w_&&Bg?Bg.decode(this.buf.subarray(t,e)):j_(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===ca?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===su)for(;this.buf[this.pos++]>127;);else if(t===ca)this.pos=this.readVarint()+this.pos;else if(t===Ns)this.pos+=4;else if(t===Ps)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gg),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gg),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){E_(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=q_(this.buf,e,this.pos);const n=this.pos-t;n>=128&&Vg(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const i=this.pos-n;i>=128&&Vg(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i}writeMessage(e,t,n){this.writeTag(e,ca),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,L_,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,I_,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,N_,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,A_,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,P_,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,D_,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,O_,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,R_,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,F_,t)}writeBytesField(e,t){this.writeTag(e,ca),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,Ns),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,Ns),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,Ps),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,Ps),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,su),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,su),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,ca),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,Ns),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,Ps),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function T_(r,e,t){const n=t.buf;let i,o;if(o=n[t.pos++],i=(o&112)>>4,o<128||(o=n[t.pos++],i|=(o&127)<<3,o<128)||(o=n[t.pos++],i|=(o&127)<<10,o<128)||(o=n[t.pos++],i|=(o&127)<<17,o<128)||(o=n[t.pos++],i|=(o&127)<<24,o<128)||(o=n[t.pos++],i|=(o&1)<<31,o<128))return C_(r,i,e);throw new Error("Expected varint not more than 10 bytes")}function C_(r,e,t){return t?e*4294967296+(r>>>0):(e>>>0)*4294967296+(r>>>0)}function E_(r,e){let t,n;if(r>=0?(t=r%4294967296|0,n=r/4294967296|0):(t=~(-r%4294967296),n=~(-r/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),M_(t,n,e),S_(n,e)}function M_(r,e,t){t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos]=r&127}function S_(r,e){const t=(r&7)<<4;e.buf[e.pos++]|=t|((r>>>=3)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127)))))}function Vg(r,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let i=t.pos-1;i>=r;i--)t.buf[i+n]=t.buf[i]}function L_(r,e){for(let t=0;t<r.length;t++)e.writeVarint(r[t])}function I_(r,e){for(let t=0;t<r.length;t++)e.writeSVarint(r[t])}function A_(r,e){for(let t=0;t<r.length;t++)e.writeFloat(r[t])}function P_(r,e){for(let t=0;t<r.length;t++)e.writeDouble(r[t])}function N_(r,e){for(let t=0;t<r.length;t++)e.writeBoolean(r[t])}function D_(r,e){for(let t=0;t<r.length;t++)e.writeFixed32(r[t])}function O_(r,e){for(let t=0;t<r.length;t++)e.writeSFixed32(r[t])}function R_(r,e){for(let t=0;t<r.length;t++)e.writeFixed64(r[t])}function F_(r,e){for(let t=0;t<r.length;t++)e.writeSFixed64(r[t])}function j_(r,e,t){let n="",i=e;for(;i<t;){const o=r[i];let a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>t)break;let l,c,u;s===1?o<128&&(a=o):s===2?(l=r[i+1],(l&192)===128&&(a=(o&31)<<6|l&63,a<=127&&(a=null))):s===3?(l=r[i+1],c=r[i+2],(l&192)===128&&(c&192)===128&&(a=(o&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(l=r[i+1],c=r[i+2],u=r[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(a=(o&15)<<18|(l&63)<<12|(c&63)<<6|u&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),i+=s}return n}function q_(r,e,t){for(let n=0,i,o;n<e.length;n++){if(i=e.charCodeAt(n),i>55295&&i<57344)if(o)if(i<56320){r[t++]=239,r[t++]=191,r[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||n+1===e.length?(r[t++]=239,r[t++]=191,r[t++]=189):o=i;continue}else o&&(r[t++]=239,r[t++]=191,r[t++]=189,o=null);i<128?r[t++]=i:(i<2048?r[t++]=i>>6|192:(i<65536?r[t++]=i>>12|224:(r[t++]=i>>18|240,r[t++]=i>>12&63|128),r[t++]=i>>6&63|128),r[t++]=i&63|128)}return t}class Rh extends ph{constructor(e){super(),e=e||{},this.dataProjection=new Dm({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:dr,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,i){e.pos=t.geometry;const o=e.readVarint()+e.pos;let a=1,s=0,l=0,c=0,u=0,d=0;for(;e.pos<o;){if(!s){const h=e.readVarint();a=h&7,s=h>>3}if(s--,a===1||a===2)l+=e.readSVarint(),c+=e.readSVarint(),a===1&&u>d&&(i.push(u),d=u),n.push(l,c),u+=2;else if(a===7)u>d&&(n.push(n[d],n[d+1]),u+=2);else throw new Error("Invalid command found in the PBF")}u>d&&(i.push(u),d=u)}createFeature_(e,t,n){const i=t.type;if(i===0)return null;let o;const a=t.properties;let s;this.idProperty_?(s=a[this.idProperty_],delete a[this.idProperty_]):s=t.id,a[this.layerName_]=t.layer.name;const l=[],c=[];this.readRawGeometry_(e,t,l,c);const u=B_(i,c.length);if(this.featureClass===dr)o=new this.featureClass(u,l,c,2,a,s),o.transform(n.dataProjection);else{let d;if(u=="Polygon"){const f=eb(l,c);d=f.length>1?new eo(l,"XY",f):new Zr(l,"XY",c)}else d=u==="Point"?new Bt(l,"XY"):u==="LineString"?new Vr(l,"XY"):u==="MultiPoint"?new Zo(l,"XY"):u==="MultiLineString"?new Ji(l,"XY",c):null;const h=this.featureClass;o=new h,this.geometryName_&&o.setGeometryName(this.geometryName_);const p=to(d,!1,n);o.setGeometry(p),s!==void 0&&o.setId(s),o.setProperties(a,!0)}return o}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_;t=this.adaptOptions(t);const i=ve(t.dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;const o=new __(e),a=o.readFields(z_,{}),s=[];for(const l in a){if(n&&!n.includes(l))continue;const c=a[l],u=c?[0,0,c.extent,c.extent]:null;i.setExtent(u);for(let d=0,h=c.length;d<h;++d){const p=G_(o,c,d),f=this.createFeature_(o,p,t);f!==null&&s.push(f)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function z_(r,e,t){if(r===3){const n={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields($_,n,i),n.length=n.features.length,n.length&&(e[n.name]=n)}}function $_(r,e,t){if(r===15)e.version=t.readVarint();else if(r===1)e.name=t.readString();else if(r===5)e.extent=t.readVarint();else if(r===2)e.features.push(t.pos);else if(r===3)e.keys.push(t.readString());else if(r===4){let n=null;const i=t.readVarint()+t.pos;for(;t.pos<i;)r=t.readVarint()>>3,n=r===1?t.readString():r===2?t.readFloat():r===3?t.readDouble():r===4?t.readVarint64():r===5?t.readVarint():r===6?t.readSVarint():r===7?t.readBoolean():null;e.values.push(n)}}function U_(r,e,t){if(r==1)e.id=t.readVarint();else if(r==2){const n=t.readVarint()+t.pos;for(;t.pos<n;){const i=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[i]=o}}else r==3?e.type=t.readVarint():r==4&&(e.geometry=t.pos)}function G_(r,e,t){r.pos=e.features[t];const n=r.readVarint()+r.pos,i={layer:e,type:0,properties:{}};return r.readFields(U_,i,n),i}function B_(r,e){let t;return r===1?t=e===1?"Point":"MultiPoint":r===2?t=e===1?"LineString":"MultiLineString":r===3&&(t="Polygon"),t}function Fh(r,e,t){let n,i,o;return typeof r=="string"?i=r:typeof r=="function"?n=r:typeof r=="object"&&(o=t.readFeatures(r,{dataProjection:"EPSG:4326",featureProjection:"EPSG:25832"})),new sr({loader:n,features:o,url:i,strategy:e,format:t})}function jh(r,e,t){return new is({source:r,distance:e,geometryFunction:t})}function V_(r,e){const t=["1.0.0","1.1.0","2.0.0"];let n=e.version||r.version;return t.includes(n)||(n=t[1],console.warn(`The "${r.typ}" layer with the id: "${r.id}" is configured in version: ${n}. OpenLayers accepts "${r.typ}" only in the versions: ${t}, It tries to load the layer with the id: "${r.id}" in version ${t[1]}!`)),n}function Co(r,e={},t){throw e.onLoadingError&&e.onLoadingError(r),t(r),Error(r)}function sc(r,e,t,n,i,o={}){let a=e;try{o.featuresFilter&&(a=o.featuresFilter(e)),r.addFeatures(a),o.afterLoading&&o.afterLoading(a),n(a)}catch(s){console.error(s),t(s,o,i)}}function Z0(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.status}`,t,n)}function H_(r){return{method:"POST",headers:{"Content-Type":"text/xml"},body:r}}function Y0(r,e,t,{onErrorFn:n,success:i,failure:o},a){const s=a?.loadingParams?.xhrParameters??{},l={...e,...s};fetch(r,l).then(c=>Z0(c,n,a,o)).then(c=>c.text()).then(c=>t.getFormat().readFeatures(c)).then(c=>sc(t,c,n,i,o,a)).catch(c=>{console.error(c)})}function Z_(r,e,t,{onErrorFn:n,success:i,failure:o},a){fetch(r).then(s=>Z0(s,n,a,o)).then(s=>s.text()).then(s=>Y0(e,H_(s),t,{onErrorFn:n,success:i,failure:o},a)).catch(s=>{console.error(s)})}function W0(r,e,t,n){const i=new URL(r.url);return i.searchParams.set("service","WFS"),i.searchParams.set("version",e),i.searchParams.set("request","GetFeature"),i.searchParams.set("srsName",t.getCode()),e==="1.0.0"||e==="1.1.0"?i.searchParams.set("typeName",r.featureType):e==="2.0.0"&&i.searchParams.set("typeNames",r.featureType),`${i.toString()}${n}`}function fd(r,e={}){e.loadingStrategy||(e.loadingStrategy=To);const t=V_(r,e),n=new xh({featureNS:r.featureNS,version:t});let i=null;function o(a,s,l,c,u){if(e.doNotLoadInitially)sc(i,[],Co,c,u,e);else if(e.wfsFilter)Z_(e.wfsFilter,r.url,i,{onErrorFn:Co,success:c,failure:u},e);else{const d=e.loadingStrategy===To?`&bbox=${a.join(",")},${l.getCode()}`:"";let h=W0(r,t,l,d);if(e.loadingParams)for(const p in e.loadingParams){if(p==="xhrParameters")continue;const f=Array.isArray(e.loadingParams[p])?e.loadingParams[p].join(","):e.loadingParams[p];f!==void 0&&p==="bbox"?h+=`&${p}=${f},${l.getCode()}`:f!==void 0&&(h+=`&${p}=${f}`)}Y0(h,{},i,{onErrorFn:Co,success:c,failure:u},e)}}return n.featureType=r.featureType,i=Fh(o,e.loadingStrategy,n),e.beforeLoading&&i.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?jh(i,r.clusterDistance,e.clusterGeometryFunction):(r.renderer==="webgl"&&(e.loadingStrategy===To?i.on("featuresloadend",a=>{No(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}):i.once("featuresloadend",a=>{No(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)})),i)}function Y_(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=fd({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Yl({...r,...e,source:i}),n):(i=fd(r,t),n=new lr(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function W_(r,e){if(r==="2.0.0"){const t=new DOMParser,n=t.parseFromString(e,"application/xml");return n.querySelectorAll("Filter").forEach(i=>{const o=n.createElementNS("http://www.opengis.net/fes/2.0","fes:Filter");for(;i.firstChild;){const a=i.firstChild;if(a.nodeType===1&&a.localName==="FeatureId"){const s=a.getAttribute("fid"),l=n.createElementNS("http://www.opengis.net/fes/2.0","fes:ResourceId");l.setAttribute("rid",s),o.appendChild(l),i.removeChild(a)}else o.appendChild(a)}i.parentNode.replaceChild(o,i)}),new XMLSerializer().serializeToString(n)}return e}function K0(r,e,t,n="1.1.0"){const i={insert:0,selectedUpdate:1,delete:2},o=[[],[],[]];if(t!=="insert"&&t!=="delete"&&t!=="selectedUpdate")throw new Error('transactionMethod has to be "insert", "selectedUpdate" or "delete".');return o[i[t]].push(r),W_(n,new XMLSerializer().serializeToString(new xh({version:n}).writeTransaction(...o,e)))}function K_(r){const e={code:null,message:"genericFailedTransaction"},t=r.getElementsByTagName(`${r.getElementsByTagName("Exception").length===0?"ows:":""}Exception`)[0],n=t.getElementsByTagName(`${r.getElementsByTagName("ExceptionText").length===0?"ows:":""}ExceptionText`)[0];return n!==void 0?(e.message=n.textContent,console.error("WfsTransaction: An error occurred when sending the transaction to the service.",n.textContent)):(e.message="WfsTransaction: An unkown error occurred when sending the transaction to the service.",console.error(e.message)),(t?.attributes.getNamedItem("code")||t?.attributes.getNamedItem("exceptionCode"))&&(e.code=t.attributes.getNamedItem(`${t?.attributes.getNamedItem("code")?"c":"exceptionC"}ode`).textContent),e}async function Q_(r,e,t,n,i){let o,a,s=null,l=null,c=null;const u=new URL(t),{featureNS:d,featurePrefix:h,featureType:p,version:f}=n;try{if(a=await fetch(u,{method:"POST",headers:{"Content-Type":"text/xml"},credentials:n.isSecured?"include":"omit",body:K0(e,{featureNS:d,featurePrefix:h,featureType:p,version:f,srsName:r},i,f),responseType:"text"}),c=await a.text(),s=new DOMParser().parseFromString(c,"text/xml"),l=s.getElementsByTagName("wfs:TransactionSummary"),l.length===0&&(l=s.getElementsByTagName("TransactionSummary")),l.length===0)throw o=K_(s),new Error(o.code?o.code+": "+o.message:o.message)}catch(y){throw console.error(y),y}return e}function Q0(r,e){const t=new DOMParser().parseFromString(r,"application/xml");let n="",i=null;if(t.getElementsByTagName("xsd:element").length>0?n="xsd:":t.getElementsByTagName("xs:element").length>0&&(n="xs"),i=Object.values(t.getElementsByTagName(n+"element")).find(o=>o.getAttribute("name")===e),i){let o;i.hasChildNodes()?o=Object.values(i.getElementsByTagName(n+"sequence")):o=Object.values(t.getElementsByTagName(n+"sequence"));const a=[];return o.forEach(s=>{a.push(...Object.values(s.getElementsByTagName(n+"element")))}),a.map(s=>Object.values(s.attributes).reduce((l,c)=>{if(c.localName==="minOccurs")l.required=c.value==="1";else if(c.localName==="type")if(c.value.trim().startsWith("gml"))l.type="geometry";else{let u=c.value;switch(n.length>0&&(u=u.replace(n,"")),u){case"long":l.type="integer";break;default:l.type=u}}else c.localName==="name"&&(l.label=l.key=c.value);return l},{label:"",key:"",value:null,type:"string",required:!0}))}return[]}function X0(r,e,t){const n=new URL(decodeURI(r));return n.searchParams.set("SERVICE","WFS"),n.searchParams.set("REQUEST","DescribeFeatureType"),n.searchParams.set("TYPENAME",t),!n.searchParams.has("VERSION")&&!n.searchParams.has("version")&&n.searchParams.set("VERSION",e),n}async function X_(r,e,t,n){const i=X0(r,e,t);let o=null;try{return o=await fetch(i,{responseType:"text/xml",credentials:n?"include":"omit"}),Q0(await o.text(),t)}catch(a){throw console.error(a),a}}function J_(r,e){const t=W0(r,r.version,{getCode:()=>r.crs},"");fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const e5={createLayerSource:fd,createLayer:Y_,createReceivePossiblePropertiesUrl:X0,sendTransaction:Q_,receivePossibleProperties:X_,parseDescribeFeatureTypeResponse:Q0,writeTransactionBody:K0,loadFeaturesManually:J_};function md({url:r,features:e,clusterDistance:t,renderer:n,styleId:i,excludeTypesFromParsing:o,isPointLayer:a},s){const l=new ja;let c=null;return c=Fh(r||e,s.loadingStrategy,l),typeof t=="number"&&(c=jh(c,t,s.clusterGeometryFunction)),(typeof t=="number"?c.getSource():c).once("featuresloadend",u=>{typeof s.afterLoading=="function"&&s.afterLoading(u?.features)}),n==="webgl"&&(e?.length>0&&No(c.getFeatures(),i,o,a),c.once("featuresloadend",u=>{No(u?.features,i,o,a)})),c}function t5(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=md({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Yl({...r,...e,source:i}),n):(i=md(r,t),n=new lr(Object.assign({id:r.id,source:i},e)),t.style?n.setStyle(t.style):r.style?n.setStyle(r.style):n.setStyle(Ab),n)}function r5(r){r.getSource().refresh(),r.get("renderer")==="webgl"&&r.getSource().once("featuresloadend",e=>{No(e?.features,r.get("styleId"),r.get("excludeTypesFromParsing"),r.get("isPointLayer"))})}function lc(r,e){r.forEach(t=>t.setStyle(e))}function J0(r){lc(r.getSource().getFeatures(),()=>null)}function n5(r){lc(r.getSource().getFeatures(),void 0)}function i5(r,e){const t=r.getSource().getFeatures().filter(n=>e.indexOf(n.getId())>=0);J0(r),lc(t,void 0)}function o5(r,e){const t=r.url;fetch(t,e).then(n=>n.text()).then(n=>{const i=e.getFormat().readFeatures(n);e.addFeatures(i),e.dispatchEvent({type:"featuresloadend",features:e.getFeatures()})}).catch(n=>{console.error(n)})}const a5=Object.freeze(Object.defineProperty({__proto__:null,createLayer:t5,createLayerSource:md,hideAllFeatures:J0,loadFeaturesManually:o5,setCustomStyles:Lb,setFeatureStyle:lc,showAllFeatures:n5,showFeaturesById:i5,updateSource:r5},Symbol.toStringTag,{value:"Module"}));class cc extends nc{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||as(t),i=e.tileGrid||Ah({extent:n,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:e1,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:_b,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===at.IDLE){n.setState(at.LOADING);const i=n.wrappedTileCoord,o=this.getTileGridForProjection(t);let a=o.getTileCoordExtent(i);const s=i[0],l=o.getResolution(s);ui(a,-l,a);const c=this.projection;t&&this.projection&&!$t(t,c)&&(a=Di(a,t,c));const u=this.tileGrid,d=u.getExtent();d&&Zl(a,d,a);let h=l;t&&c&&!$t(t,c)&&(h=l/c.getMetersPerUnit()/t.getMetersPerUnit());const p=u.getZForResolution(h,this.zDirection);u.forEachTileCoord(a,p,f=>{const y=this.tileUrlFunction(f,e,t);this.sourceTiles_[y]||(this.sourceTiles_[y]=new this.tileClass(f,y?at.IDLE:at.EMPTY,y,this.format_,this.tileLoadFunction));const m=this.sourceTiles_[y];n.sourceTiles.push(m),this.tileKeysBySourceTileUrl_[y]||(this.tileKeysBySourceTileUrl_[y]=[]),this.tileKeysBySourceTileUrl_[y].push(n.getKey());const b=m.getState();if(b<at.LOADED){const k=C=>{this.handleTileChange(C);const T=m.getState();if(T===at.LOADED||T===at.ERROR){const E=m.getKey();E in n.errorTileKeys?m.getState()===at.LOADED&&delete n.errorTileKeys[E]:n.loadingSourceTiles--,T===at.ERROR?n.errorTileKeys[E]=!0:m.removeEventListener(Oe.CHANGE,k),n.loadingSourceTiles===0&&n.setState(Ra(n.errorTileKeys)?at.LOADED:at.ERROR)}};m.addEventListener(Oe.CHANGE,k),n.loadingSourceTiles++}b===at.IDLE&&(m.extent=u.getTileCoordExtent(f),m.projection=this.projection,m.resolution=u.getResolution(f[0]),m.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(f=>f.getState()===at.ERROR)?at.ERROR:at.LOADED)}return n.sourceTiles}removeSourceTiles(e){const t=e.getKey(),n=e.sourceTiles;for(let i=0,o=n.length;i<o;++i){const a=n[i].getTileUrl();if(!this.tileKeysBySourceTileUrl_[a])return;const s=this.tileKeysBySourceTileUrl_[a].indexOf(t);s!==-1&&(this.tileKeysBySourceTileUrl_[a].splice(s,1),this.tileKeysBySourceTileUrl_[a].length===0&&(delete this.tileKeysBySourceTileUrl_[a],delete this.sourceTiles_[a]))}}getTile(e,t,n,i,o){const a=[e,t,n];let s=this.getTileCoordForTileUrlFunction(a,o);const l=this.getTileGrid().getExtent(),c=this.projection,u=this.getTileGridForProjection(o);if(s&&l){const p=u.getTileCoordExtent(s);ui(p,-u.getResolution(e),p),jo(l,!o||!c||$t(o,c)?p:Di(p,o,c))||(s=null)}let d=!0;if(s!==null){const p=this.tileGrid,f=u.getResolution(e);let y=f;o&&c&&!$t(o,c)&&(y=f/c.getMetersPerUnit()/o.getMetersPerUnit());const m=p.getZForResolution(y,1),b=u.getTileCoordExtent(s);ui(b,-f,b),p.forEachTileCoord(!o||!c||$t(o,c)?b:Di(b,o,c),m,k=>{d=d&&!this.tileUrlFunction(k,i,c)})}const h=new $x(a,d?at.EMPTY:at.IDLE,s,this.getSourceTiles.bind(this,i,o),this.removeSourceTiles.bind(this));return h.key=this.getKey(),h}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const i=this.projection;if(i!==null&&!$t(i,e))return rc(e);const o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(u,d){return o.getOrigin(d)}),l=a.map(function(u,d){return o.getTileSize(d)}),c=jm+1;for(let u=a.length;u<c;++u)a.push(a[u-1]/2),s.push(s[u-1]),l.push(l[u-1]);n=new no({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:l}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=oi(i.getTileSize(e),this.tmpSize);return[Math.round(o[0]*t),Math.round(o[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function e1(r,e){r.setLoader(function(t,n,i){c0(e,r.getFormat(),t,n,i,r.onLoad.bind(r),r.onError.bind(r))})}var s5=8,l5={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},c5={"*":{type:"source"}},u5=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],d5={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},h5={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},p5={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},g5={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},f5={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},m5={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},y5={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},v5=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],k5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},b5={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},x5={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},w5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_5={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},T5={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},C5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},E5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},M5={type:"array",value:"*"},S5={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},L5={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},I5={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},A5={type:"array",value:"*",minimum:1},P5={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},N5={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},D5={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},O5={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},R5=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],F5={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},j5={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},q5={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},z5={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},$5={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},U5={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},G5={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},B5={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},V5={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},H5={"*":{type:"string"}},Z5={$version:s5,$root:l5,sources:c5,source:u5,source_vector:d5,source_raster:h5,source_raster_dem:p5,source_geojson:g5,source_video:f5,source_image:m5,layer:y5,layout:v5,layout_background:k5,layout_fill:b5,layout_circle:x5,layout_heatmap:w5,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:_5,layout_symbol:T5,layout_raster:C5,layout_hillshade:E5,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:M5,filter_operator:S5,geometry_type:L5,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:I5,expression:A5,light:P5,sky:N5,terrain:D5,projection:O5,paint:R5,paint_fill:F5,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:j5,paint_circle:q5,paint_heatmap:z5,paint_symbol:$5,paint_raster:U5,paint_hillshade:G5,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:B5,transition:V5,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:H5};const Y5=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function W5(r,e){const t={};for(const n in r)n!=="ref"&&(t[n]=r[n]);return Y5.forEach(n=>{n in e&&(t[n]=e[n])}),t}function t1(r){r=r.slice();const e=Object.create(null);for(let t=0;t<r.length;t++)e[r[t].id]=r[t];for(let t=0;t<r.length;t++)"ref"in r[t]&&(r[t]=W5(r[t],e[r[t].ref]));return r}let nn=class extends Error{constructor(e,t){super(t),this.message=t,this.key=e}};class qh{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new qh(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const uc={kind:"null"},K={kind:"number"},Ne={kind:"string"},Ie={kind:"boolean"},dn={kind:"color"},dc={kind:"projectionDefinition"},Fi={kind:"object"},Se={kind:"value"},K5={kind:"error"},hc={kind:"collator"},pc={kind:"formatted"},gc={kind:"padding"},za={kind:"colorArray"},fc={kind:"numberArray"},ss={kind:"resolvedImage"},mc={kind:"variableAnchorOffsetCollection"};function yr(r,e){return{kind:"array",itemType:r,N:e}}function ht(r){if(r.kind==="array"){const e=ht(r.itemType);return typeof r.N=="number"?`array<${e}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${e}>`}else return r.kind}const Q5=[uc,K,Ne,Ie,dn,dc,pc,Fi,yr(Se),gc,fc,za,ss,mc];function $a(r,e){if(e.kind==="error")return null;if(r.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!$a(r.itemType,e.itemType))&&(typeof r.N!="number"||r.N===e.N))return null}else{if(r.kind===e.kind)return null;if(r.kind==="value"){for(const t of Q5)if(!$a(t,e))return null}}return`Expected ${ht(r)} but found ${ht(e)} instead.`}function zh(r,e){return e.some(t=>t.kind===r.kind)}function ji(r,e){return e.some(t=>t==="null"?r===null:t==="array"?Array.isArray(r):t==="object"?r&&!Array.isArray(r)&&typeof r=="object":t===typeof r)}function Kn(r,e){return r.kind==="array"&&e.kind==="array"?r.itemType.kind===e.itemType.kind&&typeof r.N=="number":r.kind===e.kind}const r1=.96422,n1=1,i1=.82521,o1=4/29,Eo=6/29,a1=3*Eo*Eo,X5=Eo*Eo*Eo,J5=Math.PI/180,e3=180/Math.PI;function s1(r){return r=r%360,r<0&&(r+=360),r}function l1([r,e,t,n]){r=lu(r),e=lu(e),t=lu(t);let i,o;const a=cu((.2225045*r+.7168786*e+.0606169*t)/n1);r===e&&e===t?i=o=a:(i=cu((.4360747*r+.3850649*e+.1430804*t)/r1),o=cu((.0139322*r+.0971045*e+.7141733*t)/i1));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),n]}function lu(r){return r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function cu(r){return r>X5?Math.pow(r,1/3):r/a1+o1}function c1([r,e,t,n]){let i=(r+16)/116,o=isNaN(e)?i:i+e/500,a=isNaN(t)?i:i-t/200;return i=n1*du(i),o=r1*du(o),a=i1*du(a),[uu(3.1338561*o-1.6168667*i-.4906146*a),uu(-.9787684*o+1.9161415*i+.033454*a),uu(.0719453*o-.2289914*i+1.4052427*a),n]}function uu(r){return r=r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055,r<0?0:r>1?1:r}function du(r){return r>Eo?r*r*r:a1*(r-o1)}function t3(r){const[e,t,n,i]=l1(r),o=Math.sqrt(t*t+n*n);return[Math.round(o*1e4)?s1(Math.atan2(n,t)*e3):NaN,o,e,i]}function r3([r,e,t,n]){return r=isNaN(r)?0:r*J5,c1([t,Math.cos(r)*e,Math.sin(r)*e,n])}function n3([r,e,t,n]){r=s1(r),e/=100,t/=100;function i(o){const a=(o+r/30)%12,s=e*Math.min(t,1-t);return t-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),n]}const i3=Object.hasOwn||function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};function u1(r,e){return i3(r,e)?r[e]:void 0}function o3(r){if(r=r.toLowerCase().trim(),r==="transparent")return[0,0,0,0];const e=u1(a3,r);if(e){const[i,o,a]=e;return[i/255,o/255,a/255,1]}if(r.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(r)){const i=r.length<6?1:2;let o=1;return[Ds(r.slice(o,o+=i)),Ds(r.slice(o,o+=i)),Ds(r.slice(o,o+=i)),Ds(r.slice(o,o+i)||"ff")]}if(r.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=r.match(i);if(o){const[a,s,l,c,u,d,h,p,f,y,m,b]=o,k=[c||" ",h||" ",y].join("");if(k==="  "||k==="  /"||k===",,"||k===",,,"){const C=[l,d,f].join(""),T=C==="%%%"?100:C===""?255:0;if(T){const E=[go(+s/T,0,1),go(+u/T,0,1),go(+p/T,0,1),m?Hg(+m,b):1];if(Zg(E))return E}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,n=r.match(t);if(n){const[i,o,a,s,l,c,u,d,h]=n,p=[a||" ",l||" ",u].join("");if(p==="  "||p==="  /"||p===",,"||p===",,,"){const f=[+o,go(+s,0,100),go(+c,0,100),d?Hg(+d,h):1];if(Zg(f))return n3(f)}}}function Ds(r){return parseInt(r.padEnd(2,r),16)/255}function Hg(r,e){return go(e?r/100:r,0,1)}function go(r,e,t){return Math.min(Math.max(e,r),t)}function Zg(r){return!r.some(Number.isNaN)}const a3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function qi(r,e,t){return r+t*(e-r)}function Ua(r,e,t){return r.map((n,i)=>qi(n,e[i],t))}let pt=class fo{constructor(e,t,n,i=1,o=!0){this.r=e,this.g=t,this.b=n,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof fo)return e;if(typeof e!="string")return;const t=o3(e);if(t)return new fo(...t,!1)}get rgb(){const{r:e,g:t,b:n,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[e/o,t/o,n/o,i])}get hcl(){return this.overwriteGetter("hcl",t3(this.rgb))}get lab(){return this.overwriteGetter("lab",l1(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return`rgba(${[e,t,n].map(o=>Math.round(o*255)).join(",")},${i})`}static interpolate(e,t,n,i="rgb"){switch(i){case"rgb":{const[o,a,s,l]=Ua(e.rgb,t.rgb,n);return new fo(o,a,s,l,!1)}case"hcl":{const[o,a,s,l]=e.hcl,[c,u,d,h]=t.hcl;let p,f;if(!isNaN(o)&&!isNaN(c)){let C=c-o;c>o&&C>180?C-=360:c<o&&o-c>180&&(C+=360),p=o+n*C}else isNaN(o)?isNaN(c)?p=NaN:(p=c,(s===1||s===0)&&(f=u)):(p=o,(d===1||d===0)&&(f=a));const[y,m,b,k]=r3([p,f??qi(a,u,n),qi(s,d,n),qi(l,h,n)]);return new fo(y,m,b,k,!1)}case"lab":{const[o,a,s,l]=c1(Ua(e.lab,t.lab,n));return new fo(o,a,s,l,!1)}}}};pt.black=new pt(0,0,0,1);pt.white=new pt(1,1,1,1);pt.transparent=new pt(0,0,0,0);pt.red=new pt(1,0,0,1);class $h{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const s3=["bottom","center","top"];class yd{constructor(e,t,n,i,o,a){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=o,this.verticalAlign=a}}let ls=class il{constructor(e){this.sections=e}static fromString(e){return new il([new yd(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof il?e:il.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}};class $r{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof $r)return e;if(typeof e=="number")return new $r([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new $r(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new $r(Ua(e.values,t.values,n))}}class Ur{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Ur)return e;if(typeof e=="number")return new Ur([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new Ur(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new Ur(Ua(e.values,t.values,n))}}let di=class fa{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof fa)return e;if(typeof e=="string"){const n=pt.parse(e);return n?new fa([n]):void 0}if(!Array.isArray(e))return;const t=[];for(const n of e){if(typeof n!="string")return;const i=pt.parse(n);if(!i)return;t.push(i)}return new fa(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,i="rgb"){const o=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let a=0;a<e.values.length;a++)o.push(pt.interpolate(e.values[a],t.values[a],n,i));return new fa(o)}},mt=class extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}};const l3=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);let Qo=class ol{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof ol)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if(typeof n!="string"||!l3.has(n)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new ol(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const i=e.values,o=t.values;if(i.length!==o.length)throw new mt(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const a=[];for(let s=0;s<i.length;s+=2){if(i[s]!==o[s])throw new mt(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${i[s]}, to[${s}]: ${o[s]}`);a.push(i[s]);const[l,c]=i[s+1],[u,d]=o[s+1];a.push([qi(l,u,n),qi(c,d,n)])}return new ol(a)}};class ki{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new ki({name:e,available:!1}):null}}class qr{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new qr(e,t,n)}static parse(e){if(e instanceof qr)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new qr(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new qr(e.from,e.to,e.transition);if(typeof e=="string")return new qr(e,e,1)}}function d1(r,e,t,n){return typeof r=="number"&&r>=0&&r<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[r,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[r,e,t,n]:[r,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ga(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof qr||r instanceof pt||r instanceof $h||r instanceof ls||r instanceof $r||r instanceof Ur||r instanceof di||r instanceof Qo||r instanceof ki)return!0;if(Array.isArray(r)){for(const e of r)if(!Ga(e))return!1;return!0}else if(typeof r=="object"){for(const e in r)if(!Ga(r[e]))return!1;return!0}else return!1}function St(r){if(r===null)return uc;if(typeof r=="string")return Ne;if(typeof r=="boolean")return Ie;if(typeof r=="number")return K;if(r instanceof pt)return dn;if(r instanceof qr)return dc;if(r instanceof $h)return hc;if(r instanceof ls)return pc;if(r instanceof $r)return gc;if(r instanceof Ur)return fc;if(r instanceof di)return za;if(r instanceof Qo)return mc;if(r instanceof ki)return ss;if(Array.isArray(r)){const e=r.length;let t;for(const n of r){const i=St(n);if(!t)t=i;else{if(t===i)continue;t=Se;break}}return yr(t||Se,e)}else return Fi}function va(r){const e=typeof r;return r===null?"":e==="string"||e==="number"||e==="boolean"?String(r):r instanceof pt||r instanceof qr||r instanceof ls||r instanceof $r||r instanceof Ur||r instanceof di||r instanceof Qo||r instanceof ki?r.toString():JSON.stringify(r)}class Do{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Ga(e[1]))return t.error("invalid value");const n=e[1];let i=St(n);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new Do(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Os={string:Ne,number:K,boolean:Ie,object:Fi};class zr{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,i;const o=e[0];if(o==="array"){let s;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in Os)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);s=Os[c],n++}else s=Se;let l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);l=e[2],n++}i=yr(s,l)}else{if(!Os[o])throw new Error(`Types doesn't contain name = ${o}`);i=Os[o]}const a=[];for(;n<e.length;n++){const s=t.parse(e[n],n,Se);if(!s)return null;a.push(s)}return new zr(i,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if($a(this.type,St(n))){if(t===this.args.length-1)throw new mt(`Expected value to be of type ${ht(this.type)}, but found ${ht(St(n))} instead.`)}else return n}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Yg={"to-boolean":Ie,"to-color":dn,"to-number":K,"to-string":Ne};class si{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!Yg[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=Yg[n],o=[];for(let a=1;a<e.length;a++){const s=t.parse(e[a],a,Se);if(!s)return null;o.push(s)}return new si(i,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof pt)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=d1(t[0],t[1],t[2],t[3]),!n))return new pt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new mt(n||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=$r.parse(t);if(i)return i}throw new mt(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=Ur.parse(t);if(i)return i}throw new mt(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=di.parse(t);if(i)return i}throw new mt(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=Qo.parse(t);if(i)return i}throw new mt(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new mt(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return ls.fromString(va(this.args[0].evaluate(e)));case"resolvedImage":return ki.fromString(va(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return va(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const c3=["Unknown","Point","LineString","Polygon"];class h1{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?c3[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=pt.parse(e),this._parseColorCache.set(e,t)),t}}class yc{constructor(e,t,n=[],i,o=new qh,a=[]){this.registry=e,this.path=n,this.key=n.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=t}parse(e,t,n,i,o={}){return t?this.concat(t,n,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(i,o,a){return a==="assert"?new zr(o,[i]):a==="coerce"?new si(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(e,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,l=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&l.kind==="value")a=n(a,s,t.typeAnnotation||"assert");else if(s.kind==="projectionDefinition"&&["string","array"].includes(l.kind)||["color","formatted","resolvedImage"].includes(s.kind)&&["value","string"].includes(l.kind)||["padding","numberArray"].includes(s.kind)&&["value","number","array"].includes(l.kind)||s.kind==="colorArray"&&["value","string","array"].includes(l.kind)||s.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(l.kind))a=n(a,s,t.typeAnnotation||"coerce");else if(this.checkSubtype(s,l))return null}if(!(a instanceof Do)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new h1;try{a=new Do(a.type,a.evaluate(s))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i=typeof e=="number"?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new yc(this.registry,this._isConstant,i,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new nn(n,e))}checkSubtype(e,t){const n=$a(e,t);return n&&this.error(n),n}}class vc{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let o=1;o<e.length-1;o+=2){const a=e[o];if(typeof a!="string")return t.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=t.parse(e[o+1],o+1);if(!s)return null;n.push([a,s])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new vc(n,i):null}outputDefined(){return this.result.outputDefined()}}class kc{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new kc(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Uh{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,K),i=t.parse(e[2],2,yr(t.expectedType||Se));if(!n||!i)return null;const o=i.type;return new Uh(o.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new mt(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new mt(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new mt(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Gh{constructor(e,t){this.type=Ie,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Se),i=t.parse(e[2],2,Se);return!n||!i?null:zh(n.type,[Ie,Ne,K,uc,Se])?new Gh(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ht(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!ji(t,["boolean","string","number","null"]))throw new mt(`Expected first argument to be of type boolean, string, number or null, but found ${ht(St(t))} instead.`);if(!ji(n,["string","array"]))throw new mt(`Expected second argument to be of type array or string, but found ${ht(St(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Ml{constructor(e,t,n){this.type=K,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Se),i=t.parse(e[2],2,Se);if(!n||!i)return null;if(!zh(n.type,[Ie,Ne,K,uc,Se]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ht(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,K);return o?new Ml(n,i,o):null}else return new Ml(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!ji(t,["boolean","string","number","null"]))throw new mt(`Expected first argument to be of type boolean, string, number or null, but found ${ht(St(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),ji(n,["string"])){const o=n.indexOf(t,i);return o===-1?-1:[...n.slice(0,o)].length}else{if(ji(n,["array"]))return n.indexOf(t,i);throw new mt(`Expected second argument to be of type array or string, but found ${ht(St(n))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Bh{constructor(e,t,n,i,o,a){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=o,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},a=[];for(let c=2;c<e.length-1;c+=2){let u=e[c];const d=e[c+1];Array.isArray(u)||(u=[u]);const h=t.concat(c);if(u.length===0)return h.error("Expected at least one branch label.");for(const f of u){if(typeof f!="number"&&typeof f!="string")return h.error("Branch labels must be numbers or strings.");if(typeof f=="number"&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof f=="number"&&Math.floor(f)!==f)return h.error("Numeric branch labels must be integer values.");if(!n)n=St(f);else if(h.checkSubtype(n,St(f)))return null;if(typeof o[String(f)]<"u")return h.error("Branch labels must be unique.");o[String(f)]=a.length}const p=t.parse(d,c,i);if(!p)return null;i=i||p.type,a.push(p)}const s=t.parse(e[1],1,Se);if(!s)return null;const l=t.parse(e[e.length-1],e.length-1,i);return!l||s.type.kind!=="value"&&t.concat(1).checkSubtype(n,s.type)?null:new Bh(n,i,s,o,a,l)}evaluate(e){const t=this.input.evaluate(e);return(St(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class Vh{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const i=[];for(let a=1;a<e.length-1;a+=2){const s=t.parse(e[a],a,Ie);if(!s)return null;const l=t.parse(e[a+1],a+1,n);if(!l)return null;i.push([s,l]),n=n||l.type}const o=t.parse(e[e.length-1],e.length-1,n);if(!o)return null;if(!n)throw new Error("Can't infer output type");return new Vh(n,i,o)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class Sl{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Se),i=t.parse(e[2],2,K);if(!n||!i)return null;if(!zh(n.type,[yr(Se),Ne,Se]))return t.error(`Expected first argument to be of type array or string, but found ${ht(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,K);return o?new Sl(n.type,n,i,o):null}else return new Sl(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),ji(t,["string"]))return[...t].slice(n,i).join("");if(ji(t,["array"]))return t.slice(n,i);throw new mt(`Expected first argument to be of type array or string, but found ${ht(St(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function p1(r,e){const t=r.length-1;let n=0,i=t,o=0,a,s;for(;n<=i;)if(o=Math.floor((n+i)/2),a=r[o],s=r[o+1],a<=e){if(o===t||e<s)return o;n=o+1}else if(a>e)i=o-1;else throw new mt("Input is not a number.");return 0}class bc{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of n)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,K);if(!n)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let a=1;a<e.length;a+=2){const s=a===1?-1/0:e[a],l=e[a+1],c=a,u=a+1;if(typeof s!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const d=t.parse(l,u,o);if(!d)return null;o=o||d.type,i.push([s,d])}return new bc(o,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=p1(t,i);return n[a].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function u3(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hu,Wg;function d3(){if(Wg)return hu;Wg=1,hu=r;function r(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}return r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var o=this.sampleCurveX(n)-e;if(Math.abs(o)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n=n-o/a}var s=0,l=1;for(n=e,i=0;i<20&&(o=this.sampleCurveX(n),!(Math.abs(o-e)<t));i++)e>o?s=n:l=n,n=(l-s)*.5+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},hu}var h3=d3(),p3=u3(h3);class hn{constructor(e,t,n,i,o){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(e,t,n,i){let o=0;if(e.name==="exponential")o=pu(t,e.base,n,i);else if(e.name==="linear")o=pu(t,1,n,i);else if(e.name==="cubic-bezier"){const a=e.controlPoints;o=new p3(a[0],a[1],a[2],a[3]).solve(pu(t,1,n,i))}return o}static parse(e,t){let[n,i,o,...a]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const c=i[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:c}}else if(i[0]==="cubic-bezier"){const c=i.slice(1);if(c.length!==4||c.some(u=>typeof u!="number"||u<0||u>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,K),!o)return null;const s=[];let l=null;(n==="interpolate-hcl"||n==="interpolate-lab")&&t.expectedType!=za?l=dn:t.expectedType&&t.expectedType.kind!=="value"&&(l=t.expectedType);for(let c=0;c<a.length;c+=2){const u=a[c],d=a[c+1],h=c+3,p=c+4;if(typeof u!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(s.length&&s[s.length-1][0]>=u)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const f=t.parse(d,p,l);if(!f)return null;l=l||f.type,s.push([u,f])}return!Kn(l,K)&&!Kn(l,dc)&&!Kn(l,dn)&&!Kn(l,gc)&&!Kn(l,fc)&&!Kn(l,za)&&!Kn(l,mc)&&!Kn(l,yr(K))?t.error(`Type ${ht(l)} is not interpolatable.`):new hn(l,n,i,o,s)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=p1(t,i),s=t[a],l=t[a+1],c=hn.interpolationFactor(this.interpolation,i,s,l),u=n[a].evaluate(e),d=n[a+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return qi(u,d,c);case"color":return pt.interpolate(u,d,c);case"padding":return $r.interpolate(u,d,c);case"colorArray":return di.interpolate(u,d,c);case"numberArray":return Ur.interpolate(u,d,c);case"variableAnchorOffsetCollection":return Qo.interpolate(u,d,c);case"array":return Ua(u,d,c);case"projectionDefinition":return qr.interpolate(u,d,c)}case"interpolate-hcl":switch(this.type.kind){case"color":return pt.interpolate(u,d,c,"hcl");case"colorArray":return di.interpolate(u,d,c,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return pt.interpolate(u,d,c,"lab");case"colorArray":return di.interpolate(u,d,c,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function pu(r,e,t,n){const i=n-t,o=r-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class Ba{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const i=t.expectedType;i&&i.kind!=="value"&&(n=i);const o=[];for(const a of e.slice(1)){const s=t.parse(a,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,o.push(s)}if(!n)throw new Error("No output type");return i&&o.some(a=>$a(i,a.type))?new Ba(Se,o):new Ba(n,o)}evaluate(e){let t=null,n=0,i;for(const o of this.args)if(n++,t=o.evaluate(e),t&&t instanceof ki&&!t.available&&(i||(i=t.name),t=null,n===this.args.length&&(t=i)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function Kg(r,e){return r==="=="||r==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function g3(r,e,t){return e===t}function f3(r,e,t){return e!==t}function m3(r,e,t){return e<t}function y3(r,e,t){return e>t}function v3(r,e,t){return e<=t}function k3(r,e,t){return e>=t}function g1(r,e,t,n){return n.compare(e,t)===0}function b3(r,e,t,n){return!g1(r,e,t,n)}function x3(r,e,t,n){return n.compare(e,t)<0}function w3(r,e,t,n){return n.compare(e,t)>0}function _3(r,e,t,n){return n.compare(e,t)<=0}function T3(r,e,t,n){return n.compare(e,t)>=0}function Xo(r,e,t){const n=r!=="=="&&r!=="!=";return class f1{constructor(o,a,s){this.type=Ie,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let l=a.parse(o[1],1,Se);if(!l)return null;if(!Kg(s,l.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${ht(l.type)}'.`);let c=a.parse(o[2],2,Se);if(!c)return null;if(!Kg(s,c.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${ht(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${ht(l.type)}' and '${ht(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new zr(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new zr(l.type,[c])));let u=null;if(o.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(u=a.parse(o[3],3,hc),!u)return null}return new f1(l,c,u)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){const l=St(a),c=St(s);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new mt(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=St(a),c=St(s);if(l.kind!=="string"||c.kind!=="string")return e(o,a,s)}return this.collator?t(o,a,s,this.collator.evaluate(o)):e(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const C3=Xo("==",g3,g1),E3=Xo("!=",f3,b3),M3=Xo("<",m3,x3),S3=Xo(">",y3,w3),L3=Xo("<=",v3,_3),I3=Xo(">=",k3,T3);class xc{constructor(e,t,n){this.type=hc,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,Ie);if(!i)return null;const o=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,Ie);if(!o)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,Ne),!a)?null:new xc(i,o,a)}evaluate(e){return new $h(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class Hh{constructor(e,t,n,i,o){this.type=Ne,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,K);if(!n)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,Ne),!o))return null;let a=null;if(i.currency&&(a=t.parse(i.currency,1,Ne),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,K),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,K),!l)?null:new Hh(n,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Zh{constructor(e){this.type=pc,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=e.length-1;++a){const s=e[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let l=null;if(s["font-scale"]&&(l=t.parse(s["font-scale"],1,K),!l))return null;let c=null;if(s["text-font"]&&(c=t.parse(s["text-font"],1,yr(Ne)),!c))return null;let u=null;if(s["text-color"]&&(u=t.parse(s["text-color"],1,dn),!u))return null;let d=null;if(s["vertical-align"]){if(typeof s["vertical-align"]=="string"&&!s3.includes(s["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${s["vertical-align"]}' instead.`);if(d=t.parse(s["vertical-align"],1,Ne),!d)return null}const h=i[i.length-1];h.scale=l,h.font=c,h.textColor=u,h.verticalAlign=d}else{const l=t.parse(e[a],1,Se);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:l,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Zh(i)}evaluate(e){const t=n=>{const i=n.content.evaluate(e);return St(i)===ss?new yd("",i,null,null,null,n.verticalAlign?n.verticalAlign.evaluate(e):null):new yd(va(i),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null,n.verticalAlign?n.verticalAlign.evaluate(e):null)};return new ls(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class Yh{constructor(e){this.type=ss,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ne);return n?new Yh(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=ki.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class Wh{constructor(e){this.type=K,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${ht(n.type)} instead.`):new Wh(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new mt(`Expected value to be of type string or array, but found ${ht(St(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const pn=8192;function A3(r,e){const t=P3(r[0]),n=D3(r[1]),i=Math.pow(2,e.z);return[Math.round(t*i*pn),Math.round(n*i*pn)]}function Kh(r,e){const t=Math.pow(2,e.z),n=(r[0]/pn+e.x)/t,i=(r[1]/pn+e.y)/t;return[N3(n),O3(i)]}function P3(r){return(180+r)/360}function N3(r){return r*360-180}function D3(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function O3(r){return 360/Math.PI*Math.atan(Math.exp((180-r*360)*Math.PI/180))-90}function cs(r,e){r[0]=Math.min(r[0],e[0]),r[1]=Math.min(r[1],e[1]),r[2]=Math.max(r[2],e[0]),r[3]=Math.max(r[3],e[1])}function Va(r,e){return!(r[0]<=e[0]||r[2]>=e[2]||r[1]<=e[1]||r[3]>=e[3])}function R3(r,e,t){return e[1]>r[1]!=t[1]>r[1]&&r[0]<(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1])+e[0]}function F3(r,e,t){const n=r[0]-e[0],i=r[1]-e[1],o=r[0]-t[0],a=r[1]-t[1];return n*a-o*i===0&&n*o<=0&&i*a<=0}function wc(r,e,t,n){const i=[e[0]-r[0],e[1]-r[1]],o=[n[0]-t[0],n[1]-t[1]];return $3(o,i)===0?!1:!!(Qg(r,e,t,n)&&Qg(t,n,r,e))}function j3(r,e,t){for(const n of t)for(let i=0;i<n.length-1;++i)if(wc(r,e,n[i],n[i+1]))return!0;return!1}function Jo(r,e,t=!1){let n=!1;for(const i of e)for(let o=0;o<i.length-1;o++){if(F3(r,i[o],i[o+1]))return t;R3(r,i[o],i[o+1])&&(n=!n)}return n}function q3(r,e){for(const t of e)if(Jo(r,t))return!0;return!1}function m1(r,e){for(const t of r)if(!Jo(t,e))return!1;for(let t=0;t<r.length-1;++t)if(j3(r[t],r[t+1],e))return!1;return!0}function z3(r,e){for(const t of e)if(m1(r,t))return!0;return!1}function $3(r,e){return r[0]*e[1]-r[1]*e[0]}function Qg(r,e,t,n){const i=r[0]-t[0],o=r[1]-t[1],a=e[0]-t[0],s=e[1]-t[1],l=n[0]-t[0],c=n[1]-t[1],u=i*c-l*o,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function Qh(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=[];for(let a=0;a<r[i].length;a++){const s=A3(r[i][a],t);cs(e,s),o.push(s)}n.push(o)}return n}function y1(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=Qh(r[i],e,t);n.push(o)}return n}function v1(r,e,t,n){if(r[0]<t[0]||r[0]>t[2]){const i=n*.5;let o=r[0]-t[0]>i?-n:t[0]-r[0]>i?n:0;o===0&&(o=r[0]-t[2]>i?-n:t[2]-r[0]>i?n:0),r[0]+=o}cs(e,r)}function U3(r){r[0]=r[1]=1/0,r[2]=r[3]=-1/0}function Xg(r,e,t,n){const i=Math.pow(2,n.z)*pn,o=[n.x*pn,n.y*pn],a=[];for(const s of r)for(const l of s){const c=[l.x+o[0],l.y+o[1]];v1(c,e,t,i),a.push(c)}return a}function Jg(r,e,t,n){const i=Math.pow(2,n.z)*pn,o=[n.x*pn,n.y*pn],a=[];for(const s of r){const l=[];for(const c of s){const u=[c.x+o[0],c.y+o[1]];cs(e,u),l.push(u)}a.push(l)}if(e[2]-e[0]<=i/2){U3(e);for(const s of a)for(const l of s)v1(l,e,t,i)}return a}function G3(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Qh(e.coordinates,n,i),a=Xg(r.geometry(),t,n,i);if(!Va(t,n))return!1;for(const s of a)if(!Jo(s,o))return!1}if(e.type==="MultiPolygon"){const o=y1(e.coordinates,n,i),a=Xg(r.geometry(),t,n,i);if(!Va(t,n))return!1;for(const s of a)if(!q3(s,o))return!1}return!0}function B3(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Qh(e.coordinates,n,i),a=Jg(r.geometry(),t,n,i);if(!Va(t,n))return!1;for(const s of a)if(!m1(s,o))return!1}if(e.type==="MultiPolygon"){const o=y1(e.coordinates,n,i),a=Jg(r.geometry(),t,n,i);if(!Va(t,n))return!1;for(const s of a)if(!z3(s,o))return!1}return!0}class zi{constructor(e,t){this.type=Ie,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ga(e[1])){const n=e[1];if(n.type==="FeatureCollection"){const i=[];for(const o of n.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new zi(n,o)}}else if(n.type==="Feature"){const i=n.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new zi(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new zi(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return G3(e,this.geometries);if(e.geometryType()==="LineString")return B3(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class k1{constructor(e=[],t=(n,i)=>n<i?-1:n>i?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const o=e-1>>1,a=t[o];if(n(i,a)>=0)break;t[e]=a,e=o}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,o=t[e];for(;e<i;){let a=(e<<1)+1;const s=a+1;if(s<this.length&&n(t[s],t[a])<0&&(a=s),n(t[a],o)>=0)break;t[e]=t[a],e=a}t[e]=o}}function V3(r,e){if(r.length<=1)return[r];const t=[];let n,i;for(const o of r){const a=H3(o);a!==0&&(o.area=Math.abs(a),i===void 0&&(i=a<0),i===a<0?(n&&t.push(n),n=[o]):n.push(o))}return n&&t.push(n),t}function H3(r){let e=0;for(let t=0,n=r.length,i=n-1,o,a;t<n;i=t++)o=r[t],a=r[i],e+=(a.x-o.x)*(o.y+a.y);return e}const Z3=6378.137,ef=1/298.257223563,tf=ef*(2-ef),rf=Math.PI/180;class Xh{constructor(e){const t=rf*Z3*1e3,n=Math.cos(e*rf),i=1/(1-tf*(1-n*n)),o=Math.sqrt(i);this.kx=t*o*n,this.ky=t*o*i*(1-tf)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+i*i)}pointOnLine(e,t){let n=1/0,i,o,a,s;for(let l=0;l<e.length-1;l++){let c=e[l][0],u=e[l][1],d=this.wrap(e[l+1][0]-c)*this.kx,h=(e[l+1][1]-u)*this.ky,p=0;(d!==0||h!==0)&&(p=(this.wrap(t[0]-c)*this.kx*d+(t[1]-u)*this.ky*h)/(d*d+h*h),p>1?(c=e[l+1][0],u=e[l+1][1]):p>0&&(c+=d/this.kx*p,u+=h/this.ky*p)),d=this.wrap(t[0]-c)*this.kx,h=(t[1]-u)*this.ky;const f=d*d+h*h;f<n&&(n=f,i=c,o=u,a=l,s=p)}return{point:[i,o],index:a,t:Math.max(0,Math.min(1,s))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const vd=100,kd=50;function b1(r,e){return e[0]-r[0]}function Ll(r){return r[1]-r[0]+1}function Rn(r,e){return r[1]>=r[0]&&r[1]<e}function bd(r,e){if(r[0]>r[1])return[null,null];const t=Ll(r);if(e){if(t===2)return[r,null];const i=Math.floor(t/2);return[[r[0],r[0]+i],[r[0]+i,r[1]]]}if(t===1)return[r,null];const n=Math.floor(t/2)-1;return[[r[0],r[0]+n],[r[0]+n+1,r[1]]]}function xd(r,e){if(!Rn(e,r.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let n=e[0];n<=e[1];++n)cs(t,r[n]);return t}function wd(r){const e=[1/0,1/0,-1/0,-1/0];for(const t of r)for(const n of t)cs(e,n);return e}function nf(r){return r[0]!==-1/0&&r[1]!==-1/0&&r[2]!==1/0&&r[3]!==1/0}function Jh(r,e,t){if(!nf(r)||!nf(e))return NaN;let n=0,i=0;return r[2]<e[0]&&(n=e[0]-r[2]),r[0]>e[2]&&(n=r[0]-e[2]),r[1]>e[3]&&(i=r[1]-e[3]),r[3]<e[1]&&(i=e[1]-r[3]),t.distance([0,0],[n,i])}function Ai(r,e,t){const n=t.pointOnLine(e,r);return t.distance(r,n.point)}function ep(r,e,t,n,i){const o=Math.min(Ai(r,[t,n],i),Ai(e,[t,n],i)),a=Math.min(Ai(t,[r,e],i),Ai(n,[r,e],i));return Math.min(o,a)}function Y3(r,e,t,n,i){if(!(Rn(e,r.length)&&Rn(n,t.length)))return 1/0;let o=1/0;for(let a=e[0];a<e[1];++a){const s=r[a],l=r[a+1];for(let c=n[0];c<n[1];++c){const u=t[c],d=t[c+1];if(wc(s,l,u,d))return 0;o=Math.min(o,ep(s,l,u,d,i))}}return o}function W3(r,e,t,n,i){if(!(Rn(e,r.length)&&Rn(n,t.length)))return NaN;let o=1/0;for(let a=e[0];a<=e[1];++a)for(let s=n[0];s<=n[1];++s)if(o=Math.min(o,i.distance(r[a],t[s])),o===0)return o;return o}function K3(r,e,t){if(Jo(r,e,!0))return 0;let n=1/0;for(const i of e){const o=i[0],a=i[i.length-1];if(o!==a&&(n=Math.min(n,Ai(r,[a,o],t)),n===0))return n;const s=t.pointOnLine(i,r);if(n=Math.min(n,t.distance(r,s.point)),n===0)return n}return n}function Q3(r,e,t,n){if(!Rn(e,r.length))return NaN;for(let o=e[0];o<=e[1];++o)if(Jo(r[o],t,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const a=r[o],s=r[o+1];for(const l of t)for(let c=0,u=l.length,d=u-1;c<u;d=c++){const h=l[d],p=l[c];if(wc(a,s,h,p))return 0;i=Math.min(i,ep(a,s,h,p,n))}}return i}function of(r,e){for(const t of r)for(const n of t)if(Jo(n,e,!0))return!0;return!1}function X3(r,e,t,n=1/0){const i=wd(r),o=wd(e);if(n!==1/0&&Jh(i,o,t)>=n)return n;if(Va(i,o)){if(of(r,e))return 0}else if(of(e,r))return 0;let a=1/0;for(const s of r)for(let l=0,c=s.length,u=c-1;l<c;u=l++){const d=s[u],h=s[l];for(const p of e)for(let f=0,y=p.length,m=y-1;f<y;m=f++){const b=p[m],k=p[f];if(wc(d,h,b,k))return 0;a=Math.min(a,ep(d,h,b,k,t))}}return a}function af(r,e,t,n,i,o){if(!o)return;const a=Jh(xd(n,o),i,t);a<e&&r.push([a,o,[0,0]])}function Rs(r,e,t,n,i,o,a){if(!o||!a)return;const s=Jh(xd(n,o),xd(i,a),t);s<e&&r.push([s,o,a])}function Il(r,e,t,n,i=1/0){let o=Math.min(n.distance(r[0],t[0][0]),i);if(o===0)return o;const a=new k1([[0,[0,r.length-1],[0,0]]],b1),s=wd(t);for(;a.length>0;){const l=a.pop();if(l[0]>=o)continue;const c=l[1],u=e?kd:vd;if(Ll(c)<=u){if(!Rn(c,r.length))return NaN;if(e){const d=Q3(r,c,t,n);if(isNaN(d)||d===0)return d;o=Math.min(o,d)}else for(let d=c[0];d<=c[1];++d){const h=K3(r[d],t,n);if(o=Math.min(o,h),o===0)return 0}}else{const d=bd(c,e);af(a,o,n,r,s,d[0]),af(a,o,n,r,s,d[1])}}return o}function Al(r,e,t,n,i,o=1/0){let a=Math.min(o,i.distance(r[0],t[0]));if(a===0)return a;const s=new k1([[0,[0,r.length-1],[0,t.length-1]]],b1);for(;s.length>0;){const l=s.pop();if(l[0]>=a)continue;const c=l[1],u=l[2],d=e?kd:vd,h=n?kd:vd;if(Ll(c)<=d&&Ll(u)<=h){if(!Rn(c,r.length)&&Rn(u,t.length))return NaN;let p;if(e&&n)p=Y3(r,c,t,u,i),a=Math.min(a,p);else if(e&&!n){const f=r.slice(c[0],c[1]+1);for(let y=u[0];y<=u[1];++y)if(p=Ai(t[y],f,i),a=Math.min(a,p),a===0)return a}else if(!e&&n){const f=t.slice(u[0],u[1]+1);for(let y=c[0];y<=c[1];++y)if(p=Ai(r[y],f,i),a=Math.min(a,p),a===0)return a}else p=W3(r,c,t,u,i),a=Math.min(a,p)}else{const p=bd(c,e),f=bd(u,n);Rs(s,a,i,r,t,p[0],f[0]),Rs(s,a,i,r,t,p[0],f[1]),Rs(s,a,i,r,t,p[1],f[0]),Rs(s,a,i,r,t,p[1],f[1])}}return a}function J3(r,e){const t=r.geometry(),n=t.flat().map(a=>Kh([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new Xh(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Al(n,!1,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Al(n,!1,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Il(n,!1,a.coordinates,i,o));break}if(o===0)return o}return o}function eT(r,e){const t=r.geometry(),n=t.flat().map(a=>Kh([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new Xh(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Al(n,!0,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Al(n,!0,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Il(n,!0,a.coordinates,i,o));break}if(o===0)return o}return o}function tT(r,e){const t=r.geometry();if(t.length===0||t[0].length===0)return NaN;const n=V3(t).map(a=>a.map(s=>s.map(l=>Kh([l.x,l.y],r.canonical)))),i=new Xh(n[0][0][0][1]);let o=1/0;for(const a of e)for(const s of n){switch(a.type){case"Point":o=Math.min(o,Il([a.coordinates],!1,s,i,o));break;case"LineString":o=Math.min(o,Il(a.coordinates,!0,s,i,o));break;case"Polygon":o=Math.min(o,X3(s,a.coordinates,i,o));break}if(o===0)return o}return o}function gu(r){return r.type==="MultiPolygon"?r.coordinates.map(e=>({type:"Polygon",coordinates:e})):r.type==="MultiLineString"?r.coordinates.map(e=>({type:"LineString",coordinates:e})):r.type==="MultiPoint"?r.coordinates.map(e=>({type:"Point",coordinates:e})):[r]}class $i{constructor(e,t){this.type=K,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ga(e[1])){const n=e[1];if(n.type==="FeatureCollection")return new $i(n,n.features.map(i=>gu(i.geometry)).flat());if(n.type==="Feature")return new $i(n,gu(n.geometry));if("type"in n&&"coordinates"in n)return new $i(n,gu(n))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return J3(e,this.geometries);if(e.geometryType()==="LineString")return eT(e,this.geometries);if(e.geometryType()==="Polygon")return tT(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class us{constructor(e){this.type=Se,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return n==null?t.error("Global state property must be defined."):typeof n!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new us(n)}evaluate(e){var t;const n=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!n||Object.keys(n).length===0?null:u1(n,this.key)}eachChild(){}outputDefined(){return!1}}const tp={"==":C3,"!=":E3,">":S3,"<":M3,">=":I3,"<=":L3,array:zr,at:Uh,boolean:zr,case:Vh,coalesce:Ba,collator:xc,format:Zh,image:Yh,in:Gh,"index-of":Ml,interpolate:hn,"interpolate-hcl":hn,"interpolate-lab":hn,length:Wh,let:vc,literal:Do,match:Bh,number:zr,"number-format":Hh,object:zr,slice:Sl,step:bc,string:zr,"to-boolean":si,"to-color":si,"to-number":si,"to-string":si,var:kc,within:zi,distance:$i,"global-state":us};class Gr{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=Gr.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let l=null;for(const[c,u]of s){l=new yc(t.registry,Pl,t.path,null,t.scope);const d=[];let h=!1;for(let p=1;p<e.length;p++){const f=e[p],y=Array.isArray(c)?c[p-1]:c.type,m=l.parse(f,1+d.length,y);if(!m){h=!0;break}d.push(m)}if(!h){if(Array.isArray(c)&&c.length!==d.length){l.error(`Expected ${c.length} arguments, but found ${d.length} instead.`);continue}for(let p=0;p<d.length;p++){const f=Array.isArray(c)?c[p]:c.type,y=d[p];l.concat(p+1).checkSubtype(f,y.type)}if(l.errors.length===0)return new Gr(n,o,u,d)}}if(s.length===1)t.errors.push(...l.errors);else{const c=(s.length?s:a).map(([d])=>nT(d)).join(" | "),u=[];for(let d=1;d<e.length;d++){const h=t.parse(e[d],1+u.length);if(!h)return null;u.push(ht(h.type))}t.error(`Expected arguments of type ${c}, but found (${u.join(", ")}) instead.`)}return null}static register(e,t){Gr.definitions=t;for(const n in t)e[n]=Gr}}function sf(r,[e,t,n,i]){e=e.evaluate(r),t=t.evaluate(r),n=n.evaluate(r);const o=i?i.evaluate(r):1,a=d1(e,t,n,o);if(a)throw new mt(a);return new pt(e/255,t/255,n/255,o,!1)}function lf(r,e){return r in e}function fu(r,e){const t=e[r];return typeof t>"u"?null:t}function rT(r,e,t,n){for(;t<=n;){const i=t+n>>1;if(e[i]===r)return!0;e[i]>r?n=i-1:t=i+1}return!1}function wi(r){return{type:r}}Gr.register(tp,{error:[K5,[Ne],(r,[e])=>{throw new mt(e.evaluate(r))}],typeof:[Ne,[Se],(r,[e])=>ht(St(e.evaluate(r)))],"to-rgba":[yr(K,4),[dn],(r,[e])=>{const[t,n,i,o]=e.evaluate(r).rgb;return[t*255,n*255,i*255,o]}],rgb:[dn,[K,K,K],sf],rgba:[dn,[K,K,K,K],sf],has:{type:Ie,overloads:[[[Ne],(r,[e])=>lf(e.evaluate(r),r.properties())],[[Ne,Fi],(r,[e,t])=>lf(e.evaluate(r),t.evaluate(r))]]},get:{type:Se,overloads:[[[Ne],(r,[e])=>fu(e.evaluate(r),r.properties())],[[Ne,Fi],(r,[e,t])=>fu(e.evaluate(r),t.evaluate(r))]]},"feature-state":[Se,[Ne],(r,[e])=>fu(e.evaluate(r),r.featureState||{})],properties:[Fi,[],r=>r.properties()],"geometry-type":[Ne,[],r=>r.geometryType()],id:[Se,[],r=>r.id()],zoom:[K,[],r=>r.globals.zoom],"heatmap-density":[K,[],r=>r.globals.heatmapDensity||0],elevation:[K,[],r=>r.globals.elevation||0],"line-progress":[K,[],r=>r.globals.lineProgress||0],accumulated:[Se,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[K,wi(K),(r,e)=>{let t=0;for(const n of e)t+=n.evaluate(r);return t}],"*":[K,wi(K),(r,e)=>{let t=1;for(const n of e)t*=n.evaluate(r);return t}],"-":{type:K,overloads:[[[K,K],(r,[e,t])=>e.evaluate(r)-t.evaluate(r)],[[K],(r,[e])=>-e.evaluate(r)]]},"/":[K,[K,K],(r,[e,t])=>e.evaluate(r)/t.evaluate(r)],"%":[K,[K,K],(r,[e,t])=>e.evaluate(r)%t.evaluate(r)],ln2:[K,[],()=>Math.LN2],pi:[K,[],()=>Math.PI],e:[K,[],()=>Math.E],"^":[K,[K,K],(r,[e,t])=>Math.pow(e.evaluate(r),t.evaluate(r))],sqrt:[K,[K],(r,[e])=>Math.sqrt(e.evaluate(r))],log10:[K,[K],(r,[e])=>Math.log(e.evaluate(r))/Math.LN10],ln:[K,[K],(r,[e])=>Math.log(e.evaluate(r))],log2:[K,[K],(r,[e])=>Math.log(e.evaluate(r))/Math.LN2],sin:[K,[K],(r,[e])=>Math.sin(e.evaluate(r))],cos:[K,[K],(r,[e])=>Math.cos(e.evaluate(r))],tan:[K,[K],(r,[e])=>Math.tan(e.evaluate(r))],asin:[K,[K],(r,[e])=>Math.asin(e.evaluate(r))],acos:[K,[K],(r,[e])=>Math.acos(e.evaluate(r))],atan:[K,[K],(r,[e])=>Math.atan(e.evaluate(r))],min:[K,wi(K),(r,e)=>Math.min(...e.map(t=>t.evaluate(r)))],max:[K,wi(K),(r,e)=>Math.max(...e.map(t=>t.evaluate(r)))],abs:[K,[K],(r,[e])=>Math.abs(e.evaluate(r))],round:[K,[K],(r,[e])=>{const t=e.evaluate(r);return t<0?-Math.round(-t):Math.round(t)}],floor:[K,[K],(r,[e])=>Math.floor(e.evaluate(r))],ceil:[K,[K],(r,[e])=>Math.ceil(e.evaluate(r))],"filter-==":[Ie,[Ne,Se],(r,[e,t])=>r.properties()[e.value]===t.value],"filter-id-==":[Ie,[Se],(r,[e])=>r.id()===e.value],"filter-type-==":[Ie,[Ne],(r,[e])=>r.geometryType()===e.value],"filter-<":[Ie,[Ne,Se],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Ie,[Se],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[Ie,[Ne,Se],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>i}],"filter-id->":[Ie,[Se],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[Ie,[Ne,Se],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Ie,[Se],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[Ie,[Ne,Se],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Ie,[Se],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[Ie,[Se],(r,[e])=>e.value in r.properties()],"filter-has-id":[Ie,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Ie,[yr(Ne)],(r,[e])=>e.value.indexOf(r.geometryType())>=0],"filter-id-in":[Ie,[yr(Se)],(r,[e])=>e.value.indexOf(r.id())>=0],"filter-in-small":[Ie,[Ne,yr(Se)],(r,[e,t])=>t.value.indexOf(r.properties()[e.value])>=0],"filter-in-large":[Ie,[Ne,yr(Se)],(r,[e,t])=>rT(r.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Ie,overloads:[[[Ie,Ie],(r,[e,t])=>e.evaluate(r)&&t.evaluate(r)],[wi(Ie),(r,e)=>{for(const t of e)if(!t.evaluate(r))return!1;return!0}]]},any:{type:Ie,overloads:[[[Ie,Ie],(r,[e,t])=>e.evaluate(r)||t.evaluate(r)],[wi(Ie),(r,e)=>{for(const t of e)if(t.evaluate(r))return!0;return!1}]]},"!":[Ie,[Ie],(r,[e])=>!e.evaluate(r)],"is-supported-script":[Ie,[Ne],(r,[e])=>{const t=r.globals&&r.globals.isSupportedScript;return t?t(e.evaluate(r)):!0}],upcase:[Ne,[Ne],(r,[e])=>e.evaluate(r).toUpperCase()],downcase:[Ne,[Ne],(r,[e])=>e.evaluate(r).toLowerCase()],concat:[Ne,wi(Se),(r,e)=>e.map(t=>va(t.evaluate(r))).join("")],"resolved-locale":[Ne,[hc],(r,[e])=>e.evaluate(r).resolvedLocale()]});function nT(r){return Array.isArray(r)?`(${r.map(ht).join(", ")})`:`(${ht(r.type)}...)`}function Pl(r){if(r instanceof kc)return Pl(r.boundExpression);if(r instanceof Gr&&r.name==="error"||r instanceof xc||r instanceof zi||r instanceof $i||r instanceof us)return!1;const e=r instanceof si||r instanceof zr;let t=!0;return r.eachChild(n=>{e?t=t&&Pl(n):t=t&&n instanceof Do}),t?rp(r)&&ip(r,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function rp(r){if(r instanceof Gr&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof zi||r instanceof $i)return!1;let e=!0;return r.eachChild(t=>{e&&!rp(t)&&(e=!1)}),e}function np(r){if(r instanceof Gr&&r.name==="feature-state")return!1;let e=!0;return r.eachChild(t=>{e&&!np(t)&&(e=!1)}),e}function ip(r,e){if(r instanceof Gr&&e.indexOf(r.name)>=0)return!1;let t=!0;return r.eachChild(n=>{t&&!ip(n,e)&&(t=!1)}),t}function _d(r){return{result:"success",value:r}}function mo(r){return{result:"error",value:r}}function iT(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function oT(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function aT(r){return!!r.expression&&r.expression.interpolated}function x1(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&St(r)===Fi}class sT{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new h1,this._defaultValue=t?dT(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,o,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new mt(`Expected value to be one of ${Object.keys(this._enumValues).map(l=>JSON.stringify(l)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}}function lT(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in tp}function w1(r,e){const t=new yc(tp,Pl,[],e?uT(e):void 0),n=t.parse(r,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?_d(new sT(n,e)):mo(t.errors)}class cf{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!np(t.expression),this.globalStateRefs=_c(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}}class uf{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!np(t.expression),this.globalStateRefs=_c(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}interpolationFactor(e,t,n){return this.interpolationType?hn.interpolationFactor(this.interpolationType,e,t,n):0}}function cT(r,e){const t=w1(r,e);if(t.result==="error")return t;const n=t.value.expression,i=rp(n);if(!i&&!iT(e))return mo([new nn("","data expressions not supported")]);const o=ip(n,["zoom"]);if(!o&&!oT(e))return mo([new nn("","zoom expressions not supported")]);const a=al(n);if(!a&&!o)return mo([new nn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof nn)return mo([a]);if(a instanceof hn&&!aT(e))return mo([new nn("",'"interpolate" expressions cannot be used with this property')]);if(!a)return _d(i?new cf("constant",t.value):new cf("source",t.value));const s=a instanceof hn?a.interpolation:void 0;return _d(i?new uf("camera",t.value,a.labels,s):new uf("composite",t.value,a.labels,s))}function al(r){let e=null;if(r instanceof vc)e=al(r.result);else if(r instanceof Ba){for(const t of r.args)if(e=al(t),e)break}else(r instanceof bc||r instanceof hn)&&r.input instanceof Gr&&r.input.name==="zoom"&&(e=r);return e instanceof nn||r.eachChild(t=>{const n=al(t);n instanceof nn?e=n:!e&&n?e=new nn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new nn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function _c(r,e=new Set){return r instanceof us&&e.add(r.key),r.eachChild(t=>{_c(t,e)}),e}function uT(r){const e={color:dn,string:Ne,number:K,enum:Ne,boolean:Ie,formatted:pc,padding:gc,numberArray:fc,colorArray:za,projectionDefinition:dc,resolvedImage:ss,variableAnchorOffsetCollection:mc};return r.type==="array"?yr(e[r.value]||Se,r.length):e[r.type]}function dT(r){if(r.type==="color"&&x1(r.default))return new pt(0,0,0,0);switch(r.type){case"color":return pt.parse(r.default)||null;case"padding":return $r.parse(r.default)||null;case"numberArray":return Ur.parse(r.default)||null;case"colorArray":return di.parse(r.default)||null;case"variableAnchorOffsetCollection":return Qo.parse(r.default)||null;case"projectionDefinition":return qr.parse(r.default)||null;default:return r.default===void 0?null:r.default}}function _1(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const e of r.slice(1))if(!_1(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const hT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pT(r){if(r==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};_1(r)||(r=Nl(r));const e=w1(r,hT);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=T1(r);return{filter:(n,i,o)=>e.value.evaluate(n,i,{},o),needGeometry:t,getGlobalStateRefs:()=>_c(e.value.expression)}}}function gT(r,e){return r<e?-1:r>e?1:0}function T1(r){if(!Array.isArray(r))return!1;if(r[0]==="within"||r[0]==="distance")return!0;for(let e=1;e<r.length;e++)if(T1(r[e]))return!0;return!1}function Nl(r){if(!r)return!0;const e=r[0];return r.length<=1?e!=="any":e==="=="?mu(r[1],r[2],"=="):e==="!="?Fs(mu(r[1],r[2],"==")):e==="<"||e===">"||e==="<="||e===">="?mu(r[1],r[2],e):e==="any"?fT(r.slice(1)):e==="all"?["all"].concat(r.slice(1).map(Nl)):e==="none"?["all"].concat(r.slice(1).map(Nl).map(Fs)):e==="in"?df(r[1],r.slice(2)):e==="!in"?Fs(df(r[1],r.slice(2))):e==="has"?hf(r[1]):e==="!has"?Fs(hf(r[1])):!0}function mu(r,e,t){switch(r){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,r,e]}}function fT(r){return["any"].concat(r.map(Nl))}function df(r,e){if(e.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",r,["literal",e.sort(gT)]]:["filter-in-small",r,["literal",e]]}}function hf(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Fs(r){return["!",r]}function Ha(r){return typeof r=="object"?["literal",r]:r}function mT(r,e){let t=r.stops;if(!t)return yT(r,e);const n=t&&typeof t[0][0]=="object",i=n||r.property!==void 0,o=n||!i;return t=t.map(a=>!i&&e.tokens&&typeof a[1]=="string"?[a[0],xT(a[1])]:[a[0],Ha(a[1])]),n?vT(r,e,t):o?bT(r,e,t):Td(r,e,t)}function yT(r,e){const t=["get",r.property];if(r.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,r.default];{const n=[e.type==="color"?"to-color":e.type,t,Ha(r.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function op(r){switch(r.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function vT(r,e,t){const n={},i={},o=[];for(let a=0;a<t.length;a++){const s=t[a],l=s[0].zoom;n[l]===void 0&&(n[l]={zoom:l,type:r.type,property:r.property,default:r.default},i[l]=[],o.push(l)),i[l].push([s[0].value,s[1]])}if(sp({},e)==="exponential"){const a=[op(r),["linear"],["zoom"]];for(const s of o){const l=Td(n[s],e,i[s]);Mo(a,s,l,!1)}return a}else{const a=["step",["zoom"]];for(const s of o){const l=Td(n[s],e,i[s]);Mo(a,s,l,!0)}return ap(a),a}}function kT(r,e){if(r!==void 0)return r;if(e!==void 0)return e}function pf(r,e){const t=Ha(kT(r.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function Td(r,e,t){const n=sp(r,e),i=["get",r.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const a of t)o.push(["==",i,a[0]],a[1]);return o.push(pf(r,e)),o}else if(n==="categorical"){const o=["match",i];for(const a of t)Mo(o,a[0],a[1],!1);return o.push(pf(r,e)),o}else if(n==="interval"){const o=["step",["number",i]];for(const a of t)Mo(o,a[0],a[1],!0);return ap(o),r.default===void 0?o:["case",["==",["typeof",i],"number"],o,Ha(r.default)]}else if(n==="exponential"){const o=r.base!==void 0?r.base:1,a=[op(r),o===1?["linear"]:["exponential",o],["number",i]];for(const s of t)Mo(a,s[0],s[1],!1);return r.default===void 0?a:["case",["==",["typeof",i],"number"],a,Ha(r.default)]}else throw new Error(`Unknown property function type ${n}`)}function bT(r,e,t,n=["zoom"]){const i=sp(r,e);let o,a=!1;if(i==="interval")o=["step",n],a=!0;else if(i==="exponential"){const s=r.base!==void 0?r.base:1;o=[op(r),s===1?["linear"]:["exponential",s],n]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of t)Mo(o,s[0],s[1],a);return ap(o),o}function ap(r){r[0]==="step"&&r.length===3&&(r.push(0),r.push(r[3]))}function Mo(r,e,t,n){r.length>3&&e===r[r.length-2]||(n&&r.length===2||r.push(e),r.push(t))}function sp(r,e){return r.type?r.type:e.expression.interpolated?"exponential":"interval"}function xT(r){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let i=t.exec(r);i!==null;i=t.exec(r)){const o=r.slice(n,t.lastIndex-i[0].length);n=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return r;if(n<r.length)e.push(r.slice(n));else if(e.length===2)return["to-string",e[1]];return e}const wT=Z5,_T={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},TT={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},CT=function(r,e){const t=cT(r,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},Cd={},Dl={zoom:0};let js,yu;function pe(r,e,t,n,i,o,a){const s=r.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});const l=o[s];if(!l[t]){let c=(r[e]||Cd)[t];const u=wT[`${e}_${r.type}`][t];c===void 0&&(c=u.default);let d=lT(c);if(!d&&x1(c)&&(c=mT(c,u),d=!0),d){const h=CT(c,u);l[t]=h.evaluate.bind(h)}else u.type=="color"&&(c=pt.parse(c)),l[t]=function(){return c}}return Dl.zoom=n,l[t](Dl,i,a)}function gf(r,e,t,n,i){return pe(r,"layout",`${n}-allow-overlap`,e,t,i)?pe(r,"layout",`${n}-ignore-placement`,e,t,i)?"none":"obstacle":"declutter"}function ET(r,e,t,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),r in i||(i[r]=pT(e).filter),Dl.zoom=n,i[r](Dl,t)}function Jn(r,e){if(r){if(r.a===0||e===0)return;const t=r.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(r.r*255/t)+","+Math.round(r.g*255/t)+","+Math.round(r.b*255/t)+","+t*e+")"}return r}const MT=/\{[^{}}]*\}/g;function vu(r,e){return r.replace(MT,function(t){return e[t.slice(1,-1)]||""})}const ST={};function C1(r,e,t,n=un,i=void 0,o=void 0,a=void 0,s=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");ST[Pb(e,r)]=Array.from(arguments);let l,c,u;o&&o0(()=>o).then(async F=>{let le;if(typeof Image<"u"){const oe=new Image;if(typeof F=="string")oe.crossOrigin="anonymous",oe.src=F;else{let ge;F instanceof Request?ge=await fetch(F):F instanceof Response&&(ge=F);const $=await ge.blob();le=URL.createObjectURL($),oe.src=le}oe.addEventListener("load",function ge(){oe.removeEventListener("load",ge),l=oe,c=[oe.width,oe.height],r.changed(),le&&URL.revokeObjectURL(le)}),oe.addEventListener("error",function ge(){URL.revokeObjectURL(le),oe.removeEventListener("error",ge)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const oe=self;oe.postMessage({action:"loadImage",src:F}),oe.addEventListener("message",function(ge){ge.data.action==="imageLoaded"&&ge.data.src===F&&(l=ge.data.image,c=[l.width,l.height])})}});const d=t1(e.layers),h={},p=[],f={},y={},m=Wm(e),b=Nb(e);let k;for(let F=0,le=d.length;F<le;++F){const oe=d[F],ge=oe.id;if(typeof t=="string"&&oe.source==t||Array.isArray(t)&&t.indexOf(ge)!==-1){const $=oe["source-layer"];if(k){if(oe.source!==k)throw new Error(`Layer "${ge}" does not use source "${k}`)}else{k=oe.source;const te=e.sources[k];if(!te)throw new Error(`Source "${k}" is not defined`);const S=te.type;if(S!=="vector"&&S!=="geojson")throw new Error(`Source "${k}" is not of type "vector" or "geojson", but "${S}"`)}let q=h[$];q||(q=[],h[$]=q),q.push({layer:oe,index:F}),p.push(ge)}}const C=new Lr,T=new ln,E=[],R=function(F,le,oe){const ge=F.getProperties(),$=h[ge.layer];if(!$)return;let q=n.indexOf(le);q==-1&&(q=eh(le,n));const te=_T[F.getGeometry().getType()],S={id:F.getId(),properties:ge,type:te},H=r.get("mapbox-featurestate")[F.getId()];let ne=-1;for(let X=0,me=$.length;X<me;++X){const Be=$[X],B=Be.layer,wt=B.id;if(oe!==void 0&&oe!==wt)continue;const rt=B.layout||Cd,Tt=B.paint||Cd;if(rt.visibility==="none"||"minzoom"in B&&q<B.minzoom||"maxzoom"in B&&q>=B.maxzoom)continue;const rr=B.filter;if(!rr||ET(wt,rr,S,q,b)){let kt,bt,Qe,et,Fe,Y;const Tr=Be.index;if(te==3&&(B.type=="fill"||B.type=="fill-extrusion"))if(bt=pe(B,"paint",B.type+"-opacity",q,S,m,H),B.type+"-pattern"in Tt){const J=pe(B,"paint",B.type+"-pattern",q,S,m,H);if(J){const ae=typeof J=="string"?vu(J,ge):J.toString();if(l&&i&&i[ae]){++ne,Y=E[ne],(!Y||!Y.getFill()||Y.getStroke()||Y.getText())&&(Y=new Pt({fill:new ln}),E[ne]=Y),Qe=Y.getFill(),Y.setZIndex(Tr);const de=ae+"."+bt;let ke=y[de];if(!ke){const ce=i[ae],_e=Db(ce.width,ce.height),Me=_e.getContext("2d");Me.globalAlpha=bt,Me.drawImage(l,ce.x,ce.y,ce.width,ce.height,0,0,ce.width,ce.height),ke=Me.createPattern(_e,"repeat"),y[de]=ke}Qe.setColor(ke)}}}else kt=Jn(pe(B,"paint",B.type+"-color",q,S,m,H),bt),B.type+"-outline-color"in Tt&&(Fe=Jn(pe(B,"paint",B.type+"-outline-color",q,S,m,H),bt)),Fe||(Fe=kt),(kt||Fe)&&(++ne,Y=E[ne],(!Y||kt&&!Y.getFill()||!kt&&Y.getFill()||Fe&&!Y.getStroke()||!Fe&&Y.getStroke()||Y.getText())&&(Y=new Pt({fill:kt?new ln:void 0,stroke:Fe?new Lr:void 0}),E[ne]=Y),kt&&(Qe=Y.getFill(),Qe.setColor(kt)),Fe&&(et=Y.getStroke(),et.setColor(Fe),et.setWidth(.5)),Y.setZIndex(Tr));if(te!=1&&B.type=="line"){"line-pattern"in Tt?kt=void 0:kt=Jn(pe(B,"paint","line-color",q,S,m,H),pe(B,"paint","line-opacity",q,S,m,H));const J=pe(B,"paint","line-width",q,S,m,H);kt&&J>0&&(++ne,Y=E[ne],(!Y||!Y.getStroke()||Y.getFill()||Y.getText())&&(Y=new Pt({stroke:new Lr}),E[ne]=Y),et=Y.getStroke(),et.setLineCap(pe(B,"layout","line-cap",q,S,m,H)),et.setLineJoin(pe(B,"layout","line-join",q,S,m,H)),et.setMiterLimit(pe(B,"layout","line-miter-limit",q,S,m,H)),et.setColor(kt),et.setWidth(J),et.setLineDash(Tt["line-dasharray"]?pe(B,"paint","line-dasharray",q,S,m,H).map(function(ae){return ae*J}):null),Y.setZIndex(Tr))}let x=!1,w=null,L=0,z,P,j;if((te==1||te==2)&&"icon-image"in rt){const J=pe(B,"layout","icon-image",q,S,m,H);if(J){z=typeof J=="string"?vu(J,ge):J.toString();let ae;const de=s?s(r,z):void 0;if(l&&i&&i[z]||de){const ke=pe(B,"layout","icon-rotation-alignment",q,S,m,H);if(te==2){const ce=F.getGeometry();if(ce.getFlatMidpoint||ce.getFlatMidpoints){const _e=ce.getExtent();if(Math.sqrt(Math.max(Math.pow((_e[2]-_e[0])/le,2),Math.pow((_e[3]-_e[1])/le,2)))>150){const Me=ce.getType()==="MultiLineString"?ce.getFlatMidpoints():ce.getFlatMidpoint();if(yu||(js=[NaN,NaN],yu=new dr("Point",js,[],2,{},void 0)),ae=yu,js[0]=Me[0],js[1]=Me[1],pe(B,"layout","symbol-placement",q,S,m,H)==="line"&&ke==="map"){const ze=ce.getStride(),Ve=ce.getFlatCoordinates();for(let gt=0,Vt=Ve.length-ze;gt<Vt;gt+=ze){const tt=Ve[gt],Re=Ve[gt+1],Ot=Ve[gt+ze],At=Ve[gt+ze+1],Cr=Math.min(tt,Ot),Rt=Math.max(tt,Ot),Kr=Me[0],vs=Me[1],na=(At-Re)*(Kr-tt)-(Ot-tt)*(vs-Re);if(Math.abs(na)<.001&&Kr<=Rt&&Kr>=Cr){L=Math.atan2(Re-At,Ot-tt);break}}}}}}if(te!==2||ae){const ce=pe(B,"layout","icon-size",q,S,m,H),_e=Tt["icon-color"]!==void 0?pe(B,"paint","icon-color",q,S,m,H):null;if(!_e||_e.a!==0){const Me=pe(B,"paint","icon-halo-color",q,S,m,H),ze=pe(B,"paint","icon-halo-width",q,S,m,H);let Ve=`${z}.${ce}.${ze}.${Me}`;if(_e!==null&&(Ve+=`.${_e}`),P=f[Ve],!P){const gt=gf(B,q,S,"icon",m);let Vt;"icon-offset"in rt&&(Vt=pe(B,"layout","icon-offset",q,S,m,H).slice(0),Vt[0]*=ce,Vt[1]*=-ce);let tt=_e?[_e.r*255,_e.g*255,_e.b*255,_e.a]:void 0;if(de){const Re={color:tt,rotateWithView:ke==="map",displacement:Vt,declutterMode:gt,scale:ce};typeof de=="string"?Re.src=de:(Re.img=de,Re.imgSize=[de.width,de.height]),P=new gi(Re)}else{const Re=i[z];let Ot,At,Cr;ze?Re.sdf?(Ot=og(ag(l,Re,_e||[0,0,0,1]),{x:0,y:0,width:Re.width,height:Re.height,pixelRatio:Re.pixelRatio},ze,Me),tt=void 0):Ot=og(l,Re,ze,Me):(Re.sdf?(u||(u=ag(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1})),Ot=u):Ot=l,At=[Re.width,Re.height],Cr=[Re.x,Re.y]),P=new gi({color:tt,img:Ot,imgSize:c,size:At,offset:Cr,rotateWithView:ke==="map",scale:ce/Re.pixelRatio,displacement:Vt,declutterMode:gt})}f[Ve]=P}}P&&(++ne,Y=E[ne],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ne]=Y),Y.setGeometry(ae),P.setRotation(L+Jc(pe(B,"layout","icon-rotate",q,S,m,H))),P.setOpacity(pe(B,"paint","icon-opacity",q,S,m,H)),P.setAnchor(TT[pe(B,"layout","icon-anchor",q,S,m,H)]),Y.setImage(P),w=Y.getText(),Y.setText(void 0),Y.setZIndex(Tr),x=!0,j=!1)}else j=!0}}}if(te==1&&B.type==="circle"){++ne,Y=E[ne],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ne]=Y);const J="circle-radius"in Tt?pe(B,"paint","circle-radius",q,S,m,H):5,ae=Jn(pe(B,"paint","circle-stroke-color",q,S,m,H),pe(B,"paint","circle-stroke-opacity",q,S,m,H)),de=pe(B,"paint","circle-translate",q,S,m,H),ke=Jn(pe(B,"paint","circle-color",q,S,m,H),pe(B,"paint","circle-opacity",q,S,m,H)),ce=pe(B,"paint","circle-stroke-width",q,S,m,H),_e=J+"."+ae+"."+ke+"."+ce+"."+de[0]+"."+de[1];P=f[_e],P||(P=new ah({radius:J,displacement:[de[0],-de[1]],stroke:ae&&ce>0?new Lr({width:ce,color:ae}):void 0,fill:ke?new ln({color:ke}):void 0,declutterMode:"none"}),f[_e]=P),Y.setImage(P),w=Y.getText(),Y.setText(void 0),Y.setGeometry(void 0),Y.setZIndex(Tr),x=!0}let V,W,Z,D,fe,re;if("text-field"in rt){D=Math.round(pe(B,"layout","text-size",q,S,m,H));const J=pe(B,"layout","text-font",q,S,m,H);Z=pe(B,"layout","text-line-height",q,S,m,H),W=sg(a?a(J,e.metadata?e.metadata["ol:webfonts"]:void 0):J,D,Z),W.includes("sans-serif")||(W+=",sans-serif"),fe=pe(B,"layout","text-letter-spacing",q,S,m,H),re=pe(B,"layout","text-max-width",q,S,m,H);const ae=pe(B,"layout","text-field",q,S,m,H);typeof ae=="object"&&ae.sections?ae.sections.length===1?V=ae.toString():V=ae.sections.reduce((de,ke,ce)=>{const _e=ke.fontStack?ke.fontStack.split(","):J,Me=sg(a?a(_e):_e,D*(ke.scale||1),Z);let ze=ke.text;if(ze===`
`)return de.push(`
`,""),de;if(te==2)return de.push(lg(ze,fe),Me),de;ze=cg(ze,Me,re,fe).split(`
`);for(let Ve=0,gt=ze.length;Ve<gt;++Ve)Ve>0&&de.push(`
`,""),de.push(ze[Ve],Me);return de},[]):V=vu(ae,ge).trim(),bt=pe(B,"paint","text-opacity",q,S,m,H)}if(V&&bt&&!j){x||(++ne,Y=E[ne],(!Y||!Y.getText()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ne]=Y),Y.setImage(void 0),Y.setGeometry(void 0));const J=gf(B,q,S,"text",m);Y.getText()||Y.setText(w),w=Y.getText(),(!w||"getDeclutterMode"in w&&w.getDeclutterMode()!==J)&&(w=new nl({padding:[2,2,2,2],declutterMode:J}),Y.setText(w));const ae=pe(B,"layout","text-transform",q,S,m,H);ae=="uppercase"?V=Array.isArray(V)?V.map((Rt,Kr)=>Kr%2?Rt:Rt.toUpperCase()):V.toUpperCase():ae=="lowercase"&&(V=Array.isArray(V)?V.map((Rt,Kr)=>Kr%2?Rt:Rt.toLowerCase()):V.toLowerCase());const de=Array.isArray(V)?V:te==2?lg(V,fe):cg(V,W,re,fe);if(w.setText(de),w.setFont(W),w.setRotation(Jc(pe(B,"layout","text-rotate",q,S,m,H))),typeof w.setKeepUpright=="function"){const Rt=pe(B,"layout","text-keep-upright",q,S,m,H);w.setKeepUpright(Rt)}const ke=pe(B,"layout","text-anchor",q,S,m,H),ce=x||te==1?"point":pe(B,"layout","symbol-placement",q,S,m,H);let _e;if(ce==="line-center"?(w.setPlacement("line"),_e="center"):w.setPlacement(ce),ce==="line"&&typeof w.setRepeat=="function"){const Rt=pe(B,"layout","symbol-spacing",q,S,m,H);w.setRepeat(Rt*2)}w.setOverflow(ce==="point");let Me=pe(B,"paint","text-halo-width",q,S,m,H);const ze=pe(B,"layout","text-offset",q,S,m,H),Ve=pe(B,"paint","text-translate",q,S,m,H);let gt=0,Vt=0;if(ce=="point"){_e="center",ke.indexOf("left")!==-1?(_e="left",Vt=Me):ke.indexOf("right")!==-1&&(_e="right",Vt=-Me);const Rt=pe(B,"layout","text-rotation-alignment",q,S,m,H);w.setRotateWithView(Rt=="map")}else w.setMaxAngle(Jc(pe(B,"layout","text-max-angle",q,S,m,H))*V.length/de.length),w.setRotateWithView(!1);w.setTextAlign(_e);let tt="middle";ke.indexOf("bottom")==0?(tt="bottom",gt=-Me-.5*(Z-1)*D):ke.indexOf("top")==0&&(tt="top",gt=Me+.5*(Z-1)*D),w.setTextBaseline(tt);const Re=pe(B,"layout","text-justify",q,S,m,H);w.setJustify(Re==="auto"?void 0:Re),w.setOffsetX(ze[0]*D+Vt+Ve[0]),w.setOffsetY(ze[1]*D+gt+Ve[1]),T.setColor(Jn(pe(B,"paint","text-color",q,S,m,H),bt)),w.setFill(T);const Ot=Jn(pe(B,"paint","text-halo-color",q,S,m,H),bt);if(Ot&&Me>0){C.setColor(Ot),Me*=2;const Rt=.5*D;C.setWidth(Me<=Rt?Me:Rt),w.setStroke(C)}else w.setStroke(void 0);const At=pe(B,"layout","text-padding",q,S,m,H),Cr=w.getPadding();At!==Cr[0]&&(Cr[0]=At,Cr[1]=At,Cr[2]=At,Cr[3]=At),Y.setZIndex(Tr)}}}if(ne>-1)return E.length=ne+1,E};return r.setStyle(R),r.set("mapbox-source",k),r.set("mapbox-layers",p),r.set("mapbox-featurestate",r.get("mapbox-featurestate")||{}),R}function E1(r){return function(e){const t=e.buffers,n=e.meta,i=e.imageOps,o=e.width,a=e.height,s=t.length,l=t[0].byteLength;if(i){const h=new Array(s);for(let p=0;p<s;++p)h[p]=new ImageData(new Uint8ClampedArray(t[p]),o,a);return r(h,n).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(s),d=new Array(s);for(let h=0;h<s;++h)u[h]=new Uint8ClampedArray(t[h]),d[h]=[0,0,0,0];for(let h=0;h<l;h+=4){for(let f=0;f<s;++f){const y=u[f];d[f][0]=y[h],d[f][1]=y[h+1],d[f][2]=y[h+2],d[f][3]=y[h+3]}const p=r(d,n);c[h]=p[0],c[h+1]=p[1],c[h+2]=p[2],c[h+3]=p[3]}return c.buffer}}function LT(r,e){const t=Object.keys(r.lib||{}).map(function(i){return"const "+i+" = "+r.lib[i].toString()+";"}).concat(["const __minion__ = ("+E1.toString()+")(",r.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(t.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(t,{type:"text/javascript"})));return n.addEventListener("message",e),n}function IT(r,e){const t=E1(r.operation);let n=!1;return{postMessage:function(i){setTimeout(function(){n||e({data:{buffer:t(i),meta:i.meta}})},0)},terminate:function(){n=!0}}}class AT extends lh{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const n=new Array(t);if(t)for(let i=0;i<t;++i)n[i]=LT(e,this.onWorkerMessage_.bind(this,i));else n[0]=IT(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,i=e.inputs.map(function(l){return l.data.buffer}),o=this.workers_.length;if(this.running_=o,o===1){this.workers_[0].postMessage({buffers:i,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},i);return}const a=e.inputs[0].data.length,s=4*Math.ceil(a/4/o);for(let l=0;l<o;++l){const c=l*s,u=[];for(let d=0,h=i.length;d<h;++d)u.push(i[d].slice(c,c+s));this.workers_[l].postMessage({buffers:u,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},u)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,i;if(t===1)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),i=this.dataLookup_[0].meta;else{const o=e.inputs[0].data.length;n=new Uint8ClampedArray(o),i=new Array(t);const a=4*Math.ceil(o/4/t);for(let s=0;s<t;++s){const l=this.dataLookup_[s].buffer,c=s*a;n.set(new Uint8ClampedArray(l),c),i[s]=this.dataLookup_[s].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),i),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const ff={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class mf extends Nr{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class M1 extends oc{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=DT(e.sources);const t=this.changed.bind(this);for(let n=0,i=this.layers_.length;n<i;++n)this.layers_[n].addEventListener(Oe.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new T0(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Aa(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:NT(this.layers_),pixelRatio:1,pixelToCoordinateTransform:Aa(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:Ue(this),renderTargets:{}},this.setAttributions(function(n){const i=[];for(let o=0,a=e.sources.length;o<a;++o){const s=e.sources[o],l=s instanceof Ho?s:s.getSource();if(!l)continue;const c=l.getAttributions()?.(n);typeof c=="string"?i.push(c):c!==void 0&&i.push(...c)}return i}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new AT({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);const o=Gn(e);i.size[0]=Math.ceil(Xt(e)/t),i.size[1]=Math.ceil(Dn(e)/t),i.extent=[o[0]-i.size[0]*t/2,o[1]-i.size[1]*t/2,o[0]+i.size[0]*t/2,o[1]+i.size[1]*t/2],i.time=Date.now();const a=i.viewState;return a.center=o,a.projection=n,a.resolution=t,i}allSourcesReady_(){let e=!0,t;for(let n=0,i=this.layers_.length;n<i;++n)if(t=this.layers_[n].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,n,i){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const o=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=o,this.renderedImageCanvas_){const a=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();(t!==a||!Vi(o.extent,s))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),o.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let o=0;o<t;++o){e.layerIndex=o,e.renderTargets={};const a=PT(this.layers_[o],e);if(a)n[o]=a;else return}const i={};this.dispatchEvent(new mf(ff.BEFOREOPERATIONS,e,i)),this.processor_.process(n,i,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,i){if(t||!n)return;const o=e.extent,a=e.viewState.resolution;if(a!==this.requestedFrameState_.viewState.resolution||!Vi(o,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{const l=Math.round(Xt(o)/a),c=Math.round(Dn(o)/a);s=Da(l,c),this.renderedImageCanvas_=new kx(o,a,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new mf(ff.AFTEROPERATIONS,e,i))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,i=this.layers_.length;n<i&&(t=this.layers_[n].getSource().getResolutions(e),!t);++n);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}M1.prototype.dispose;let _i=null;function PT(r,e){const t=r.getRenderer();if(!t)throw new Error("Unsupported layer type: "+r);if(!t.prepareFrame(e))return null;const n=e.size[0],i=e.size[1];if(n===0||i===0)return null;const o=t.renderFrame(e,null);let a;if(o instanceof HTMLCanvasElement)a=o;else{if(o&&(a=o.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+a);if(a.width===n&&a.height===i)return a.getContext("2d").getImageData(0,0,n,i)}if(!_i)_i=Da(n,i,void 0,{willReadFrequently:!0});else{const s=_i.canvas;s.width!==n||s.height!==i?_i=Da(n,i,void 0,{willReadFrequently:!0}):_i.clearRect(0,0,n,i)}return _i.drawImage(a,0,0,n,i),_i.getImageData(0,0,n,i)}function NT(r){return r.map(function(e){return e.getLayerState()})}function DT(r){const e=r.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=OT(r[n]);return t}function OT(r){let e;return r instanceof Ho?r instanceof N0?e=new ro({source:r}):r instanceof oc&&(e=new os({source:r})):e=r,e}function RT(r,e,t,n){const i=document.createElement("script"),o="olc_"+Ue(e);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=r+(r.includes("?")?"&":"?")+"callback="+o;const s=setTimeout(function(){a(),t&&t()},1e4);window[o]=function(l){clearTimeout(s),a(),e(l)},document.head.appendChild(i)}class S1 extends ic{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:ve("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)RT(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let n;try{n=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=ve("EPSG:4326"),n=this.getProjection();let i;if(e.bounds!==void 0){const c=qb(t,n);i=zb(e.bounds,c)}const o=as(n),a=e.minzoom||0,s=e.maxzoom||22,l=Ah({extent:o,maxZoom:s,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=Ph(e.tiles,l),e.attribution&&!this.getAttributions()){const c=i!==void 0?i:o;this.setAttributions(function(u){return jo(c,u.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}function FT(r,e){const t=r[0],n=t.width,i=t.height,o=t.data,a=new Uint8ClampedArray(o.length),s=e.resolution*2,l=n-1,c=i-1,u=[0,0,0,0],d=2*Math.PI,h=Math.PI/2,p=Math.PI*e.sunEl/180,f=Math.PI*e.sunAz/180,y=Math.cos(p),m=Math.sin(p),b=e.highlightColor,k=e.shadowColor,C=e.accentColor,T=e.encoding;let E,R,F,le,oe,ge,$,q,te,S,H,ne,X,me,Be,B,wt,rt,Tt,rr,kt,bt;function Qe(et,Fe="mapbox"){if(Fe==="mapbox")return(et[0]*256*256+et[1]*256+et[2])*.1-1e4;if(Fe==="terrarium")return et[0]*256+et[1]+et[2]/256-32768}for(R=0;R<=c;++R)for(oe=R===0?0:R-1,ge=R===c?c:R+1,E=0;E<=l;++E)F=E===0?0:E-1,le=E===l?l:E+1,$=(R*n+F)*4,u[0]=o[$],u[1]=o[$+1],u[2]=o[$+2],u[3]=o[$+3],q=e.vert*Qe(u,T),$=(R*n+le)*4,u[0]=o[$],u[1]=o[$+1],u[2]=o[$+2],u[3]=o[$+3],te=e.vert*Qe(u,T),S=(te-q)/s,$=(oe*n+E)*4,u[0]=o[$],u[1]=o[$+1],u[2]=o[$+2],u[3]=o[$+3],q=e.vert*Qe(u,T),$=(ge*n+E)*4,u[0]=o[$],u[1]=o[$+1],u[2]=o[$+2],u[3]=o[$+3],te=e.vert*Qe(u,T),H=(te-q)/s,X=Math.atan2(H,-S),X<0?X=h-X:X>h?X=d-X+h:X=h-X,ne=Math.atan(Math.sqrt(S*S+H*H)),bt=m*Math.cos(ne)+y*Math.sin(ne)*Math.cos(f-X),me=Math.cos(ne),Be=255*bt,Tt=Math.min(Math.max(2*e.sunEl,0),1),rr=1.875-e.opacity*1.75,kt=e.opacity!==.5?h*((Math.pow(rr,ne)-1)/(Math.pow(rr,h)-1)):ne,wt={r:(1-me)*C.r*Tt*255,g:(1-me)*C.g*Tt*255,b:(1-me)*C.b*Tt*255,a:(1-me)*C.a*Tt*255},B=Math.abs(((X+f)/Math.PI+.5)%2-1),rt={r:(b.r*(1-B)+k.r*B)*Be,g:(b.g*(1-B)+k.g*B)*Be,b:(b.b*(1-B)+k.b*B)*Be,a:(b.a*(1-B)+k.a*B)*Be},$=(R*n+E)*4,a[$]=wt.r*(1-B)+rt.r,a[$+1]=wt.g*(1-B)+rt.g,a[$+2]=wt.b*(1-B)+rt.b,a[$+3]=o[$+3]*e.opacity*Tt*Math.sin(kt);return new ImageData(a,n,i)}function jT(r,e=512){return r.getExtent()?Ah({extent:r.getExtent(),tileSize:e,maxZoom:22}).getResolutions():un}function L1(r,e){return e.accessToken||(e=Object.assign({},e),new URL(r).searchParams.forEach((t,n)=>{e.accessToken=t,e.accessTokenParam=n})),e}function qT(r,e,t="",n={},i=void 0){let o,a,s,l,c=!0;return typeof t!="string"&&!Array.isArray(t)?(s=t,l=s.source||s.layers,n=s):l=t,typeof n=="string"?(o=n,s={}):(o=n.styleUrl,s=n),s.updateSource===!1&&(c=!1),i||(i=s.resolutions),!o&&typeof e=="string"&&!e.trim().startsWith("{")&&(o=e),o&&(o=o.startsWith("data:")?location.href:Wu(o,s.accessToken),s=L1(o,s)),new Promise(function(u,d){Ym(e,s).then(function(h){if(h.version!=8)return d(new Error("glStyle version 8 required."));if(!(r instanceof lr||r instanceof In))return d(new Error("Can only apply to VectorLayer or VectorTileLayer"));const p=r instanceof In?"vector":"geojson";if(l?Array.isArray(l)?a=h.layers.find(function(T){return T.id===l[0]}).source:a=l:(a=Object.keys(h.sources).find(function(T){return h.sources[T].type===p}),l=a),!a)return d(new Error(`No ${p} source found in the glStyle.`));function f(){if(!c)return Promise.resolve();if(r instanceof In)return P1(h.sources[a],o,s).then(function(F){const le=r.getSource();le?F!==le&&(le.setTileUrlFunction(F.getTileUrlFunction()),typeof le.setUrls=="function"&&typeof F.getUrls=="function"&&le.setUrls(F.getUrls()),le.format_||(le.format_=F.format_),le.getAttributions()||le.setAttributions(F.getAttributions()),le.getTileLoadFunction()===e1&&le.setTileLoadFunction(F.getTileLoadFunction()),$t(le.getProjection(),F.getProjection())&&(le.tileGrid=F.getTileGrid())):r.setSource(F);const oe=r.getSource().getTileGrid();!isFinite(r.getMaxResolution())&&!isFinite(r.getMinZoom())&&oe.getMinZoom()>0&&r.setMaxResolution(ga(Math.max(0,oe.getMinZoom()-1e-12),oe.getResolutions()))});const T=h.sources[a];let E=r.getSource();(!E||E.get("mapbox-source")!==T)&&(E=O1(T,o,s));const R=r.getSource();return R?E!==R&&(R.getAttributions()||R.setAttributions(E.getAttributions()),R.format_||(R.format_=E.getFormat()),R.url_=E.getUrl()):r.setSource(E),Promise.resolve()}let y,m,b,k;function C(){if(!k&&(!h.sprite||m)){if(s.projection&&!i){const T=ve(s.projection).getUnits();T!=="m"&&(i=un.map(E=>E/Pa[T]))}k=C1(r,h,l,i,m,b,(T,E=s.webfonts)=>jb(T,E),s.getImage),r.getStyle()?f().then(u).catch(d):d(new Error(`Nothing to show for source [${a}]`))}else k?(r.setStyle(k),f().then(u).catch(d)):d(new Error("Something went wrong trying to apply style."))}if(h.sprite){const T=new URL(Rb(h.sprite,s.accessToken,o||location.href));y=window.devicePixelRatio>=1.5?.5:1;const E=y==.5?"@2x":"";let R=T.origin+T.pathname+E+".json"+T.search;new Promise(function(F,le){ml("Sprite",R,s).then(F).catch(function(oe){R=T.origin+T.pathname+".json"+T.search,ml("Sprite",R,s).then(F).catch(le)})}).then(function(F){if(F===void 0&&d(new Error("No sprites found.")),m=F,b=T.origin+T.pathname+E+".png"+T.search,s.transformRequest){const le=s.transformRequest(b,"SpriteImage")||b;(le instanceof Request||le instanceof Promise)&&(b=le)}C()}).catch(function(F){d(new Error(`Sprites cannot be loaded: ${R}: ${F.message}`))})}else C()}).catch(d)})}const ni={};function I1(r,e){let t;return r.some(function(n){if(n.id==e)return t=n.source,!0}),t}function zT(r,e){const t=r.bounds;if(t){const n=Ku([t[0],t[1]],e),i=Ku([t[2],t[3]],e);return[n[0],n[1],i[0],i[1]]}return ve(e).getExtent()}function A1(r,e,t){const n=new S1({tileJSON:e,tileSize:r.tileSize||e.tileSize||512}),i=n.getTileJSON(),o=n.getTileGrid(),a=ve(t.projection||"EPSG:3857"),s=zT(i,a),l=a.getExtent(),c=i.minzoom||0,u=i.maxzoom||22,d={attributions:n.getAttributions(),projection:a,tileGrid:new no({origin:l?fl(l):o.getOrigin(0),extent:s||o.getExtent(),minZoom:c,resolutions:jT(a,e.tileSize).slice(0,u+1),tileSize:o.getTileSize(0)})};return Array.isArray(i.tiles)?d.urls=i.tiles:d.url=i.tiles,d}function $T(r,e,t,n){const i={id:r.id,type:r.type},o=r.layout||{},a=r.paint||{};i.paint=a;const s=eh(e,t.resolutions||un);let l;const c=pe(i,"paint","background-color",s,ni,n);return a["background-opacity"]!==void 0&&(l=pe(i,"paint","background-opacity",s,ni,n)),o.visibility=="none"?void 0:Jn(c,l)}function UT(r,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new $o({source:new Ho({}),render(i){const o=$T(r,i.viewState.resolution,e,t);return n.style.backgroundColor=o,n}})}function P1(r,e,t){return new Promise(function(n,i){Km(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=A1(r,o,t);s.tileLoadFunction=a,s.format=new Rh,n(new cc(s))}).catch(i)})}function GT(r,e,t){const n=new In({declutter:!0,visible:!1});return P1(r,e,t).then(function(i){i.set("mapbox-source",r),n.setSource(i)}).catch(function(i){n.setSource(void 0)}),n}function N1(r){return`{bbox-${(r?r.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function BT(r,e,t){return new Promise(function(n,i){Km(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=new S1({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:o});s.tileGrid=A1(r,o,t).tileGrid,t.projection&&(s.projection=ve(t.projection));const l=s.getTileUrlFunction();a&&s.setTileLoadFunction(a),s.setTileUrlFunction(function(c,u,d){const h=N1(d);let p=l(c,u,d);if(p.indexOf(h)!=-1){const f=s.getTileGrid().getTileCoordExtent(c);p=p.replace(h,f.toString())}return p}),s.set("mapbox-source",r),n(s)}).catch(function(o){i(o)})})}function D1(r,e,t){const n=new ro;return BT(r,e,t).then(function(i){n.setSource(i)}).catch(function(){n.setSource(void 0)}),n}function VT(r,e,t){const n=D1(r,e,t);return new os({source:new M1({operationType:"image",operation:FT,sources:[n]})})}function O1(r,e,t){const n=t.projection?new ja({dataProjection:t.projection}):new ja,i=r.data,o={};if(typeof i=="string"){const[s]=Fb(i,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(s)){const c=(d,h,p)=>{const f=N1(p);return s.replace(f,`${d.join(",")}`)},u=new sr({attributions:r.attribution,format:n,loader:(d,h,p,f,y)=>{const m=typeof c=="function"?c(d,h,p):c;ml("GeoJSON",m,t).then(b=>{const k=u.getFormat().readFeatures(b,{featureProjection:p});u.addFeatures(k),f(k)}).catch(b=>{u.removeLoadedExtent(d),y()})},strategy:To});return u.set("mapbox-source",r),u}const l=new sr({attributions:r.attribution,format:n,url:s,loader:(c,u,d,h,p)=>{ml("GeoJSON",s,t).then(f=>{const y=l.getFormat().readFeatures(f,{featureProjection:d});l.addFeatures(y),h(y)}).catch(f=>{l.removeLoadedExtent(c),p()})}});return l}o.features=n.readFeatures(i,{featureProjection:"EPSG:3857"});const a=new sr(Object.assign({attributions:r.attribution,format:n},o));return a.set("mapbox-source",r),a}function HT(r,e,t){return new lr({declutter:!0,source:O1(r,e,t),visible:!1})}function ZT(r,e,t){let n=null;return function(i){r.paint&&"raster-opacity"in r.paint&&i.frameState.viewState.zoom!==n&&(n=i.frameState.viewState.zoom,delete t[r.id],YT(r,e,n,t))}}function YT(r,e,t,n){const i=pe(r,"paint","raster-opacity",t,ni,n);e.setOpacity(i)}function WT(r,e){function t(){const n=e.get("mapbox-style");if(!n)return;const i=t1(n.layers),o=r.get("mapbox-layers"),a=i.filter(function(s){return o.includes(s.id)}).some(function(s){return!s.layout||!s.layout.visibility||s.layout.visibility==="visible"});r.get("visible")!==a&&r.setVisible(a)}r.on("change",t),t()}function KT(r,e,t,n){const i=Wm(r),o=r.layers,a=t.type,s=t.source||I1(o,t.ref),l=r.sources[s];let c;if(a=="background")c=UT(t,n,i);else if(l.type=="vector")c=GT(l,e,n);else if(l.type=="raster")c=D1(l,e,n),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",ZT(t,c,i));else if(l.type=="geojson")c=HT(l,e,n);else if(l.type=="raster-dem"&&t.type=="hillshade"){const d=VT(l,e,n);c=d,d.getSource().on("beforeoperations",function(h){const p=h.data;p.resolution=Ob(n.projection||"EPSG:3857",h.resolution,Gn(h.extent),"m");const f=eh(h.resolution,n.resolutions||un);p.encoding=l.encoding,p.vert=5*pe(t,"paint","hillshade-exaggeration",f,ni,i),p.sunAz=pe(t,"paint","hillshade-illumination-direction",f,ni,i),p.sunEl=35,p.opacity=.3,p.highlightColor=pe(t,"paint","hillshade-highlight-color",f,ni,i),p.shadowColor=pe(t,"paint","hillshade-shadow-color",f,ni,i),p.accentColor=pe(t,"paint","hillshade-accent-color",f,ni,i)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const u=s;return c&&c.set("mapbox-source",u),c}function yf(r,e,t,n){const i=[];let o=null;if(e instanceof fi){if(o=e.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const d=n.projection?ve(n.projection):o.getProjection();o=new En(Object.assign(o.getProperties(),{maxResolution:un[0]/Pa[d.getUnits()],projection:n.projection||o.getProjection()})),e.setView(o)}"center"in r&&!o.getCenter()&&o.setCenter(Ku(r.center,o.getProjection())),"zoom"in r&&o.getZoom()===void 0&&o.setResolution(un[0]/Pa[o.getProjection().getUnits()]/Math.pow(2,r.zoom)),(!o.getCenter()||o.getZoom()===void 0)&&o.fit(o.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",r),e.set("mapbox-metadata",{styleUrl:t,options:n});const a=r.layers;let s=[],l,c,u;for(let d=0,h=a.length;d<h;++d){const p=a[d],f=p.type;if(f=="heatmap"){console.debug(`layers[${d}].type "${f}" not supported`);continue}else u=p.source||I1(a,p.ref),(!u||u!=c)&&(s.length&&(i.push(vf(l,s,r,t,e,n)),s=[]),l=KT(r,t,p,n),l instanceof lr||l instanceof In||(s=[]),c=l.get("mapbox-source")),s.push(p.id)}return i.push(vf(l,s,r,t,e,n)),Promise.all(i)}function QT(r,e,t={}){let n,i;if(typeof r=="string"||r instanceof HTMLElement?i=new fi({target:r}):i=r,typeof e=="string"){const o=e.startsWith("data:")?location.href:Wu(e,t.accessToken);t=L1(o,t),n=new Promise(function(a,s){Ym(e,t).then(function(l){yf(l,i,o,t).then(function(){a(i)}).catch(s)}).catch(function(l){s(new Error(`Could not load ${e}: ${l.message}`))})})}else n=new Promise(function(o,a){yf(e,i,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:Wu(t.styleUrl,t.accessToken),t).then(function(){o(i)}).catch(a)});return n}function vf(r,e,t,n,i,o={}){let a=24,s=0;const l=t.layers;for(let c=0,u=l.length;c<u;++c){const d=l[c];e.indexOf(d.id)!==-1&&(a=Math.min("minzoom"in d?d.minzoom:0,a),s=Math.max("maxzoom"in d?d.maxzoom:24,s))}return new Promise(function(c,u){const d=function(){const p=r.getSource();if(!p||p.getState()==="error"){u(new Error("Error accessing data for source "+r.get("mapbox-source")));return}if("getTileGrid"in p){const f=p.getTileGrid();if(f){const y=f.getMinZoom();(a>0||y>0)&&r.setMaxResolution(Math.min(ga(Math.max(0,a-1e-12),un),ga(Math.max(0,y-1e-12),f.getResolutions()))),s<24&&r.setMinResolution(ga(s,un))}}else a>0&&r.setMaxResolution(ga(Math.max(0,a-1e-12),un));p instanceof sr||p instanceof cc?qT(r,t,e,Object.assign({styleUrl:n},o)).then(function(){WT(r,i),c()}).catch(u):c()};r.set("mapbox-layers",e);const h=i.getLayers();h.getArray().indexOf(r)===-1&&h.push(r),r.getSource()?d():r.once("change:source",d)})}const XT="EPSG:3857";function R1(r={}){const e=r.epsg?r.epsg:_r.epsg,t=r.extent?r.extent:as(e),n=r.tileSize?r.tileSize:512,i=r.resolutions?r.resolutions:_r.options.map(a=>a.resolution),o={extent:t,resolutions:i,minZoom:r.minZoom,tileSize:new Array(2).fill(n)};return r.origins?o.origins=r.origins:o.origin=r.origin?r.origin:[o.extent[0],o.extent[3]],new no(o)}function JT(r={}){const e=[r.extent,r.tileSize,r.resolutions,r.origin,r.origins,r.minZoom],t=r.epsg?r.epsg.toUpperCase():r.epsg;return!e.every(n=>typeof n>"u")||t!==XT}function Ed(r,e={}){e.epsg=e.epsg?e.epsg:_r.epsg;const t={projection:e.epsg,format:new Rh,url:r,tileSize:e.tileSize,zDirection:e.zDirection,minZoom:e.minZoom,maxZoom:e.maxZoom};return JT(e)&&(t.tileGrid=R1(e)),new cc(t)}function e4(r={},{layerParams:e={},options:t={}}={}){if([r.id,r.name,r.url].some(o=>typeof o>"u")){console.error(`Cancelled creation of layer "${r.id}"(${r.name}) because of missing required parameters`);return}let n,i;return e.renderer==="webgl"?(i=Ed(r.url,{...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing}),n=Yl({extent:i.getTileGrid().getExtent(),...r,...e,source:i}),n):(i=Ed(r.url,r),n=new In(Object.assign({id:r.id,name:r.name,attribution:r.olAttribution,extent:i.getTileGrid().getExtent(),minZoom:r.minZoom,maxZoom:r.maxZoom,source:i,declutter:!0},e)),t.style&&r.renderer!=="webgl"&&n.setStyle(t.style),n)}function t4(r,e,{options:t={}}={},n){Object.keys(e.sources).forEach(i=>{const o=i;if(e.sources[i].type!=="vector"&&e.sources[i].type!=="geojson"){const a=r.get("map");QT(a,n)}else C1(r,e,t.sourceId?t.sourceId:o,t.resolutions,t.spriteData,t.spriteImageUrl,t.getFonts)})}const r4=Object.freeze(Object.defineProperty({__proto__:null,createLayer:e4,createLayerSource:Ed,createTileGrid:R1,setStyle:t4},Symbol.toStringTag,{value:"Module"}));function n4(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.statusText}`,t,n)}function i4(r){if(typeof r!="object"||r===null||!Array.isArray(r.links))return!1;for(let e=0;e<r.links.length;e++)if(typeof r.links[e]=="object"&&r.links[e]!==null&&typeof r.links[e].href=="string"&&r.links[e].rel==="next"&&r.links[e].type==="application/geo+json")return r.links[e].href;return!1}function F1(r,e,{onErrorFn:t,success:n,failure:i},o,a=[]){fetch(r,{headers:{Accept:"application/geo+json"},method:"GET"}).then(s=>n4(s,t,o,i)).then(s=>s.json()).then(s=>{const l=i4(s);if(s.features.forEach(c=>a.push(c)),typeof l=="string"){F1(l,e,{onErrorFn:Co,success:n,failure:i},o,a);return}s.features=a,s.numberReturned=s.numberMatched,sc(e,e.getFormat().readFeatures(s),t,n,i,o)}).catch(s=>{t(s,o,i)})}function lp(r,e){const t=e?.bbox||r.bbox,n=r.url;let i=typeof t=="string"&&t.length?t:null,o=null;return o=new URL(n),typeof r.collection=="string"&&(o.pathname.endsWith("/")?o.pathname+="collections/"+r.collection+"/items":o.pathname+="/collections/"+r.collection+"/items"),typeof r.limit=="number"&&o.searchParams.set("limit",r.limit),Array.isArray(t)&&t.length===4&&(i=t.join(",")),i&&(o.searchParams.set("bbox",t),typeof r.bboxCrs=="string"&&r.bboxCrs!==""&&o.searchParams.set("bbox-crs",r.bboxCrs)),typeof r.crs=="string"&&o.searchParams.set("crs",r.crs),typeof r.datetime=="string"&&r.datetime!==""&&o.searchParams.set("datetime",r.datetime),typeof r.params=="object"&&Object.keys(r.params).length&&Object.entries(r.params).forEach(([a,s])=>{o.searchParams.set(a,s)}),o}function o4(r,e){const t=new ja;let n=null;function i(o,a,s,l,c){if(e.doNotLoadInitially){sc(n,[],Co,l,c,e);return}const u=e.loadingStrategy===To?o:e.loadingParams.bbox,d=lp(r,{...e.loadingParams,bbox:u});F1(d,n,{onErrorFn:Co,success:l,failure:c},e)}return n=Fh(i,e.loadingStrategy,t),e.beforeLoading&&n.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?jh(n,r.clusterDistance,e.clusterGeometryFunction):n}function Md(r,e={}){e.loadingStrategy||(e.loadingStrategy=To);const t=o4(r,e);return r.renderer==="webgl"&&t.once("featuresloadend",n=>{No(n?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}),t}function a4(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=Md({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Yl({...r,...e,source:i}),n):(i=Md(r,t),n=new lr(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function s4(r,e){const t=lp(r,r.version);fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const l4={createLayer:a4,createLayerSource:Md,createUrl:lp,loadFeaturesManually:s4};function c4({backgroundImage:r,target:e}={}){const t=document.getElementById(e||_r.target);if(t){const n=`url(${typeof r=="string"?r:_r.backgroundImage})`;t.style.backgroundImage=n}}function u4({url:r,typ:e,capabilitiesUrl:t,...n}){const i=[];if(t)i.push(t);else if(e==="OAF")i.push(r);else if(e==="Entities3D")n.entities.forEach(o=>o.url?i.push(o.url):null);else if(e==="TileSet3D"||e==="Terrain3D")i.push(r);else if(e==="GeoJSON"){if(!r&&n.features)return Promise.resolve(200);r&&i.push(r)}else if(e==="VectorTile")i.push(r.replaceAll(/\{[xyz]\}/ig,"0"));else if(e==="WMTS"){const o=(r?[r]:n.urls).map(a=>a.replace(/\{Style\}/ig,n.style).replace(/\{TileMatrixSet\}/ig,n.tileMatrixSet).replaceAll(/\{(TileMatrix|TileRow|TileCol)\}/ig,"0"));i.push(...o)}else r&&i.push(`${r}?service=${e}&request=GetCapabilities`);return i.length?Promise.allSettled(i.map(o=>new Promise(a=>fetch(o,{method:"HEAD"}).then(({status:s})=>a(s)).catch(()=>a(900))))).then(o=>Math.max(...o.map(({value:a})=>a))):Promise.resolve(null)}const d4=`@charset "UTF-8";html{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;scroll-behavior:smooth;-webkit-text-size-adjust:100%;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body,[data-kern-theme=dark],.kern-dark,[data-kern-theme=light],.kern-light{background-color:var(--kern-color-layout-background-default)}body:has(.kern-dialog[open]){overflow:hidden}*:not(i){font-family:var(--kern-typography-font-family-default)}area[href]:not([tabindex="-1"]):focus,iframe:not([tabindex="-1"]):focus,[tabindex]:not([tabindex="-1"]):focus,[contentEditable=true]:not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}area[href]:not([tabindex="-1"]):focus:focus-visible,iframe:not([tabindex="-1"]):focus:focus-visible,[tabindex]:not([tabindex="-1"]):focus:focus-visible,[contentEditable=true]:not([tabindex="-1"]):focus:focus-visible{outline:0}.kern-sr-only{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only:not(caption){position:absolute!important}.kern-sr-only-mobile{display:inline}@media (max-width: 767px){.kern-sr-only-mobile{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only-mobile:not(caption){position:absolute!important}}.kern-error{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;gap:var(--kern-metric-space-small, 8px);align-items:flex-start;align-self:stretch}.kern-error .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09);margin:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-number{display:flex;width:28px;min-width:28px;height:28px;padding:2px 0;justify-content:center;align-items:center;border-radius:var(--kern-metric-border-radius-circle, 50%);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-layout-text-default, #171A2B);color:var(--kern-color-layout-text-default, #171A2B)}.kern-icon{display:inline-block;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--small{width:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-icon--default{width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--large{width:var(--kern-metric-dimension-large, 32px);min-width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-icon--x-large{width:var(--kern-metric-dimension-x-large, 48px);min-width:var(--kern-metric-dimension-x-large, 48px);height:var(--kern-metric-dimension-x-large, 48px);min-height:var(--kern-metric-dimension-x-large, 48px)}.kern-icon--add{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--add{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-down{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-down{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-up{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-up{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-forward{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-forward{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-back{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-back{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--autorenew{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--autorenew{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--calendar-today{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--calendar-today{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--check{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--check{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--checklist{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--checklist{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--close{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--close{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--content-copy{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--content-copy{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--danger{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--delete{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--delete{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--download{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--download{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--draft{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--draft{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--drive-folder-upload{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--drive-folder-upload{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--easy-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--easy-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--edit{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--edit{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--home{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--home{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--help{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--help{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--info{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--logout{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--logout{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--mail{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--mail{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--more-vert{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--more-vert{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--open-in-new{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--open-in-new{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--question-mark{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--question-mark{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--search{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--search{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--sign-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--sign-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--success{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility-off{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility-off{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--warning{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--brightness-medium{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--brightness-medium{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--light-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--light-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--dark-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--dark-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;border-radius:var(--kern-metric-border-radius-none, 0px);border-top:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3)}.kern-accordion+.kern-accordion{margin-top:calc(var(--kern-metric-border-width-light) * -1)}.kern-accordion[open]>summary:after{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion[open]>summary:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header{display:flex;justify-content:space-between;align-items:center;gap:var(--kern-metric-space-small, 8px);flex:1 0 0;padding:var(--kern-metric-space-default, 16px) var(--kern-metric-space-x-small, 4px);list-style-type:none}.kern-accordion__header::-webkit-details-marker,.kern-accordion__header::marker{display:none}.kern-accordion__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-accordion__header:not([tabindex="-1"]):focus-visible{position:relative;z-index:1;outline-color:transparent;box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-accordion__header:not([tabindex="-1"]):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-accordion__header .kern-title{color:var(--kern-color-action-default, #1A3DA5);flex:1;overflow-wrap:break-word}.kern-accordion__body{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-small, 4px)}.kern-alert{border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-default, 2px) solid transparent}.kern-alert--info{border-color:var(--kern-color-feedback-info, #006490);background-color:var(--kern-color-feedback-info-background, #E0F4FC)}.kern-alert--info .kern-icon--info{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-alert--info .kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--success{border-color:var(--kern-color-feedback-success, #006B51);background-color:var(--kern-color-feedback-success-background, #DEF6ED)}.kern-alert--success .kern-icon--success{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-alert--success .kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--warning{border-color:var(--kern-color-feedback-warning, #8A4F00);background-color:var(--kern-color-feedback-warning-background, #FFEFD0)}.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--danger{border-color:var(--kern-color-feedback-danger, #BD0F09);background-color:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert__header{display:flex;padding:var(--kern-metric-space-default, 16px);align-items:center}.kern-alert__header .kern-icon{width:var(--kern-component-alert-icon-size, 32px);min-width:var(--kern-component-alert-icon-size, 32px);height:var(--kern-component-alert-icon-size, 32px);min-height:var(--kern-component-alert-icon-size, 32px)}.kern-alert .kern-title{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}.kern-alert__body{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-large, 24px);background:var(--kern-color-layout-background-default, #FFF);display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px)}.kern-badge{display:inline-flex;align-items:center;padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-2x-small, 2px) var(--kern-component-badge-space-left, 12px);border-radius:var(--kern-metric-border-radius-default, 4px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-badge .kern-label{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px)}.kern-badge .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px)}.kern-badge--info{background:var(--kern-color-feedback-info-background, #E0F4FC);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-info, #006490)}.kern-badge--info .kern-icon{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-badge--info .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--success{background:var(--kern-color-feedback-success-background, #DEF6ED);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-success, #006B51)}.kern-badge--success .kern-icon{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-badge--success .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--warning{background:var(--kern-color-feedback-warning-background, #FFEFD0);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-warning, #8A4F00)}.kern-badge--warning .kern-icon{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-badge--warning .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--danger{background:var(--kern-color-feedback-danger-background, #FEECE8);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-danger, #BD0F09)}.kern-badge--danger .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-badge--danger .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn{display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);position:relative}.kern-btn:has(.kern-sr-only){width:var(--kern-metric-dimension-x-large, 48px)}@media (max-width: 767px){.kern-btn:has(.kern-sr-only-mobile){width:var(--kern-metric-dimension-x-large, 48px)}}.kern-btn .kern-label{padding:var(--kern-metric-space-small, 8px)}.kern-btn:not(:disabled):hover,.kern-btn:not([aria-disabled=true]):hover{cursor:pointer}.kern-btn:not([disabled]):not([tabindex="-1"]):focus,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-btn:not([disabled]):not([tabindex="-1"]):focus:focus-visible,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-btn:disabled,.kern-btn[disabled],.kern-btn[aria-disabled=true]{cursor:not-allowed!important}.kern-btn--block{width:100%}.kern-btn--primary{background:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--primary{border:3px solid transparent}}.kern-btn--primary .kern-label{color:var(--kern-color-action-on-default, #FFF)}.kern-btn--primary>.kern-icon{background-color:var(--kern-color-action-on-default, #FFF)}@media (forced-colors: active){.kern-btn--primary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--primary:not(:disabled):hover,.kern-btn--primary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-shade-hover)}.kern-btn--primary:active{background:var(--kern-color-action-state-indicator-shade-active)}.kern-btn--primary:disabled,.kern-btn--primary[disabled],.kern-btn--primary[aria-disabled=true]{background:var(--action-default, #1A3DA5);opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--secondary{border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);background:transparent}.kern-btn--secondary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--secondary:not(:disabled):hover,.kern-btn--secondary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--secondary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--secondary:disabled,.kern-btn--secondary[disabled],.kern-btn--secondary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}@media (forced-colors: active){.kern-btn--secondary{border:1px solid transparent!important}}.kern-btn--tertiary{background:transparent}.kern-btn--tertiary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--tertiary:not(:disabled):hover,.kern-btn--tertiary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--tertiary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--tertiary:disabled,.kern-btn--tertiary[disabled],.kern-btn--tertiary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--tertiary .kern-label{text-decoration:underline}.kern-btn--tertiary:hover .kern-label{text-decoration-thickness:var(--kern-3, 3px)}.kern-btn--tertiary:hover:disabled .kern-label,.kern-btn--tertiary:hover[disabled] .kern-label,.kern-btn--tertiary:hover[aria-disabled=true] .kern-label{text-decoration-thickness:var(--kern-metric-border-width-light, 1px)}.kern-btn--tertiary:has(.kern-icon) .kern-label{text-decoration:none}.kern-card{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex-shrink:0;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);height:100%}.kern-card--hug,.kern-card--hug .kern-card__container{height:auto}.kern-card__media{display:flex;padding:0px var(--kern-metric-space-none, 0px);justify-content:center;align-items:center;align-self:stretch}.kern-card__media *{width:100%;overflow:hidden;border-top-left-radius:var(--kern-metric-border-radius-default, 4px);border-top-right-radius:var(--kern-metric-border-radius-default, 4px)}.kern-card__container{display:flex;padding:var(--kern-metric-space-large, 24px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;height:100%}.kern-card__header{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-card__body{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px);align-self:stretch;flex:1 1 auto}.kern-card__footer{display:flex;flex-direction:row;flex-wrap:wrap;padding-top:var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch}.kern-card__footer .kern-btn{flex:1 1 0;min-width:fit-content}.kern-card--active,.kern-card--interactive{position:relative}.kern-card--active .kern-link--stretched,.kern-card--interactive .kern-link--stretched{color:var(--kern-color-action-default, #1A3DA5);letter-spacing:var(--kern-metric-space-none, 0px);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-2, 2px);text-underline-position:from-font}.kern-card--active .kern-link--stretched:after,.kern-card--interactive .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-card--active .kern-link--stretched:hover,.kern-card--interactive .kern-link--stretched:hover{text-decoration-thickness:3px}.kern-card--active .kern-link--stretched:hover:after,.kern-card--interactive .kern-link--stretched:hover:after{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-card--active .kern-link--stretched:active:after,.kern-card--interactive .kern-link--stretched:active:after{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-card--active .kern-link--stretched:focus-visible,.kern-card--interactive .kern-link--stretched:focus-visible{outline-color:transparent}.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-card--small .kern-card__container{padding:var(--kern-metric-space-default, 16px);gap:var(--kern-metric-space-small, 8px)}.kern-card--small .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--large .kern-card__container{padding:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-large, 24px)}.kern-card--large .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-form-check{display:grid;grid-template-columns:var(--kern-metric-dimension-large, 32px) auto;align-items:start;padding-right:var(--kern-metric-space-default, 16px)}.kern-form-check__radio,.kern-form-check__checkbox{width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);margin:var(--kern-metric-space-none, 0px);-webkit-appearance:none;-moz-appearance:none;appearance:none}.kern-form-check__radio:hover,.kern-form-check__checkbox:hover{border:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-default, 2px);outline:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:focus:hover,.kern-form-check__radio:focus-visible:hover,.kern-form-check__checkbox:focus:hover,.kern-form-check__checkbox:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-bold, 4px);outline-color:transparent;border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:checked:focus:hover,.kern-form-check__radio:checked:focus-visible:hover,.kern-form-check__checkbox:checked:focus:hover,.kern-form-check__checkbox:checked:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09);outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09)!important;outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio[disabled],.kern-form-check__radio[aria-disabled=true],.kern-form-check__checkbox[disabled],.kern-form-check__checkbox[aria-disabled=true]{outline:0;opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-check__radio[disabled]:checked,.kern-form-check__radio[aria-disabled=true]:checked,.kern-form-check__checkbox[disabled]:checked,.kern-form-check__checkbox[aria-disabled=true]:checked{outline:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio[disabled]:hover,.kern-form-check__radio[aria-disabled=true]:hover,.kern-form-check__checkbox[disabled]:hover,.kern-form-check__checkbox[aria-disabled=true]:hover{cursor:default}.kern-form-check__radio[disabled]~.kern-label,.kern-form-check__radio[aria-disabled=true]~.kern-label,.kern-form-check__checkbox[disabled]~.kern-label,.kern-form-check__checkbox[aria-disabled=true]~.kern-label{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:default}.kern-form-check .kern-label{font-weight:var(--kern-typography-font-weight-regular, 400);padding-top:var(--kern-metric-space-x-small, 4px);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-check .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-check .kern-error{grid-column:span 2;padding-top:var(--kern-metric-space-small, 8px)}.kern-form-check .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-check--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #bd0f09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check--error .kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #bd0f09)!important;outline-color:var(--kern-color-feedback-danger, #bd0f09)!important;background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-check--error .kern-form-check__radio:before{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-check__checkbox{border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-form-check__checkbox:before{content:""}.kern-form-check__checkbox:focus:before,.kern-form-check__checkbox:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox:checked:before{display:block;position:relative;left:var(--kern-3, 3px);top:var(--kern-8, 8px);transform:rotate(47deg) translate(-50%,-50%);background-color:transparent;border-width:var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-space-none, 0px);border-color:var(--kern-color-form-input-border, #171A2B);border-style:solid;height:var(--kern-metric-dimension-x-small, 16px);width:var(--kern-metric-dimension-2x-small, 8px);margin:4px}.kern-form-check__checkbox:checked:hover:before{margin:var(--kern-metric-space-2x-small, 2px)}.kern-form-check__checkbox:checked:focus:before,.kern-form-check__checkbox:checked:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-dialog{max-width:var(--kern-small, 768px);border-radius:var(--kern-metric-border-radius-large, 8px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);padding:var(--kern-metric-space-none, 0px)}.kern-dialog__header{display:flex;justify-content:space-between;min-height:var(--kern-metric-dimension-3x-large, 64px);padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-large, 32px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog .kern-title{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex:1 0 0}.kern-dialog__body{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog__footer{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);padding:var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px);border-top:1px solid var(--kern-color-layout-border, #A5AAC3)}@media (max-width: 576px){.kern-dialog__footer{flex-direction:column}}.kern-dialog__footer .kern-btn{flex-grow:1;align-self:stretch}.kern-dialog__footer .kern-btn+.kern-btn{margin-left:var(--kern-metric-space-none, 0px)}.kern-dialog::backdrop{background:var(--kern-color-layout-background-overlay)}@media (max-width: 768px){.kern-dialog{overflow-y:auto;min-width:100%;max-width:100%;margin-bottom:var(--kern-metric-space-none, 0px);border-radius:var(--border-radius-large, 8px) var(--kern-metric-border-radius-large, 8px) var(--kern-metric-border-radius-none, 0px) var(--kern-metric-border-radius-none, 0px)}}.kern-description-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-description-list p{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}.kern-description-list--col .kern-description-list-item{gap:var(--kern-metric-border-width-none, 0px)}.kern-description-list--col .kern-description-list-item__key,.kern-description-list--col .kern-description-list-item__value{width:100%;max-width:100%}.kern-description-list-item{display:flex;padding:var(--kern-metric-space-none, 0px);align-items:flex-start;align-content:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;flex-wrap:wrap;flex-direction:column;word-break:break-word}@media (min-width: 768px){.kern-description-list-item{flex-direction:row;gap:var(--kern-metric-space-x-large, 32px)}}.kern-description-list-item__key{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);font-weight:var(--kern-typography-font-weight-semi-bold, 600)}@media (min-width: 768px){.kern-description-list-item__key{width:30%;max-width:var(--kern-component-description-list-term-max-width, 352px)}}.kern-description-list-item__value{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-description-list-item__value ul{list-style:none;padding-left:var(--kern-metric-border-width-none, 0px)}@media (min-width: 768px){.kern-description-list-item__value{width:calc(70% - var(--kern-metric-space-x-large, 32px))}}.kern-divider{border:var(--kern-metric-border-radius-none, 0px);margin:var(--kern-metric-space-none, 0px);height:var(--kern-metric-border-width-light, 1px);background-color:var(--kern-color-layout-border, #A5AAC3)}@media (forced-colors: active){.kern-divider{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown{position:relative}.kern-dropdown[open] .kern-dropdown__header:before{content:"";width:100vw;height:100vh;position:fixed;top:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);cursor:auto}.kern-dropdown__header{cursor:pointer;list-style-type:none;display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-dropdown__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__header .kern-label{color:var(--kern-color-action-default, #1A3DA5);padding:var(--kern-metric-space-small, 8px)}.kern-dropdown__body{display:flex;z-index:99;position:absolute;left:0;flex-direction:column;border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);margin:2px;white-space:nowrap;background:var(--kern-color-layout-background-default);border-radius:var(--kern-metric-border-radius-default)}.kern-dropdown__body .kern-list{padding:0}.kern-dropdown__body .kern-list li{margin-bottom:var(--kern-metric-space-none, 0px);padding:.25rem 1rem .25rem 0;list-style:none;position:relative}.kern-dropdown__body .kern-list li:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__body .kern-list li .kern-link{text-decoration:none}.kern-dropdown__body .kern-list li:has(input:checked):before{content:"";-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5);position:absolute;top:8px;left:8px;width:24px;height:24px}@media (forced-colors: active){.kern-dropdown__body .kern-list li:has(input:checked):before{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__body .kern-list li label{width:100%;display:block;padding-left:2.5rem;color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__body .kern-list li label input{all:unset}.kern-fieldset{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px)}.kern-fieldset--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-fieldset legend{float:left}.kern-fieldset legend.kern-label{margin-bottom:var(--kern-metric-space-small, 8px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-fieldset:has(.kern-hint) legend.kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-fieldset .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-fieldset .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-fieldset .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-fieldset__body{width:100%;display:flex;flex-direction:column;gap:var(--kern-metric-space-default, 16px)}.kern-fieldset__body--horizontal{flex-direction:row;flex-wrap:wrap}.kern-fieldset .kern-error{margin-top:var(--kern-metric-space-small, 8px)}.kern-fieldset .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input .kern-label{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-input .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-input:has(.kern-hint) .kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-form-input .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input__input{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);height:var(--kern-metric-dimension-x-large, 48px);align-items:center;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border:none;border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);-webkit-box-orient:vertical;-webkit-line-clamp:1;line-clamp:1;text-overflow:ellipsis}@media (forced-colors: active){.kern-form-input__input{border:1px solid transparent!important}}.kern-form-input__input:hover{border-width:var(--kern-metric-border-width-bold, 4px);padding-top:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);border:none;padding-bottom:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border-radius:var(--kern-metric-border-radius-none, 0px);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:inherit;cursor:not-allowed}@media (forced-colors: active){.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border:1px solid transparent!important}}.kern-form-input__input[readonly]:hover,.kern-form-input__input[readonly=readonly]:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly]:focus,.kern-form-input__input[readonly=readonly]:focus{border-radius:var(--kern-metric-border-radius-small, 2px);padding-top:var(--kern-metric-border-width-light, 1px);border-width:var(--kern-metric-border-width-none, 0)}.kern-form-input__input[disabled],.kern-form-input__input[disabled=disabled],.kern-form-input__input[aria-disabled=true]{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:not-allowed}.kern-form-input__input[disabled]:hover,.kern-form-input__input[disabled=disabled]:hover,.kern-form-input__input[aria-disabled=true]:hover{border-width:var(--kern-metric-border-width-default, 2px);padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input--error{border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8)}@media (forced-colors: active){.kern-form-input__input--error{border:1px solid transparent!important}}.kern-form-input__input--error:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8);border:none}.kern-form-input__input--width-2{max-width:var(--kern-metric-dimension-2x-large)}.kern-form-input__input--width-4{max-width:var(--kern-metric-dimension-4x-large)}.kern-form-input input[type=file].kern-form-input__input{order:4;display:flex;padding:var(--kern-metric-space-large, 24px);gap:16px var(--kern-metric-space-default, 16px);align-items:flex-start;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);border:none;height:inherit}.kern-form-input input[type=file].kern-form-input__input:hover{outline:none;box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171A2B);cursor:pointer}@media (forced-colors: active){.kern-form-input input[type=file].kern-form-input__input:hover{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-layout-background-inverted);outline-offset:-4px}}.kern-form-input input[type=file].kern-form-input__input:focus{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B)}.kern-form-input input[type=file].kern-form-input__input:focus:hover{box-shadow:none}.kern-form-input input[type=file].kern-form-input__input[disabled],.kern-form-input input[type=file].kern-form-input__input[disabled=disabled],.kern-form-input input[type=file].kern-form-input__input[aria-disabled=true]{outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);box-shadow:none;cursor:not-allowed}.kern-form-input input[type=file].kern-form-input__input::file-selector-button{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);margin-right:var(--kern-metric-space-default, 16px);min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);color:var(--kern-color-action-default, #1A3DA5);background:#1a3da500}.kern-form-input .kern-error{order:5;margin-top:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-input--error input[type=file].kern-form-input__input,.kern-form-input--error .kern-form-input__input[type=file]{outline-color:var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:hover,.kern-form-input--error .kern-form-input__input[type=file]:hover{background:var(--kern-color-feedback-danger-background, #FEECE8);box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:focus,.kern-form-input--error .kern-form-input__input[type=file]:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09)}textarea{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px)!important;min-height:var(--kern-metric-dimension-5x-large, 96px)}textarea.kern-form-input__input:hover{padding-top:var(--kern-metric-space-none, 0px)}input[type=checkbox],input[type=color],input[type=file],input[type=radio],input[type=range],input[type=file]::-webkit-file-upload-button,label,option,select{cursor:pointer}.kern-kopfzeile{background:var(--kern-color-layout-background-hued, #F7F7F9);padding:var(--kern-component-kopfzeile-padding, 5px) var(--kern-metric-space-none, 0px)}@media (forced-colors: active){.kern-kopfzeile{border-bottom:1px solid transparent}}.kern-kopfzeile__content{display:flex;padding:var(--kern-1, 1px) var(--kern-metric-space-none, 0px);align-items:center;gap:var(--kern-metric-space-small, 8px)}.kern-kopfzeile__flagge{display:flex;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-small, 20px);padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-none, 0px)}.kern-kopfzeile__flagge svg{vertical-align:baseline;outline:var(--kern-1, 1px) solid #FFFFFF}.kern-kopfzeile__label{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-component-kopfzeile-font-family, "Fira Sans");font-style:normal;font-weight:400;font-size:var(--kern-component-kopfzeile-font-size, 16px);line-height:var(--kern-component-kopfzeile-line-height, 20px)}@media only screen and (max-width: 768px){.kern-kopfzeile__flagge{width:var(--kern-18, 18px);height:var(--kern-16, 16px)}.kern-kopfzeile__label{font-size:var(--kern-14, 14px);line-height:var(--kern-16, 16px)}.kern-kopfzeile .kern-container,.kern-kopfzeile .kern-container-fluid{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}}.kern-loader{display:none;box-sizing:border-box;border-width:10px;border-style:solid;border-color:var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader);width:var(--kern-metric-dimension-5x-large, 96px);height:var(--kern-metric-dimension-5x-large, 96px);border-radius:50%;animation:rotation 1.5s linear infinite;position:relative}@media (forced-colors: active){.kern-loader{border-color:var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-inverted);forced-color-adjust:none;outline-color:transparent;box-shadow:0 0 0 1px var(--kern-color-layout-background-inverted),inset 0 0 0 1px var(--kern-color-layout-background-inverted)}}.kern-loader:before,.kern-loader:after{content:"";height:var(--semantic-size-xs, 10px);background:var(--kern-color-feedback-loader);position:absolute}.kern-loader:before{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);top:var(--kern-metric-space-2x-small, 2px);transform:rotate(-45deg)}.kern-loader:after{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);bottom:var(--kern-metric-space-2x-small, 2px);transform:rotate(45deg)}.kern-loader--visible{display:block}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.kern-progress{display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-progress progress[value]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;width:100%;height:var(--kern-metric-dimension-2x-small, 8px);border-radius:var(--kern-metric-border-radius-small, 2px);background:var(--kern-color-feedback-loader-background, #DFE1EA);color:var(--kern-color-feedback-loader)}.kern-progress progress[value]::-webkit-progress-bar{background:var(--kern-color-feedback-loader-background, #DFE1EA);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}@media (forced-colors: active){.kern-progress progress[value]{background-color:var(--kern-color-layout-background-default);border:1px solid var(--kern-color-layout-background-inverted);color:var(--kern-color-layout-background-inverted);forced-color-adjust:none}.kern-progress progress[value]::-webkit-progress-bar{background-color:var(--kern-color-layout-background-default)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-layout-background-inverted)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-layout-background-inverted)}}.kern-form-check__radio{display:flex;border-radius:100%}.kern-form-check__radio:before{border-radius:100%;content:"";margin:auto}.kern-form-check__radio:checked:before{background-color:var(--kern-color-form-input-border, #171A2B);height:var(--kern-12, 12px);width:var(--kern-12, 12px)}.kern-form-check__radio--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-input:has(select[disabled]),.kern-form-input:has(select[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(select[disabled]) .kern-label,.kern-form-input:has(select[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input__select-wrapper:has(.kern-form-input__select--error){border-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):after{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):hover{border-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper{position:relative;display:flex;height:var(--kern-metric-dimension-x-large, 48px);gap:var(--kern-metric-space-none, 0px);align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9)}@media (forced-colors: active){.kern-form-input__select-wrapper{border:1px solid transparent!important}}.kern-form-input__select-wrapper:has(select[disabled]),.kern-form-input__select-wrapper:has(select[aria-disabled=true]){opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-input__select-wrapper:hover{border-bottom:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-space-small, 8px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}@media (forced-colors: active){.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus) .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:hover:has(select[disabled]),.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(select[disabled]) .kern-form-input__select,.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]) .kern-form-input__select{padding:var(--kern-metric-space-small, 6px) var(--kern-metric-space-default, 16px) var(--kern-4, 4px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:after{content:" ";display:inline-block;position:absolute;right:var(--kern-metric-dimension-x-small, 16px);top:var(--kern-metric-dimension-default, 24px);transform:translateY(-50%);pointer-events:none;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default)}@media (forced-colors: active){.kern-form-input__select-wrapper:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-form-input__select{background-color:transparent;box-sizing:border-box;width:100%;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;overflow:hidden;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);border:none}.kern-form-input__select--error:focus{outline-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select option{margin:40px;background:var(--kern-color-form-input-background, #f7f7f9)}.kern-form-input__select[disabled],.kern-form-input__select[disabled=disabled],.kern-form-input__select[aria-disabled=true]{opacity:.7;cursor:not-allowed}.kern-summary-group__header{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;padding:var(--kern-metric-baseline-heading-medium-padding-top, 8px) var(--kern-metric-space-none, 0px) calc(var(--kern-metric-baseline-heading-medium-padding-bottom, 8px) + var(--kern-metric-space-default, 16px)) var(--kern-metric-space-none, 0px);margin-top:var(--kern-metric-space-x-large, 32px)}.kern-summary-group__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-summary__header{display:flex;padding:var(--kern-metric-space-default, 16px) var(--skern-pace-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-self:stretch}.kern-summary__header .kern-number{margin-top:var(--kern-metric-space-x-small, 4px)}.kern-summary .kern-title{font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-summary__body{display:flex;padding:var(--kern-metric-space-default, 16px);flex-direction:column;gap:var(--kern-metric-space-x-large, 32px);border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #f7f7f9)}@media (forced-colors: active){.kern-summary__body{border:1px solid transparent!important}}.kern-table{width:100%;border-spacing:var(--kern-metric-space-none, 0px);border-collapse:collapse}.kern-table--small .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-table--small .kern-table__header,.kern-table--small .kern-table__cell{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-small-padding-top, 7px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-small-padding-bottom, 1px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table--small .kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__header,.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__cell{background-color:var(--kern-color-layout-background-hued, #F7F7F9)}.kern-table .kern-title{display:table-caption;text-align:left}.kern-table__header,.kern-table__cell{text-align:left;vertical-align:top;box-shadow:inset 0 -1px 0 0 var(--kern-color-layout-border, #A5AAC3);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-default-padding-top, 6px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-default-padding-bottom, 2px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table__header--numeric,.kern-table__cell--numeric{text-align:right}@media (forced-colors: active){.kern-table__header,.kern-table__cell{border-bottom:1px solid transparent}}.kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table__footer{box-shadow:inset 0 1px 0 0 var(--kern-color-layout-border, #A5AAC3)}.kern-table__footer .kern-table__cell{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}.kern-task-list{display:block}.kern-task-list-group{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header{display:flex;padding-bottom:var(--kern-metric-space-default, 16px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;margin-top:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-task-list__header .kern-heading{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-task-list__list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px);align-self:stretch;list-style:none}.kern-task-list__item{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex:1 0 0;justify-content:space-between;position:relative;border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #F7F7F9)}@media (forced-colors: active){.kern-task-list__item{border:1px solid transparent!important}}.kern-task-list__item .kern-number{margin-top:var(--kern-12, 12px)}.kern-task-list__item:has(.kern-link){color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item:has(.kern-link) .kern-number{color:var(--kern-color-action-default, #1A3DA5);border-color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible{outline-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}.kern-task-list__item:has(.kern-link--stretched:hover){background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-task-list__item:has(.kern-link--stretched:active){background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-task-list__title{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex-grow:1;flex-wrap:wrap}@media all and (min-width: 768px){.kern-task-list__title{flex-wrap:nowrap}}.kern-task-list__title .kern-link:visited{color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__title .kern-link,.kern-task-list__title .kern-body{flex-grow:1}.kern-task-list__status{text-align:right;white-space:nowrap}.kern-body{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-body--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--bold{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-body--muted{color:var(--kern-color-layout-text-muted, #404565)}.kern-hint{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-layout-text-muted, #404565)}.kern-heading-display{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-display-padding-top, 12px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-display-padding-bottom, 12px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-2x-large, 48px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-2x-large, 56px)}.kern-heading-x-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-x-large-padding-top, 9px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-x-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-x-large, 32px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-x-large, 40px)}.kern-heading-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-heading-medium{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-heading-small{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-label{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-label--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-label--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-link{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font;display:inline-flex;align-items:flex-start;gap:var(--kern-metric-space-x-small, 4px)}.kern-link .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:has(.kern-icon){text-decoration:none}.kern-link:has(.kern-icon):active,.kern-link:has(.kern-icon):hover{text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-3, 3px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font}.kern-link:hover{text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active{color:var(--kern-color-action-default, #1A3DA5);text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:visited{color:var(--kern-color-action-visited, #75009E)}.kern-link:visited .kern-icon{background-color:var(--kern-color-action-visited, #75009E)}.kern-link--small{gap:var(--kern-metric-space-2x-small, 2px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-link--small .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-link:not(.kern-link--stretched):focus-visible{position:relative;z-index:1;outline-color:transparent;border-radius:var(--kern-metric-border-radius-small, .125rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-link:not(.kern-link--stretched):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}a.kern-btn{text-decoration:none}.kern-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;list-style:none;display:flex;flex-direction:column;gap:var(--kern-metric-space-none, 0);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding-left:var(--kern-metric-space-none, 0)}.kern-list--small{font-size:var(--kern-typography-font-size-static-small, 16px);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px)}.kern-list--small .kern-link{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-list--small .kern-link .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-list--large{font-size:var(--kern-typography-font-size-static-large, 21px);line-height:var(--kern-typography-line-height-static-large, 32px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px)}.kern-list--bullet{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:disc}.kern-list--number{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:decimal}.kern-list--horizontal{flex-direction:row;gap:var(--kern-metric-space-none, 0) var(--kern-metric-space-default, 16px);flex-wrap:wrap}.kern-subline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-subline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-subline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-preline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-preline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-preline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-title{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-default-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-default-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-title--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-title--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-container-fluid,.kern-container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;box-sizing:border-box}[class^=kern-col],[class*=kern-col]{padding:1rem;box-sizing:border-box}.kern-container{max-width:1600px}.kern-row{display:flex;flex-wrap:wrap;margin-left:-1rem;margin-right:-1rem;box-sizing:border-box}.kern-row>*{flex-shrink:0;width:100%;max-width:100%}.kern-col{flex:1 0 0%}.kern-align-items-start{align-items:flex-start!important}.kern-align-items-center{align-items:center!important}.kern-align-items-end{align-items:flex-end!important}.kern-align-self-start{align-self:flex-start!important}.kern-align-self-center{align-self:center!important}.kern-align-self-end{align-self:flex-end!important}.kern-justify-content-start{justify-content:flex-start!important}.kern-justify-content-center{justify-content:center!important}.kern-justify-content-end{justify-content:flex-end!important}.kern-justify-content-around{justify-content:space-around!important}.kern-justify-content-between{justify-content:space-between!important}.kern-justify-content-evenly{justify-content:space-evenly!important}.kern-col-1{flex:0 0 auto;width:8.3333333333%}.kern-col-offset-1{margin-left:8.3333333333%}.kern-col-2{flex:0 0 auto;width:16.6666666667%}.kern-col-offset-2{margin-left:16.6666666667%}.kern-col-3{flex:0 0 auto;width:25%}.kern-col-offset-3{margin-left:25%}.kern-col-4{flex:0 0 auto;width:33.3333333333%}.kern-col-offset-4{margin-left:33.3333333333%}.kern-col-5{flex:0 0 auto;width:41.6666666667%}.kern-col-offset-5{margin-left:41.6666666667%}.kern-col-6{flex:0 0 auto;width:50%}.kern-col-offset-6{margin-left:50%}.kern-col-7{flex:0 0 auto;width:58.3333333333%}.kern-col-offset-7{margin-left:58.3333333333%}.kern-col-8{flex:0 0 auto;width:66.6666666667%}.kern-col-offset-8{margin-left:66.6666666667%}.kern-col-9{flex:0 0 auto;width:75%}.kern-col-offset-9{margin-left:75%}.kern-col-10{flex:0 0 auto;width:83.3333333333%}.kern-col-offset-10{margin-left:83.3333333333%}.kern-col-11{flex:0 0 auto;width:91.6666666667%}.kern-col-offset-11{margin-left:91.6666666667%}.kern-col-12{flex:0 0 auto;width:100%}.kern-col-offset-12{margin-left:100%}@media (min-width: 576px){.kern-container{max-width:96%}.kern-col-sm-offset-0{margin-left:0}.kern-col-sm-1{width:8.3333333333%}.kern-col-sm-offset-1{margin-left:8.3333333333%}.kern-col-sm-2{width:16.6666666667%}.kern-col-sm-offset-2{margin-left:16.6666666667%}.kern-col-sm-3{width:25%}.kern-col-sm-offset-3{margin-left:25%}.kern-col-sm-4{width:33.3333333333%}.kern-col-sm-offset-4{margin-left:33.3333333333%}.kern-col-sm-5{width:41.6666666667%}.kern-col-sm-offset-5{margin-left:41.6666666667%}.kern-col-sm-6{width:50%}.kern-col-sm-offset-6{margin-left:50%}.kern-col-sm-7{width:58.3333333333%}.kern-col-sm-offset-7{margin-left:58.3333333333%}.kern-col-sm-8{width:66.6666666667%}.kern-col-sm-offset-8{margin-left:66.6666666667%}.kern-col-sm-9{width:75%}.kern-col-sm-offset-9{margin-left:75%}.kern-col-sm-10{width:83.3333333333%}.kern-col-sm-offset-10{margin-left:83.3333333333%}.kern-col-sm-11{width:91.6666666667%}.kern-col-sm-offset-11{margin-left:91.6666666667%}.kern-col-sm-12{width:100%}.kern-col-sm-offset-12{margin-left:100%}}@media (min-width: 768px){.kern-container{max-width:96%}.kern-col-md-offset-0{margin-left:0}.kern-col-md-1{width:8.3333333333%}.kern-col-md-offset-1{margin-left:8.3333333333%}.kern-col-md-2{width:16.6666666667%}.kern-col-md-offset-2{margin-left:16.6666666667%}.kern-col-md-3{width:25%}.kern-col-md-offset-3{margin-left:25%}.kern-col-md-4{width:33.3333333333%}.kern-col-md-offset-4{margin-left:33.3333333333%}.kern-col-md-5{width:41.6666666667%}.kern-col-md-offset-5{margin-left:41.6666666667%}.kern-col-md-6{width:50%}.kern-col-md-offset-6{margin-left:50%}.kern-col-md-7{width:58.3333333333%}.kern-col-md-offset-7{margin-left:58.3333333333%}.kern-col-md-8{width:66.6666666667%}.kern-col-md-offset-8{margin-left:66.6666666667%}.kern-col-md-9{width:75%}.kern-col-md-offset-9{margin-left:75%}.kern-col-md-10{width:83.3333333333%}.kern-col-md-offset-10{margin-left:83.3333333333%}.kern-col-md-11{width:91.6666666667%}.kern-col-md-offset-11{margin-left:91.6666666667%}.kern-col-md-12{width:100%}.kern-col-md-offset-12{margin-left:100%}}@media (min-width: 992px){.kern-container{max-width:96%}.kern-col-lg-offset-0{margin-left:0}.kern-col-lg-1{width:8.3333333333%}.kern-col-lg-offset-1{margin-left:8.3333333333%}.kern-col-lg-2{width:16.6666666667%}.kern-col-lg-offset-2{margin-left:16.6666666667%}.kern-col-lg-3{width:25%}.kern-col-lg-offset-3{margin-left:25%}.kern-col-lg-4{width:33.3333333333%}.kern-col-lg-offset-4{margin-left:33.3333333333%}.kern-col-lg-5{width:41.6666666667%}.kern-col-lg-offset-5{margin-left:41.6666666667%}.kern-col-lg-6{width:50%}.kern-col-lg-offset-6{margin-left:50%}.kern-col-lg-7{width:58.3333333333%}.kern-col-lg-offset-7{margin-left:58.3333333333%}.kern-col-lg-8{width:66.6666666667%}.kern-col-lg-offset-8{margin-left:66.6666666667%}.kern-col-lg-9{width:75%}.kern-col-lg-offset-9{margin-left:75%}.kern-col-lg-10{width:83.3333333333%}.kern-col-lg-offset-10{margin-left:83.3333333333%}.kern-col-lg-11{width:91.6666666667%}.kern-col-lg-offset-11{margin-left:91.6666666667%}.kern-col-lg-12{width:100%}.kern-col-lg-offset-12{margin-left:100%}}@media (min-width: 1200px){.kern-container{max-width:96%}.kern-col-xl-offset-0{margin-left:0}.kern-col-xl-1{width:8.3333333333%}.kern-col-xl-offset-1{margin-left:8.3333333333%}.kern-col-xl-2{width:16.6666666667%}.kern-col-xl-offset-2{margin-left:16.6666666667%}.kern-col-xl-3{width:25%}.kern-col-xl-offset-3{margin-left:25%}.kern-col-xl-4{width:33.3333333333%}.kern-col-xl-offset-4{margin-left:33.3333333333%}.kern-col-xl-5{width:41.6666666667%}.kern-col-xl-offset-5{margin-left:41.6666666667%}.kern-col-xl-6{width:50%}.kern-col-xl-offset-6{margin-left:50%}.kern-col-xl-7{width:58.3333333333%}.kern-col-xl-offset-7{margin-left:58.3333333333%}.kern-col-xl-8{width:66.6666666667%}.kern-col-xl-offset-8{margin-left:66.6666666667%}.kern-col-xl-9{width:75%}.kern-col-xl-offset-9{margin-left:75%}.kern-col-xl-10{width:83.3333333333%}.kern-col-xl-offset-10{margin-left:83.3333333333%}.kern-col-xl-11{width:91.6666666667%}.kern-col-xl-offset-11{margin-left:91.6666666667%}.kern-col-xl-12{width:100%}.kern-col-xl-offset-12{margin-left:100%}}@media (min-width: 1600px){.kern-container{max-width:1536px}.kern-col-xxl-offset-0{margin-left:0}.kern-col-xxl-1{width:8.3333333333%}.kern-col-xxl-offset-1{margin-left:8.3333333333%}.kern-col-xxl-2{width:16.6666666667%}.kern-col-xxl-offset-2{margin-left:16.6666666667%}.kern-col-xxl-3{width:25%}.kern-col-xxl-offset-3{margin-left:25%}.kern-col-xxl-4{width:33.3333333333%}.kern-col-xxl-offset-4{margin-left:33.3333333333%}.kern-col-xxl-5{width:41.6666666667%}.kern-col-xxl-offset-5{margin-left:41.6666666667%}.kern-col-xxl-6{width:50%}.kern-col-xxl-offset-6{margin-left:50%}.kern-col-xxl-7{width:58.3333333333%}.kern-col-xxl-offset-7{margin-left:58.3333333333%}.kern-col-xxl-8{width:66.6666666667%}.kern-col-xxl-offset-8{margin-left:66.6666666667%}.kern-col-xxl-9{width:75%}.kern-col-xxl-offset-9{margin-left:75%}.kern-col-xxl-10{width:83.3333333333%}.kern-col-xxl-offset-10{margin-left:83.3333333333%}.kern-col-xxl-11{width:91.6666666667%}.kern-col-xxl-offset-11{margin-left:91.6666666667%}.kern-col-xxl-12{width:100%}.kern-col-xxl-offset-12{margin-left:100%}}:root{--kern-darkblue-025-lightness: 97.29%;--kern-darkblue-025-chroma: .0081;--kern-darkblue-025-hue: 261.5;--kern-darkblue-050-lightness: 95.28%;--kern-darkblue-050-chroma: .0144;--kern-darkblue-050-hue: 267.3;--kern-darkblue-100-lightness: 90.65%;--kern-darkblue-100-chroma: .0284;--kern-darkblue-100-hue: 265.8;--kern-darkblue-150-lightness: 87.02%;--kern-darkblue-150-chroma: .0397;--kern-darkblue-150-hue: 264.3;--kern-darkblue-200-lightness: 82.15%;--kern-darkblue-200-chroma: .0557;--kern-darkblue-200-hue: 265.6;--kern-darkblue-250-lightness: 78.4%;--kern-darkblue-250-chroma: .0671;--kern-darkblue-250-hue: 265.4;--kern-darkblue-300-lightness: 73.65%;--kern-darkblue-300-chroma: .083;--kern-darkblue-300-hue: 265.2;--kern-darkblue-350-lightness: 69.99%;--kern-darkblue-350-chroma: .0926;--kern-darkblue-350-hue: 265;--kern-darkblue-400-lightness: 66.28%;--kern-darkblue-400-chroma: .1035;--kern-darkblue-400-hue: 264.7;--kern-darkblue-450-lightness: 61.27%;--kern-darkblue-450-chroma: .1195;--kern-darkblue-450-hue: 265.5;--kern-darkblue-500-lightness: 57.58%;--kern-darkblue-500-chroma: .1302;--kern-darkblue-500-hue: 265.1;--kern-darkblue-550-lightness: 52.55%;--kern-darkblue-550-chroma: .1462;--kern-darkblue-550-hue: 265.4;--kern-darkblue-600-lightness: 48.97%;--kern-darkblue-600-chroma: .1552;--kern-darkblue-600-hue: 264.9;--kern-darkblue-650-lightness: 45%;--kern-darkblue-650-chroma: .166;--kern-darkblue-650-hue: 265.1;--kern-darkblue-700-lightness: 40.4%;--kern-darkblue-700-chroma: .1713;--kern-darkblue-700-hue: 265.1;--kern-darkblue-750-lightness: 36.29%;--kern-darkblue-750-chroma: .1831;--kern-darkblue-750-hue: 265;--kern-darkblue-800-lightness: 32.18%;--kern-darkblue-800-chroma: .1841;--kern-darkblue-800-hue: 265;--kern-darkblue-850-lightness: 28.85%;--kern-darkblue-850-chroma: .1905;--kern-darkblue-850-hue: 264.9;--kern-darkblue-900-lightness: 24.13%;--kern-darkblue-900-chroma: .1635;--kern-darkblue-900-hue: 266.4;--kern-darkblue-950-lightness: 19.3%;--kern-darkblue-950-chroma: .1283;--kern-darkblue-950-hue: 268.4}:root{--kern-lightblue-025-lightness: 97.93%;--kern-lightblue-025-chroma: .0112;--kern-lightblue-025-hue: 225.1;--kern-lightblue-050-lightness: 95.27%;--kern-lightblue-050-chroma: .0248;--kern-lightblue-050-hue: 223.4;--kern-lightblue-100-lightness: 90.47%;--kern-lightblue-100-chroma: .0495;--kern-lightblue-100-hue: 225.8;--kern-lightblue-150-lightness: 86.16%;--kern-lightblue-150-chroma: .0716;--kern-lightblue-150-hue: 224.5;--kern-lightblue-200-lightness: 82.29%;--kern-lightblue-200-chroma: .0929;--kern-lightblue-200-hue: 223.5;--kern-lightblue-250-lightness: 77.87%;--kern-lightblue-250-chroma: .1157;--kern-lightblue-250-hue: 223.4;--kern-lightblue-300-lightness: 72.6%;--kern-lightblue-300-chroma: .1365;--kern-lightblue-300-hue: 224.1;--kern-lightblue-350-lightness: 69.31%;--kern-lightblue-350-chroma: .1331;--kern-lightblue-350-hue: 226.5;--kern-lightblue-400-lightness: 65.7%;--kern-lightblue-400-chroma: .126;--kern-lightblue-400-hue: 226.3;--kern-lightblue-450-lightness: 60.49%;--kern-lightblue-450-chroma: .1218;--kern-lightblue-450-hue: 230.9;--kern-lightblue-500-lightness: 56.36%;--kern-lightblue-500-chroma: .1102;--kern-lightblue-500-hue: 228.3;--kern-lightblue-550-lightness: 51.87%;--kern-lightblue-550-chroma: .1098;--kern-lightblue-550-hue: 234.8;--kern-lightblue-600-lightness: 47.63%;--kern-lightblue-600-chroma: .1034;--kern-lightblue-600-hue: 236.6;--kern-lightblue-650-lightness: 42.88%;--kern-lightblue-650-chroma: .0984;--kern-lightblue-650-hue: 240.1;--kern-lightblue-700-lightness: 39.45%;--kern-lightblue-700-chroma: .0961;--kern-lightblue-700-hue: 243.4;--kern-lightblue-750-lightness: 34.98%;--kern-lightblue-750-chroma: .0901;--kern-lightblue-750-hue: 246.1;--kern-lightblue-800-lightness: 31%;--kern-lightblue-800-chroma: .0905;--kern-lightblue-800-hue: 251.1;--kern-lightblue-850-lightness: 26.58%;--kern-lightblue-850-chroma: .0837;--kern-lightblue-850-hue: 253.7;--kern-lightblue-900-lightness: 22.62%;--kern-lightblue-900-chroma: .0845;--kern-lightblue-900-hue: 258.2;--kern-lightblue-950-lightness: 18.48%;--kern-lightblue-950-chroma: .0867;--kern-lightblue-950-hue: 262.2}:root{--kern-turquoise-025-lightness: 97.64%;--kern-turquoise-025-chroma: .0123;--kern-turquoise-025-hue: 172.2;--kern-turquoise-050-lightness: 95.45%;--kern-turquoise-050-chroma: .0269;--kern-turquoise-050-hue: 171.7;--kern-turquoise-100-lightness: 90.68%;--kern-turquoise-100-chroma: .0593;--kern-turquoise-100-hue: 170.5;--kern-turquoise-150-lightness: 85.52%;--kern-turquoise-150-chroma: .0888;--kern-turquoise-150-hue: 171;--kern-turquoise-200-lightness: 81.34%;--kern-turquoise-200-chroma: .1071;--kern-turquoise-200-hue: 170.7;--kern-turquoise-250-lightness: 77.21%;--kern-turquoise-250-chroma: .1209;--kern-turquoise-250-hue: 170.3;--kern-turquoise-300-lightness: 72.07%;--kern-turquoise-300-chroma: .1298;--kern-turquoise-300-hue: 170.4;--kern-turquoise-350-lightness: 68.64%;--kern-turquoise-350-chroma: .1341;--kern-turquoise-350-hue: 170;--kern-turquoise-400-lightness: 63.71%;--kern-turquoise-400-chroma: .1258;--kern-turquoise-400-hue: 170.2;--kern-turquoise-450-lightness: 59.21%;--kern-turquoise-450-chroma: .1187;--kern-turquoise-450-hue: 168.9;--kern-turquoise-500-lightness: 54.7%;--kern-turquoise-500-chroma: .1094;--kern-turquoise-500-hue: 169.1;--kern-turquoise-550-lightness: 51.64%;--kern-turquoise-550-chroma: .1031;--kern-turquoise-550-hue: 169.3;--kern-turquoise-600-lightness: 46.91%;--kern-turquoise-600-chroma: .0948;--kern-turquoise-600-hue: 168.1;--kern-turquoise-650-lightness: 42.12%;--kern-turquoise-650-chroma: .0848;--kern-turquoise-650-hue: 168.5;--kern-turquoise-700-lightness: 38.81%;--kern-turquoise-700-chroma: .079;--kern-turquoise-700-hue: 167.5;--kern-turquoise-750-lightness: 33.77%;--kern-turquoise-750-chroma: .0682;--kern-turquoise-750-hue: 168.2;--kern-turquoise-800-lightness: 30.31%;--kern-turquoise-800-chroma: .0608;--kern-turquoise-800-hue: 168.9;--kern-turquoise-850-lightness: 26.7%;--kern-turquoise-850-chroma: .0545;--kern-turquoise-850-hue: 167.3;--kern-turquoise-900-lightness: 21.11%;--kern-turquoise-900-chroma: .0425;--kern-turquoise-900-hue: 168.5;--kern-turquoise-950-lightness: 17.16%;--kern-turquoise-950-chroma: .0342;--kern-turquoise-950-hue: 169.5}:root{--kern-green-025-lightness: 97.95%;--kern-green-025-chroma: .0066;--kern-green-025-hue: 151.9;--kern-green-050-lightness: 95.9%;--kern-green-050-chroma: .0151;--kern-green-050-hue: 148.4;--kern-green-100-lightness: 90.51%;--kern-green-100-chroma: .0375;--kern-green-100-hue: 148.6;--kern-green-150-lightness: 86.51%;--kern-green-150-chroma: .0556;--kern-green-150-hue: 148.3;--kern-green-200-lightness: 81.85%;--kern-green-200-chroma: .074;--kern-green-200-hue: 149;--kern-green-250-lightness: 77.04%;--kern-green-250-chroma: .092;--kern-green-250-hue: 148.1;--kern-green-300-lightness: 72.45%;--kern-green-300-chroma: .1087;--kern-green-300-hue: 148.5;--kern-green-350-lightness: 68.55%;--kern-green-350-chroma: .1228;--kern-green-350-hue: 148.4;--kern-green-400-lightness: 63.71%;--kern-green-400-chroma: .1312;--kern-green-400-hue: 148.6;--kern-green-450-lightness: 59.26%;--kern-green-450-chroma: .1414;--kern-green-450-hue: 148.4;--kern-green-500-lightness: 54.55%;--kern-green-500-chroma: .1469;--kern-green-500-hue: 148.4;--kern-green-550-lightness: 50.64%;--kern-green-550-chroma: .1479;--kern-green-550-hue: 147.7;--kern-green-600-lightness: 45.99%;--kern-green-600-chroma: .1381;--kern-green-600-hue: 146.6;--kern-green-650-lightness: 42.82%;--kern-green-650-chroma: .1318;--kern-green-650-hue: 145.7;--kern-green-700-lightness: 38.01%;--kern-green-700-chroma: .118;--kern-green-700-hue: 145.4;--kern-green-750-lightness: 34.7%;--kern-green-750-chroma: .1103;--kern-green-750-hue: 144.6;--kern-green-800-lightness: 29.62%;--kern-green-800-chroma: .095;--kern-green-800-hue: 144.4;--kern-green-850-lightness: 26.11%;--kern-green-850-chroma: .0844;--kern-green-850-hue: 144.1;--kern-green-900-lightness: 20.63%;--kern-green-900-chroma: .0664;--kern-green-900-hue: 144.2;--kern-green-950-lightness: 16.76%;--kern-green-950-chroma: .0542;--kern-green-950-hue: 144.1}:root{--kern-limette-025-lightness: 97.02%;--kern-limette-025-chroma: .0694;--kern-limette-025-hue: 120.6;--kern-limette-050-lightness: 95.09%;--kern-limette-050-chroma: .1155;--kern-limette-050-hue: 120.8;--kern-limette-100-lightness: 90.24%;--kern-limette-100-chroma: .1656;--kern-limette-100-hue: 120.8;--kern-limette-150-lightness: 86.02%;--kern-limette-150-chroma: .1845;--kern-limette-150-hue: 121.2;--kern-limette-200-lightness: 81.36%;--kern-limette-200-chroma: .1887;--kern-limette-200-hue: 120.7;--kern-limette-250-lightness: 77.69%;--kern-limette-250-chroma: .1864;--kern-limette-250-hue: 121;--kern-limette-300-lightness: 73.21%;--kern-limette-300-chroma: .1755;--kern-limette-300-hue: 120.9;--kern-limette-350-lightness: 68.65%;--kern-limette-350-chroma: .1645;--kern-limette-350-hue: 120.9;--kern-limette-400-lightness: 65.38%;--kern-limette-400-chroma: .1582;--kern-limette-400-hue: 121.8;--kern-limette-450-lightness: 60.7%;--kern-limette-450-chroma: .1467;--kern-limette-450-hue: 121.7;--kern-limette-500-lightness: 55.93%;--kern-limette-500-chroma: .135;--kern-limette-500-hue: 121.6;--kern-limette-550-lightness: 51.06%;--kern-limette-550-chroma: .1231;--kern-limette-550-hue: 121.4;--kern-limette-600-lightness: 47.75%;--kern-limette-600-chroma: .115;--kern-limette-600-hue: 121.3;--kern-limette-650-lightness: 42.55%;--kern-limette-650-chroma: .1032;--kern-limette-650-hue: 122;--kern-limette-700-lightness: 39.09%;--kern-limette-700-chroma: .0946;--kern-limette-700-hue: 121.8;--kern-limette-750-lightness: 35.55%;--kern-limette-750-chroma: .0858;--kern-limette-750-hue: 121.6;--kern-limette-800-lightness: 30%;--kern-limette-800-chroma: .0727;--kern-limette-800-hue: 121.9;--kern-limette-850-lightness: 26.21%;--kern-limette-850-chroma: .0631;--kern-limette-850-hue: 121.3;--kern-limette-900-lightness: 22.14%;--kern-limette-900-chroma: .0541;--kern-limette-900-hue: 122.7;--kern-limette-950-lightness: 18.08%;--kern-limette-950-chroma: .0434;--kern-limette-950-hue: 121.1}:root{--kern-yellow-025-lightness: 97.15%;--kern-yellow-025-chroma: .1207;--kern-yellow-025-hue: 106.7;--kern-yellow-050-lightness: 94.9%;--kern-yellow-050-chroma: .1515;--kern-yellow-050-hue: 104.1;--kern-yellow-100-lightness: 90.5%;--kern-yellow-100-chroma: .1776;--kern-yellow-100-hue: 98.18;--kern-yellow-150-lightness: 86.85%;--kern-yellow-150-chroma: .1781;--kern-yellow-150-hue: 94.26;--kern-yellow-200-lightness: 82.83%;--kern-yellow-200-chroma: .1699;--kern-yellow-200-hue: 94.33;--kern-yellow-250-lightness: 78.01%;--kern-yellow-250-chroma: .1597;--kern-yellow-250-hue: 92.52;--kern-yellow-300-lightness: 73.93%;--kern-yellow-300-chroma: .1513;--kern-yellow-300-hue: 92.61;--kern-yellow-350-lightness: 69.79%;--kern-yellow-350-chroma: .1428;--kern-yellow-350-hue: 92.72;--kern-yellow-400-lightness: 65.58%;--kern-yellow-400-chroma: .1343;--kern-yellow-400-hue: 92.85;--kern-yellow-450-lightness: 61.31%;--kern-yellow-450-chroma: .1255;--kern-yellow-450-hue: 92.99;--kern-yellow-500-lightness: 56.96%;--kern-yellow-500-chroma: .1166;--kern-yellow-500-hue: 93.17;--kern-yellow-550-lightness: 52.05%;--kern-yellow-550-chroma: .1064;--kern-yellow-550-hue: 91.55;--kern-yellow-600-lightness: 47.57%;--kern-yellow-600-chroma: .0973;--kern-yellow-600-hue: 91.85;--kern-yellow-650-lightness: 44.52%;--kern-yellow-650-chroma: .0911;--kern-yellow-650-hue: 92.09;--kern-yellow-700-lightness: 39.84%;--kern-yellow-700-chroma: .0815;--kern-yellow-700-hue: 92.54;--kern-yellow-750-lightness: 34.74%;--kern-yellow-750-chroma: .071;--kern-yellow-750-hue: 91.44;--kern-yellow-800-lightness: 31.21%;--kern-yellow-800-chroma: .0638;--kern-yellow-800-hue: 90.35;--kern-yellow-850-lightness: 25.99%;--kern-yellow-850-chroma: .0531;--kern-yellow-850-hue: 90.14;--kern-yellow-900-lightness: 22.55%;--kern-yellow-900-chroma: .0461;--kern-yellow-900-hue: 91.64;--kern-yellow-950-lightness: 18.61%;--kern-yellow-950-chroma: .038;--kern-yellow-950-hue: 89.88}:root{--kern-orange-025-lightness: 98%;--kern-orange-025-chroma: .0188;--kern-orange-025-hue: 81.5;--kern-orange-050-lightness: 95.85%;--kern-orange-050-chroma: .0433;--kern-orange-050-hue: 84.57;--kern-orange-100-lightness: 91.5%;--kern-orange-100-chroma: .0891;--kern-orange-100-hue: 84.2;--kern-orange-150-lightness: 87.38%;--kern-orange-150-chroma: .1245;--kern-orange-150-hue: 81.4;--kern-orange-200-lightness: 83.3%;--kern-orange-200-chroma: .1517;--kern-orange-200-hue: 77.01;--kern-orange-250-lightness: 79.67%;--kern-orange-250-chroma: .1689;--kern-orange-250-hue: 71.24;--kern-orange-300-lightness: 74.41%;--kern-orange-300-chroma: .1646;--kern-orange-300-hue: 66.86;--kern-orange-350-lightness: 70.85%;--kern-orange-350-chroma: .1565;--kern-orange-350-hue: 67.04;--kern-orange-400-lightness: 66.63%;--kern-orange-400-chroma: .1493;--kern-orange-400-hue: 65.13;--kern-orange-450-lightness: 61.81%;--kern-orange-450-chroma: .1382;--kern-orange-450-hue: 65.47;--kern-orange-500-lightness: 57.6%;--kern-orange-500-chroma: .1306;--kern-orange-500-hue: 63.7;--kern-orange-550-lightness: 52.64%;--kern-orange-550-chroma: .1189;--kern-orange-550-hue: 64.21;--kern-orange-600-lightness: 48.42%;--kern-orange-600-chroma: .1108;--kern-orange-600-hue: 62.67;--kern-orange-650-lightness: 44.59%;--kern-orange-650-chroma: .1015;--kern-orange-650-hue: 63.27;--kern-orange-700-lightness: 40.32%;--kern-orange-700-chroma: .0927;--kern-orange-700-hue: 62.06;--kern-orange-750-lightness: 36.35%;--kern-orange-750-chroma: .0829;--kern-orange-750-hue: 63.06;--kern-orange-800-lightness: 32.01%;--kern-orange-800-chroma: .0733;--kern-orange-800-hue: 62.53;--kern-orange-850-lightness: 27.62%;--kern-orange-850-chroma: .0632;--kern-orange-850-hue: 62.68;--kern-orange-900-lightness: 22.99%;--kern-orange-900-chroma: .0528;--kern-orange-900-hue: 62.35;--kern-orange-950-lightness: 18.36%;--kern-orange-950-chroma: .0413;--kern-orange-950-hue: 64.82}:root{--kern-red-025-lightness: 98.03%;--kern-red-025-chroma: .0083;--kern-red-025-hue: 25.06;--kern-red-050-lightness: 95.36%;--kern-red-050-chroma: .0217;--kern-red-050-hue: 32.68;--kern-red-100-lightness: 91.24%;--kern-red-100-chroma: .0436;--kern-red-100-hue: 28.25;--kern-red-150-lightness: 87.71%;--kern-red-150-chroma: .0621;--kern-red-150-hue: 29.89;--kern-red-200-lightness: 83.28%;--kern-red-200-chroma: .0854;--kern-red-200-hue: 30.18;--kern-red-250-lightness: 79.59%;--kern-red-250-chroma: .1043;--kern-red-250-hue: 29.15;--kern-red-300-lightness: 75.15%;--kern-red-300-chroma: .1265;--kern-red-300-hue: 28.4;--kern-red-350-lightness: 71.18%;--kern-red-350-chroma: .143;--kern-red-350-hue: 28.92;--kern-red-400-lightness: 67.04%;--kern-red-400-chroma: .1611;--kern-red-400-hue: 28.5;--kern-red-450-lightness: 63.35%;--kern-red-450-chroma: .1717;--kern-red-450-hue: 29.1;--kern-red-500-lightness: 58.93%;--kern-red-500-chroma: .1871;--kern-red-500-hue: 29.12;--kern-red-550-lightness: 54.9%;--kern-red-550-chroma: .1972;--kern-red-550-hue: 29.28;--kern-red-600-lightness: 50.78%;--kern-red-600-chroma: .202;--kern-red-600-hue: 29.22;--kern-red-650-lightness: 46%;--kern-red-650-chroma: .1888;--kern-red-650-hue: 29.23;--kern-red-700-lightness: 41.84%;--kern-red-700-chroma: .1717;--kern-red-700-hue: 29.23;--kern-red-750-lightness: 37.56%;--kern-red-750-chroma: .1541;--kern-red-750-hue: 29.23;--kern-red-800-lightness: 32.04%;--kern-red-800-chroma: .1315;--kern-red-800-hue: 29.23;--kern-red-850-lightness: 28.62%;--kern-red-850-chroma: .1174;--kern-red-850-hue: 29.23;--kern-red-900-lightness: 23.88%;--kern-red-900-chroma: .098;--kern-red-900-hue: 29.23;--kern-red-950-lightness: 18.89%;--kern-red-950-chroma: .0775;--kern-red-950-hue: 29.23}:root{--kern-violet-025-lightness: 97.97%;--kern-violet-025-chroma: .0094;--kern-violet-025-hue: 311;--kern-violet-050-lightness: 95.12%;--kern-violet-050-chroma: .0215;--kern-violet-050-hue: 312.8;--kern-violet-100-lightness: 91.07%;--kern-violet-100-chroma: .0444;--kern-violet-100-hue: 314;--kern-violet-150-lightness: 88%;--kern-violet-150-chroma: .0602;--kern-violet-150-hue: 313.2;--kern-violet-200-lightness: 83.03%;--kern-violet-200-chroma: .0861;--kern-violet-200-hue: 313;--kern-violet-250-lightness: 79.26%;--kern-violet-250-chroma: .106;--kern-violet-250-hue: 313.5;--kern-violet-300-lightness: 75.52%;--kern-violet-300-chroma: .123;--kern-violet-300-hue: 313.3;--kern-violet-350-lightness: 71.06%;--kern-violet-350-chroma: .1442;--kern-violet-350-hue: 313.8;--kern-violet-400-lightness: 67.51%;--kern-violet-400-chroma: .1583;--kern-violet-400-hue: 313.6;--kern-violet-450-lightness: 63.1%;--kern-violet-450-chroma: .1778;--kern-violet-450-hue: 313.2;--kern-violet-500-lightness: 59.14%;--kern-violet-500-chroma: .1931;--kern-violet-500-hue: 313.6;--kern-violet-550-lightness: 55.43%;--kern-violet-550-chroma: .2052;--kern-violet-550-hue: 313.9;--kern-violet-600-lightness: 50.94%;--kern-violet-600-chroma: .2144;--kern-violet-600-hue: 313.2;--kern-violet-650-lightness: 47.11%;--kern-violet-650-chroma: .2224;--kern-violet-650-hue: 313.7;--kern-violet-700-lightness: 42.44%;--kern-violet-700-chroma: .2119;--kern-violet-700-hue: 312.4;--kern-violet-750-lightness: 38.09%;--kern-violet-750-chroma: .1911;--kern-violet-750-hue: 311.5;--kern-violet-800-lightness: 32.98%;--kern-violet-800-chroma: .1651;--kern-violet-800-hue: 311.9;--kern-violet-850-lightness: 28.25%;--kern-violet-850-chroma: .1427;--kern-violet-850-hue: 310.2;--kern-violet-900-lightness: 23.95%;--kern-violet-900-chroma: .1205;--kern-violet-900-hue: 311;--kern-violet-950-lightness: 19.14%;--kern-violet-950-chroma: .0967;--kern-violet-950-hue: 310.2}:root{--kern-neutral-025-lightness: 97.46%;--kern-neutral-025-chroma: .0028;--kern-neutral-025-hue: 286.3;--kern-neutral-050-lightness: 95.79%;--kern-neutral-050-chroma: .0053;--kern-neutral-050-hue: 275;--kern-neutral-100-lightness: 91.42%;--kern-neutral-100-chroma: .012;--kern-neutral-100-hue: 276;--kern-neutral-150-lightness: 87.05%;--kern-neutral-150-chroma: .0183;--kern-neutral-150-hue: 275.9;--kern-neutral-200-lightness: 82.73%;--kern-neutral-200-chroma: .0236;--kern-neutral-200-hue: 275.8;--kern-neutral-250-lightness: 78.2%;--kern-neutral-250-chroma: .0305;--kern-neutral-250-hue: 276.7;--kern-neutral-300-lightness: 74.59%;--kern-neutral-300-chroma: .0358;--kern-neutral-300-hue: 276.5;--kern-neutral-350-lightness: 70.15%;--kern-neutral-350-chroma: .042;--kern-neutral-350-hue: 275.3;--kern-neutral-400-lightness: 65.51%;--kern-neutral-400-chroma: .0464;--kern-neutral-400-hue: 278.2;--kern-neutral-450-lightness: 61.18%;--kern-neutral-450-chroma: .0496;--kern-neutral-450-hue: 277;--kern-neutral-500-lightness: 56.84%;--kern-neutral-500-chroma: .0521;--kern-neutral-500-hue: 275.8;--kern-neutral-550-lightness: 52.32%;--kern-neutral-550-chroma: .054;--kern-neutral-550-hue: 276.6;--kern-neutral-600-lightness: 48.66%;--kern-neutral-600-chroma: .0561;--kern-neutral-600-hue: 276.4;--kern-neutral-650-lightness: 44.06%;--kern-neutral-650-chroma: .0569;--kern-neutral-650-hue: 277.1;--kern-neutral-700-lightness: 39.76%;--kern-neutral-700-chroma: .0529;--kern-neutral-700-hue: 277;--kern-neutral-750-lightness: 35.13%;--kern-neutral-750-chroma: .0511;--kern-neutral-750-hue: 277.7;--kern-neutral-800-lightness: 30.72%;--kern-neutral-800-chroma: .0459;--kern-neutral-800-hue: 276.7;--kern-neutral-850-lightness: 27%;--kern-neutral-850-chroma: .0409;--kern-neutral-850-hue: 277.5;--kern-neutral-900-lightness: 22.43%;--kern-neutral-900-chroma: .0333;--kern-neutral-900-hue: 275.7;--kern-neutral-950-lightness: 18.2%;--kern-neutral-950-chroma: .0301;--kern-neutral-950-hue: 277.2}:root{--kern-black-lightness: 0%;--kern-black-chroma: 0;--kern-black-hue: 0;--kern-white-lightness: 100%;--kern-white-chroma: 0;--kern-white-hue: 0}:root{--kern-typography-font-family-fira-sans: "Fira Sans", sans-serif;--kern-typography-font-family-fira-mono: "Fira Mono", monospace;--kern-font-size-12: .75rem;--kern-font-size-16: 1rem;--kern-font-size-18: 1.125rem;--kern-font-size-20: 1.25rem;--kern-font-size-21: 1.3125rem;--kern-font-size-24: 1.5rem;--kern-font-size-26: 1.625rem;--kern-font-size-32: 2rem;--kern-font-size-40: 2.5rem;--kern-font-size-48: 3rem;--kern-font-size-56: 3.5rem;--kern-font-size-72: 4.5rem;--kern-font-size-80: 5rem}:root{--kern-0: 0rem;--kern-1: .0625rem;--kern-2: .125rem;--kern-3: .1875rem;--kern-4: .25rem;--kern-5: .3125rem;--kern-6: .375rem;--kern-7: .4375rem;--kern-8: .5rem;--kern-9: .5625rem;--kern-10: .625rem;--kern-14: .875rem;--kern-12: .75rem;--kern-16: 1rem;--kern-18: 1.125rem;--kern-20: 1.25rem;--kern-24: 1.5rem;--kern-32: 2rem;--kern-40: 2.5rem;--kern-48: 3rem;--kern-56: 3.5rem;--kern-64: 4rem;--kern-80: 5rem;--kern-96: 6rem;--kern-128: 8rem;--kern-160: 10rem;--kern-192: 12rem;--kern-224: 14rem;--kern-240: 15rem;--kern-256: 16rem;--kern-352: 22rem;--kern-360: 22.5rem;--kern-384: 24rem;--kern-480: 30rem;--kern-512: 32rem;--kern-736: 46rem;--kern-768: 48rem;--kern-992: 62rem;--kern-1024: 64rem;--kern-1140: 71.25rem;--kern-1248: 78rem;--kern-1280: 80rem;--kern-1504: 94rem;--kern-1536: 96rem;--kern-1600: 100rem;--kern-1920: 120rem}:root{--kern-metric-border-width-none: var(--kern-0);--kern-metric-border-width-light: var(--kern-1);--kern-metric-border-width-default: var(--kern-2);--kern-metric-border-width-bold: var(--kern-4);--kern-metric-border-width-heavy: var(--kern-8);--kern-metric-border-radius-none: var(--kern-0);--kern-metric-border-radius-small: var(--kern-2);--kern-metric-border-radius-default: var(--kern-4);--kern-metric-border-radius-large: var(--kern-8);--kern-metric-border-radius-circle: 50%;--kern-component-badge-space-left: var(--kern-12);--kern-component-description-list-term-max-width: var(--kern-352);--kern-component-alert-icon-size: var(--kern-32);--kern-component-kopfzeile-font-family: "Fira Sans", "Fira Sans Regular", "Noto Sans", "Noto Sans Regular", "SF Pro Text", "Segoe UI", SegoeUI, Roboto, Arial, Helvetica, sans-serif;--kern-component-kopfzeile-font-size: var(--kern-font-size-14);--kern-component-kopfzeile-line-height: var(--kern-font-size-16);--kern-component-kopfzeile-padding: var(--kern-7);--kern-metric-dimension-2x-small: var(--kern-8);--kern-metric-dimension-x-small: var(--kern-16);--kern-metric-dimension-small: var(--kern-20);--kern-metric-dimension-default: var(--kern-24);--kern-metric-dimension-large: var(--kern-32);--kern-metric-dimension-x-large: var(--kern-48);--kern-metric-dimension-2x-large: var(--kern-56);--kern-metric-dimension-3x-large: var(--kern-64);--kern-metric-dimension-4x-large: var(--kern-80);--kern-metric-dimension-5x-large: var(--kern-96);--kern-metric-dimension-media-small: var(--kern-96);--kern-metric-dimension-media-default: var(--kern-160);--kern-metric-dimension-media-large: var(--kern-240);--kern-metric-screen-size: var(--kern-360);--kern-metric-space-none: var(--kern-0);--kern-metric-space-2x-small: var(--kern-2);--kern-metric-space-x-small: var(--kern-4);--kern-metric-space-small: var(--kern-8);--kern-metric-space-default: var(--kern-16);--kern-metric-space-large: var(--kern-24);--kern-metric-space-x-large: var(--kern-32);--kern-typography-font-family-default: var(--kern-typography-font-family-fira-sans);--kern-typography-line-height-static-medium: var(--kern-font-size-24);--kern-typography-line-height-static-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-24);--kern-typography-line-height-adaptive-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-56);--kern-typography-font-size-static-small: var(--kern-font-size-16);--kern-typography-font-size-static-medium: var(--kern-font-size-18);--kern-typography-font-size-static-large: var(--kern-font-size-21);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-21);--kern-typography-font-size-adaptive-large: var(--kern-font-size-26);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-48);--kern-metric-baseline-body-default-padding-top: var(--kern-6);--kern-metric-baseline-body-default-padding-bottom: var(--kern-2);--kern-metric-baseline-body-large-padding-top: var(--kern-1);--kern-metric-baseline-body-large-padding-bottom: var(--kern-7);--kern-metric-baseline-body-small-padding-top: var(--kern-7);--kern-metric-baseline-body-small-padding-bottom: var(--kern-1);--kern-metric-baseline-heading-display-padding-top: var(--kern-12);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-large-padding-top: var(--kern-7);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-9);--kern-metric-baseline-heading-medium-padding-top: var(--kern-5);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-3);--kern-metric-baseline-heading-small-padding-top: var(--kern-6);--kern-metric-baseline-heading-small-padding-bottom: var(--kern-2);--kern-metric-baseline-title-large-padding-top: var(--kern-7);--kern-metric-baseline-title-large-padding-bottom: var(--kern-9);--kern-metric-baseline-title-default-padding-top: var(--kern-5);--kern-metric-baseline-title-default-padding-bottom: var(--kern-3);--kern-metric-baseline-title-small-padding-top: var(--kern-6);--kern-metric-baseline-title-small-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-large-padding-top: var(--kern-1);--kern-metric-baseline-preline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-preline-default-padding-top: var(--kern-6);--kern-metric-baseline-preline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-small-padding-top: var(--kern-7);--kern-metric-baseline-preline-small-padding-bottom: var(--kern-1);--kern-metric-baseline-subline-large-padding-top: var(--kern-1);--kern-metric-baseline-subline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-subline-default-padding-top: var(--kern-6);--kern-metric-baseline-subline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-subline-small-padding-top: var(--kern-7);--kern-metric-baseline-subline-small-padding-bottom: var(--kern-9);--kern-metric-baseline-label-large-padding-top: var(--kern-1);--kern-metric-baseline-label-large-padding-bottom: var(--kern-7);--kern-metric-baseline-label-default-padding-top: var(--kern-6);--kern-metric-baseline-label-default-padding-bottom: var(--kern-2);--kern-metric-baseline-label-small-padding-top: var(--kern-7);--kern-metric-baseline-label-small-padding-bottom: var(--kern-1);--kern-typography-font-weight-regular: 400;--kern-typography-font-weight-medium: 500;--kern-typography-font-weight-semi-bold: 600}@media (min-width: 768px){:root{--kern-component-kopfzeile-padding: var(--kern-7);--kern-component-alert-icon-size: var(--kern-40);--kern-component-kopfzeile-font-size: var(--kern-font-size-16);--kern-component-kopfzeile-line-height: var(--kern-font-size-20);--kern-component-kopfzeile-padding: var(--kern-5);--kern-metric-dimension-media-small: var(--kern-128);--kern-metric-dimension-media-default: var(--kern-192);--kern-metric-dimension-media-large: var(--kern-360);--kern-metric-screen-size: var(--kern-1920);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-32);--kern-typography-line-height-adaptive-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-56);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-80);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-24);--kern-typography-font-size-adaptive-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-48);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-72);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-medium-padding-top: var(--kern-8);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-8);--kern-metric-baseline-heading-display-padding-top: var(--kern-16);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-16);--kern-metric-baseline-title-large-padding-top: var(--kern-9);--kern-metric-baseline-title-large-padding-bottom: var(--kern-7);--kern-metric-baseline-title-default-padding-top: var(--kern-8);--kern-metric-baseline-title-default-padding-bottom: var(--kern-8)}}@media (prefers-color-scheme: dark){:root{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}@media (prefers-color-scheme: light){:root{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}[data-kern-theme=light],.kern-light{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}[data-kern-theme=dark],.kern-dark{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}
`,j1=new CSSStyleSheet;j1.replaceSync(`@layer kern-ux-icons {
	
		.kern-icon-fill--layers {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE1MS0zODZxLTEyLTguOTQtMTEuNS0yMy40N1QxNTIuMDgtNDMzcTguMy02IDE4LjExLTYgOS44MSAwIDE3LjgxIDZsMjkyIDIyNyAyOTItMjI3cTguMzItNiAxOC4xNi02dDE4LjA5IDUuOTdxMTIgOC45NSAxMi4zOCAyMy40OVE4MjEtMzk1IDgwOS0zODZMNTE3LTE1OXEtMTYuNSAxMy0zNi43NSAxM1Q0NDMtMTU5TDE1MS0zODZabTI5MiA3NUwxODEtNTE1cS0yMy0xNy44OC0yMy00Ni45NFQxODEtNjA5bDI2Mi0yMDRxMTYuNS0xMyAzNi43NS0xM1Q1MTctODEzbDI2MiAyMDRxMjMgMTcuODggMjMgNDYuOTRUNzc5LTUxNUw1MTctMzExcS0xNi41IDEzLTM2Ljc1IDEzVDQ0My0zMTFaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--filter-alt {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ0MC0xNjBxLTE3IDAtMjguNS0xMS41VDQwMC0yMDB2LTI0MEwxNjEtNzQ1cS0xNC0xNy00LTM2dDMxLTE5aDU4NHEyMSAwIDMxIDE5dC00IDM2TDU2MC00NDB2MjQwcTAgMTctMTEuNSAyOC41VDUyMC0xNjBoLTgwWm00MC0yNzYgMjQwLTMwNEgyNDBsMjQwIDMwNFptMCAwWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--home {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIyMC0xODBoMTUwdi0yMjBxMC0xMi43NSA4LjYzLTIxLjM4UTM4Ny4yNS00MzAgNDAwLTQzMGgxNjBxMTIuNzUgMCAyMS4zOCA4LjYyUTU5MC00MTIuNzUgNTkwLTQwMHYyMjBoMTUwdi0zOTBMNDgwLTc2NSAyMjAtNTcwdjM5MFptLTYwIDB2LTM5MHEwLTE0LjI1IDYuMzgtMjcgNi4zNy0xMi43NSAxNy42Mi0yMWwyNjAtMTk1cTE1LjY4LTEyIDM1Ljg0LTEyUTUwMC04MjUgNTE2LTgxM2wyNjAgMTk1cTExLjI1IDguMjUgMTcuNjMgMjEgNi4zNyAxMi43NSA2LjM3IDI3djM5MHEwIDI0Ljc1LTE3LjYyIDQyLjM3UTc2NC43NS0xMjAgNzQwLTEyMEg1NjBxLTEyLjc1IDAtMjEuMzctOC42M1E1MzAtMTM3LjI1IDUzMC0xNTB2LTIyMEg0MzB2MjIwcTAgMTIuNzUtOC42MiAyMS4zN1E0MTIuNzUtMTIwIDQwMC0xMjBIMjIwcS0yNC43NSAwLTQyLjM3LTE3LjYzUTE2MC0xNTUuMjUgMTYwLTE4MFptMzIwLTI5M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWm0xMzIgMTc5IDE5Mi01MDMtNTAyIDE5MiAyMjQgODYgODYgMjI1Wm0tODYtMjI1WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me-disabled {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTUyMC0xMzcgNDEzLTQxMyAxMzctNTIwcS0xMC00LTE0LjUtMTJ0LTQuNS0xN3EwLTkgNC41LTE2dDE0LjUtMTFsMjAwLTc1LTE5OC0xOThxLTktOS05LTIxLjV0OS0yMS41cTktOSAyMS41LTl0MjEuNSA5bDcxMCA3MTBxOSA5IDkgMjF0LTkgMjFxLTkgOS0yMS41IDl0LTIxLjUtOUw2NTEtMzM3bC03NSAyMDBxLTQgMTAtMTEgMTQuNXQtMTYgNC41cS05IDAtMTctNC41VDUyMC0xMzdabTI5MC02NzNxNiA2IDguNSAxNC41VDgxNy03NzhMNzE1LTUwN3EtNiAxNi0yMi41IDE5LjVUNjY0LTQ5NnEtNy03LTguNS0xNnQxLjUtMTdsODAtMjA4LTIwOCA4MHEtOCAzLTE3IDEuNXQtMTYtOC41cS0xMi0xMi04LjUtMjguNVQ1MDctNzE1bDI3MS0xMDJxOS00IDE3LjUtMS41VDgxMC04MTBaTTU0NS0yMzRsNTgtMTUxLTIxOC0yMTgtMTUwIDU4IDIyNCA4NiA4NiAyMjVabTM1LTM0NlptLTg2IDg2WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--search {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTM3OC0zMjlxLTEwOC4xNiAwLTE4My4wOC03NVExMjAtNDc5IDEyMC01ODV0NzUtMTgxcTc1LTc1IDE4MS41LTc1dDE4MSA3NVE2MzItNjkxIDYzMi01ODQuODUgNjMyLTU0MiA2MTgtNTAycS0xNCA0MC00MiA3NWwyNDIgMjQwcTkgOC41NiA5IDIxLjc4VDgxOC0xNDNxLTkgOS0yMi4yMiA5LTEzLjIyIDAtMjEuNzgtOUw1MzMtMzg0cS0zMCAyNi02OS45NiA0MC41UTQyMy4wOC0zMjkgMzc4LTMyOVptLTEtNjBxODEuMjUgMCAxMzguMTMtNTcuNVE1NzItNTA0IDU3Mi01ODV0LTU2Ljg3LTEzOC41UTQ1OC4yNS03ODEgMzc3LTc4MXEtODIuMDggMC0xMzkuNTQgNTcuNVExODAtNjY2IDE4MC01ODV0NTcuNDYgMTM4LjVRMjk0LjkyLTM4OSAzNzctMzg5WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--search {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTM3OC0zMjlxLTEwOC4xNiAwLTE4My4wOC03NVExMjAtNDc5IDEyMC01ODV0NzUtMTgxcTc1LTc1IDE4MS41LTc1dDE4MSA3NVE2MzItNjkxIDYzMi01ODQuODUgNjMyLTU0MiA2MTgtNTAycS0xNCA0MC00MiA3NWwyNDIgMjQwcTkgOC41NiA5IDIxLjc4VDgxOC0xNDNxLTkgOS0yMi4yMiA5LTEzLjIyIDAtMjEuNzgtOUw1MzMtMzg0cS0zMCAyNi02OS45NiA0MC41UTQyMy4wOC0zMjkgMzc4LTMyOVptLTEtNjBxODEuMjUgMCAxMzguMTMtNTcuNVE1NzItNTA0IDU3Mi01ODV0LTU2Ljg3LTEzOC41UTQ1OC4yNS03ODEgMzc3LTc4MXEtODIuMDggMC0xMzkuNTQgNTcuNVExODAtNjY2IDE4MC01ODV0NTcuNDYgMTM4LjVRMjk0LjkyLTM4OSAzNzctMzg5WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen-exit {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTI1My0yNTNIMTUwcS0xMi43NSAwLTIxLjM3LTguNjgtOC42My04LjY3LTguNjMtMjEuNSAwLTEyLjgyIDguNjMtMjEuMzIgOC42Mi04LjUgMjEuMzctOC41aDEzM3ExMi43NSAwIDIxLjM4IDguNjJRMzEzLTI5NS43NSAzMTMtMjgzdjEzM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMDNabTQ1NCAwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTY2NC4yNS0zMTMgNjc3LTMxM2gxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUg3MDdaTTI1My03MDd2LTEwM3EwLTEyLjc1IDguNjgtMjEuMzggOC42Ny04LjYyIDIxLjUtOC42MiAxMi44MiAwIDIxLjMyIDguNjIgOC41IDguNjMgOC41IDIxLjM4djEzM3EwIDEyLjc1LTguNjIgMjEuMzdRMjk1Ljc1LTY0NyAyODMtNjQ3SDE1MHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMDNabTQ1NCAwaDEwM3ExMi43NSAwIDIxLjM4IDguNjggOC42MiA4LjY3IDguNjIgMjEuNSAwIDEyLjgyLTguNjIgMjEuMzItOC42MyA4LjUtMjEuMzggOC41SDY3N3EtMTIuNzUgMC0yMS4zNy04LjYzUTY0Ny02NjQuMjUgNjQ3LTY3N3YtMTMzcTAtMTIuNzUgOC42OC0yMS4zOCA4LjY3LTguNjIgMjEuNS04LjYyIDEyLjgyIDAgMjEuMzIgOC42MiA4LjUgOC42MyA4LjUgMjEuMzh2MTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--draw {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0xMjBxLTEzIDAtMjEuNS04LjVUMTYwLTE1MHYtNzNxMC0xMiA1LTIzLjV0MTMtMTkuNWw1NTMtNTUzcTExLTExIDIyLjUtMTZ0MjQuNS01cTEyIDAgMjMuNSA1dDIyLjUgMTZsMzUgMzVxMTEgMTAgMTYgMjEuNXQ1IDI0LjVxMCAxMi01IDI0dC0xNiAyM0wzMDYtMTM4cS04IDgtMTkuNSAxM3QtMjMuNSA1aC03M1ptNTYzLTU0OSA2OC02OC00NC00NC02OCA2OCA0NCA0NFpNNTYwLTEyMHE3OCAwIDEzOS0zNi41VDc2MC0yNjBxMC0zNi0yNC02NnQtNzQtNTJxLTExLTUtMjMuNS00VDYxOS0zNzBxLTcgMTEtNC41IDI0dDEzLjUgMThxMzMgMTUgNTIuNSAzMi41VDcwMC0yNjBxMCAzMi00MC41IDU2VDU2MC0xODBxLTEyIDAtMjEgOC41dC05IDIxLjVxMCAxMiA5IDIxdDIxIDlaTTM3MC03MTlxMCAyMC0xOSAzNXQtODUgMzlxLTk0IDM0LTEyMCA2MnQtMjYgNjNxMCAzOCAyNyA2MXQ2MCAzNXExMiA1IDIzLS41dDE1LTE3LjVxNC0xMi0xLTIyLjVUMjI3LTQ4MHEtMjMtOS0zNS0xOXQtMTItMjFxMC0xNiAyMS41LTMwLjVUMjkwLTU5MHE4My0zMSAxMTEuNS01OS41VDQzMC03MTlxMC01Ni00MS04OC41VDI4MC04NDBxLTQyIDAtNzYgMTQuNVQxNTMtNzg5cS04IDktNy41IDIxdDExLjUgMjBxMTAgOCAyMi41IDYuNVQyMDAtNzUxcTE1LTE1IDM0LTIydDQ2LTdxNDYgMCA2OCAxOHQyMiA0M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--all-inclusive {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIxMi0yNjBxLTkwIDAtMTUxLTY1LjVUMC00ODJxMC05MCA2MS41LTE1NFQyMTItNzAwcTM2IDAgNjkuNSAxMnQ1OS41IDM3bDkzIDkwLTQyIDQyLTg5LTg3cS0xOC0xOC00MS41LTI2dC00OS41LThxLTY0IDAtMTA4IDQ2LjVUNjAtNDgycTAgNjYgNDMuNSAxMTRUMjEyLTMyMHEyNSAwIDQ4LjUtOHQ0Mi41LTI1bDMxNi0yOThxMjYtMjUgNTkuNS0zN3Q2OC41LTEycTkwIDAgMTUxLjUgNjRUOTYwLTQ4MnEwIDkxLTYxLjUgMTU2LjVUNzQ3LTI2MHEtMzUgMC02OS0xMS41VDYxOS0zMDhsLTkxLTkwIDQyLTQyIDg3IDg3cTE3IDE3IDQxIDI1dDQ5IDhxNjUgMCAxMDktNDh0NDQtMTE0cTAtNjUtNDQuNS0xMTEuNVQ3NDctNjQwcS0yNSAwLTQ4LjUgOVQ2NTctNjA1TDM0MS0zMDdxLTI2IDI0LTYwIDM1LjVUMjEyLTI2MFoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--history {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ3Ny0xMjBxLTE0MiAwLTI0My41LTk1LjVUMTIxLTQ1MXEtMS0xMiA3LjUtMjF0MjEuNS05cTEyIDAgMjAuNSA4LjVUMTgxLTQ1MXExMSAxMTUgOTUgMTkzdDIwMSA3OHExMjcgMCAyMTUtODl0ODgtMjE2cTAtMTI0LTg5LTIwOS41VDQ3Ny03ODBxLTY4IDAtMTI3LjUgMzFUMjQ2LTY2N2g3NXExMyAwIDIxLjUgOC41VDM1MS02MzdxMCAxMy04LjUgMjEuNVQzMjEtNjA3SDE3MnEtMTMgMC0yMS41LTguNVQxNDItNjM3di0xNDhxMC0xMyA4LjUtMjEuNVQxNzItODE1cTEzIDAgMjEuNSA4LjVUMjAyLTc4NXY3NnE1Mi02MSAxMjMuNS05NlQ0NzctODQwcTc1IDAgMTQxIDI4dDExNS41IDc2LjVRNzgzLTY4NyA4MTEuNS02MjJUODQwLTQ4MnEwIDc1LTI4LjUgMTQxdC03OCAxMTVRNjg0LTE3NyA2MTgtMTQ4LjVUNDc3LTEyMFptMzQtMzc0IDExNSAxMTNxOSA5IDkgMjEuNXQtOSAyMS41cS05IDktMjEgOXQtMjEtOUw0NjAtNDYwcS01LTUtNy0xMC41dC0yLTExLjV2LTE3MXEwLTEzIDguNS0yMS41VDQ4MS02ODNxMTMgMCAyMS41IDguNVQ1MTEtNjUzdjE1OVoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--timeline {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTEwOS45MS0yNDBRODEtMjQwIDYwLjUtMjYwLjU5IDQwLTI4MS4xOCA0MC0zMTAuMDl0MjAuNDktNDkuNDFxMjAuNS0yMC41IDQ5LjI4LTIwLjUgNS4yMyAwIDEwLjIzLjV0MTMgMi41bDIwMC0yMDBxLTItOC0yLjUtMTN0LS41LTEwLjIzcTAtMjguNzggMjAuNTktNDkuMjhRMzcxLjE4LTY3MCA0MDAuMDktNjcwdDQ5LjQxIDIwLjYzcTIwLjUgMjAuNjQgMjAuNSA0OS42MSAwIDEuNzYtMyAyMi43NmwxMTAgMTEwcTgtMiAxMy0yLjV0MTAtLjVxNSAwIDEwIC41dDEzIDIuNWwxNjAtMTYwcS0yLTgtMi41LTEzdC0uNS0xMC4yM3EwLTI4Ljc4IDIwLjU5LTQ5LjI4UTgyMS4xOC03MjAgODUwLjA5LTcyMHQ0OS40MSAyMC41OXEyMC41IDIwLjU5IDIwLjUgNDkuNXQtMjAuNDkgNDkuNDFxLTIwLjUgMjAuNS00OS4yOCAyMC41LTUuMjMgMC0xMC4yMy0uNXQtMTMtMi41TDY2Ny00MjNxMiA4IDIuNSAxM3QuNSAxMC4yM3EwIDI4Ljc4LTIwLjU5IDQ5LjI4UTYyOC44Mi0zMzAgNTk5LjkxLTMzMHQtNDkuNDEtMjAuNDlxLTIwLjUtMjAuNS0yMC41LTQ5LjI4IDAtNS4yMy41LTEwLjIzdDIuNS0xM0w0MjMtNTMzcS04IDItMTMgMi41dC0xMC4yNS41cS0xLjc1IDAtMjIuNzUtM0wxNzctMzMzcTIgOCAyLjUgMTN0LjUgMTAuMjNxMCAyOC43OC0yMC41OSA0OS4yOFExMzguODItMjQwIDEwOS45MS0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--calendar-month {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC04MHEtMjQgMC00Mi0xOHQtMTgtNDJ2LTYyMHEwLTI0IDE4LTQydDQyLTE4aDY1di0yOHEwLTEzLjYgOS4yLTIyLjggOS4yLTkuMiAyMi44LTkuMiAxNC4wMiAwIDIzLjUxIDkuMlEzMTAtODYxLjYgMzEwLTg0OHYyOGgzNDB2LTI4cTAtMTMuNiA5LjItMjIuOCA5LjItOS4yIDIyLjgtOS4yIDE0LjAzIDAgMjMuNTEgOS4yUTcxNS04NjEuNiA3MTUtODQ4djI4aDY1cTI0IDAgNDIgMTh0MTggNDJ2NjIwcTAgMjQtMTggNDJ0LTQyIDE4SDE4MFptMC02MGg2MDB2LTQzMEgxODB2NDMwWm0wLTQ5MGg2MDB2LTEzMEgxODB2MTMwWm0wIDB2LTEzMCAxMzBabTMwMCAyMzBxLTE3IDAtMjguNS0xMS41VDQ0MC00NDBxMC0xNyAxMS41LTI4LjVUNDgwLTQ4MHExNyAwIDI4LjUgMTEuNVQ1MjAtNDQwcTAgMTctMTEuNSAyOC41VDQ4MC00MDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTQ0MHEwLTE3IDExLjUtMjguNVQzMjAtNDgwcTE3IDAgMjguNSAxMS41VDM2MC00NDBxMCAxNy0xMS41IDI4LjVUMzIwLTQwMFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC00NDBxMC0xNyAxMS41LTI4LjVUNjQwLTQ4MHExNyAwIDI4LjUgMTEuNVQ2ODAtNDQwcTAgMTctMTEuNSAyOC41VDY0MC00MDBaTTQ4MC0yNDBxLTE3IDAtMjguNS0xMS41VDQ0MC0yODBxMC0xNyAxMS41LTI4LjVUNDgwLTMyMHExNyAwIDI4LjUgMTEuNVQ1MjAtMjgwcTAgMTctMTEuNSAyOC41VDQ4MC0yNDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTI4MHEwLTE3IDExLjUtMjguNVQzMjAtMzIwcTE3IDAgMjguNSAxMS41VDM2MC0yODBxMCAxNy0xMS41IDI4LjVUMzIwLTI0MFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC0yODBxMC0xNyAxMS41LTI4LjVUNjQwLTMyMHExNyAwIDI4LjUgMTEuNVQ2ODAtMjgwcTAgMTctMTEuNSAyOC41VDY0MC0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--deselect {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTgyMi01MCA1ODYtMjg1SDM0NXEtMjQuNzUgMC00Mi4zNy0xNy42M1EyODUtMzIwLjI1IDI4NS0zNDV2LTI0MUw1OS04MTJxLTktOC41LTktMjEuMjVUNTguNjEtODU1cTkuMzktOSAyMS44Ni05IDEyLjQ2IDAgMjEuNTMgOUw4NjUtOTJxOSA5IDkgMjF0LTkgMjEuMzlRODU2LTQxIDg0My41LTQxVDgyMi01MFpNNTI2LTM0NSAzNDUtNTI2djE4MWgxODFabTE0OS0yMi02MC02MHYtMTg4SDQyN2wtNjAtNjBoMjQ4cTI0Ljc1IDAgNDIuMzggMTcuNjJRNjc1LTYzOS43NSA2NzUtNjE1djI0OFpNMzE0LjgyLTc4MHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--drag-handle {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0zOTBxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoNTgwcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTkwWm0wLTEyMHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWg1ODBxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxOTBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--settings {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQyMS04MHEtMTQgMC0yNS05dC0xMy0yM2wtMTUtOTRxLTE5LTctNDAtMTl0LTM3LTI1bC04NiA0MHEtMTQgNi0yOCAxLjVUMTU1LTIyNkw5Ny0zMzBxLTgtMTMtNC41LTI3dDE1LjUtMjNsODAtNTlxLTItOS0yLjUtMjAuNVQxODUtNDgwcTAtOSAuNS0yMC41VDE4OC01MjFsLTgwLTU5cS0xMi05LTE1LjUtMjN0NC41LTI3bDU4LTEwNHE4LTEzIDIyLTE3LjV0MjggMS41bDg2IDQwcTE2LTEzIDM3LTI1dDQwLTE4bDE1LTk1cTItMTQgMTMtMjN0MjUtOWgxMThxMTQgMCAyNSA5dDEzIDIzbDE1IDk0cTE5IDcgNDAuNSAxOC41VDY2OS03MTBsODYtNDBxMTQtNiAyNy41LTEuNVQ4MDQtNzM0bDU5IDEwNHE4IDEzIDQuNSAyNy41VDg1Mi01ODBsLTgwIDU3cTIgMTAgMi41IDIxLjV0LjUgMjEuNXEwIDEwLS41IDIxdC0yLjUgMjFsODAgNThxMTIgOCAxNS41IDIyLjVUODYzLTMzMGwtNTggMTA0cS04IDEzLTIyIDE3LjV0LTI4LTEuNWwtODYtNDBxLTE2IDEzLTM2LjUgMjUuNVQ1OTItMjA2bC0xNSA5NHEtMiAxNC0xMyAyM3QtMjUgOUg0MjFabTU5LTI3MHE1NCAwIDkyLTM4dDM4LTkycTAtNTQtMzgtOTJ0LTkyLTM4cS01NCAwLTkyIDM4dC0zOCA5MnEwIDU0IDM4IDkydDkyIDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--keyboard-arrow-up {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC01NTQgMzA0LTM3OHEtOSA5LTIxIDguNXQtMjEtOS41cS05LTktOS0yMS41dDktMjEuNWwxOTctMTk3cTktOSAyMS05dDIxIDlsMTk4IDE5OHE5IDkgOSAyMXQtOSAyMXEtOSA5LTIxLjUgOXQtMjEuNS05TDQ4MC01NTRaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--keyboard-arrow-down {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC0zNTZxLTYgMC0xMS0ydC0xMC03TDI2MS01NjNxLTktOS04LjUtMjEuNVQyNjItNjA2cTktOSAyMS41LTl0MjEuNSA5bDE3NSAxNzYgMTc2LTE3NnE5LTkgMjEtOC41dDIxIDkuNXE5IDkgOSAyMS41dC05IDIxLjVMNTAxLTM2NXEtNSA1LTEwIDd0LTExIDJaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--arrow-back {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0ibTI3NC00NTAgMjI3IDIyN3E5IDkgOSAyMXQtOSAyMXEtOSA5LTIxIDl0LTIxLTlMMTgxLTQ1OXEtNS01LTctMTB0LTItMTFxMC02IDItMTF0Ny0xMGwyNzgtMjc4cTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMMjc0LTUxMGg0OTZxMTMgMCAyMS41IDguNVQ4MDAtNDgwcTAgMTMtOC41IDIxLjVUNzcwLTQ1MEgyNzRaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--info {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4My4xOC0yODBxMTIuODIgMCAyMS4zMi04LjYzIDguNS04LjYyIDguNS0yMS4zN3YtMTgwcTAtMTIuNzUtOC42OC0yMS4zOC04LjY3LTguNjItMjEuNS04LjYyLTEyLjgyIDAtMjEuMzIgOC42Mi04LjUgOC42My04LjUgMjEuMzh2MTgwcTAgMTIuNzUgOC42OCAyMS4zNyA4LjY3IDguNjMgMjEuNSA4LjYzWm0tMy4yLTMxNHExNC4wMiAwIDIzLjUyLTkuMlQ1MTMtNjI2cTAtMTQuNDUtOS40OC0yNC4yMi05LjQ4LTkuNzgtMjMuNS05Ljc4dC0yMy41MiA5Ljc4UTQ0Ny02NDAuNDUgNDQ3LTYyNnEwIDEzLjYgOS40OCAyMi44IDkuNDggOS4yIDIzLjUgOS4yWm0uMjkgNTE0cS04Mi43NCAwLTE1NS41LTMxLjVRMjUyLTE0MyAxOTcuNS0xOTcuNXQtODYtMTI3LjM0UTgwLTM5Ny42OCA4MC00ODAuNXQzMS41LTE1NS42NlExNDMtNzA5IDE5Ny41LTc2M3QxMjcuMzQtODUuNVEzOTcuNjgtODgwIDQ4MC41LTg4MHQxNTUuNjYgMzEuNVE3MDktODE3IDc2My03NjN0ODUuNSAxMjdRODgwLTU2MyA4ODAtNDgwLjI3cTAgODIuNzQtMzEuNSAxNTUuNVE4MTctMjUyIDc2My0xOTcuNjhxLTU0IDU0LjMxLTEyNyA4NlE1NjMtODAgNDgwLjI3LTgwWm0uMjMtNjBRNjIyLTE0MCA3MjEtMjM5LjV0OTktMjQxUTgyMC02MjIgNzIxLjE5LTcyMVQ0ODAtODIwcS0xNDEgMC0yNDAuNSA5OC44MVQxNDAtNDgwcTAgMTQxIDk5LjUgMjQwLjV0MjQxIDk5LjVabS0uNS0zNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	
}`);function q1(r,e=[]){return Object.entries(r).flatMap(([t,n])=>{const i=[...e,t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase())];return typeof n=="string"?[[`kern-${i.join("-")}`,n]]:q1(n,i)})}function h4(r){const e=new CSSStyleSheet,t=q1(r);return e.replaceSync(`
		@layer kern-ux-theme {
			:host {
				${t.map(([n,i])=>`--${n}: ${i} !important;`).join(`
`)}
			}
		}
	`),e}function p4(r,e={}){r.adoptedStyleSheets.push(j1);const t=new CSSStyleSheet;t.replaceSync(`
		@layer kern-ux {
			${d4.replaceAll(":root",":host")}
		}
	`),r.adoptedStyleSheets.push(t),typeof e.typography?.font?.family?.default<"u"&&Promise.resolve({});const n=h4(e);r.adoptedStyleSheets.push(n)}const g4=r=>({...r,layers:r.layers.map(e=>typeof e.minZoom<"u"?{...e,minZoom:e.minZoom-1}:e)}),f4={class:"kern-label kern-sr-only"},kf=.1,m4=Le({__name:"MoveHandle.ce",setup(r){let e=0,t=0,n=null,i=!1;const o=We(),a=qm(),{deviceIsHorizontal:s}=ct(o),{actionButton:l,closeLabel:c,closeIcon:u,component:d,top:h}=ct(a),p=pi("handleElement"),f=Ce(!1),y=Ce(Number.MAX_SAFE_INTEGER),m=Q(()=>i?{move:"touchmove",end:"touchend"}:{move:"mousemove",end:"mouseup"});Wi(()=>{const{clientHeight:te}=o.shadowRoot.host;h.value===null&&(h.value=te*.55);const S=p.value;S.style.position="fixed",S.style.width="100%",S.style["z-index"]=1,S.style.left="0",S.style.top=`${k(h.value,te,y.value)}px`,n=new ResizeObserver(q),n.observe(S),S.focus(),q()}),Hl(()=>{n!==null&&(n.disconnect(),n=null),h.value=null}),yt(s,te=>{te||q()}),yt(f,te=>{const{move:S,end:H}=m.value;if(te){p.value.classList.add("polar-move-handle-is-moving"),document.addEventListener(S,E),document.addEventListener(H,R,{once:!0});return}p.value.classList.remove("polar-move-handle-is-moving"),document.removeEventListener(S,E),document.removeEventListener(H,R)}),yt(y,(te,S)=>{te<S&&(oe(),ge(0))});function b(te){a.closeFunction(te),a.$reset()}function k(te,S,H){let ne=te;return S-ne<S*kf&&(ne=S-S*kf),S-ne>S*H&&(ne=S-S*H),h.value=ne,ne}function C(te){(te==="ArrowUp"||te==="ArrowDown")&&(oe(),ge(te==="ArrowUp"?-5:5))}function T(te){i=!1,$(te)}function E(te){const S=te instanceof MouseEvent?te.clientX:te.touches[0].clientX,H=te instanceof MouseEvent?te.clientY:te.touches[0].clientY,ne=H-e;(S<0||S>window.innerWidth||H<0||H>window.innerHeight)&&(f.value=!1),ge(ne)}function R(){f.value=!1}function F(te){i=!0,$(te)}function le(te){e=te instanceof MouseEvent?te.clientY:te.touches[0].clientY}function oe(){t=p.value.offsetTop}function ge(te){p.value.style.top=`${k(Math.round(t+te),o.shadowRoot.host.clientHeight,y.value)}px`}function $(te){le(te),oe(),f.value=!0}function q(){y.value=p.value.clientHeight/o.shadowRoot.host.clientHeight}return(te,S)=>(N(),ee("div",{id:"polar-move-handle",ref_key:"handleElement",ref:p,tabindex:"0",onKeydown:S[1]||(S[1]=ir(H=>C(H.key),["stop"])),onMousedown:ir(T,["stop"]),onTouchstart:ir(F,["stop"])},[S[2]||(S[2]=se("span",{class:"kern-icon kern-icon--drag-handle","aria-hidden":"true"},null,-1)),se("div",{class:it(["polar-move-handle-actions",{"polar-move-handle-has-action-button":M(l)!==null}])},[M(l)?(N(),Te(Qt(M(l)),{key:0})):Ye("",!0),se("button",{class:"kern-btn kern-btn--tertiary",onClick:S[0]||(S[0]=H=>b(!0))},[se("span",{class:it(`kern-icon ${M(u)}`),"aria-hidden":"true"},null,2),se("span",f4,qe(M(c)),1)])],2),(N(),Te(Qt(M(d))))],544))}}),y4="#polar-move-handle{&[data-v-e0291d1d]{position:static;height:auto;width:auto;display:flex;flex-direction:column;align-items:center;background:var(--kern-color-layout-background-default);cursor:ns-resize;box-shadow:#0000004d 0 19px 38px,#00000038 0 15px 12px}&[data-v-e0291d1d]:focus{outline:solid var(--kern-color-action-default)}}.polar-move-handle-actions[data-v-e0291d1d]{display:flex;justify-content:flex-end;width:100%;padding:0 var(--kern-metric-space-small)}.polar-move-handle-has-action-button[data-v-e0291d1d]{justify-content:space-between}.polar-move-handle-is-moving[data-v-e0291d1d]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none!important;user-select:none}[data-v-e0291d1d] .kern-card{box-shadow:none!important;width:100%;border:none}",v4=Ke(m4,[["styles",[y4]],["__scopeId","data-v-e0291d1d"]]);function k4(r){return Array.isArray(r.layers)?r.layers:typeof r.layerConf>"u"||r.layerConf===_r.layerConf?_r.layers:[]}let b4=0;const x4={wms:bw,wmts:x_,wfs:e5,geojson:a5,vectortile:r4,oaf:l4},bf=fi.prototype.addLayer;function z1(r){return r.getLayers?r.getLayers().getArray().map(e=>z1(e)).flat(1):[r]}function xf(r,e){z1(r).forEach(t=>{const n=t.getSource?.();n?(n.on?.("tileloaderror",e),n.on?.("imageloaderror",e),n.on?.("featuresloaderror",e),n.on?.("error",e)):console.error("Could not register error callback on layer:",t)})}function w4(r,e){const t=e?.visibility??e?.layerParams?.visibility??!0,n=e?.transparency??e?.layerParams?.transparency??0,i={...e?.layerParams||{},visibility:t,transparency:n},o=typeof e?.errorCallback=="function"?e?.errorCallback:console.error;let a,s;if(typeof r=="string"){const l=yi.getLayerWhere({id:r});return l?(s=x4[l.typ.toLowerCase()],s?(a=s.createLayer(l,{layerParams:i},{map:this}),a.setVisible(typeof t=="boolean"?t:!0),a.setOpacity(typeof n=="number"?(100-n)/100:1),xf(a,o),bf.call(this,a),a):(console.error("Layer with id '"+r+"' has unknown type '"+l.typ+"'. No layer added to map."),null)):(console.error("Layer with id '"+r+"' not found. No layer added to map."),null)}return xf(r,o),bf.call(this,r)}fi.prototype.addLayer=w4;function _4(r=_r,{mapParams:e,callback:t,errorCallback:n}={}){Wx.registerProjections(r.namedProjections),c4(r),$m(r.gazetteerUrl);const i=Object.assign({},{dragPan:!1,altShiftDragRotate:!1,pinchRotate:!1},r.mapInteractions?.interactionModes),o=new fi(Object.assign({target:r.target||_r.target,interactions:Mh(i).extend([new _l({condition:function(a){return a.originalEvent.shiftKey?!1:!a.originalEvent.pointerType||a.originalEvent.pointerType==="mouse"||r.mapInteractions?.interactionModes?.twoFingerPan&&this.getPointerCount()===2||!r.mapInteractions?.interactionModes?.twoFingerPan}})]),controls:[],view:Gx(r),keyboardEventTarget:r.mapInteractions?.keyboardEventTarget?document:!1},e));return o.set("mapMode","2D"),o.set("id",`map2D_${b4++}`),yi.initializeLayerList(r.layerConf,(a,s)=>(k4(r).forEach(l=>{o.addLayer(l.id,{layerParams:l,errorCallback:n})}),typeof t=="function"?t(a,s):null)),o}let qs,$1;function Sd(){if(qs===void 0){const r=document.createElement("canvas");r.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; image-rendering: pixelated;");const e=r.style.imageRendering;qs=!!e,qs&&($1=e)}return qs}function T4(){return Sd(),$1||""}function sl(r){return r.get("olcs_projection")||r.getProjection()}let C4=0;function dt(r){return r.olcs_uid||(r.olcs_uid=++C4)}function ku(r){const e=r;return e.readyPromise||(e.ready!==void 0?e.ready?Promise.resolve(r):new Promise((n,i)=>{const o=setInterval(()=>{e.ready&&(clearInterval(o),n(r))},20)}):Promise.reject("Not a readyable object"))}function E4(r){const e=r.load||Ql,t=r.imageExtent,n=r.crossOrigin??null;return()=>{const i=new Image;return i.crossOrigin=n,e(i,r.url).then(o=>{const a=Xt(t)/o.width,s=Dn(t)/o.height;return{image:o,extent:t,resolution:a!==s?[a,s]:s,pixelRatio:1}})}}class U1 extends oc{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,n=e.imageLoadFunction!==void 0?e.imageLoadFunction:D0;super({attributions:e.attributions,interpolate:e.interpolate,projection:ve(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new Wl(this.imageExtent_,void 0,1,E4({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(i,o)=>(this.image.setImage(i),n(this.image,o),Ql(i))})),this.image.addEventListener(Oe.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,n,i){return jo(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}function G1(){const r=document.createElement("canvas");return r.width=1,r.height=1,r}class M4{source_;projection_;fallbackProj_;map_;shouldRequestNextLevel;emptyCanvas_=G1();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_;ready_;rectangle_;get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;proxy;get _ready(){return this.ready_}get tileWidth(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[0]:t}return 256}get tileHeight(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[1]:t}return 256}get maximumLevel(){const e=this.source_.getTileGrid();return e?e.getMaxZoom():18}get minimumLevel(){return 0}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e,t,n){this.source_=t,this.projection_=null,this.ready_=!1,this.fallbackProj_=n||null,this.tilingScheme_=new Cesium.WebMercatorTilingScheme,this.rectangle_=null,this.map_=e,this.shouldRequestNextLevel=!1;const i=this.source_.get("olcs_proxy");i&&(typeof i=="function"?this.proxy={getURL:i}:typeof i=="string"&&(this.proxy=new Cesium.DefaultProxy(i))),this.source_.on("change",o=>{this.handleSourceChanged_()}),this.handleSourceChanged_()}handleSourceChanged_(){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=sl(this.source_)||this.fallbackProj_;const e={numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1};if(this.source_.getTileGrid()!==null&&this.source_.getTileGrid().forEachTileCoord(this.projection_.getExtent(),0,([t,n,i])=>{e.numberOfLevelZeroTilesX=n+1,e.numberOfLevelZeroTilesY=i+1}),this.projection_.getCode()==="EPSG:4326")this.shouldRequestNextLevel=e.numberOfLevelZeroTilesX===1&&e.numberOfLevelZeroTilesY===1,this.tilingScheme_=new Cesium.GeographicTilingScheme(e);else if(this.projection_.getCode()==="EPSG:3857")this.shouldRequestNextLevel=!1,this.tilingScheme_=new Cesium.WebMercatorTilingScheme(e);else return;this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(e,t,n){const i=this.source_.getAttributions();if(!i)return[];const o=this.map_.getView().calculateExtent(this.map_.getSize()),a=this.map_.getView().getCenter(),s=this.shouldRequestNextLevel?n+1:n;return V1(i,s,a,o)}requestImage(e,t,n,i){const o=this.source_.getTileUrlFunction();if(o&&this.projection_){const a=this.shouldRequestNextLevel?n+1:n;let s=o.call(this.source_,[a,e,t],1,this.projection_);return this.proxy&&(s=this.proxy.getURL(s)),s?Cesium.ImageryProvider.loadImage(this,s):this.emptyCanvasPromise_}else return this.emptyCanvasPromise_}}const S4=new Rh({featureClass:dr}),L4=[new Pt({stroke:new Lr({color:"blue",width:2})})];class I4{urls;emptyCanvas_=G1();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_=new Cesium.WebMercatorTilingScheme;ready_=!0;rectangle_;tileRectangle_;tileWidth=256;tileHeight=256;maximumLevel=20;minimumLevel_=0;get minimumLevel(){return this.minimumLevel_}featureCache;tileCache;tileFunction_;styleFunction_;projection_=ve("EPSG:3857");get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;getTileCredits(e,t,n){return[]}proxy;get _ready(){return this.ready_}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e){this.urls=e.urls,this.rectangle_=e.rectangle||this.tilingScheme.rectangle,this.credit=e.credit,this.styleFunction_=e.styleFunction||(()=>L4),this.tileRectangle_=new Cesium.Rectangle;const t=e.cacheSize!==void 0?e.cacheSize:50;this.tileCache=new ig(t),this.featureCache=e.featureCache||new ig(t),this.minimumLevel_=e.minimumLevel||0;const n=rc(this.projection_);this.tileFunction_=Ph(this.urls,n)}getTileFeatures(e,t,n){const i=this.getCacheKey_(e,t,n);let o;if(this.featureCache.containsKey(i)&&(o=this.featureCache.get(i)),!o){const a=this.getUrl_(e,t,n);if(o=fetch(a).then(s=>s.ok?s:Promise.reject(s)).then(s=>s.arrayBuffer()).then(s=>this.readFeaturesFromBuffer(s)),this.featureCache.set(i,o),this.featureCache.getCount()>2*this.featureCache.highWaterMark)for(;this.featureCache.canExpireCache();)this.featureCache.pop()}return o}readFeaturesFromBuffer(e){const t=S4.readFeatures(e),n=this.tileWidth/4096;return t.forEach(i=>{const o=i.getFlatCoordinates();for(let a=0;a<o.length;++a)o[a]*=n}),t}getUrl_(e,t,n){return this.tileFunction_([e,t,n],1,this.projection_)}getCacheKey_(e,t,n){return`${e}_${t}_${n}`}requestImage(e,t,n,i){if(n<this.minimumLevel_)return this.emptyCanvasPromise_;try{const o=this.getCacheKey_(n,e,t);let a;if(this.tileCache.containsKey(o)&&(a=this.tileCache.get(o)),!a&&(a=this.getTileFeatures(n,e,t).then(s=>{this.tilingScheme.tileXYToNativeRectangle(e,t,n,this.tileRectangle_);const l=(this.tileRectangle_.east-this.tileRectangle_.west)/this.tileWidth;return this.rasterizeFeatures(s,this.styleFunction_,l)}),this.tileCache.set(o,a),this.tileCache.getCount()>2*this.tileCache.highWaterMark))for(;this.tileCache.canExpireCache();)this.tileCache.pop();return a}catch(o){console.trace(o),this.errorEvent.raiseEvent("could not render pbf to tile",o)}}rasterizeFeatures(e,t,n){const i=document.createElement("canvas"),o=vx(i.getContext("2d"),{size:[this.tileWidth,this.tileHeight]});return e.forEach(a=>{const s=t(a,n);s&&(Array.isArray(s)?s.forEach(l=>{o.setStyle(l),o.drawGeometry(a)}):(o.setStyle(s),o.drawGeometry(a)))}),i}}function A4(r,e){const t=r.camera.getPickRay(e);return r.globe.pick(t,r)||r.camera.pickEllipsoid(e)}function P4(r){const e=r.canvas,t=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return A4(r,t)}function cp(r,e){if(r&&e){const t=Di(r,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(t[0],t[1],t[2],t[3])}else return null}function N4(r,e,t,n){const i=e.get("olcs_skip");if(i)return null;let o=null;if(e instanceof Dh&&e.getUrl()){const a={olcs_proxy:e.get("olcs_proxy"),olcs_extent:e.get("olcs_extent"),olcs_projection:e.get("olcs_projection"),"olcs.imagesource":e},s=e.getImageLoadFunction(),l=e.get("olcs_tileLoadFunction")||function(c,u){s(c,u)};e=new Nh({url:e.getUrl(),attributions:e.getAttributions(),projection:e.getProjection(),tileLoadFunction:l,params:e.getParams()}),e.setProperties(a)}if(e instanceof ic){let a=sl(e);if(a||(a=t),_f(a))o=new M4(r,e,t);else return null}else if(e instanceof U1){let a=sl(e);if(a||(a=t),_f(a)){const s=Cesium.Rectangle.fromDegrees(e.getImageExtent()[0],e.getImageExtent()[1],e.getImageExtent()[2],e.getImageExtent()[3],new Cesium.Rectangle);o=new Cesium.SingleTileImageryProvider({url:e.getUrl(),rectangle:s})}else return null}else if(e instanceof cc&&n instanceof In){let a=sl(e);if(a||(a=t),i===!1){const s=a.getCode().split(":")[1],l=e.urls.map(y=>y.replace(s,"3857")),c=n.getExtent(),u=cp(c,a),d=e.get("olcs_minimumLevel"),h=e.getAttributions(),p=n.getStyleFunction();let f;if(c&&h){const y=Gn(c);f=V1(h,0,y,c)[0]}return o=new I4({credit:f,rectangle:u,minimumLevel:d,styleFunction:p,urls:l}),o}return null}else return null;return o}function B1(r,e,t){if(!(e instanceof ro)&&!(e instanceof os)&&!(e instanceof In))return null;const n=e.getSource();if(!n)return null;let i=n.get("olcs_provider");if(i||(i=N4(r,n,t,e)),!i)return null;const o={},a=e.get("olcs_extent")||e.getExtent();return a&&(o.rectangle=cp(a,t)),new Cesium.ImageryLayer(i,o)}function Ol(r,e){let t=1,n=!0;[r.layer].concat(r.parents).forEach(i=>{const o=i.getOpacity();o!==void 0&&(t*=o);const a=i.getVisible();a!==void 0&&(n=n&&a)}),e.alpha=t,e.show=n}function xo(r){const e=r;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])}function bu(r){console.assert(r!==null);const e=xo,t=[];for(let n=0;n<r.length;++n)t.push(e(r[n]));return t}function zs(r,e){console.assert(e);const t=ve("EPSG:4326"),n=ve(e);if(n.getCode()!==t.getCode()){const i=r.getProperties();r=r.clone(),r.transform(n,t),r.setProperties(i)}return r}function wf(r){if(r=r||"black",Array.isArray(r))return new Cesium.Color(Cesium.Color.byteToFloat(r[0]),Cesium.Color.byteToFloat(r[1]),Cesium.Color.byteToFloat(r[2]),r[3]);if(typeof r=="string")return Cesium.Color.fromCssColorString(r);if(r instanceof CanvasPattern||r instanceof CanvasGradient){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=e.height=256,t.fillStyle=r,t.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")}function _f(r){const e=r.getCode()==="EPSG:3857",t=r.getCode()==="EPSG:4326";return e||t}function V1(r,e,t,n){if(!r)return[];let i=r({viewState:{zoom:e,center:t,projection:void 0,resolution:void 0,rotation:void 0},extent:n});return Array.isArray(i)||(i=[i]),i.map(o=>new Cesium.Credit(o,!0))}function D4(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=r*i.clientHeight,l=Math.cos(Math.abs(e));return s*a*l/2/Math.tan(o/2)}function O4(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=2*r*Math.tan(o/2),l=Math.cos(Math.abs(e));return s/a/l/i.clientHeight}class R4{ol3d;scene_;canvas_;_boundNotifyRepaintRequired;repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"];constructor(e){this.ol3d=e,this.scene_=e.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const e of this.repaintEventNames_)this.canvas_.addEventListener(e,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const e of this.repaintEventNames_)this.canvas_.removeEventListener(e,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.isDestroyed()||this.scene_.requestRender()}}function $s(r){return r*180/Math.PI}function ua(r){return r*Math.PI/180}function Us(r,e,t){const n=t||r.length;if(e)for(let i=0;i<n;++i)e[i]=r[i];return r}class F4{scene_;cam_;map_;view_;viewListenKey_=null;toLonLat_=Us;fromLonLat_=Us;tilt_=0;distance_=0;lastCameraViewMatrix_=null;viewUpdateInProgress_=!1;constructor(e,t){this.scene_=e,this.cam_=e.camera,this.map_=t,this.map_.on("change:view",n=>{this.setView_(this.map_.getView())}),this.setView_(this.map_.getView())}destroy(){rn(this.viewListenKey_),this.viewListenKey_=null}setView_(e){if(rn(this.viewListenKey_),this.viewListenKey_=null,this.view_=e,e){const t=pl(e.getProjection(),"EPSG:4326"),n=pl("EPSG:4326",e.getProjection());console.assert(t&&n),this.toLonLat_=t,this.fromLonLat_=n,this.viewListenKey_=e.on("propertychange",i=>this.handleViewChangedEvent_()),this.readFromView()}else this.toLonLat_=Us,this.fromLonLat_=Us}handleViewChangedEvent_(){this.viewUpdateInProgress_||this.readFromView()}setHeading(e){this.view_&&this.view_.setRotation(e)}getHeading(){return this.view_?this.view_.getRotation()||0:void 0}setTilt(e){this.tilt_=e,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(e){this.distance_=e,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(e){this.view_&&this.view_.setCenter(e)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(e){if(!this.toLonLat_)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(ua(t[0]),ua(t[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(n)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),t=this.fromLonLat_([$s(e.longitude),$s(e.latitude)]);return console.assert(t),t}setAltitude(e){const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);t.height=e,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(t),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(!e)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(ua(t[0]),ua(t[1]));if(this.scene_.globe){const a=this.scene_.globe.getHeight(n);n.height=a||0}const i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(n),o={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:i,orientation:o}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(e==null)return;const t=this.toLonLat_(e);console.assert(t);const n=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(n||0,ua(t[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const e=Cesium.Ellipsoid.WGS84,t=this.scene_,n=P4(t);let i=n;if(!i){const a=t.globe,s=this.cam_.positionCartographic.clone(),l=a.getHeight(s);s.height=l||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(s)}this.distance_=Cesium.Cartesian3.distance(i,this.cam_.position);const o=e.cartesianToCartographic(i);if(this.view_.setCenter(this.fromLonLat_([$s(o.longitude),$s(o.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,o?o.latitude:0)),n){const a=this.cam_.position,s=new Cesium.Cartesian3;e.geocentricSurfaceNormal(n,s);const l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(a,n,l),Cesium.Cartesian3.normalize(l,l);const c=this.cam_.up,u=this.cam_.right,d=new Cesium.Cartesian3(-n.y,n.x,0),h=Cesium.Cartesian3.angleBetween(u,d),p=Cesium.Cartesian3.cross(n,c,new Cesium.Cartesian3).z;this.view_.setRotation(p<0?h:-h);const f=Math.acos(Cesium.Cartesian3.dot(s,l));this.tilt_=isNaN(f)?0:f}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;setTimeout(()=>this.viewUpdateInProgress_=!1,1e3)}checkCameraChange(e){const t=this.lastCameraViewMatrix_,n=this.cam_.viewMatrix;(!t||!Cesium.Matrix4.equalsEpsilon(t,n,1e-7))&&(this.lastCameraViewMatrix_=n.clone(),e!==!0&&this.updateView())}calcDistanceForResolution(e,t){return D4(e,t,this.scene_,this.view_.getProjection())}calcResolutionForDistance(e,t){return O4(e,t,this.scene_,this.view_.getProjection())}}class up{map;view;scene;olLayers;mapLayerGroup;layerMap={};olLayerListenKeys={};olGroupListenKeys_={};constructor(e,t){this.map=e,this.view=e.getView(),this.scene=t,this.olLayers=e.getLayerGroup().getLayers(),this.mapLayerGroup=e.getLayerGroup()}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(e){const t=[{layer:e,parents:[]}];for(;t.length>0;){const n=t.splice(0,1)[0],i=n.layer,o=dt(i).toString();this.olLayerListenKeys[o]=[],console.assert(!this.layerMap[o]);let a=null;if(i instanceof mn)this.listenForGroupChanges_(i),i!==this.mapLayerGroup&&(a=this.createSingleLayerCounterparts(n)),a||i.getLayers().forEach(s=>{if(s){const l={layer:s,parents:i===this.mapLayerGroup?[]:[n.layer].concat(n.parents)};t.push(l)}});else if(a=this.createSingleLayerCounterparts(n),!a){const s=o,l=n,c=()=>{const u=this.createSingleLayerCounterparts(l);u&&(l.layer.un("change",c),this.addCesiumObjects_(u,s,l.layer),this.orderLayers())};this.olLayerListenKeys[o].push(l.layer.on("change",c))}a&&this.addCesiumObjects_(a,o,i)}this.orderLayers()}addCesiumObjects_(e,t,n){this.layerMap[t]=e,this.olLayerListenKeys[t].push(n.on("change:zIndex",()=>this.orderLayers())),e.forEach(i=>{this.addCesiumObject(i)})}removeAndDestroySingleLayer_(e){const t=dt(e).toString(),n=this.layerMap[t];return n&&(n.forEach(i=>{this.removeSingleCesiumObject(i,!1),this.destroyCesiumObject(i)}),this.olLayerListenKeys[t].forEach(rn),delete this.olLayerListenKeys[t]),delete this.layerMap[t],!!n}unlistenSingleGroup_(e){if(e===this.mapLayerGroup)return;const t=dt(e).toString();this.olGroupListenKeys_[t].forEach(n=>{rn(n)}),delete this.olGroupListenKeys_[t],delete this.layerMap[t]}removeLayer_(e){if(e){const t=[e];for(;t.length>0;){const n=t.splice(0,1)[0],i=this.removeAndDestroySingleLayer_(n);n instanceof mn&&(this.unlistenSingleGroup_(n),i||n.getLayers().forEach(o=>{t.push(o)}))}}}listenForGroupChanges_(e){const t=dt(e).toString();console.assert(this.olGroupListenKeys_[t]===void 0);const n=[];this.olGroupListenKeys_[t]=n;let i=[];const o=(function(){const a=e.getLayers();a&&(i=[a.on("add",s=>{this.addLayers_(s.element)}),a.on("remove",s=>{this.removeLayer_(s.element)})],n.push(...i))}).bind(this);o(),n.push(e.on("change:layers",a=>{i.forEach(s=>{const l=n.indexOf(s);l>=0&&n.splice(l,1),rn(s)}),o()}))}destroyAll(){this.removeAllCesiumObjects(!0);let e;for(e in this.olGroupListenKeys_)this.olGroupListenKeys_[e].forEach(rn);for(e in this.olLayerListenKeys)this.olLayerListenKeys[e].forEach(rn);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}}class j4 extends up{cesiumLayers_;ourLayers_;constructor(e,t){super(e,t),this.cesiumLayers_=t.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers_.add(e),this.ourLayers_.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers_.remove(e,t),this.ourLayers_.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers_.length;++t)this.cesiumLayers_.remove(this.ourLayers_.get(t),e);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n=B1(this.map,e,t);return n?[n]:null}createSingleLayerCounterparts(e){const t=e.layer,n=dt(t).toString(),i=this.view.getProjection();console.assert(i);const o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];if([e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)Ol(e,o[l])}))}),t instanceof Wd){let s=t.getStyleFunction();a.push(t.on("change",()=>{const l=t.getStyleFunction();if(s!==l){s=l;for(let c=0;c<o.length;++c){const u=o[c];u._imageryCache&&(u._imageryCache={});const d=u.imageryProvider;d&&(d.tileCache?.clear(),d.styleFunction_=l)}this.scene.requestRender()}}))}for(let s=0;s<o.length;++s)Ol(e,o[s]);a.push(t.on("change:extent",s=>{for(let l=0;l<o.length;++l)this.cesiumLayers_.remove(o[l],!0),this.ourLayers_.remove(o[l],!1);delete this.layerMap[dt(t)],this.synchronize()})),a.push(t.on("change",s=>{for(let l=0;l<o.length;++l){const c=this.cesiumLayers_.indexOf(o[l]);c>=0&&(this.cesiumLayers_.remove(o[l],!1),this.cesiumLayers_.add(o[l],c))}})),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[dt(i)]=i.getZIndex()||0,i instanceof mn){const o=i.getLayers();o&&n.unshift(...o.getArray())}}e.sort((i,o)=>t[dt(i)]-t[dt(o)]),e.forEach(i=>{const o=dt(i).toString(),a=this.layerMap[o];a&&a.forEach(s=>{this.raiseToTop(s)})})}raiseToTop(e){this.cesiumLayers_.raiseToTop(e)}}class q4{olListenKeys=[];context;rootCollection_;constructor(e,t){const n=new Cesium.BillboardCollection({scene:t}),i=new Cesium.PrimitiveCollection;this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:e,billboards:n,featureToCesiumMap:{},primitives:i},this.rootCollection_.add(n),this.rootCollection_.add(i)}destroy(){this.olListenKeys.forEach(rn),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}}class z4{scene;boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this);defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10);constructor(e){this.scene=e,this.scene=e}onRemoveOrClearFeature_(e){const t=e.target;console.assert(t instanceof sr);const n=t.olcs_cancellers;if(n){const i=e.feature;if(i){const o=dt(i),a=n[o];a&&(a(),delete n[o])}else{for(const o in n)n.hasOwnProperty(o)&&n[o]();t.olcs_cancellers={}}}}setReferenceForPicking(e,t,n){n.olLayer=e,n.olFeature=t}createColoredPrimitive(e,t,n,i,o,a){const s=function(h,p){const f=new Cesium.GeometryInstance({geometry:h});return p&&!(p instanceof Cesium.ImageMaterialProperty)&&(f.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(p)}),f},l={flat:!0,renderState:{depthTest:{enabled:!0}}};a!==void 0&&(l.renderState.lineWidth=a);const c=s(i,o),u=this.getHeightReference(e,t,n);let d;if(u===Cesium.HeightReference.CLAMP_TO_GROUND){if(!("createShadowVolume"in c.geometry.constructor))return null;d=new Cesium.GroundPrimitive({geometryInstances:c})}else d=new Cesium.Primitive({geometryInstances:c});if(o instanceof Cesium.ImageMaterialProperty){const h=o.image.getValue().toDataURL();d.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:h}}})})}else d.appearance=new Cesium.MaterialAppearance({...l,material:new Cesium.Material({translucent:o.alpha!==1,fabric:{type:"Color",uniforms:{color:o}}})}),d instanceof Cesium.Primitive&&(t.get("olcs_shadows")||e.get("olcs_shadows"))&&(d.shadows=1);return this.setReferenceForPicking(e,t,d),d}extractColorFromOlStyle(e,t){const n=e.getFill()?.getColor(),i=e.getStroke()?e.getStroke().getColor():null;let o="black";i&&t?o=i:n&&(o=n);const a=wf(o);return"red"in a?a:Cesium.Color.BLACK}extractLineWidthFromOlStyle(e){const t=e.getStroke()?e.getStroke().getWidth():void 0;return t!==void 0?t:1}wrapFillAndOutlineGeometries(e,t,n,i,o,a){const s=this.extractColorFromOlStyle(a,!1),l=this.extractColorFromOlStyle(a,!0),c=new Cesium.PrimitiveCollection;if(a.getFill()){const u=this.createColoredPrimitive(e,t,n,i,s);console.assert(!!u),c.add(u)}if(a.getStroke()&&o){const u=this.extractLineWidthFromOlStyle(a),d=this.createColoredPrimitive(e,t,n,o,l,u);d&&c.add(d)}return c}addTextStyle(e,t,n,i,o){let a;if(o instanceof Cesium.PrimitiveCollection?a=o:(a=new Cesium.PrimitiveCollection,a.add(o)),!i.getText())return a;const s=i.getText(),l=this.olGeometry4326TextPartToCesium(e,t,n,s);return l&&a.add(l),a}csAddBillboard(e,t,n,i,o,a){t.eyeOffset||(t.eyeOffset=this.defaultBillboardEyeOffset_);const s=e.add(t);return this.setReferenceForPicking(n,i,s),s}olCircleGeometryToCesium(e,t,n,i,o){n=zs(n,i),console.assert(n.getType()=="Circle");const a=n.getCenter(),s=a.length==3?a[2]:0,l=a.slice();l[0]+=n.getRadius();const c=xo(a),u=xo(l),d=Cesium.Cartesian3.distance(c,u),h=new Cesium.CircleGeometry({center:c,radius:d,height:s});let p,f;if(this.getHeightReference(e,t,n)===Cesium.HeightReference.CLAMP_TO_GROUND){const m=this.extractLineWidthFromOlStyle(o);if(m){const b=pb(n.getCenter(),d),k=bu(b.getLinearRing(0).getCoordinates()),C=p=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:k,width:m})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),classificationType:Cesium.ClassificationType.TERRAIN});ku(p).then(()=>{this.setReferenceForPicking(e,t,C._primitive)})}}else f=new Cesium.CircleOutlineGeometry({center:c,radius:d,extrudedHeight:s,height:s});const y=this.wrapFillAndOutlineGeometries(e,t,n,h,f,o);return p&&y.add(p),this.addTextStyle(e,t,n,o,y)}olLineStringGeometryToCesium(e,t,n,i,o){n=zs(n,i),console.assert(n.getType()=="LineString");const a=bu(n.getCoordinates()),s=this.extractLineWidthFromOlStyle(o);let l;const c=this.getHeightReference(e,t,n),u=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)});if(c===Cesium.HeightReference.CLAMP_TO_GROUND){const d=new Cesium.GroundPolylineGeometry({positions:a,width:s}),h=l=new Cesium.GroundPolylinePrimitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})});ku(l).then(()=>{this.setReferenceForPicking(e,t,h._primitive)})}else{const d=new Cesium.PolylineGeometry({positions:a,width:s,vertexFormat:u.vertexFormat});l=new Cesium.Primitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})})}return this.setReferenceForPicking(e,t,l),this.addTextStyle(e,t,n,o,l)}olPolygonGeometryToCesium(e,t,n,i,o){n=zs(n,i),console.assert(n.getType()=="Polygon");const a=this.getHeightReference(e,t,n);let s,l,c;if(n.getCoordinates()[0].length==5&&t.get("olcs_polygon_kind")==="rectangle"){const d=n.getCoordinates()[0],h=Yt(d),p=Cesium.Rectangle.fromDegrees(h[0],h[1],h[2],h[3]);let f=0;if(d[0].length==3)for(let m=0;m<d.length;m++)f=Math.max(f,d[m][2]);const y=t.get("olcs_extruded_height");s=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:f,extrudedHeight:y}),l=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:f,extrudedHeight:y})}else{const d=n.getLinearRings(),h={positions:[],holes:[]},p=h;console.assert(d.length>0);for(let y=0;y<d.length;++y){const m=d[y].getCoordinates(),b=bu(m);console.assert(b&&b.length>0),y===0?h.positions=b:h.holes.push({positions:b,holes:[]})}const f=t.get("olcs_extruded_height");if(s=new Cesium.PolygonGeometry({polygonHierarchy:p,perPositionHeight:!0,extrudedHeight:f}),a===Cesium.HeightReference.CLAMP_TO_GROUND){const y=this.extractLineWidthFromOlStyle(o);if(y>0){const m=[h.positions];if(h.holes)for(let C=0;C<h.holes.length;++C)m.push(h.holes[C].positions);const b=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),k=[];for(const C of m){const T=new Cesium.GroundPolylineGeometry({positions:C,width:y});k.push(new Cesium.GeometryInstance({geometry:T}))}c=new Cesium.GroundPolylinePrimitive({appearance:b,geometryInstances:k}),ku(c).then(()=>{this.setReferenceForPicking(e,t,c._primitive)})}}else l=new Cesium.PolygonOutlineGeometry({polygonHierarchy:h,perPositionHeight:!0,extrudedHeight:f})}const u=this.wrapFillAndOutlineGeometries(e,t,n,s,l,o);return c&&u.add(c),this.addTextStyle(e,t,n,o,u)}getHeightReference(e,t,n){let i=n.get("altitudeMode");i===void 0&&(i=t.get("altitudeMode")),i===void 0&&(i=e.get("altitudeMode"));let o=Cesium.HeightReference.NONE;return i==="clampToGround"?o=Cesium.HeightReference.CLAMP_TO_GROUND:i==="relativeToGround"&&(o=Cesium.HeightReference.RELATIVE_TO_GROUND),o}createBillboardFromImage(e,t,n,i,o,a,s,l){a instanceof gi&&a.load();const c=a.getImage(1),u=function(h){return h.src!=""&&h.naturalHeight!=0&&h.naturalWidth!=0&&h.complete},d=(function(){if(!c||!(c instanceof HTMLCanvasElement||c instanceof Image||c instanceof HTMLImageElement))return;const h=n.getCoordinates(),p=xo(h);let f;const y=a.getOpacity();y!==void 0&&(f=new Cesium.Color(1,1,1,y));const m=a.getScale(),b=this.getHeightReference(e,t,n),k={image:c,color:f,scale:Array.isArray(m)?(m[0]+m[1])/2:m,heightReference:b,position:p};if(Object.assign(k,t.get("cesiumOptions")),a instanceof gi){const T=a.getAnchor();if(T){const E=Array.isArray(m)?m[0]:m,R=Array.isArray(m)?m[1]:m;k.pixelOffset=new Cesium.Cartesian2((c.width/2-T[0])*E,(c.height/2-T[1])*R)}}const C=this.csAddBillboard(s,k,e,t,n,o);l&&l(C)}).bind(this);if(c instanceof Image&&!u(c)){let h=!1;const p=e.getSource(),f=function(){h=!0};p.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let y=p.olcs_cancellers;y||(y=p.olcs_cancellers={});const m=dt(t);y[m]&&y[m](),y[m]=f;const b=function(){c.removeEventListener("load",b),!s.isDestroyed()&&!h&&d()};c.addEventListener("load",b)}else d()}olPointGeometryToCesium(e,t,n,i,o,a,s){console.assert(n.getType()=="Point"),n=zs(n,i);let l=null;const c=o.getImage();if(c){const u=n.get("olcs_model")||t.get("olcs_model");if(u){l=new Cesium.PrimitiveCollection;const d=u(),h=Object.assign({},{scene:this.scene},d.cesiumOptions);if("fromGltf"in Cesium.Model){const p=Cesium.Model.fromGltf(h);l.add(p)}else Cesium.Model.fromGltfAsync(h).then(p=>{l.add(p)});d.debugModelMatrix&&l.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:d.debugModelMatrix}))}else this.createBillboardFromImage(e,t,n,i,o,c,a,s)}return o.getText()?this.addTextStyle(e,t,n,o,l||new Cesium.Primitive):l}olMultiGeometryToCesium(e,t,n,i,o,a,s){switch(n.getType()){case"MultiPoint":{const l=n.getPoints();if(o.getText()){const c=new Cesium.PrimitiveCollection;return l.forEach(u=>{console.assert(u);const d=this.olPointGeometryToCesium(e,t,u,i,o,a,s);d&&c.add(d)}),c}else return l.forEach(c=>{console.assert(c),this.olPointGeometryToCesium(e,t,c,i,o,a,s)}),null}case"MultiLineString":{const l=n.getLineStrings(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olLineStringGeometryToCesium(e,t,u,i,o);c.add(d)}),c}case"MultiPolygon":{const l=n.getPolygons(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olPolygonGeometryToCesium(e,t,u,i,o);c.add(d)}),c}default:console.assert(!1,`Unhandled multi geometry type${n.getType()}`)}}olGeometry4326TextPartToCesium(e,t,n,i){const o=i.getText();if(!o)return null;const a=new Cesium.LabelCollection({scene:this.scene}),s=Gn(n.getExtent());if(n instanceof qo){const f=n.getFirstCoordinate();s[2]=f.length==3?f[2]:0}const l={position:xo(s)};l.text=Array.isArray(o)?o.join(" "):o,l.heightReference=this.getHeightReference(e,t,n);const c=i.getOffsetX(),u=i.getOffsetY();if(c!=0||u!=0){const f=new Cesium.Cartesian2(c,u);l.pixelOffset=f}l.font=i.getFont()||"10px sans-serif";let d;i.getFill()&&(l.fillColor=this.extractColorFromOlStyle(i,!1),d=Cesium.LabelStyle.FILL),i.getStroke()&&(l.outlineWidth=this.extractLineWidthFromOlStyle(i),l.outlineColor=this.extractColorFromOlStyle(i,!0),d=Cesium.LabelStyle.OUTLINE),i.getFill()&&i.getStroke()&&(d=Cesium.LabelStyle.FILL_AND_OUTLINE),l.style=d;let h;switch(i.getTextAlign()){case"left":h=Cesium.HorizontalOrigin.LEFT;break;case"right":h=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:h=Cesium.HorizontalOrigin.CENTER}if(l.horizontalOrigin=h,i.getTextBaseline()){let f;switch(i.getTextBaseline()){case"top":f=Cesium.VerticalOrigin.TOP;break;case"middle":f=Cesium.VerticalOrigin.CENTER;break;case"bottom":f=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":f=Cesium.VerticalOrigin.TOP;break;case"hanging":f=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${i.getTextBaseline()}`)}l.verticalOrigin=f}const p=a.add(l);return this.setReferenceForPicking(e,t,p),a}olStyleToCesium(e,t,n){const i=t.getFill(),o=t.getStroke();if(n&&!o||!n&&!i)return null;const a=n?o.getColor():i.getColor(),s=wf(a),l=o.getLineDash();return n&&l?Cesium.Material.fromType("PolylineDash",{dashPattern:$4(l),color:s}):Cesium.Material.fromType("Color",{color:s})}computePlainStyle(e,t,n,i){const o=t.getStyleFunction();let a=null;return o&&(a=o(t,i)),!a&&n&&(a=n(t,i)),a?Array.isArray(a)?a:[a]:null}getGeometryFromFeature(e,t,n){if(n)return n;const i=e.get("olcs_3d_geometry");if(i&&i instanceof hl)return i;if(t){const o=t.getGeometryFunction()(e);if(o instanceof hl)return o}return e.getGeometry()}olFeatureToCesium(e,t,n,i,o){const a=this.getGeometryFromFeature(t,n,o);if(!a)return null;const s=i.projection,l=function(c){const u=i.featureToCesiumMap[dt(t)];u instanceof Array?u.push(c):i.featureToCesiumMap[dt(t)]=[c]};switch(a.getType()){case"GeometryCollection":const c=new Cesium.PrimitiveCollection;return a.getGeometriesArray().forEach(h=>{if(h){const p=this.olFeatureToCesium(e,t,n,i,h);p&&c.add(p)}}),c;case"Point":const u=i.billboards;return this.olPointGeometryToCesium(e,t,a,s,n,u,l)||null;case"Circle":return this.olCircleGeometryToCesium(e,t,a,s,n);case"LineString":return this.olLineStringGeometryToCesium(e,t,a,s,n);case"Polygon":return this.olPolygonGeometryToCesium(e,t,a,s,n);case"MultiPoint":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiLineString":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiPolygon":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${a.getType()}`)}}olVectorLayerToCesium(e,t,n){const i=t.getProjection(),o=t.getResolution();if(o===void 0||!i)throw console.assert(!1,"View not ready"),new Error("View not ready");let a=e.getSource();a instanceof is&&(a=a.getSource()),console.assert(a instanceof sr);const s=a.getFeatures(),l=new q4(i,this.scene),c=l.context;for(let u=0;u<s.length;++u){const d=s[u];if(!d)continue;const h=e.getStyleFunction(),p=this.computePlainStyle(e,d,h,o);if(!p||!p.length)continue;let f=null;for(let y=0;y<p.length;y++){const m=this.olFeatureToCesium(e,d,p[y],c);if(m){if(!f)f=m;else if(m){let b=0,k;for(;k=m.get(b);)f.add(k),b++}}}f&&(n[dt(d)]=f,l.getRootPrimitive().add(f))}return l}convert(e,t,n,i){const o=t.getProjection(),a=t.getResolution();if(a==null||!o)return null;const s=e.getStyleFunction(),l=this.computePlainStyle(e,n,s,a);if(!l||!l.length)return null;i.projection=o;let c=null;for(let u=0;u<l.length;u++){const d=this.olFeatureToCesium(e,n,l[u],i);if(!c)c=d;else if(d){let h=0,p;for(;p=d.get(h);)c.add(p),h++}}return c}}function $4(r){r.length<2&&(r=[1,1]);const e=r.length%2===0?r:[...r,...r],t=e.reduce((i,o)=>i+o,0)/16;let n=e.map((i,o)=>{const a=o%2===0?"1":"0";let s=Math.round(i/t);return o===0&&s===0&&(s=1),a.repeat(s)}).join("");return n.length<16?n=n.padEnd(16,"0"):n.length>16&&(n=n.substring(0,16)),n[15]==="1"&&(n=n.substring(0,15)+"0"),console.assert(n.length===16),parseInt(n,2)}class H1 extends up{converter;csAllPrimitives_;constructor(e,t,n){super(e,t),this.converter=n||new z4(t),this.csAllPrimitives_=new Cesium.PrimitiveCollection,t.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(e){console.assert(e);const t=e.getRootPrimitive();t.counterpart=e,this.csAllPrimitives_.add(e.getRootPrimitive())}destroyCesiumObject(e){e.getRootPrimitive().destroy()}removeSingleCesiumObject(e,t){e.destroy(),this.csAllPrimitives_.destroyPrimitives=t,this.csAllPrimitives_.remove(e.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(e){if(this.csAllPrimitives_.destroyPrimitives=e,e)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(e,t){let n=!0;[e.layer].concat(e.parents).forEach(i=>{const o=i.getVisible();o!==void 0?n=n&&o:n=!1}),t.show=n}createSingleLayerCounterparts(e){const t=e.layer;if(!(t instanceof lr)||t instanceof In)return null;console.assert(t instanceof $o);let n=t.getSource();if(n instanceof is&&(n=n.getSource()),!n)return null;console.assert(n instanceof sr),console.assert(this.view);const i=this.view,o={},a=this.converter.olVectorLayerToCesium(t,i,o),s=a.getRootPrimitive(),l=a.olListenKeys;[e.layer].concat(e.parents).forEach(d=>{l.push(d.on("change:visible",()=>{this.updateLayerVisibility(e,s)}))}),this.updateLayerVisibility(e,s);const c=d=>{const h=a.context,p=this.converter.convert(t,i,d,h);p&&(o[dt(d)]=p,s.add(p))},u=d=>{const h=dt(d),p=a.context,f=p.featureToCesiumMap[h];f&&(delete p.featureToCesiumMap[h],f.forEach(m=>{m instanceof Cesium.Billboard&&p.billboards.remove(m)}));const y=o[h];delete o[h],y&&s.remove(y)};return l.push(n.on("addfeature",d=>{console.assert(d.feature),c(d.feature)})),l.push(n.on("removefeature",d=>{console.assert(d.feature),u(d.feature)})),l.push(n.on("changefeature",d=>{const h=d.feature;console.assert(h),u(h),c(h)})),a?[a]:null}}function U4(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function G4(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function Z1(r,e){const t=r.cloneNode();r.nodeName==="CANVAS"&&t.getContext("2d").drawImage(r,0,0),e&&e.appendChild(t),r.nodeType!==Node.TEXT_NODE&&t.addEventListener("click",i=>{r.dispatchEvent(new MouseEvent("click",i)),i.stopPropagation()});const n=r.childNodes;for(let i=0;i<n.length;i++)n[i]&&Z1(n[i],t);return t}class B4 extends yx{scenePostRenderListenerRemover_=null;scene_;synchronizer_;parent_;positionWGS84_;observer_;attributeObserver_=[];listenerKeys_;constructor(e){const t=e.parent;super(t.getOptions()),this.scene_=e.scene,this.synchronizer_=e.synchronizer,this.parent_=t,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const n=i=>this.setPropertyFromEvent_(i);this.listenerKeys_.push(this.parent_.on("change:element",n)),this.listenerKeys_.push(this.parent_.on("change:offset",n)),this.listenerKeys_.push(this.parent_.on("change:position",n)),this.listenerKeys_.push(this.parent_.on("change:positioning",n)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged(),this.handlePositionChanged()}observeTarget_(e){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(e,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach(t=>{t.disconnect()}),this.attributeObserver_.length=0;for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(n.nodeType===1){const i=new MutationObserver(this.handleElementChanged.bind(this));i.observe(n,{attributes:!0,subtree:!0}),this.attributeObserver_.push(i)}}}}setPropertyFromEvent_(e){e.target&&e.key&&this.set(e.key,e.target.get(e.key))}getScene(){return this.scene_}handleMapChanged(){this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),U4(this.element)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){if(!this.parent_)return;const e=this.getPosition();if(e){const t=this.parent_.getMap().getView().getProjection();this.positionWGS84_=On(e,t,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){G4(this.element);const e=this.getElement();if(e&&e.parentNode&&e.parentNode.childNodes)for(const t of Array.from(e.parentNode.childNodes)){const n=Z1(t,null);this.element.appendChild(n)}e.parentNode&&this.observeTarget_(e.parentNode)}updatePixelPosition(){const e=this.positionWGS84_;if(!this.scene_||!e){this.setVisible(!1);return}let t=0;if(e.length===2){const c=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(e[0],e[1]));c&&this.scene_.globe.tilesLoaded&&(e[2]=c),c&&(t=c)}else t=e[2];const n=Cesium.Cartesian3.fromDegrees(e[0],e[1],t),i=this.scene_.camera,o=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(o,i.position).isPointVisible(n)){this.setVisible(!1);return}if(i.frustum.computeCullingVolume(i.position,i.direction,i.up).computeVisibility(new Cesium.BoundingSphere(n))!==1){this.setVisible(!1);return}this.setVisible(!0);const a=this.scene_.cartesianToCanvasCoordinates(n),s=[a.x,a.y],l=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(s,l)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),rn(this.listenerKeys_),this.listenerKeys_.splice(0),"removeNode"in this.element?this.element.removeNode(!0):this.element.remove(),this.element=null}}class Y1{map;scene;overlayCollection_;overlayContainerStopEvent_;overlayContainer_;overlayMap_=new Map;overlayEvents=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];listenerKeys_=[];constructor(e,t){this.map=e,this.scene=t,this.map=e,this.overlayCollection_=this.map.getOverlays(),this.scene=t,this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.overlayEvents.forEach(n=>{this.overlayContainerStopEvent_.addEventListener(n,i=>i.stopPropagation())}),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_)}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.overlayCollection_.forEach(e=>{this.addOverlay(e)}),this.listenerKeys_.push(this.overlayCollection_.on("add",e=>this.addOverlay(e.element))),this.listenerKeys_.push(this.overlayCollection_.on("remove",e=>this.removeOverlay(e.element)))}addOverlay(e){if(!e)return;const t=new B4({scene:this.scene,synchronizer:this,parent:e});this.overlayMap_.set(dt(e),t)}removeOverlay(e){const t=dt(e),n=this.overlayMap_.get(t);n&&(n.destroy(),this.overlayMap_.delete(t))}destroyAll(){this.overlayMap_.forEach(e=>{e.destroy()}),this.overlayMap_.clear(),rn(this.listenerKeys_),this.listenerKeys_.length=0}}const xu={DONE:0,PENDING:1,FAILED:2};class dp{autoRenderLoop_=null;map_;time_;to4326Transform_;resolutionScale_=1;canvasClientWidth_=0;canvasClientHeight_=0;resolutionScaleChanged_=!0;container_;isOverMap_;canvas_;enabled_=!1;pausedInteractions_=[];hiddenRootGroup_=null;scene_;camera_;globe_;dataSourceCollection_;dataSourceDisplay_;lastFrameTime_=0;renderId_;targetFrameRate_=Number.POSITIVE_INFINITY;blockCesiumRendering_=!1;warmingUp_=!1;trackedFeature_=null;trackedEntity_=null;entityView_=null;needTrackedEntityUpdate_=!1;boundingSphereScratch_=new Cesium.BoundingSphere;synchronizers_;refresh2DAfterCameraMoveEndOnly=!1;moveEndRemoveCallback_;constructor(e){this.map_=e.map,this.time_=e.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=pl(this.map_.getView().getProjection(),"EPSG:4326");const t="position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none;";this.container_=document.createElement("DIV");const n=document.createAttribute("style");n.value=`${t}visibility:hidden;`,this.container_.setAttributeNode(n);let i=e.target||this.map_.getViewport();if(typeof i=="string"&&(i=document.getElementById(i)),i.appendChild(this.container_),this.isOverMap_=!e.target,this.isOverMap_&&e.stopOpenLayersEventsPropagation){const c=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];for(let u=0,d=c.length;u<d;++u)this.container_.addEventListener(c[u],h=>h.stopPropagation())}this.canvas_=document.createElement("canvas");const o=document.createAttribute("style");o.value=t,this.canvas_.setAttributeNode(o),Sd()&&(this.canvas_.style.imageRendering=T4()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_);const a=e.sceneOptions!==void 0?{...e.sceneOptions,canvas:this.canvas_,scene3DOnly:!0}:{canvas:this.canvas_,scene3DOnly:!0};this.scene_=new Cesium.Scene(a);const s=this.scene_.screenSpaceCameraController;Array.isArray(s.tiltEventTypes)?(s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT})):console.log("sscc is not an array"),s.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new F4(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const l=new Cesium.SingleTileImageryProvider({tileHeight:1,tileWidth:1,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(l,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_}),this.synchronizers_=e.createSynchronizers?e.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new j4(this.map_,this.scene_),new H1(this.map_,this.scene_),new Y1(this.map_,this.scene_)],this.handleResize_();for(let c=this.synchronizers_.length-1;c>=0;--c)this.synchronizers_[c].synchronize();new Cesium.EventHelper().add(this.scene_.postRender,dp.prototype.updateTrackedEntity_,this),this.moveEndRemoveCallback_=this.scene_.camera.moveEnd.addEventListener(()=>{this.refresh2DAfterCameraMoveEndOnly&&this.camera_.checkCameraChange()})}destroy(){cancelAnimationFrame(this.renderId_),this.renderId_=void 0,this.synchronizers_.forEach(e=>e.destroyAll()),this.camera_.destroy(),this.scene_.destroy(),this.scene_._postRender=null,this.moveEndRemoveCallback_(),this.container_.remove()}render_(){this.renderId_!==void 0&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),(this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_&&(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(e){this.renderId_=void 0;const t=1e3/this.targetFrameRate_;if(e-this.lastFrameTime_<t){this.render_();return}this.lastFrameTime_=e;const n=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(n),this.entityView_){const i=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(i,!1,this.boundingSphereScratch_)===xu.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(n,this.boundingSphereScratch_))}this.scene_.render(n),this.refresh2DAfterCameraMoveEndOnly||this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const e=this.trackedEntity_,t=this.scene_,n=this.dataSourceDisplay_.getBoundingSphere(e,!1,this.boundingSphereScratch_);if(n===xu.PENDING)return;t.screenSpaceCameraController.enableTilt=!1;const i=n!==xu.FAILED?this.boundingSphereScratch_:void 0;i&&(i.radius=1),this.entityView_=new Cesium.EntityView(e,t,t.mapProjection.ellipsoid),this.entityView_.update(this.time_(),i),this.needTrackedEntityUpdate_=!1}handleResize_(){let e=this.canvas_.clientWidth,t=this.canvas_.clientHeight;if(e===0||t===0||e===this.canvasClientWidth_&&t===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let n=this.resolutionScale_;Sd()||(n*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=e,this.canvasClientHeight_=t,e*=n,t*=n,this.canvas_.width=e,this.canvas_.height=t,this.scene_.camera.frustum.aspectRatio=e/t}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const e=this.map_.getView();return console.assert(e),e}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(e){if(this.enabled_===e)return;this.enabled_=e,this.container_.style.visibility=this.enabled_?"visible":"hidden";let t;if(this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){t=this.map_.getInteractions(),t.forEach((i,o,a)=>{this.pausedInteractions_.push(i)}),t.clear(),this.map_.addInteraction=i=>this.pausedInteractions_.push(i),this.map_.removeInteraction=i=>{let o=!1;return this.pausedInteractions_=this.pausedInteractions_.filter(a=>{const s=a!==i;return o||(o=s),s}),o?i:void 0};const n=this.map_.getLayerGroup();n.getVisible()&&(this.hiddenRootGroup_=n,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(t=this.map_.getInteractions(),this.pausedInteractions_.forEach(n=>{t.push(n)}),this.pausedInteractions_.length=0,this.map_.addInteraction=n=>this.map_.getInteractions().push(n),this.map_.removeInteraction=n=>this.map_.getInteractions().remove(n),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(e,t){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const n=this.globe_.ellipsoid,i=this.scene_.camera,o=n.cartesianToCartographic(i.position);o.height<e&&(o.height=e,i.position=n.cartographicToCartesian(o)),this.warmingUp_=!0,this.render_(),setTimeout(()=>{this.warmingUp_=!1},t)}setBlockCesiumRendering(e){this.blockCesiumRendering_!==e&&(this.blockCesiumRendering_=e,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new R4(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(e){e=Math.max(0,e),e!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,e),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(e){this.targetFrameRate_!==e&&(this.targetFrameRate_=e,this.render_())}setRefresh2DAfterCameraMoveEndOnly(e){this.refresh2DAfterCameraMoveEndOnly=e}throwOnUnitializedMap_(){const e=this.map_.getView(),t=e.getCenter();if(!e.isDef()||isNaN(t[0])||isNaN(t[1]))throw new Error(`The OpenLayers map is not properly initialized: ${t} / ${e.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(e){if(this.trackedFeature_!==e){const t=this.scene_;if(!e||!e.getGeometry()){this.needTrackedEntityUpdate_=!1,t.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,t.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=e,this.needTrackedEntityUpdate_=!0;const n=this.to4326Transform_,i=function(){const a=e.getGeometry();console.assert(a instanceof Bt);const s=a instanceof Bt?a.getCoordinates():[],l=n(s,void 0,s.length);return xo(l)},o={position:new Cesium.CallbackProperty((a,s)=>i(),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(o)}}}class V4 extends Y1{constructor(e,t){super(e,t)}addOverlays(){this.overlays_.forEach(e=>{e.getId()!==void 0&&this.addOverlay(e)})}}class H4 extends up{constructor(e,t){super(e,t),this.cesiumLayers=t.imageryLayers,this.ourLayers=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers.add(e),this.ourLayers.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers.remove(e,t),this.ourLayers.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers.length;++t)this.cesiumLayers.remove(this.ourLayers.get(t),e);this.ourLayers.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n={show:!1};let i={},o={},a=null;if(!(e instanceof ro)&&!(e instanceof os))return null;if(i=e.getSource(),i instanceof Nh)a=this.createProviderForTileWMS(i,t,e);else{if(i instanceof Dh)return o=this.createImageryLayerForImageWMS(e,t),o?[o]:null;if(i instanceof U1)a=this.createProviderForStaticImageSource(i);else if(i instanceof ac){if(typeof i.getUrls!="function"||!Array.isArray(i.getUrls()))return null;a=new Cesium.WebMapTileServiceImageryProvider({url:i.getUrls()[0],format:i.getFormat(),layer:i.getLayer(),style:i.getStyle(),tileMatrixSetID:i.getMatrixSet(),tileMatrixLabels:i.getTileGrid().getMatrixIds(),credit:i.getAttributions()})}else return console.warn("Sources other than TileImage are currently not supported."),null}return o=new Cesium.ImageryLayer(a,n),o?[o]:null}createProviderForTileWMS(e,t,n){const i=e.getParams(),o={url:e.getUrls()[0],parameters:i,layers:i.LAYERS,show:!1},a=e.getTileGrid();if(typeof i.CQL_FILTER>"u"&&delete i.CQL_FILTER,a){const s=n.getExtent();if(s&&t){o.rectangle=cp(s,t);const l=this.getMinMaxLevelFromTileGrid(a,s,t);o.tileWidth=a.getTileSize(0)[0],o.tileHeight=a.getTileSize(0)[1],o.minimumLevel=l[0],o.maximumLevel=l[1]}}return new Cesium.WebMapServiceImageryProvider(o)}createImageryLayerForImageWMS(e,t){return B1(this.map,e,t)}createProviderForStaticImageSource(e){const t=e.getImageExtent(),n={url:e.getUrl(),show:!1},i=Br(e.getProjection().getCode(),"EPSG:4326",Kc(t)),o=Br(e.getProjection().getCode(),"EPSG:4326",Qc(t));return n.rectangle=Cesium.Rectangle.fromDegrees(i[0],i[1],o[0],o[1]),new Cesium.SingleTileImageryProvider(n)}getExtentPoints(e,t){const n=Di(e,t,"EPSG:4326");return[Kc(n),rg(n),Qc(n),fl(n)].map(i=>Cesium.Cartographic.fromDegrees(i[0],i[1]))}getMinMaxLevelFromTileGrid(e,t,n){const i=[Kc(t),rg(t),Qc(t),fl(t)],o=e.getResolutions().slice(-1).pop(),a=i.map(p=>e.getTileCoordForCoordAndResolution(p,o)),s=Math.abs(a[0][1]-a[1][1]),l=Math.abs(a[0][2]-a[3][2]),c=this.getExtentPoints(t,n),u=new Cesium.GeographicTilingScheme({});let d=0,h=20;for(;d<h;){const p=c.map(y=>u.positionToTileXY(y,d)),f=[];if(f.push(Math.abs(p[0].x-p[1].x)),f.push(Math.abs(p[0].y-p[3].y)),f[0]>1||f[1]>1){d--;break}d++}for(;h>d;){const p=c.map(y=>u.positionToTileXY(y,h)),f=[];if(f.push(Math.abs(p[0].x-p[1].x)),f.push(Math.abs(p[0].y-p[3].y)),f[0]<s||f[1]<l){h++;break}h--}return[d,h]}createSingleLayerCounterparts(e){const t=e.layer,n=dt(t).toString(),i=this.view.getProjection(),o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];[e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)Ol(e,o[l])}))});for(let s=0;s<o.length;++s)Ol(e,o[s]);a.push(t.on("change:extent",function(){for(let s=0;s<o.length;++s)this.cesiumLayers.remove(o[s],!0),this.ourLayers.remove(o[s],!1);delete this.layerMap[dt(t)],this.synchronize()},this)),a.push(t.on("change",(function(){for(let s=0;s<o.length;++s){const l=this.cesiumLayers.indexOf(o[s]);l>=0&&(this.cesiumLayers.remove(o[s],!1),this.cesiumLayers.add(o[s],l))}}).bind(this))),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[dt(i)]=i.getZIndex(),i instanceof mn){const o=i.getLayers();o&&n.unshift(...o.getArray())}}o2(e,(i,o)=>t[dt(i)]-t[dt(o)]),e.forEach(function(i){const o=dt(i).toString(),a=this.layerMap[o];a&&a.forEach(this.raiseToTop,this)},this)}raiseToTop(e){this.cesiumLayers.raiseToTop(e)}}let Z4=0;function Za(r,e){if(!r||!e||typeof e!="object"){console.warn("setCesiumSceneParams: Invalid scene or params.");return}Object.entries(e).forEach(([t,n])=>{["0","1","2","heading","tilt","altitude","pitch"].includes(t)||(typeof n=="object"&&r[t]?Za(r[t],n):r[t]=n)})}function W1(r,e,t){if(!r||!e){console.warn("setCameraParameter: Missing parameters or map3D instance.");return}let n=e.getCesiumScene()?.camera;const i=parseFloat(r.heading??r.camera?.heading??0),o=parseFloat(r.pitch??r.camera?.pitch??0),a=parseFloat(r.roll??0),s=parseFloat(r.tilt??r.camera?.tilt??0),l=parseFloat(r.altitude??r.camera?.altitude??0);if(r.cameraPosition||r.camera?.cameraPosition){const c=r.cameraPosition??r.camera.cameraPosition,u=t.Cartesian3.fromDegrees(c[0],c[1],c[2]),d={heading:t.Math.toRadians(i),pitch:t.Math.toRadians(o),roll:t.Math.toRadians(a)};r.cameraPosition?n.setView({destination:u,orientation:d}):n.flyTo({destination:u,orientation:d});return}n=e.getCamera(),s&&n.setTilt(s),i&&n.setHeading(i),l&&n.setAltitude(l)}function K1(r){const e=new dp({map:r.map2D,time:r?.shadowTime,stopOpenLayersEventsPropagation:!0,createSynchronizers:(t,n)=>[new H4(t,n),new H1(t,n),new V4(t,n)]});return e.id=`map3D_${Z4++}`,e.mapMode="3D",Za(e.getCesiumScene(),_r.sceneOptions),r?.cesiumParameter&&(Za(e.getCesiumScene(),r.cesiumParameter),W1(r.cesiumParameter,e,Cesium)),e}function Y4(r){const e=this.scene,t=e.camera.getPickRay(r.position),n=e.globe.pick(t,e),i=this.map3D.getOlView().getProjection();let o,a,s,l,c,u,d,h,p,f;if(n){if(document.querySelector(".nav li")?.classList.contains("open")&&document.querySelector(".nav li").classList.remove("open"),s=e.globe.ellipsoid.cartesianToCartographic(n),a=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)],o=e.globe.getHeight(s),o&&(a=a.concat([o])),l=Cesium.Cartesian3.distance(n,e.camera.position),c=this.map3D.getCamera().calcResolutionForDistance(l,s.latitude),u=On(a,ve("EPSG:4326"),i),d=null,e.pickPositionSupported){const y=e.pick(r.position);h=e.pickPosition(r.position),!h&&y?.primitive instanceof window.Cesium.Billboard&&(h=y.primitive?.position),h&&(p=e.globe.ellipsoid.cartesianToCartographic(h),d=On([Cesium.Math.toDegrees(p.longitude),Cesium.Math.toDegrees(p.latitude)],ve("EPSG:4326"),i),d.push(p.height))}f={map3D:this,position:r.position,pickedPosition:d,coordinate:u,latitude:a[0],longitude:a[1],resolution:c,originalEvent:r}}return this.callback(f)}function W4(r){let e;Cesium&&(e=new Cesium.ScreenSpaceEventHandler(r.scene.canvas),e.setInputAction(Y4.bind(r),Cesium.ScreenSpaceEventType.LEFT_CLICK))}function K4(r,e,t){const n=r.camera;let i=Object.prototype.hasOwnProperty.call(t,"cameraParameter")?t.cameraParameter:{};return i=e?.altitude?Object.assign(i||{},{altitude:e?.altitude}):i,i=e?.heading?Object.assign(i||{},{heading:e?.heading}):i,i=e?.tilt?Object.assign(i||{},{tilt:e?.tilt}):i,Object.keys(i).length>0&&Za(r,{camera:i}),n}const Q4=Object.freeze(Object.defineProperty({__proto__:null,createMap:K1,handle3DEvents:W4,prepareCamera:K4,setCameraParameter:W1,setCesiumSceneParams:Za},Symbol.toStringTag,{value:"Module"})),X4={createMap:function(r,e="2D",t={}){return{"2D":_4,"3D":K1}[e](r,t)},olcsMap:Q4},J4={map:X4};var Tf={exports:{}},Cf;function eC(){return Cf||(Cf=1,(function(r){(function(e,t,n,i){var o=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),s="function",l=Math.round,c=Math.abs,u=Date.now;function d(g,v,_){return setTimeout(C(g,_),v)}function h(g,v,_){return Array.isArray(g)?(p(g,_[v],_),!0):!1}function p(g,v,_){var I;if(g)if(g.forEach)g.forEach(v,_);else if(g.length!==i)for(I=0;I<g.length;)v.call(_,g[I],I,g),I++;else for(I in g)g.hasOwnProperty(I)&&v.call(_,g[I],I,g)}function f(g,v,_){var I="DEPRECATED METHOD: "+v+`
`+_+` AT 
`;return function(){var U=new Error("get-stack-trace"),ye=U&&U.stack?U.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",je=e.console&&(e.console.warn||e.console.log);return je&&je.call(e.console,I,ye),g.apply(this,arguments)}}var y;typeof Object.assign!="function"?y=function(g){if(g===i||g===null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(g),_=1;_<arguments.length;_++){var I=arguments[_];if(I!==i&&I!==null)for(var U in I)I.hasOwnProperty(U)&&(v[U]=I[U])}return v}:y=Object.assign;var m=f(function(g,v,_){for(var I=Object.keys(v),U=0;U<I.length;)(!_||_&&g[I[U]]===i)&&(g[I[U]]=v[I[U]]),U++;return g},"extend","Use `assign`."),b=f(function(g,v){return m(g,v,!0)},"merge","Use `assign`.");function k(g,v,_){var I=v.prototype,U;U=g.prototype=Object.create(I),U.constructor=g,U._super=I,_&&y(U,_)}function C(g,v){return function(){return g.apply(v,arguments)}}function T(g,v){return typeof g==s?g.apply(v&&v[0]||i,v):g}function E(g,v){return g===i?v:g}function R(g,v,_){p(ge(v),function(I){g.addEventListener(I,_,!1)})}function F(g,v,_){p(ge(v),function(I){g.removeEventListener(I,_,!1)})}function le(g,v){for(;g;){if(g==v)return!0;g=g.parentNode}return!1}function oe(g,v){return g.indexOf(v)>-1}function ge(g){return g.trim().split(/\s+/g)}function $(g,v,_){if(g.indexOf&&!_)return g.indexOf(v);for(var I=0;I<g.length;){if(_&&g[I][_]==v||!_&&g[I]===v)return I;I++}return-1}function q(g){return Array.prototype.slice.call(g,0)}function te(g,v,_){for(var I=[],U=[],ye=0;ye<g.length;){var je=g[ye][v];$(U,je)<0&&I.push(g[ye]),U[ye]=je,ye++}return I=I.sort(function(ft,Or){return ft[v]>Or[v]}),I}function S(g,v){for(var _,I,U=v[0].toUpperCase()+v.slice(1),ye=0;ye<o.length;){if(_=o[ye],I=_?_+U:v,I in g)return I;ye++}return i}var H=1;function ne(){return H++}function X(g){var v=g.ownerDocument||g;return v.defaultView||v.parentWindow||e}var me=/mobile|tablet|ip(ad|hone|od)|android/i,Be="ontouchstart"in e,B=S(e,"PointerEvent")!==i,wt=Be&&me.test(navigator.userAgent),rt="touch",Tt="pen",rr="mouse",kt="kinect",bt=25,Qe=1,et=2,Fe=4,Y=8,Tr=1,x=2,w=4,L=8,z=16,P=x|w,j=L|z,V=P|j,W=["x","y"],Z=["clientX","clientY"];function D(g,v){var _=this;this.manager=g,this.callback=v,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(I){T(g.options.enable,[g])&&_.handler(I)},this.init()}D.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(X(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(X(this.element),this.evWin,this.domHandler)}};function fe(g){var v,_=g.options.inputClass;return _?v=_:B?v=na:wt?v=ks:Be?v=Uc:v=At,new v(g,re)}function re(g,v,_){var I=_.pointers.length,U=_.changedPointers.length,ye=v&Qe&&I-U===0,je=v&(Fe|Y)&&I-U===0;_.isFirst=!!ye,_.isFinal=!!je,ye&&(g.session={}),_.eventType=v,J(g,_),g.emit("hammer.input",_),g.recognize(_),g.session.prevInput=_}function J(g,v){var _=g.session,I=v.pointers,U=I.length;_.firstInput||(_.firstInput=ke(v)),U>1&&!_.firstMultiple?_.firstMultiple=ke(v):U===1&&(_.firstMultiple=!1);var ye=_.firstInput,je=_.firstMultiple,ft=je?je.center:ye.center,Or=v.center=ce(I);v.timeStamp=u(),v.deltaTime=v.timeStamp-ye.timeStamp,v.angle=Ve(ft,Or),v.distance=ze(ft,Or),ae(_,v),v.offsetDirection=Me(v.deltaX,v.deltaY);var gr=_e(v.deltaTime,v.deltaX,v.deltaY);v.overallVelocityX=gr.x,v.overallVelocityY=gr.y,v.overallVelocity=c(gr.x)>c(gr.y)?gr.x:gr.y,v.scale=je?Vt(je.pointers,I):1,v.rotation=je?gt(je.pointers,I):0,v.maxPointers=_.prevInput?v.pointers.length>_.prevInput.maxPointers?v.pointers.length:_.prevInput.maxPointers:v.pointers.length,de(_,v);var Xr=g.element;le(v.srcEvent.target,Xr)&&(Xr=v.srcEvent.target),v.target=Xr}function ae(g,v){var _=v.center,I=g.offsetDelta||{},U=g.prevDelta||{},ye=g.prevInput||{};(v.eventType===Qe||ye.eventType===Fe)&&(U=g.prevDelta={x:ye.deltaX||0,y:ye.deltaY||0},I=g.offsetDelta={x:_.x,y:_.y}),v.deltaX=U.x+(_.x-I.x),v.deltaY=U.y+(_.y-I.y)}function de(g,v){var _=g.lastInterval||v,I=v.timeStamp-_.timeStamp,U,ye,je,ft;if(v.eventType!=Y&&(I>bt||_.velocity===i)){var Or=v.deltaX-_.deltaX,gr=v.deltaY-_.deltaY,Xr=_e(I,Or,gr);ye=Xr.x,je=Xr.y,U=c(Xr.x)>c(Xr.y)?Xr.x:Xr.y,ft=Me(Or,gr),g.lastInterval=v}else U=_.velocity,ye=_.velocityX,je=_.velocityY,ft=_.direction;v.velocity=U,v.velocityX=ye,v.velocityY=je,v.direction=ft}function ke(g){for(var v=[],_=0;_<g.pointers.length;)v[_]={clientX:l(g.pointers[_].clientX),clientY:l(g.pointers[_].clientY)},_++;return{timeStamp:u(),pointers:v,center:ce(v),deltaX:g.deltaX,deltaY:g.deltaY}}function ce(g){var v=g.length;if(v===1)return{x:l(g[0].clientX),y:l(g[0].clientY)};for(var _=0,I=0,U=0;U<v;)_+=g[U].clientX,I+=g[U].clientY,U++;return{x:l(_/v),y:l(I/v)}}function _e(g,v,_){return{x:v/g||0,y:_/g||0}}function Me(g,v){return g===v?Tr:c(g)>=c(v)?g<0?x:w:v<0?L:z}function ze(g,v,_){_||(_=W);var I=v[_[0]]-g[_[0]],U=v[_[1]]-g[_[1]];return Math.sqrt(I*I+U*U)}function Ve(g,v,_){_||(_=W);var I=v[_[0]]-g[_[0]],U=v[_[1]]-g[_[1]];return Math.atan2(U,I)*180/Math.PI}function gt(g,v){return Ve(v[1],v[0],Z)+Ve(g[1],g[0],Z)}function Vt(g,v){return ze(v[0],v[1],Z)/ze(g[0],g[1],Z)}var tt={mousedown:Qe,mousemove:et,mouseup:Fe},Re="mousedown",Ot="mousemove mouseup";function At(){this.evEl=Re,this.evWin=Ot,this.pressed=!1,D.apply(this,arguments)}k(At,D,{handler:function(g){var v=tt[g.type];v&Qe&&g.button===0&&(this.pressed=!0),v&et&&g.which!==1&&(v=Fe),this.pressed&&(v&Fe&&(this.pressed=!1),this.callback(this.manager,v,{pointers:[g],changedPointers:[g],pointerType:rr,srcEvent:g}))}});var Cr={pointerdown:Qe,pointermove:et,pointerup:Fe,pointercancel:Y,pointerout:Y},Rt={2:rt,3:Tt,4:rr,5:kt},Kr="pointerdown",vs="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Kr="MSPointerDown",vs="MSPointerMove MSPointerUp MSPointerCancel");function na(){this.evEl=Kr,this.evWin=vs,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k(na,D,{handler:function(g){var v=this.store,_=!1,I=g.type.toLowerCase().replace("ms",""),U=Cr[I],ye=Rt[g.pointerType]||g.pointerType,je=ye==rt,ft=$(v,g.pointerId,"pointerId");U&Qe&&(g.button===0||je)?ft<0&&(v.push(g),ft=v.length-1):U&(Fe|Y)&&(_=!0),!(ft<0)&&(v[ft]=g,this.callback(this.manager,U,{pointers:v,changedPointers:[g],pointerType:ye,srcEvent:g}),_&&v.splice(ft,1))}});var Gv={touchstart:Qe,touchmove:et,touchend:Fe,touchcancel:Y},Bv="touchstart",Vv="touchstart touchmove touchend touchcancel";function zp(){this.evTarget=Bv,this.evWin=Vv,this.started=!1,D.apply(this,arguments)}k(zp,D,{handler:function(g){var v=Gv[g.type];if(v===Qe&&(this.started=!0),!!this.started){var _=Hv.call(this,g,v);v&(Fe|Y)&&_[0].length-_[1].length===0&&(this.started=!1),this.callback(this.manager,v,{pointers:_[0],changedPointers:_[1],pointerType:rt,srcEvent:g})}}});function Hv(g,v){var _=q(g.touches),I=q(g.changedTouches);return v&(Fe|Y)&&(_=te(_.concat(I),"identifier")),[_,I]}var Zv={touchstart:Qe,touchmove:et,touchend:Fe,touchcancel:Y},Yv="touchstart touchmove touchend touchcancel";function ks(){this.evTarget=Yv,this.targetIds={},D.apply(this,arguments)}k(ks,D,{handler:function(g){var v=Zv[g.type],_=Wv.call(this,g,v);_&&this.callback(this.manager,v,{pointers:_[0],changedPointers:_[1],pointerType:rt,srcEvent:g})}});function Wv(g,v){var _=q(g.touches),I=this.targetIds;if(v&(Qe|et)&&_.length===1)return I[_[0].identifier]=!0,[_,_];var U,ye,je=q(g.changedTouches),ft=[],Or=this.target;if(ye=_.filter(function(gr){return le(gr.target,Or)}),v===Qe)for(U=0;U<ye.length;)I[ye[U].identifier]=!0,U++;for(U=0;U<je.length;)I[je[U].identifier]&&ft.push(je[U]),v&(Fe|Y)&&delete I[je[U].identifier],U++;if(ft.length)return[te(ye.concat(ft),"identifier"),ft]}var Kv=2500,$p=25;function Uc(){D.apply(this,arguments);var g=C(this.handler,this);this.touch=new ks(this.manager,g),this.mouse=new At(this.manager,g),this.primaryTouch=null,this.lastTouches=[]}k(Uc,D,{handler:function(g,v,_){var I=_.pointerType==rt,U=_.pointerType==rr;if(!(U&&_.sourceCapabilities&&_.sourceCapabilities.firesTouchEvents)){if(I)Qv.call(this,v,_);else if(U&&Xv.call(this,_))return;this.callback(g,v,_)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Qv(g,v){g&Qe?(this.primaryTouch=v.changedPointers[0].identifier,Up.call(this,v)):g&(Fe|Y)&&Up.call(this,v)}function Up(g){var v=g.changedPointers[0];if(v.identifier===this.primaryTouch){var _={x:v.clientX,y:v.clientY};this.lastTouches.push(_);var I=this.lastTouches,U=function(){var ye=I.indexOf(_);ye>-1&&I.splice(ye,1)};setTimeout(U,Kv)}}function Xv(g){for(var v=g.srcEvent.clientX,_=g.srcEvent.clientY,I=0;I<this.lastTouches.length;I++){var U=this.lastTouches[I],ye=Math.abs(v-U.x),je=Math.abs(_-U.y);if(ye<=$p&&je<=$p)return!0}return!1}var Gp=S(a.style,"touchAction"),Bp=Gp!==i,Vp="compute",Hp="auto",Gc="manipulation",bi="none",ia="pan-x",oa="pan-y",bs=ek();function Bc(g,v){this.manager=g,this.set(v)}Bc.prototype={set:function(g){g==Vp&&(g=this.compute()),Bp&&this.manager.element.style&&bs[g]&&(this.manager.element.style[Gp]=g),this.actions=g.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var g=[];return p(this.manager.recognizers,function(v){T(v.options.enable,[v])&&(g=g.concat(v.getTouchAction()))}),Jv(g.join(" "))},preventDefaults:function(g){var v=g.srcEvent,_=g.offsetDirection;if(this.manager.session.prevented){v.preventDefault();return}var I=this.actions,U=oe(I,bi)&&!bs[bi],ye=oe(I,oa)&&!bs[oa],je=oe(I,ia)&&!bs[ia];if(U){var ft=g.pointers.length===1,Or=g.distance<2,gr=g.deltaTime<250;if(ft&&Or&&gr)return}if(!(je&&ye)&&(U||ye&&_&P||je&&_&j))return this.preventSrc(v)},preventSrc:function(g){this.manager.session.prevented=!0,g.preventDefault()}};function Jv(g){if(oe(g,bi))return bi;var v=oe(g,ia),_=oe(g,oa);return v&&_?bi:v||_?v?ia:oa:oe(g,Gc)?Gc:Hp}function ek(){if(!Bp)return!1;var g={},v=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(_){g[_]=v?e.CSS.supports("touch-action",_):!0}),g}var xs=1,Er=2,io=4,Vn=8,kn=Vn,aa=16,Qr=32;function bn(g){this.options=y({},this.defaults,g||{}),this.id=ne(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=xs,this.simultaneous={},this.requireFail=[]}bn.prototype={defaults:{},set:function(g){return y(this.options,g),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(g){if(h(g,"recognizeWith",this))return this;var v=this.simultaneous;return g=ws(g,this),v[g.id]||(v[g.id]=g,g.recognizeWith(this)),this},dropRecognizeWith:function(g){return h(g,"dropRecognizeWith",this)?this:(g=ws(g,this),delete this.simultaneous[g.id],this)},requireFailure:function(g){if(h(g,"requireFailure",this))return this;var v=this.requireFail;return g=ws(g,this),$(v,g)===-1&&(v.push(g),g.requireFailure(this)),this},dropRequireFailure:function(g){if(h(g,"dropRequireFailure",this))return this;g=ws(g,this);var v=$(this.requireFail,g);return v>-1&&this.requireFail.splice(v,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(g){return!!this.simultaneous[g.id]},emit:function(g){var v=this,_=this.state;function I(U){v.manager.emit(U,g)}_<Vn&&I(v.options.event+Zp(_)),I(v.options.event),g.additionalEvent&&I(g.additionalEvent),_>=Vn&&I(v.options.event+Zp(_))},tryEmit:function(g){if(this.canEmit())return this.emit(g);this.state=Qr},canEmit:function(){for(var g=0;g<this.requireFail.length;){if(!(this.requireFail[g].state&(Qr|xs)))return!1;g++}return!0},recognize:function(g){var v=y({},g);if(!T(this.options.enable,[this,v])){this.reset(),this.state=Qr;return}this.state&(kn|aa|Qr)&&(this.state=xs),this.state=this.process(v),this.state&(Er|io|Vn|aa)&&this.tryEmit(v)},process:function(g){},getTouchAction:function(){},reset:function(){}};function Zp(g){return g&aa?"cancel":g&Vn?"end":g&io?"move":g&Er?"start":""}function Yp(g){return g==z?"down":g==L?"up":g==x?"left":g==w?"right":""}function ws(g,v){var _=v.manager;return _?_.get(g):g}function Dr(){bn.apply(this,arguments)}k(Dr,bn,{defaults:{pointers:1},attrTest:function(g){var v=this.options.pointers;return v===0||g.pointers.length===v},process:function(g){var v=this.state,_=g.eventType,I=v&(Er|io),U=this.attrTest(g);return I&&(_&Y||!U)?v|aa:I||U?_&Fe?v|Vn:v&Er?v|io:Er:Qr}});function _s(){Dr.apply(this,arguments),this.pX=null,this.pY=null}k(_s,Dr,{defaults:{event:"pan",threshold:10,pointers:1,direction:V},getTouchAction:function(){var g=this.options.direction,v=[];return g&P&&v.push(oa),g&j&&v.push(ia),v},directionTest:function(g){var v=this.options,_=!0,I=g.distance,U=g.direction,ye=g.deltaX,je=g.deltaY;return U&v.direction||(v.direction&P?(U=ye===0?Tr:ye<0?x:w,_=ye!=this.pX,I=Math.abs(g.deltaX)):(U=je===0?Tr:je<0?L:z,_=je!=this.pY,I=Math.abs(g.deltaY))),g.direction=U,_&&I>v.threshold&&U&v.direction},attrTest:function(g){return Dr.prototype.attrTest.call(this,g)&&(this.state&Er||!(this.state&Er)&&this.directionTest(g))},emit:function(g){this.pX=g.deltaX,this.pY=g.deltaY;var v=Yp(g.direction);v&&(g.additionalEvent=this.options.event+v),this._super.emit.call(this,g)}});function Vc(){Dr.apply(this,arguments)}k(Vc,Dr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.scale-1)>this.options.threshold||this.state&Er)},emit:function(g){if(g.scale!==1){var v=g.scale<1?"in":"out";g.additionalEvent=this.options.event+v}this._super.emit.call(this,g)}});function Hc(){bn.apply(this,arguments),this._timer=null,this._input=null}k(Hc,bn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Hp]},process:function(g){var v=this.options,_=g.pointers.length===v.pointers,I=g.distance<v.threshold,U=g.deltaTime>v.time;if(this._input=g,!I||!_||g.eventType&(Fe|Y)&&!U)this.reset();else if(g.eventType&Qe)this.reset(),this._timer=d(function(){this.state=kn,this.tryEmit()},v.time,this);else if(g.eventType&Fe)return kn;return Qr},reset:function(){clearTimeout(this._timer)},emit:function(g){this.state===kn&&(g&&g.eventType&Fe?this.manager.emit(this.options.event+"up",g):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Zc(){Dr.apply(this,arguments)}k(Zc,Dr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.rotation)>this.options.threshold||this.state&Er)}});function Yc(){Dr.apply(this,arguments)}k(Yc,Dr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:P|j,pointers:1},getTouchAction:function(){return _s.prototype.getTouchAction.call(this)},attrTest:function(g){var v=this.options.direction,_;return v&(P|j)?_=g.overallVelocity:v&P?_=g.overallVelocityX:v&j&&(_=g.overallVelocityY),this._super.attrTest.call(this,g)&&v&g.offsetDirection&&g.distance>this.options.threshold&&g.maxPointers==this.options.pointers&&c(_)>this.options.velocity&&g.eventType&Fe},emit:function(g){var v=Yp(g.offsetDirection);v&&this.manager.emit(this.options.event+v,g),this.manager.emit(this.options.event,g)}});function Ts(){bn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}k(Ts,bn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Gc]},process:function(g){var v=this.options,_=g.pointers.length===v.pointers,I=g.distance<v.threshold,U=g.deltaTime<v.time;if(this.reset(),g.eventType&Qe&&this.count===0)return this.failTimeout();if(I&&U&&_){if(g.eventType!=Fe)return this.failTimeout();var ye=this.pTime?g.timeStamp-this.pTime<v.interval:!0,je=!this.pCenter||ze(this.pCenter,g.center)<v.posThreshold;this.pTime=g.timeStamp,this.pCenter=g.center,!je||!ye?this.count=1:this.count+=1,this._input=g;var ft=this.count%v.taps;if(ft===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=kn,this.tryEmit()},v.interval,this),Er):kn}return Qr},failTimeout:function(){return this._timer=d(function(){this.state=Qr},this.options.interval,this),Qr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==kn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Hn(g,v){return v=v||{},v.recognizers=E(v.recognizers,Hn.defaults.preset),new Wc(g,v)}Hn.VERSION="2.0.7",Hn.defaults={domEvents:!1,touchAction:Vp,enable:!0,inputTarget:null,inputClass:null,preset:[[Zc,{enable:!1}],[Vc,{enable:!1},["rotate"]],[Yc,{direction:P}],[_s,{direction:P},["swipe"]],[Ts],[Ts,{event:"doubletap",taps:2},["tap"]],[Hc]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var tk=1,Wp=2;function Wc(g,v){this.options=y({},Hn.defaults,v||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=fe(this),this.touchAction=new Bc(this,this.options.touchAction),Kp(this,!0),p(this.options.recognizers,function(_){var I=this.add(new _[0](_[1]));_[2]&&I.recognizeWith(_[2]),_[3]&&I.requireFailure(_[3])},this)}Wc.prototype={set:function(g){return y(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},stop:function(g){this.session.stopped=g?Wp:tk},recognize:function(g){var v=this.session;if(!v.stopped){this.touchAction.preventDefaults(g);var _,I=this.recognizers,U=v.curRecognizer;(!U||U&&U.state&kn)&&(U=v.curRecognizer=null);for(var ye=0;ye<I.length;)_=I[ye],v.stopped!==Wp&&(!U||_==U||_.canRecognizeWith(U))?_.recognize(g):_.reset(),!U&&_.state&(Er|io|Vn)&&(U=v.curRecognizer=_),ye++}},get:function(g){if(g instanceof bn)return g;for(var v=this.recognizers,_=0;_<v.length;_++)if(v[_].options.event==g)return v[_];return null},add:function(g){if(h(g,"add",this))return this;var v=this.get(g.options.event);return v&&this.remove(v),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},remove:function(g){if(h(g,"remove",this))return this;if(g=this.get(g),g){var v=this.recognizers,_=$(v,g);_!==-1&&(v.splice(_,1),this.touchAction.update())}return this},on:function(g,v){if(g!==i&&v!==i){var _=this.handlers;return p(ge(g),function(I){_[I]=_[I]||[],_[I].push(v)}),this}},off:function(g,v){if(g!==i){var _=this.handlers;return p(ge(g),function(I){v?_[I]&&_[I].splice($(_[I],v),1):delete _[I]}),this}},emit:function(g,v){this.options.domEvents&&rk(g,v);var _=this.handlers[g]&&this.handlers[g].slice();if(!(!_||!_.length)){v.type=g,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var I=0;I<_.length;)_[I](v),I++}},destroy:function(){this.element&&Kp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Kp(g,v){var _=g.element;if(_.style){var I;p(g.options.cssProps,function(U,ye){I=S(_.style,ye),v?(g.oldCssProps[I]=_.style[I],_.style[I]=U):_.style[I]=g.oldCssProps[I]||""}),v||(g.oldCssProps={})}}function rk(g,v){var _=t.createEvent("Event");_.initEvent(g,!0,!0),_.gesture=v,v.target.dispatchEvent(_)}y(Hn,{INPUT_START:Qe,INPUT_MOVE:et,INPUT_END:Fe,INPUT_CANCEL:Y,STATE_POSSIBLE:xs,STATE_BEGAN:Er,STATE_CHANGED:io,STATE_ENDED:Vn,STATE_RECOGNIZED:kn,STATE_CANCELLED:aa,STATE_FAILED:Qr,DIRECTION_NONE:Tr,DIRECTION_LEFT:x,DIRECTION_RIGHT:w,DIRECTION_UP:L,DIRECTION_DOWN:z,DIRECTION_HORIZONTAL:P,DIRECTION_VERTICAL:j,DIRECTION_ALL:V,Manager:Wc,Input:D,TouchAction:Bc,TouchInput:ks,MouseInput:At,PointerEventInput:na,TouchMouseInput:Uc,SingleTouchInput:zp,Recognizer:bn,AttrRecognizer:Dr,Tap:Ts,Pan:_s,Swipe:Yc,Pinch:Vc,Rotate:Zc,Press:Hc,on:R,off:F,each:p,merge:b,extend:m,assign:y,inherit:k,bindFn:C,prefixed:S});var nk=typeof e<"u"?e:typeof self<"u"?self:{};nk.Hammer=Hn,r.exports?r.exports=Hn:e[n]=Hn})(window,document,"Hammer")})(Tf)),Tf.exports}var tC=eC();const rC=s2(tC);function wu(r){const e=Ce(r()),t=()=>{e.value=r()};return Wi(()=>{Fr.on("languageChanged",t)}),ck(()=>{Fr.off("languageChanged",t)}),e}function nC(r,e){r.layers.map(({id:t})=>({id:t,service:e.find(({id:n})=>n===t)})).filter(t=>t.service?!0:(console.warn(`@polar/polar(core/utils/checkServiceAvailability:26:6)
`,`Service with id "${t.id}" not found in service register.`),!1)).map(({service:t})=>({ping:u4(t),serviceId:t.id,serviceName:t.name})).forEach(({ping:t,serviceId:n,serviceName:i})=>{t.then(o=>{o!==200&&(Ju("warning",()=>_t(a=>a.error.serviceUnavailable,{ns:"core",serviceId:n,serviceName:i})),console.error(`@polar/polar(core/utils/checkServiceAvailability:54:7)
`,`Ping to "${n}" returned "${o}".`))}).catch(o=>{console.error(`@polar/polar(core/utils/checkServiceAvailability:58:6)
`,o)})})}function iC(r,e){return r?[new _l,new cd]:[new _l({condition:function(){return e?this.getPointerCount()>1:!0}}),new cd({condition:fx})]}function Ef(r){const e=r.originalEvent.composedPath()[0],{tagName:t}=e;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.isContentEditable}const oC=()=>[new C0({condition:Ef}),new E0({condition:Ef})];function aC(r,e,t){if(e.get("features"))return e;const n=r.getLayers().getArray().find(o=>o.get("id")===e.get(t));if(!(n instanceof lr))throw new Error(`@polar/lib-get-cluster: The layer with the id ${t} either does not exist or is not a VectorLayer.`);const i=n.getSource().getFeatures().find(o=>o.get("features").includes(e));if(!(i instanceof Ft))throw new Error("@polar/lib-get-cluster: No cluster could be found for the given feature.");return i.set("features",[...i.get("features").filter(o=>o!==e),e]),i.set(t,e.get(t),!0),i}class ea{constructor(e,t,n){this.feature=e,this.style=t,this.isClustered=n,this.attributes={},this.legendInfos=[],this.styleMultiGeomOnlyWithRule=!1,this.nullStyle=!1}setFeature(e){this.feature=e}setStyle(e){this.style=e}getStyle(){return this.style}overwriteStyling(e){e?(this.nullStyle=!1,Object.keys(e).forEach(t=>{const n=e[t];this.attributes[t]=n})):this.nullStyle=!0}setIsClustered(e){this.isClustered=e}getLegendInfos(){return this.legendInfos}createLegendId(e,t){const n=t?.conditions?t.conditions:null;return encodeURIComponent(e+JSON.stringify(n))}createLegendLabel(e,t){if(t?.attributes?.legendValue)return t.attributes.legendValue.toString();if(e?.conditions){let n="";return e.conditions?.properties&&(n=Object.values(e.conditions.properties).join(", ")),e.conditions?.sequence&&Array.isArray(e.conditions.sequence)&&e.conditions.sequence.every(i=>typeof i=="number")&&e.conditions.sequence.length===2&&e.conditions.sequence[1]>=e.conditions.sequence[0]&&(n=n+" ("+e.conditions.sequence.join("-")+")"),n}return null}addLegendInfo(e,t,n){const{legendInfos:i}=t,o=this.createLegendId(e,n);i.some(a=>a.id===o)||this.legendInfos.push({id:o,geometryType:e,styleObject:t.attributes.type==="NOMINAL"?{attributes:t.attributes,style:t.style}:t.attributes,label:this.createLegendLabel(n,t)})}prepareField(e,t){const n=t.startsWith("@");let i=t;return n?(i=tb(e,i),typeof i>"u"&&(i="undefined")):i=Object.prototype.hasOwnProperty.call(e,t)?e[t]:"undefined",i}}const Mf={draw:[{type:"line",parameters:[[1,-.5],[-.5,1]]},{type:"line",parameters:[[1.5,0],[0,1.5]]}]},Sf={draw:[{type:"line",parameters:[[0,-.25],[.75,.5],[0,1.25]]}]},sC={diagonal:Mf,"zig-line":Sf,"diagonal-right":{...Mf,rotate:90},"zig-line-horizontal":{...Sf,rotate:90},rectangle:{draw:[{type:"rect",parameters:[[.125,.125,.25,.25],[.625,.625,.25,.25]]}]},triangle:{draw:[{type:"line",parameters:[[.25,0],[.5,.5],[0,.5],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,1],[.5,1],[.75,.5]]}]},diamond:{draw:[{type:"line",parameters:[[.25,0],[.5,.25],[.25,.5],[0,.25],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,.75],[.75,1],[.5,.75],[.75,.5]]}]},circle:{draw:[{type:"arc",parameters:[.25,.25,({size:r,lineWidth:e})=>(r-2*e)/4]},{type:"arc",parameters:[.75,.75,({size:r,lineWidth:e})=>(r-2*e)/4]}]}};function _u(r){return e=>e*r}function lC(r,e,{type:t,parameters:n}){const i=_u(e);if(r.beginPath(),t==="rect")n.forEach(o=>r.rect(...o.map(i)));else if(t==="line"){const[o,...a]=n;r.moveTo(...o.map(i)),a.forEach(s=>r.lineTo(...s.map(i)))}else if(t==="arc"){const[o,a,s,l,c,u]=n,d=typeof s=="function"?s({size:e,lineWidth:r.lineWidth}):s;r.arc(_u(e)(o),_u(e)(a),d,l||0,c||2*Math.PI,u||!1)}else{console.error(`polygonStyleHatches: Unknown segment type "${t}". Skipping segment.`);return}r.stroke()}function cC(r,e,t=90){const n=.5*e;r.translate(n,n),r.rotate(t*Math.PI/180),r.translate(-n,-n)}function uC(r,e,t){const n=typeof t=="string"?sC[t]:t;if(n){const{draw:i,rotate:o}=n;o&&cC(r,e,o),i&&i.forEach(a=>lC(r,e,a))}else console.error(`polygonStyleHatches: Unknown polygon style "${t}". Skipping hatching.`)}class Ld extends ea{constructor(){super(),this.attributes={...Hi.polygon}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.attributes.polygonFillColor,t=this.attributes.polygonFillHatch;return new Pt({stroke:new Lr({lineCap:this.attributes.polygonStrokeCap,lineJoin:this.attributes.polygonStrokeJoin,lineDash:this.attributes.polygonStrokeDash,lineDashOffset:this.attributes.polygonStrokeDashOffset,miterLimit:this.attributes.polygonStrokeMiterLimit,color:this.attributes.polygonStrokeColor,width:this.attributes.polygonStrokeWidth}),fill:new ln({color:t?this.getPolygonFillHatch(t).getContext("2d").fillStyle:e})})}getPolygonFillHatch({pattern:e="diagonal",size:t=30,lineWidth:n=10,backgroundColor:i=[0,0,0,1],patternColor:o=[255,255,255,1]}){const a=document.createElement("canvas"),s=a.getContext("2d");return a.width=t,a.height=t,s.fillStyle=`rgba(${i.join(",")})`,s.fillRect(0,0,a.width,a.height),s.lineWidth=n,s.strokeStyle=`rgba(${o.join(",")})`,uC(s,t,e),s.fillStyle=s.createPattern(a,"repeat"),a}getPolygonFillHatchLegendDataUrl(e){const t=this.getPolygonFillHatch(e.polygonFillHatch),n=vr(e.polygonStrokeColor,"hex"),i=parseInt(e.polygonStrokeWidth,10),o=e.polygonStrokeColor[3].toString()||0,a=document.createElement("canvas"),s=a.getContext("2d"),l=i/2,c=i*2;return a.width=t.width+c,a.height=t.height+c,s.drawImage(t,i,i),s.lineCap="round",s.lineJoin="round",s.strokeStyle=n,s.lineWidth=i,s.globalAlpha=o,s.strokeRect(l,l,a.width-i,a.height-i),a.toDataURL()}}const dC=new Ld,Q1="data:image/svg+xml,",X1=r=>typeof r=="string"?"":`<defs>
    <pattern id="img" patternUnits="userSpaceOnUse" x="0" y="0" width="${r.size||30}" height="${r.size||30}">
      <image href="${dC.getPolygonFillHatch(r).toDataURL()}" width="${r.size||30}" height="${r.size||30}"/>
    </pattern>
  </defs>`,hC=({fill:r,size:e,stroke:t,strokeWidth:n})=>`${Q1}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>DB6C494E-88E8-49F1-89CE-97CBEC3A5240</title>
  ${X1(r)}
  <path
    d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"
    stroke="${t}"
    stroke-width="${n}"
    fill="${typeof r=="string"?r:"url(#img)"}"
    fill-rule="nonzero"
  />
</svg>
`)}`,pC=({fill:r,clusterSize:e,stroke:t,strokeWidth:n})=>`${Q1}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>0A6F4952-4A5A-4E86-88E4-4B3D2EA1E3DF</title>
  ${X1(r)}
  <g stroke="${t}" stroke-width="${n}" fill="${typeof r=="string"?r:"url(#img)"}" fill-rule="nonzero">
    <path d="M22.584 1C15.101 1 9 7.101 9 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C36.168 7.054 30.068 1 22.584 1z"/>
    <path d="M18.584 1C11.101 1 5 7.101 5 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C32.168 7.054 26.068 1 18.584 1z"/>
    <path d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"/>
  </g>
</svg>
`)}`,gC=[.5,1],fC=r=>{const e=new Map,t=new Map;return(n,i)=>{const o=i?t:e;if(o.has(n))return o.get(n);const a=r(n,i);return o.set(n,a),o.size>1e3&&console.warn(`@polar/polar(core/utils/markers:86:4)
`,"1000+ styles have been created. This is possibly a memory leak. Please mind that the methods exported by this module are memoized. You *may* be calling the methods with constantly newly generated objects, or maybe there's just a lot of styles."),a}},mC=(r,e=!1)=>new Pt({image:new gi({src:(e?pC:hC)(r),anchor:gC})}),Rl=fC(mC),Tc=[26,36],Cc=[40,36],Ec="#FFFFFF",Mc="2",yC={clusterSize:Cc,fill:"#005CA9",size:Tc,stroke:Ec,strokeWidth:Mc},vC={clusterSize:Cc,fill:"#7B1045",size:Tc,stroke:Ec,strokeWidth:Mc},kC={clusterSize:Cc,fill:"#679100",size:Tc,stroke:Ec,strokeWidth:Mc},bC={clusterSize:Cc,fill:"#333333",size:Tc,stroke:Ec,strokeWidth:Mc};let hp=[],Id=0;function Ya(r){return hp.find(e=>e.id===r)}function pp(r){return hp.some(({id:e})=>e===r.get("id"))}function xC(r,e){return r.getLayers().getArray().find(t=>t.get("id")===e)}function wC(r,e){const t=e.get("features"),n=Ia();t.forEach(i=>Am(n,i.getGeometry()?.getExtent()||[])),r.getView().fit(n,{duration:400,padding:[80,30,80,30]})}function Ad(r,e,t=!1){const n=ns();if(n.selected?.setStyle(void 0),n.selected=null,e===null)return;const i=e.get("_polarLayerId"),o=typeof xC(r,i)?.getSource().getDistance=="function"?aC(r,e,"_polarLayerId"):e;o.setStyle(Rl(Ya(e.get("_polarLayerId")).selectionStyle,o.get("features")?.length>1)),n.selected=Pi(o),t&&Uo().centerOnFeature(n.selected)}function gp(r,e){if(e.get("_polarLayerId"))return;const t=r.getLayers().getArray().find(n=>{if(n instanceof lr){let i=n;for(;i instanceof lr||i instanceof is;)if(i=i.getSource(),i.hasFeature(e))return!0;return i.hasFeature(e)}return!1})?.get("id");t&&e.set("_polarLayerId",t,!0)}function _C(r){const e=ns(),t=e.configuration;t&&(hp=t.layers.map(n=>vt({defaultStyle:yC,hoverStyle:vC,selectionStyle:kC,unselectableStyle:bC,isSelectable:()=>!0},n)),Id=r.getView().getZoom(),r.getLayers().getArray().filter(pp).forEach(n=>{const i=n.getSource();i!==null&&(i.geometryFunction=a=>c2(a)?a.getGeometry():null);const o=Ya(n.get("id"));n.setStyle(a=>Rl(o.isSelectable(a)?o.defaultStyle:o.unselectableStyle,a.get("features")?.length>1))}),yt(()=>e.hovered,n=>{if(n!==null&&n!==on(e.selected)&&(e.hovered?.setStyle(void 0),e.hovered=null),n!==null&&n!==on(e.selected)){e.hovered=Pi(n);const i=e.hovered.get("features")?.length>1,o=Rl(Ya(n.get("_polarLayerId")).hoverStyle,i);e.hovered.setStyle(o)}}),r.on("moveend",TC),r.on("pointermove",CC),r.on("click",EC),r.on("singleclick",MC))}let J1=null;function TC({map:r}){const e=ns(),t=r.getView().getZoom();if(t!==Id&&(Id=t,e.selected)){const n=e.selected.get("features")?.[0]||e.selected;gp(r,n),Ad(r,n)}}function CC({map:r,pixel:e}){const t=ns(),n=r.getFeaturesAtPixel(e,{layerFilter:pp})[0];if(n===on(t.selected)||n instanceof dr||(on(t.hovered)!==null&&on(t.hovered)!==on(t.selected)&&(t.hovered?.setStyle(void 0),t.hovered=null),!n))return;gp(r,n);const i=Ya(n.get("_polarLayerId"));if(!i.isSelectable(n))return;const o=n.get("features")?.length>1;n.setStyle(Rl(i.hoverStyle,o)),t.hovered=Pi(n)}function EC(r){const e=ns(),t=r.map;e.selected!==null&&Ad(t,null);const n=t.getFeaturesAtPixel(r.pixel,{layerFilter:pp})[0];if(!n||n instanceof dr||(gp(t,n),!Ya(n.get("_polarLayerId")).isSelectable(n)))return;const i=n.get("features")?.length>1;J1=r,r.stopPropagation();const o=t.getView().getZoom()!==t.getView().getMaxZoom();if(e.clusterClickZoom&&i&&o){wC(t,n);return}if(e.hovered?.setStyle(void 0),e.hovered=null,Ad(t,n,!0),e.callOnMapSelect){const a=Uo(),{action:s,payload:l,pluginName:c}=e.callOnMapSelect;if(!c){a[s](l);return}const u=Jd().getPluginStore(c);if(!u){console.error(`@polar/polar(core/utils/map/setupMarkers:335:4)
`,`Plugin ${c} does not exist or is not configured or has no store module. Action ${s} could not be called.`);return}u[s](l)}}function MC(r){r.originalEvent===J1?.originalEvent&&r.stopPropagation()}function ey(r,e){if(typeof r=="object"){const{value:t,isDegree:n}=r;if(Hm(t)&&e!==void 0){const i=parseInt(Zm(e,t),10);return n?i*Math.PI/180:i}return n?parseInt(t,10)*Math.PI/180:parseInt(t,10)}return 0}function Pd(r,e,t){const n=t&&e.get("features")?.length>1,i=n?r.clusterImageName:r.imageName,o=n?r.clusterImageOffsetY:r.imageOffsetX,a=n?r.clusterImageOffsetX:r.imageOffsetY,s=n?r.clusterImageScale:r.imageScale,l=r.imagePath;let c={},u=i;return!i.startsWith("https:")&&!i.startsWith("<svg")&&(u=l+i),c={crossOrigin:"anonymous",src:u.startsWith("<svg")?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u):u,scale:s,anchor:[parseFloat(o),parseFloat(a)]},n||(c.anchorXUnits=r.imageOffsetXUnit,c.anchorYUnits=r.imageOffsetYUnit,c.rotation=e?ey(r.rotation,e.getProperties()):0),new Pt({image:new gi(c)})}function ty(r){return new Pt({image:new gi({crossOrigin:"anonymous",src:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)})})}function SC(r,e,t){const n=t&&e.get("features")?.length>1,i=parseFloat(n?r.clusterCircleRadius:r.circleRadius,10),o=n?vr(r.clusterCircleFillColor,"rgb"):vr(r.circleFillColor,"rgb"),a=n?vr(r.clusterCircleStrokeColor,"rgb"):vr(r.circleStrokeColor,"rgb"),s=parseFloat(n?r.clusterCircleStrokeWidth:r.circleStrokeWidth,10);return new Pt({image:new ah({radius:i,fill:new ln({color:o}),stroke:new Lr({color:a,width:s})}),zIndex:-1})}function LC(r){const e=parseFloat(r.rsRadius,10),t=parseFloat(r.rsRadius2,10),n=parseFloat(r.rsPoints,10),i=parseFloat(r.rsAngle,10),o=ey(r.rotation),a=r.rsScale,s=vr(r.rsFillColor,"rgb"),l=vr(r.rsStrokeColor,"rgb"),c=parseFloat(r.rsStrokeWidth,10);return new Pt({image:new r2({radius:e,radius2:t,points:n,scale:a,rotation:o,angle:i,fill:new ln({color:s}),stroke:new Lr({color:l,width:c})})})}function IC(r,e,t,n){let i=n*2;return r*e+t>=i&&(i=i+r*e+t),i}function AC(r,e,t,n){let i;return t>=0?i=r/2-e-t*n:t<0?i=r/2+e-t*n:i=0,i}function PC(r,e,t,n,i,o,a,s){let l="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return l=l+"<line x1='"+r/2+"' y1='"+r/2+"' x2='"+r/2+"' y2='"+e+"' stroke='"+o+"' stroke-width='"+a+"' />",l=l+"<circle cx='"+r/2+"' cy='"+r/2+"' r='"+s+"' stroke='"+n+"' stroke-width='"+i+"' fill='"+t+"' />",l=l+"</svg>",l}function NC(r,e){const t=parseFloat(e.circleBarScalingFactor),n=parseFloat(e.circleBarRadius,10),i=parseFloat(e.circleBarLineStroke,10),o=vr(e.circleBarCircleFillColor,"hex"),a=vr(e.circleBarCircleStrokeColor,"hex"),s=e.circleBarCircleStrokeWidth,l=vr(e.circleBarLineStrokeColor,"hex"),c=r.getProperties(),u=Wa.prototype.prepareField(c,e.scalingAttribute),d=u==="undefined"?void 0:u,h=d!==void 0&&d.indexOf(" ")!==-1?d.split(" ")[0]:d,p=IC(h,t,i,n),f=AC(p,n,h,t);return Wa.prototype.setSize(p),PC(p,f,o,a,s,l,i,n)}function DC(r,e){const t=e.scalingShape.toUpperCase(),n=t==="CIRCLE_BAR"?NC(r,e):"";return ty(n)}function OC(r,e,t,n,i){const o=r/2;let a="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return a=a+"<circle cx='"+o+"' cy='"+o+"' r='"+e+"' stroke='"+t+"' stroke-width='"+n+"' fill='"+t+"' fill-opacity='"+i+"'/>",a}function RC(r,e){const t=r===void 0||Object.keys(r).length===0?{empty:0}:r;let n=e;return n===void 0||(n=n.split(" | "),n.forEach(function(i){Object.prototype.hasOwnProperty.call(t,i)?t[i]=t[i]+1:t.empty=t.empty+1})),t}function FC(r){const e={};let t;if(r!==void 0)for(t in r)e[t]=0;return e.empty=0,e}function jC(r,e,t,n,i){const o=Math.PI/180,a=n/2,s=r===0&&e===360,l=s?e/2:e,c=s?0:i,u=(r+c/2)*o,d=(l-c/2)*o,h=a+Math.cos(u)*t,p=a-Math.sin(u)*t,f=a+Math.cos(d)*t,y=a-Math.sin(d)*t;return s?["M",h,p,"A",t,t,0,0,0,f,y,"A",t,t,0,0,0,h,p].join(" "):["M",h,p,"A",t,t,0,0,0,f,y].join(" ")}function qC(r,e,t,n){return r+"<path fill='none' stroke-width='"+e+"' stroke='"+t+"' d='"+n+"'/>"}function zC(r,e){const t=parseFloat(e.circleSegmentsRadius,10),n=parseFloat(e.circleSegmentsStrokeWidth,10),i=e.circleSegmentsBackgroundColor,o=Array.isArray(i)&&i[i.length-1],a=vr(e.circleSegmentsBackgroundColor,"hex"),s=vr(e.scalingValueDefaultColor,"hex"),l=e.scalingValues,c=FC(l),u=r.get(e.scalingAttribute),d=RC(c,u),h=Object.values(d).reduce(function(le,oe){return le+oe},0),p=h>=0?360/h:360,f=parseFloat(e.circleSegmentsGap,10);let y=10,m=0,b=p,k,C,T,E,R,F;(t+n)*2>=y&&(y=y+(t+n)*2),Wa.prototype.setSize(y),k=OC(y,t,a,n,o);for(R in d)for(F=d[R],l!==void 0&&R!=="empty"?T=vr(l[R],"hex"):T=s,E=0;E<F;E++)C=jC(m,b,t,y,f),k=qC(k,n,T,C),m=m+p,b=b+p;return k=k+"</svg>",k}function $C(r,e,t){const n=Array.isArray(e.get("features"))?e.get("features")[0]:e,i=r.scalingShape.toUpperCase(),o=r.imageName;let a,s,l;return i==="CIRCLESEGMENTS"&&(a=zC(n,r),s=ty(a),s.type="CIRCLESEGMENTS",s.scalingAttribute=n.get(r.scalingAttribute)),o!==t&&(l=Pd(r,e),l.type="imageStyle",s=[s,l]),s}class Wa extends ea{constructor(){super(),this.attributes={...Hi.point}}initialize(e,t,n,i){i!==void 0?this.setImagePath(i):console.warn("wfsImgPath at Config.js is not defined"),this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered;let t=this.attributes.type.toLowerCase();return e&&this.feature.get("features")?.length>1&&(t=this.attributes.clusterType.toLowerCase()),t==="icon"?Pd(this.attributes,this.feature,e):t==="circle"?SC(this.attributes,this.feature,e):t==="nominal"?e?Pd(this.attributes,this.feature,e):$C(this.attributes,this.feature,Hi.point.imageName):t==="interval"?DC(this.feature,this.attributes):t==="regularshape"?LC(this.attributes):new Pt}setCircleSegmentsBackgroundColor(e){this.attributes.circleSegmentsBackgroundColor=e}setSize(e){this.size=e}getSize(){return this.size}setImagePath(e){this.attributes.imagePath=e}}class UC extends ea{constructor(){super(),this.attributes={...Hi.text}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered,t=this.feature,n=this.attributes.labelField;return e&&t.get("features")?.length>1&&this.attributes.clusterTextType!=="none"?this.createClusteredTextStyle():n?this.createLabeledTextStyle():new nl}getRotationValue(e,t){if(typeof e=="object"){const{value:n,isDegree:i}=e;if(Hm(n)&&t!==void 0){const o=parseInt(Zm(t,n),10);return i?o*Math.PI/180:o}return i?parseInt(n,10)*Math.PI/180:parseInt(n,10)}return 0}createClusteredTextStyle(){const e=this.feature;let t;return this.attributes.clusterTextType==="counter"?t=e.get("features").length.toString():this.attributes.clusterTextType==="text"&&typeof this.attributes.clusterText=="string"?t=this.attributes.clusterText:t="undefined",new nl({text:t,textAlign:this.attributes.clusterTextAlign,offsetX:this.attributes.clusterTextOffsetX,offsetY:this.attributes.clusterTextOffsetY,font:this.attributes.clusterTextFont,scale:this.attributes.clusterTextScale,fill:new ln({color:this.attributes.clusterTextFillColor}),stroke:new Lr({color:this.attributes.clusterTextStrokeColor,width:this.attributes.clusterTextStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,e.getProperties())})}createLabeledTextStyle(){const e=this.feature,t=e.getProperties(),n=this.attributes.textSuffix;let i=Ib(t,this.attributes.labelField,!1)??"";return n!==""&&(i=i+" "+n),new nl({text:i.toString(),textAlign:this.attributes.textAlign,offsetX:this.attributes.textOffsetX,offsetY:this.attributes.textOffsetY,font:this.attributes.textFont,scale:this.attributes.textScale,fill:new ln({color:this.attributes.textFillColor}),stroke:new Lr({color:this.attributes.textStrokeColor,width:this.attributes.textStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,t)})}}class Lf extends ea{constructor(){super(),this.attributes={...Hi.line}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){return this.nullStyle?null:new Pt({stroke:new Lr({lineCap:this.attributes.lineStrokeCap,lineJoin:this.attributes.lineStrokeJoin,lineDash:this.attributes.lineStrokeDash,lineDashOffset:this.attributes.lineStrokeDashOffset,miterLimit:this.attributes.lineStrokeMiterLimit,color:this.attributes.lineStrokeColor,width:this.attributes.lineStrokeWidth})})}}class If extends ea{constructor(){super(),this.attributes={...Hi.circle}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=new ln({color:this.attributes.circleFillColor}),t=new Lr({color:this.attributes.circleStrokeColor,width:this.attributes.circleStrokeWidth});return new Pt({image:new ah({fill:e,stroke:t,radius:0}),fill:e,stroke:t})}}class GC extends ea{constructor(){super(),this.attributes={...Hi.point},this.conditions=[]}initialize(e){this.overwriteStyling(e.style),this.setConditions(e.conditions),this.setStyle(this.createStyle())}createStyle(){return this.createCondition(this.attributes.conditions,this.style)}createCondition(e,t){const n=t?.color||this.attributes.color,i=[];let o;return e&&Object.keys(e).length>0?(Object.keys(e).forEach(a=>{const s=e[a];i.push([a,s])}),o=[this.createCesiumConditionForRule(i),n]):o=["true",n],o}createCesiumConditionForRule(e){let t=[],n="";return e.forEach(i=>{const o="${"+i[0]+"}";let a=i[1],s,l;Array.isArray(a)?(s=a[0],l=a[1],n="("+o+" > "+s+" && "+o+" <= "+l+")"):(typeof a=="string"&&(a="'"+a+"'"),n="("+o+" === "+a+")"),t.push(n)}),t="("+t.join(" && ")+")",t}setConditions(e){this.attributes.conditions=e}}const ka=[];let Nd=0;function ba(r){return r==="MultiPoint"||r==="MultiLineString"||r==="MultiPolygon"||r==="GeometryCollection"||r==="cesium"}function So(r,e,t,n,i){const o=t?.style,a=o?o.legendValue:null;let s,l=null;if(e&&(e.legendValue=a||null),r==="Point")s=new Wa(e,o,n),n&&(l=new Wa(e,o,!1));else if(r==="LineString")s=new Lf(e,o,n),n&&(l=new Lf(e,o,!1));else if(r==="Polygon")s=new Ld(e,o,n),n&&(l=new Ld(e,o,!1));else{if(r==="cesium")return s=new GC(t),s.initialize(t),s.addLegendInfo("cesium",s,t),s.legendValue=a,s;if(r==="Circle")s=new If(e,o,n),n&&(l=new If(e,o,!1));else return r==="LinearRing"?(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Pt):(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Pt)}return l!==null&&(l.initialize(e,o,!1,i),l.legendValue=a),s.initialize(e,o,n,i),s.addLegendInfo(r,l===null?s:l,t),s.legendValue=a,s}function Dd(r,e,t,n,i){const o=[];let a=[];if(typeof e=="object")r==="MultiPoint"?a=e.getGeometry().getPoints():r==="MultiLineString"?a=e.getGeometry().getLineStrings():r==="MultiPolygon"?a=e.getGeometry().getPolygons():r==="GeometryCollection"&&(a=e.getGeometry().getGeometries()),a.forEach((s,l)=>{const c=s.getType(),u=t?Sb(t,l):void 0,d=So(c,e,u,n,i);ba(c)?console.warn("Multi encapsulated multiGeometries are not supported."):(!d.styleMultiGeomOnlyWithRule||u)&&(d.getStyle()?.setGeometry(s),o.push(d))});else if(r==="cesium")t.forEach(s=>{const l=So(r,e,s,n,i);o.push(l)});else{const s=So(r,e,t,n,i);s.getStyle()?.setGeometry(r),o.push(s)}return o}function ry(r,e,t,n){const i=r?r.getGeometry().getType():"cesium";return!ba(i)&&Object.prototype.hasOwnProperty.call(e,0)&&Object.prototype.hasOwnProperty.call(e[0],"style")?So(i,r,e[0],t,n):ba(i)&&e.length>0&&e.every(o=>o?.style)?Dd(i,r,e,t,n):(console.warn("No valid styling rule found. Falling back to defaults"),ba(i)?Dd(i,r,void 0,t,n):So(i,r,void 0,t,n))}function Od(r,e,t){const n=new UC(r,e,t);return n.initialize(r,e,t),n.getStyle()}function Af(r,e){let t=ka.find(n=>n.id===r);if(t||(t={id:r,legendInformation:[]},ka.push(t)),r==="default"&&t.legendInformation!==e)t.legendInformation=e,Nd=e.length;else if(!t.legendInformation.find(n=>n.label===e[0].label)){t.legendInformation.push(e[0]);const n=new CustomEvent("legendCaptured");n.id=t.id,this instanceof EventTarget&&typeof this.dispatchEvent=="function"&&this.dispatchEvent(n)}}function BC(r,e,t,n){const i=Mb(r,e),o=Array.isArray(i)&&i.length>0?i[0].style:null,a=o?.labelField,s=ry(e,i,t,n),l=Array.isArray(s)?s[0].legendInfos:s.legendInfos;let c=null;if(Array.isArray(s)?(c=[],s.forEach(u=>{u.getStyle()!==null&&c.push(u.getStyle())})):c=s.getStyle(),Array.isArray(s)&&s.length>1)for(const u in s)Af(r.styleId,s[u].legendInfos);else Af(r.styleId,l);return c!==null&&(t||a)&&(Array.isArray(c)?c[0].setText(Od(e,o,t)):c.setText(Od(e,o,t))),(e?.getGeometry().getType()==="Point"||e?.getGeometry().getType()==="MultiPoint")&&e.setStyle(c),c}async function VC(r){return new Promise(function(e){const t=ka.find(n=>n.id===r);t&&(r.id!=="default"||t.legendInformation.length===Nd)&&e(t),this&&this.addEventListener("legendCaptured",n=>{n.id===r&&n.id!=="default"?e(ka.find(i=>i.id===n.id)):t&&t.legendInformation.length===Nd&&e(ka.find(i=>i.id===n.id))},!1)})}const HC={isMultiGeometry:ba,getSimpleGeometryStyle:So,getMultiGeometryStyle:Dd,getGeometryStyle:ry,getLabelStyle:Od,createStyle:BC,returnLegendByStyleId:VC},ZC=()=>{};async function YC(r,e,t){if(e.featureStyles&&Array.isArray(t)){await tg.initializeStyleList({},{styleConf:e.featureStyles},e.layers.map(i=>{const o=t.find(a=>a.id===i.id);return o?{...i,typ:o.typ}:i}),[],ZC);const n=e.markers?e.markers.layers.map(({id:i})=>i):[];r.getLayers().getArray().filter(i=>typeof i.get("styleId")=="string"&&!n.includes(i.get("id"))).forEach(i=>{const o=tg.returnStyleObject(i.get("styleId"));o&&i.setStyle(a=>HC.createStyle(o,a,a.get("features")!==void 0,""))})}}let Tu=[];function Pf(r,e,t){for(const n of Tu)r.removeInteraction(n);Tu=iC(e,t);for(const n of Tu)r.addInteraction(n)}const WC={key:0,class:"polar-map-overlay"},KC=Le({__name:"PolarMapOverlay.ce",setup(r,{expose:e}){const t=Ce(""),n=Ce(null),i=Ce(null),o=Ce(null);function a(){n.value&&n.value(),t.value="",i.value&&i.value(),o.value&&clearTimeout(o.value)}function s(l,c=null,u=2e3){n.value=yt(l,d=>{t.value=d},{immediate:!0}),c&&(i.value=yt(c,d=>{d||a()},{immediate:!0})),u>0&&(o.value=setTimeout(a,u))}return e({show:s,hide:a}),(l,c)=>(N(),Te(uk,{name:"fade"},{default:Ir(()=>[t.value?(N(),ee("div",WC,qe(t.value),1)):Ye("",!0)]),_:1}))}}),QC=".polar-map-overlay[data-v-e3473669]{position:absolute;display:flex;justify-content:center;align-items:center;width:inherit;height:inherit;z-index:42;font-size:var(--kern-typography-font-size-static-large);text-align:center;color:#fff;background-color:#00000073;pointer-events:none}.fade-enter-active[data-v-e3473669],.fade-leave-active[data-v-e3473669]{transition:opacity .5s}.fade-enter[data-v-e3473669],.fade-leave-to[data-v-e3473669]{opacity:0}",XC=Ke(KC,[["styles",[QC]],["__scopeId","data-v-e3473669"]]),JC=["aria-label"],eE=Le({__name:"PolarMap.ce",setup(r){const e=Uo(),{hasWindowSize:t,hasSmallDisplay:n,center:i,zoom:o}=ct(e),a=pi("polar-map-container"),s=pi("polar-map-overlay");function l(){i.value=e.map.getView().getCenter()||i.value,o.value=e.map.getView().getZoom()||o.value}function c(){e.map=J4.map.createMap({target:a.value,extent:void 0,...e.configuration,layerConf:e.serviceRegister},"2D",{mapParams:{interactions:Mh({altShiftDragRotate:!1,pinchRotate:!1,dragPan:!1,mouseWheelZoom:!1,keyboard:!1})}}),e.map.on("moveend",l),Pf(e.map,t.value,n.value),oC().forEach(m=>{e.map.addInteraction(m)}),y()}yt(t,m=>{Pf(e.map,m,n.value)}),yt(i,m=>{e.map.getView().animate({center:m,duration:400,easing:Xi})}),yt(o,m=>{e.map.getView().setZoom(m)});const u=navigator.userAgent.indexOf("Mac")!==-1,d=wu(()=>_t(m=>m.overlay.noCommandOnZoom,{ns:"core"})),h=wu(()=>_t(m=>m.overlay.noControlOnZoom,{ns:"core"}));function p(m){if(t.value||!s.value)return;const b=Q(()=>!t.value);u&&!m.metaKey?s.value.show(d,b):!u&&!m.ctrlKey&&s.value.show(h,b)}Wi(async()=>{c(),e.configuration.checkServiceAvailability&&nC(e.configuration,e.serviceRegister),e.configuration.markers&&_C(e.map),await YC(e.map,e.configuration,e.serviceRegister)});const f=wu(()=>_t(m=>m.overlay.oneFingerPan,{ns:"core"}));function y(){!t.value&&a.value&&e.hasSmallDisplay&&new rC(a.value).on("pan",m=>{s.value&&m.maxPointers===1&&e.map.getInteractions().getArray().some(b=>b.get("_isPolarDragLikeInteraction"))&&s.value.show(f)})}return yt(t,y),(m,b)=>(N(),ee(lt,null,[Pr(XC,{ref:"polar-map-overlay"},null,512),se("div",{ref:"polar-map-container",class:"polar-map",tabindex:"0",role:"region","aria-label":m.$t(k=>k.canvas.label,{ns:"core"}),onWheel:p},null,40,JC)],64))}}),tE=':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}',rE=".polar-map[data-v-abb3f9c5]{width:100%;height:100%}",nE=Ke(eE,[["styles",[tE,rE]],["__scopeId","data-v-abb3f9c5"]]);var ny=(r=>(r.TOP_LEFT="top-left top left layout-region",r.TOP_MIDDLE="top-mid mid top layout-region",r.TOP_RIGHT="top-right top right layout-region",r.MIDDLE_LEFT="mid-left mid left layout-region",r.MIDDLE_MIDDLE="mid-mid mid layout-region",r.MIDDLE_RIGHT="mid-right mid right layout-region",r.BOTTOM_LEFT="bottom-left bottom left layout-region",r.BOTTOM_MIDDLE="bottom-mid mid bottom layout-region",r.BOTTOM_RIGHT="bottom-right bottom right layout-region",r))(ny||{});const iE=Le({__name:"NineLayout.ce",setup(r){const e=Object.entries(ny),t=Uo(),{hasWindowSize:n}=ct(t),i=Jd(),o=Q(()=>e.reduce((a,[s])=>({...a,[s]:i.plugins.filter(({id:l,independent:c,options:u})=>{if(u?.displayComponent&&!u.layoutTag)return console.warn(`@polar/polar(core/components/layouts/NineLayout.ce.vue?vue&type=script&setup=true&lang:30:7)
`,`@polar/polar(core/components/layouts/NineLayout.ce:38:7)
`,`Component of plugin "${l}" was registered as visible ('displayComponent' had a truthy value), but no 'layoutTag' was associated. This may be an error in configuration and will lead to the component not being visible in the UI.`),!1;const d=typeof u?.displayComponent=="boolean"?u.displayComponent:!1;return typeof c=="boolean"?d&&c:d}).filter(({options:l})=>l?.layoutTag===s)}),{}));return(a,s)=>(N(!0),ee(lt,null,Lt(M(e),([l,c],u)=>(N(),ee("div",{key:u,class:it([{[c]:!0,"has-window-size":M(n)},"layout-region"])},[(N(!0),ee(lt,null,Lt(o.value[l],(d,h)=>(N(),Te(Qt(d.component),{key:`${u}-${h}`}))),128))],2))),128))}}),oE=".layout-region{&[data-v-bf916003]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;max-width:100%}&[data-v-bf916003]>*{pointer-events:all}&.has-window-size[data-v-bf916003]{max-height:100%}&.mid[data-v-bf916003]{inset:33%}&.left[data-v-bf916003]{left:0;right:auto;align-items:flex-start}&.right[data-v-bf916003]{right:0;left:66%;align-items:flex-end}&.top[data-v-bf916003]{top:0;justify-content:flex-start}&.bottom[data-v-bf916003]{bottom:0;justify-content:flex-end}}",aE=Ke(iE,[["styles",[oE]],["__scopeId","data-v-bf916003"]]),sE=Le({__name:"StandardLayout.ce",setup(r){const e=Jd(),t=Q(()=>e.plugins.filter(({component:n,independent:i})=>n&&(typeof i=="boolean"?i:!0)));return(n,i)=>(N(!0),ee(lt,null,Lt(t.value,({component:o,id:a},s)=>(N(),ee("div",{key:`${a}-${s}`,class:"layout"},[(N(),Te(Qt(o)))]))),128))}}),lE=".layout[data-v-14621b9a]{pointer-events:all}",cE=Ke(sE,[["styles",[lE]],["__scopeId","data-v-14621b9a"]]),uE=Le({__name:"PolarUI.ce",setup(r){const e=Uo(),{hasWindowSize:t}=ct(e),n=Q(()=>e.layout==="standard"?cE:e.layout==="nineRegions"?aE:e.layout);return(i,o)=>(N(),ee("div",{class:it(["polar-ui",{"polar-shadow":!M(t)}])},[(N(),Te(Qt(n.value)))],2))}}),dE='.polar-ui[data-v-94b8d84c]{position:absolute;inset:0;pointer-events:none;width:100%;height:100%}.polar-shadow{&[data-v-94b8d84c]:before{content:"";position:absolute;box-shadow:inset 0 1px 1px #35395680,inset 0 1px 2px #35395680,inset 0 1px 6px #6e759780;inset:0;z-index:1;border-radius:var(--kern-metric-border-radius-large);pointer-events:none}}',hE=Ke(uE,[["styles",[dE]],["__scopeId","data-v-94b8d84c"]]),pE=["lang","data-kern-theme"],gE=Le({inheritAttrs:!1,__name:"PolarContainer.ce",props:{mapConfiguration:{type:Object},serviceRegister:{type:Array}},setup(r,{expose:e}){ak(h=>({v62ab46c2:M(n).configuration.theme?.brandColor?.l,v62ab46d4:M(n).configuration.theme?.brandColor?.c,v62ab46ca:M(n).configuration.theme?.brandColor?.h}));const t=r;e();const n=Uo(),{hasSmallWidth:i,hasWindowSize:o,language:a}=ct(n);n.configuration=vt(n.configuration,g4(t.mapConfiguration)),n.configuration.colorScheme&&(n.colorScheme=n.configuration.colorScheme),n.configuration.oidcToken&&(n.oidcToken=n.configuration.oidcToken),n.configuration.locales&&n.configuration.locales.forEach(h=>{Object.entries(h.resources).forEach(([p,f])=>{Fr.addResourceBundle(h.type,p,f,!0,!0)})}),n.configuration.language&&Fr.changeLanguage(n.configuration.language).catch(h=>{console.error(`@polar/polar(core/components/PolarContainer.ce.vue?vue&type=script&setup=true&lang:85:4)
`,`@polar/polar(core/components/PolarContainer.ce:84:4)
`,"Failed to set initial language:",h)}),n.serviceRegister=t.serviceRegister,n.language=Fr.language,Fr.on("languageChanged",h=>{n.language=h}),yt(()=>n.language,async h=>{Fr.language!==h&&await Fr.changeLanguage(h)});const s=pi("polar-wrapper");let l=null;const{isActive:c}=ct(qm()),u=Ce(0);yt(c,()=>u.value+=1);function d(){n.clientHeight=s.value.clientHeight,n.clientWidth=s.value.clientWidth}return Wi(()=>{n.lightElement=sk(),n.shadowRoot=lk(),p4(n.shadowRoot,n.configuration.theme?.kern||{}),n.setup(),l=new ResizeObserver(d),l.observe(s.value),d(),n.lightElement.store=We()}),Hl(()=>{l instanceof ResizeObserver&&(l.unobserve(s.value),l=null),n.teardown()}),(h,p)=>(N(),ee("div",{ref:"polar-wrapper",class:"polar-wrapper",lang:M(a),"data-kern-theme":M(n).colorScheme},[Pr(nE),Pr(hE),M(c)&&M(o)&&M(i)?(N(),Te(v4,{key:u.value})):Ye("",!0)],8,pE))}}),fE=":host{--brand-color-l: var(--v62ab46c2);--brand-color-c: var(--v62ab46d4);--brand-color-h: var(--v62ab46ca);--polar-shadow-color: 0deg 0% 63%;--polar-shadow: 0 .5px .5px hsl(var(--polar-shadow-color) / .43), 0 1.5px 1.6px -1px hsl(var(--polar-shadow-color) / .4), 0 4px 4.2px -2px hsl(var(--polar-shadow-color) / .36), -.1px 10.1px 10.6px -3px hsl(var(--polar-shadow-color) / .32)}@layer polar-map{:host{display:block;width:100%;height:30em;border-radius:var(--kern-metric-border-radius-large);overflow:hidden;box-sizing:border-box}}",mE=".polar-wrapper[data-v-cf4d0708]{position:relative;height:100%;width:100%}",yE=Ke(gE,[["styles",[fE,mE]],["__scopeId","data-v-cf4d0708"]]),{slice:vE,forEach:kE}=[];function bE(r){return kE.call(vE.call(arguments,1),e=>{if(e)for(const t in e)r[t]===void 0&&(r[t]=e[t])}),r}function xE(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(r))}const Nf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,wE=function(r,e){const t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${r}=${n}`;if(t.maxAge>0){const o=t.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(t.domain){if(!Nf.test(t.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${t.domain}`}if(t.path){if(!Nf.test(t.path))throw new TypeError("option path is invalid");i+=`; Path=${t.path}`}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t.partitioned&&(i+="; Partitioned"),i},Df={create(r,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=wE(r,e,i)},read(r){const e=`${r}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var _E={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return Df.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&Df.create(t,r,n,i,o)}},TE={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const a=i[o].indexOf("=");a>0&&i[o].substring(0,a)===e&&(t=i[o].substring(a+1))}}return t}},CE={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:t}=r,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(e){const a=o.split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(n=a[s].substring(l+1))}}if(n)return n;if(!n&&t>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let lo=null;const Of=()=>{if(lo!==null)return lo;try{if(lo=typeof window<"u"&&window.localStorage!==null,!lo)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{lo=!1}return lo};var EE={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&Of())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:t}=e;t&&Of()&&window.localStorage.setItem(t,r)}};let co=null;const Rf=()=>{if(co!==null)return co;try{if(co=typeof window<"u"&&window.sessionStorage!==null,!co)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{co=!1}return co};var ME={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&Rf())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:t}=e;t&&Rf()&&window.sessionStorage.setItem(t,r)}},SE={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},LE={name:"htmlTag",lookup(r){let{htmlTag:e}=r,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},IE={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},AE={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let iy=!1;try{document.cookie,iy=!0}catch{}const oy=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];iy||oy.splice(1,1);const PE=()=>({order:oy,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class ay{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=bE(t,this.options||{},PE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(_E),this.addDetector(TE),this.addDetector(EE),this.addDetector(ME),this.addDetector(SE),this.addDetector(LE),this.addDetector(IE),this.addDetector(AE),this.addDetector(CE)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!xE(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}ay.type="languageDetector";const sy=Symbol();function NE(r,{i18next:e,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:n="{",slotEnd:i="}"}){const o=ok(new Date),a=()=>Yi(()=>{o.value=new Date}),s=()=>o.value;t.forEach(u=>{switch(u){case"added":case"removed":e.store?.on(u,a);break;default:e.on(u,a);break}}),r.component("i18next",RE);const l=()=>e.isInitialized;r.config.globalProperties.$t=Ff(e.t.bind(e),s,l);const c=new Proxy(e,{get(u,d){return s(),Reflect.get(u,d)}});r.config.globalProperties.$i18next=c,r.provide(sy,{i18next:c,slotPattern:OE(n,i),withAccessRecording(u,d){return Ff(u,s,d)}})}function Ff(r,e,t){return new Proxy(r,{apply:function(n,i,o){return e(),t()?Reflect.apply(n,i,o):""}})}function DE(){const r=ym(sy);if(!r)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return r}function OE(r,e){const t=`${r}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(t,"gi")}const RE=Le({props:{translation:{type:String,required:!0}},setup(r,{slots:e}){const{slotPattern:t}=DE();return()=>{const n=r.translation,i=[];let o,a=0;for(;(o=t.exec(n))!==null;){i.push(n.substring(a,o.index));const s=e[o[1]];s?i.push(...s()):i.push(o[0]),a=t.lastIndex}return i.push(n.substring(a)),i}}}),FE={canvas:{label:"Kartenanwendung"},error:{serviceUnavailable:'Der Kartendienst "{{serviceName}}" (ID: {{serviceId}}) ist derzeit nicht verfgbar. Dies kann die Funktionalitt der Karte einschrnken.'},overlay:{noControlOnZoom:"Verwenden Sie Strg+Scrollen zum Zoomen der Karte",noCommandOnZoom:"Verwenden Sie Command  + Scrollen zum Zoomen der Karte",oneFingerPan:"Verwenden Sie mindestens zwei Finger zum Verschieben der Karte"}},jE={canvas:{label:"Map application"},error:{serviceUnavailable:`Service  "{{serviceName}}" (ID: {{serviceId}}) is unavailable. This may limit the map's functionality.`},overlay:{noControlOnZoom:"Use Ctrl+Mousewheel to zoom into the map",noCommandOnZoom:"Use Command  + Mousewheel to zoom into the map",oneFingerPan:"Use at least two fingers to pan the map"}},Cu=[{type:"de",resources:FE},{type:"en",resources:jE}],qE="core",zE={async install(r){r.use(NE,{i18next:Fr}),Fr.use(ay);try{await Fr.init({resources:Object.fromEntries(Cu.map(({type:e,resources:t})=>[e,{core:t}])),detection:{lookupQuerystring:"lng",order:["querystring","navigator","htmlTag"]},load:"languageOnly",fallbackLng:Cu[0]?.type,ns:[qE],supportedLngs:Cu.map(({type:e})=>e)}),console.info(`@polar/polar(core/vuePlugins/i18next:32:4)
`,"Successfully initialized i18next.")}catch(e){console.error(`@polar/polar(core/vuePlugins/i18next:34:4)
`,"Error while initializing:",e)}}};function $E({store:r}){}function UE({pinia:r,store:e}){e._instance=r}const GE={install(r){const e=Zb();e.use(UE),e.use($E),r.use(e)}},ly=/{(?<key>[^=]+)=(?<value>[^}]+)}/gm;function BE(r,e){const t={},n=e.replaceAll(ly,(i,o,a)=>(t[o]=a,""));fetch(n,{method:"GET",headers:t}).then(i=>i.ok?i.blob():i.text().then(o=>{throw new Error(o)})).then(i=>{r.getImage().src=URL.createObjectURL(i)}).catch(i=>{console.error(`@polar/polar(core/monkeyHeaderLoader:32:4)
`,i)})}const VE=fi.prototype.addLayer;fi.prototype.addLayer=function(...r){VE.call(this,...r),fi.prototype.getLayers.call(this).getArray().forEach(e=>{if(!(e instanceof ro))return;const t=e.getSource();t.urls?.some(n=>ly.test(n))&&typeof t.setTileLoadFunction=="function"&&(t.setTileLoadFunction(BE),e.setSource(t))})};async function HE(r){return await new Promise(e=>yi.initializeLayerList(r,e))}function ZE(r,e){const t=document.createElement("polar-map");return t.mapConfiguration=r,t.serviceRegister=e,t}async function UP(r,e,t){customElements.get("polar-map")||KE(),typeof t=="string"&&(t=await HE(t));const n=ZE(e,t),i=document.getElementById(r);if(!i)throw new Error(`Container with ID '${r}' not found`);return n.id=i.id,i.classList.forEach(o=>n.classList.add(o)),i.replaceWith(n),n}function GP(r,e){e.forEach(t=>{YE(r,t)})}function YE(r,e){r.store.addPlugin(e)}function BP(r,e){r.store.removePlugin(e)}function cy(r,e){return e==="core"?r.store:r.store.getPluginStore(e)}function VP(r,e,t,n,i){const o=cy(r,e);return yt(()=>o[t],n,{immediate:!0,...i})}function HP(r,e,t,n){const i=cy(r,e);i[t]=n}const WE=ik(yE,{configureApp(r){r.use(GE),r.use(zE)}});function KE(){customElements.define("polar-map",WE)}const QE={class:"kern-card kern-card--small",tabindex:"-1"},XE={class:"kern-card__container"},JE=Le({__name:"PolarCard.ce",setup(r){return(e,t)=>(N(),ee("article",QE,[se("div",XE,[Yd(e.$slots,"default",{},void 0,!0)])]))}}),eM=".kern-card{&[data-v-c47f4fca]{height:auto;min-width:25rem;border-radius:var(--kern-metric-border-radius-large);box-shadow:var(--polar-shadow)}.kern-card__container[data-v-c47f4fca]{padding:var(--kern-metric-space-small);padding-bottom:.625rem}}",Sc=Ke(JE,[["styles",[eM]],["__scopeId","data-v-c47f4fca"]]),tM={class:"kern-form-input"},rM=["for"],nM=["id","aria-label","disabled","required","multiple","value"],iM={key:0,value:""},oM=["value","aria-label"],aM=Le({__name:"PolarSelect.ce",props:{label:{default:"",type:String},ariaLabel:{default:void 0,type:String},defaultLabel:{default:"",type:String},value:{type:[String,Array]},options:{type:Array},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},small:{type:Boolean,default:!1},id:{default:"",type:String}},emits:["update:value"],setup(r,{emit:e}){const t=r,n=ts(),i=Q(()=>t.id||n),o=e;function a(s){const l=s.target;if(t.multiple){const c=Array.from(l.selectedOptions).map(u=>u.value);o("update:value",c)}else o("update:value",l.value)}return(s,l)=>(N(),ee("div",tM,[r.label?(N(),ee("label",{key:0,class:"kern-label",for:i.value},qe(r.label),9,rM)):Ye("",!0),se("div",{class:it(["kern-form-input__select-wrapper",r.small?"small":""])},[se("select",{id:i.value,class:"kern-form-input__select","aria-label":r.ariaLabel,disabled:r.disabled,required:r.required,multiple:r.multiple,value:r.value,onChange:a},[r.defaultLabel?(N(),ee("option",iM,qe(r.defaultLabel),1)):Ye("",!0),(N(!0),ee(lt,null,Lt(r.options,({value:c,label:u,ariaLabel:d})=>(N(),ee("option",{key:c,value:c,"aria-label":d},qe(u),9,oM))),128))],40,nM)],2)]))}}),sM=".kern-form-input__select-wrapper.small{&[data-v-f13e0d28]{height:var(--kern-metric-dimension-default)}.kern-form-input__select[data-v-f13e0d28]{padding-top:0;padding-bottom:0}&[data-v-f13e0d28]:after{position:absolute;top:50%;transform:translateY(-50%)}&[data-v-f13e0d28]:hover:not(:focus-within):after{top:calc(50% + calc(calc(var(--kern-metric-border-width-bold) - var(--kern-metric-border-width-default)) / 2))}}",uy=Ke(aM,[["styles",[sM]],["__scopeId","data-v-f13e0d28"]]);function dy(r,e,{signal:t,edges:n}={}){let i,o=null;const a=n!=null&&n.includes("leading"),s=n==null||n.includes("trailing"),l=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},c=()=>{s&&l(),p()};let u=null;const d=()=>{u!=null&&clearTimeout(u),u=setTimeout(()=>{u=null,c()},e)},h=()=>{u!==null&&(clearTimeout(u),u=null)},p=()=>{h(),i=void 0,o=null},f=()=>{l()},y=function(...m){if(t?.aborted)return;i=this,o=m;const b=u==null;d(),a&&b&&l()};return y.schedule=d,y.cancel=p,y.flush=f,t?.addEventListener("abort",p,{once:!0}),y}function lM(r){const e=r.map(parseFloat),t=[];for(;e.length;)t.push(e.splice(0,2));return t}function cM(r,e,t={}){r.getView().fit(e,t)}function uM(r,e,t={}){let n;switch(e.geometry.type){case"Polygon":n=new Zr([lM(e.geometry.coordinates)]);break;case"Point":n=new Bt(e.geometry.coordinates.map(parseFloat));break;default:console.warn(`ZoomTo for type ${e.geometry.type} not implemented.`);return}cM(r,n,t)}const Xe={STREET:"street",DISTRICT:"district",PARCEL:"parcel",STREET_KEY:"streetKey",ADDRESS_AFFIXED:"addressAffixed",ADDRESS_UNAFFIXED:"addressUnaffixed",HOUSE_NUMBERS_FOR_STREET:"houseNumbersForStreet"};function hy(r){return Array.isArray(r)&&r.length===1?hy(r[0]):r}function Fl(r,e){return Array.isArray(r)?r.map(t=>Fl(t,e)).filter(t=>t)[0]:typeof r!="object"?null:typeof r[e]<"u"?r[e]:Object.keys(r).map(t=>Fl(r[t],e)).filter(t=>t)[0]}function dM(r){const e={objectType:Object.keys(r)[0]};return Object.keys(r[e.objectType][0]).forEach(t=>{e[t]=hy(r[e.objectType][0][t])}),e}function hM(r){let e=[];return r.startsWith("POINT")&&(e=r.split(")")[0]?.split("(")[1]),e}function pM(r,e){const t={type:e,properties:dM(r)};let n=t.properties?.pos?hM(t.properties.pos):Fl(t.properties,"pos")[0],i="",o="",a="";switch(e){case Xe.DISTRICT:t.name=t.properties.geographicIdentifier?._?t.properties.geographicIdentifier._:t.properties.geographicIdentifier;break;case Xe.STREET_KEY:case Xe.STREET:t.properties?.position_strassenachse&&(n=Fl(t.properties?.position_strassenachse,"pos")[0]),t.name=Es()?t.properties.geographicIdentifier._:t.properties.strassenname;break;case Xe.PARCEL:t.name=`${t.properties.gemarkung}/${t.properties.flurstuecksnummer}`;break;case Xe.HOUSE_NUMBERS_FOR_STREET:i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,t.properties.hausnummernzusatz&&(o=t.properties.hausnummernzusatz?._?t.properties.hausnummernzusatz._:t.properties.hausnummernzusatz),t.properties.hausnummerkomplett=`${i}${o}`,t.name=Es()?t.properties.geographicIdentifier._:(t.properties?.geographicIdentifier?t.properties.geographicIdentifier._.split(t.properties.hausnummerkomplett)[0]:t.properties.strassenname+" ")+t.properties.hausnummerkomplett;break;case Xe.ADDRESS_AFFIXED:a=t.properties.strassenname?._?t.properties.strassenname._:t.properties.strassenname,i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,o=t.properties.hausnummernzusatz?._?t.properties.hausnummernzusatz._:t.properties.hausnummernzusatz,t.name=Es()?t.properties.geographicIdentifier._:`${a} ${i}${o}`;break;case Xe.ADDRESS_UNAFFIXED:a=t.properties.strassenname?._?t.properties.strassenname._:t.properties.strassenname,i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,t.name=Es()?t.properties.geographicIdentifier._:(t.properties?.geographicIdentifier?t.properties.geographicIdentifier._.split(i)[0]:a+" ")+i;break;default:t.name=null,console.error(`Unknown type in searchAddress.parse: '${e}'. Could not set name.`);break}switch(e){case Xe.DISTRICT:case Xe.STREET_KEY:case Xe.STREET:case Xe.PARCEL:case Xe.HOUSE_NUMBERS_FOR_STREET:case Xe.ADDRESS_AFFIXED:case Xe.ADDRESS_UNAFFIXED:t.geometry={type:"Point",coordinates:n.split(" ")};break;default:t.geometry=null,console.error(`Unknown type in searchAddress.parse: '${e}'. Could not set geometry.`);break}return t}function py(r,e){return new Promise((t,n)=>{fg.parseString(e,{tagNameProcessors:[fg.processors.stripPrefix]},(i,o)=>{if(i){n(i);return}try{const a=o.FeatureCollection?.member?o.FeatureCollection.member.map(s=>pM(s,r)).sort((s,l)=>s.name.localeCompare(l.name)):[];t(a)}catch(a){n(a)}})})}function gM(r){return Array.isArray(r)?r.map(encodeURIComponent):encodeURIComponent(r)}function fM(r,e,t=!0){return{[Xe.STREET]:n=>t?`&StoredQuery_ID=findeStrasse&strassenname=*${n}`:`&StoredQuery_ID=findeStrasse&strassenname=${n}`,[Xe.DISTRICT]:n=>`&StoredQuery_ID=findeStadtteil&stadtteilname=${n}`,[Xe.PARCEL]:n=>`&StoredQuery_ID=Flurstueck&gemarkung=${n[0]}&flurstuecksnummer=${n[1]}`,[Xe.STREET_KEY]:n=>`&StoredQuery_ID=findeStrassenSchluessel&strassenschluessel=${n}`,[Xe.ADDRESS_AFFIXED]:n=>`&StoredQuery_ID=AdresseMitZusatz&strassenname=${n[0]}&hausnummer=${n[1]}&zusatz=${n[2]}`,[Xe.ADDRESS_UNAFFIXED]:n=>`&StoredQuery_ID=AdresseOhneZusatz&strassenname=${n[0]}&hausnummer=${n[1]}`,[Xe.HOUSE_NUMBERS_FOR_STREET]:n=>`&StoredQuery_ID=HausnummernZuStrasse&strassenname=${n}`}[r](gM(e))}function gy(r,e,t,n){return new Promise((i,o)=>{const a=$b()+fM(r,e,n);fetch(a,{signal:t?.signal,timeout:6e3}).then(s=>i(s.text())).catch(s=>o(s))})}let xa=null;function wo(r,e,t=(o,a)=>o.name.localeCompare(a.name),n=()=>!0,i){return new Promise((o,a)=>{gy(r,e,xa,i).then(s=>{py(r,s).then(l=>{o(l.filter(n).sort(t))})}).catch(s=>a(s))})}function mM(r,e,t){return new Promise((n,i)=>{gy(Xe.STREET,r,xa,t).then(o=>py(Xe.STREET,o)).then(o=>{const a=[],s=r.match(new RegExp("^(.+)[\\s,](\\d+|\\d.*)$"));for(let l=0;l<o.length;l++)a.push([o[l]]),e&&a.push(wo(Xe.HOUSE_NUMBERS_FOR_STREET,o[l].name,void 0,void 0,t));return!o.length&&s?.length&&e&&a.push(wo(Xe.HOUSE_NUMBERS_FOR_STREET,s[1],(l,c)=>parseInt(l.properties?.hausnummer,10)-parseInt(c.properties?.hausnummer,10),l=>l.properties?.hausnummerkomplett?.indexOf(s[2])===0,t)),Promise.all(a)}).then(o=>n([].concat(...o))).catch(o=>i(o))})}function jf(r,e,t=!1){return t&&xa!==null&&xa.abort(),xa=new AbortController,new Promise((n,i)=>{const{map:o,zoom:a=!1,zoomToParams:s,searchAddress:l=!1,searchStreets:c=!1,searchStreetBeforeWord:u=!0,searchDistricts:d=!1,searchParcels:h=!1,searchStreetKey:p=!1,minCharacters:f=3}=e,y=[];let{searchHouseNumbers:m=!1}=e;if(r.length<f){i({error:"Search string too short."});return}if(a&&!o&&console.warn("Instructed to zoom, but required map object was not given. Zooming will be skipped."),!c&&m&&(console.warn(`Search for '${r}' supposed to retrieve house numbers, but not streets. Invalid search configuration. House numbers will not be searched for as a result.`),m=!1),!(l||c||m||d||h||p)){i({error:`Search for '${r}' received no indication what to search for. Search is canceled.`});return}if(c&&y.push(mM(r,m,u)),l){let b=r.split(/(\d+)/).map(C=>C.trim()).filter(C=>C);if(b.length>3){const C=b[0],T=b[1],E=r.replace(b[0],"").replace(b[1],"").trim();b=[C,T,E]}const k=[!1,!1,Xe.ADDRESS_UNAFFIXED,Xe.ADDRESS_AFFIXED][b.length];k&&y.push(wo(k,b))}if(d&&/^[a-z-]+$/i.test(r)&&y.push(wo(Xe.DISTRICT,r)),p&&/^[a-z]{1}[0-9]{1,5}$/i.test(r)&&y.push(wo(Xe.STREET_KEY,r)),h){let b;/^[0-9]{4}[\s|/][0-9]*$/.test(r)?b=r.split(/[\s|/]/):/^[0-9]{5,}$/.test(r)&&(b=[r.slice(0,4),r.slice(4)]),b&&y.push(wo(Xe.PARCEL,b))}Promise.all(y).then(b=>{const k=[].concat(...b);if(a&&o&&k.length===1)try{uM(o,k[0],s)}catch(C){console.error("Zooming to element from gazetteer failed."),console.error(C)}n(k)}).catch(b=>i(b))})}const hr="addressSearch";function yM(r,e){const t=r.reduce((n,i)=>i.status==="fulfilled"?[...n,i.value]:n,[]);return e.signal.aborted||r.filter(({status:n})=>n==="rejected").forEach(({reason:n})=>{console.error(`@polar/polar(plugins/addressSearch/utils/getResultsFromPromises:20:4)
`,"An error occurred while sending a request: ",n)}),t}function fy(r){if(!r.ok)throw new Error(r.status===418?"The server refuses to brew coffee because it is, permanently, a teapot.":`The received status code ${r.status} indicates an error.`)}function vM(r,e){let t=`query=${r.replace(" ","+")}`;for(const[n,i]of Object.entries(e).filter(([o])=>o!=="filter"&&o!=="epsg"&&o!=="apiKey"&&o!=="accessToken"))t+=`&${n}=${i}`;return e.filter&&Object.keys(e.filter).length>0&&(t+="&filter=",t=Object.entries(e.filter).reduce((n,[i,o])=>`${n+i}:${o}&`,t).slice(0,-1)),t}async function kM(r,e,t,n){const i=`${e}?`+vM(t,n),o={signal:r};n.accessToken?o.headers={Authorization:`Bearer ${n.accessToken}`}:n.apiKey&&(o.headers={"X-Api-Key":n.apiKey});const a=await fetch(encodeURI(i),o);fy(a);const s=await a.json();return{...s,features:s.features.map(l=>vt(l,{geometry:vt(l.geometry,{coordinates:n.epsg==="EPSG:4326"?l.geometry.coordinates:On(l.geometry.coordinates,"EPSG:4326",n.epsg)}),title:l.properties.text}))}}async function bM(r,e,t,n){$m(e);try{const i=vt(n,{minCharacters:0});let o=await jf(t,vt(i,{searchStreetBeforeWord:!1}));return!o[0]&&(o=await jf(t,i),!o[0])?{type:"FeatureCollection",features:[]}:{type:"FeatureCollection",features:wM(o,n.epsg,xM(o[0].properties.position.Point[0].$.srsName))}}catch(i){throw console.error(`@polar/polar(lib/getFeatures/mpapi:50:3)
`,i),new Error("An error occurred while fetching the feature collection.")}}function xM(r){if(r.includes("::"))return`EPSG:${r.split("::")[1]}`;if(r.includes(":"))return r;throw console.error(`@polar/polar(lib/getFeatures/mpapi:63:2)
`,"Unknown formatting of projection:",r),Error("Unknown formatting of projection: "+r)}const wM=(r,e,t)=>r.map(n=>{const{name:i,geometry:o}=n;return{type:"Feature",title:i,geometry:vt(o,{coordinates:t===e?o.coordinates.map(Number):On(o.coordinates.map(Number),t,e)}),properties:n.properties}}),_M=r=>r.replace(/\r?\n|\r/g,""),TM=({maxFeatures:r})=>`
<?xml version="1.0" encoding="UTF-8"?>
<wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"${r?` maxFeatures="${r}"`:""}>`,CM={wildCard:"*",singleChar:".",escapeChar:"!"},EM=({srsName:r,featurePrefix:e,typeName:t,xmlns:n})=>`
<wfs:Query typeName="${e}:${t}" xmlns:${e}="${n}"${r?` srsName="${r}"`:""}>
<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">`;function qf(r,e,{featurePrefix:t,useRightHandWildcard:n,likeFilterAttributes:i}){const o=vt(CM,i||{});return`
<ogc:PropertyIsLike${Object.entries(o).reduce((a,[s,l])=>`${a} ${s}="${l}"`,"")}>
<ogc:PropertyName>${t}:${r}</ogc:PropertyName>
<ogc:Literal>${e}${typeof n=="boolean"&&!n?"":Object.hasOwn(o,"wildCard")?o.wildCard:"*"}</ogc:Literal>
</ogc:PropertyIsLike>`}function MM(r,e){let t=EM(e);if(r.length>1)t+=`<ogc:And>${r.map(([n,i])=>qf(n,i,e)).join("")}</ogc:And>`;else if(r.length===1){const n=r[0];t+=qf(n[0],n[1],e)}return t+"</ogc:Filter></wfs:Query>"}const ma=(r,e)=>_M(TM(e)+r.map(t=>MM(t,e)).join("")+"</wfs:GetFeature>");if(import.meta.vitest){const{expect:r,test:e}=import.meta.vitest,t={typeName:"TyPeNaMe",featurePrefix:"prefix",xmlns:"example.com",maxFeatures:999};e("creates an empty search for an empty input",()=>{r(ma([],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"></wfs:GetFeature>')}),e("creates a one-query search for a single match",()=>{r(ma([[["a","5"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query></wfs:GetFeature>')}),e("creates a one-query and-ed search for a single match with multiple fields",()=>{r(ma([[["a","5"],["b","3"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:And><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:b</ogc:PropertyName><ogc:Literal>3*</ogc:Literal></ogc:PropertyIsLike></ogc:And></ogc:Filter></wfs:Query></wfs:GetFeature>')}),e("creates a multi-query search for a multiple matches",()=>{r(ma([[["a","5"]],[["b","3"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:b</ogc:PropertyName><ogc:Literal>3*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query></wfs:GetFeature>')})}const Eu={};function fp(r){if(Eu[r])return Eu[r];const e=Array.from(r.matchAll(/{{(.*?)}}/g)),t=[];let n=0;for(const i of e)n<i.index&&(t.push(r.substring(n,i.index)),n=i.index),t.push(i),n+=i[0].length;return Eu[r]=t,t}const SM=(r,e)=>r.uninterpreted>e.uninterpreted?1:r.uninterpreted<e.uninterpreted?-1:r.index>e.index?1:r.index<e.index?-1:0,LM=(r,e,t)=>{const n=[...r.map((o,a)=>({match:o,uninterpreted:t[a],patternLengthDiff:(e[a].match(/{{/g)||[]).length-o.length,index:a}))].sort(SM).map(({match:o})=>o),i=[];return n.filter(o=>{if(o.length===0)return!1;const a=JSON.stringify(o);return i.includes(a)?!1:(i.push(a),!0)})},Rd=(r,e,t)=>{if(!r)throw new Error('Parameter "patterns" is missing on wfs configuration for pattern-based search.');if(!e)throw new Error('Parameter "patternKeys" is missing on wfs configuration for pattern-based search.');const n=[],i=[];return r.forEach(o=>{const a=fp(o),s=[];let l=t;a.forEach(c=>{let u="";if(Array.isArray(c)){const d=c[1],h=e[d],p=l.match(new RegExp("^"+h));if(p!==null){const f=p[1];s.push([d,f.trim()]),u=p[0].trim()}}else u=c.trim();l.startsWith(u)&&(l=l.substring(u.length).trim())}),i.push(l.length),n.push(s)}),LM(n,r,i)};if(import.meta.vitest){const{expect:r,test:e}=import.meta.vitest,t=(o,a,s,l,c)=>{const u=[o,a];return u.index=s,u.input=l,u.groups=c,u},n=["{{gemarkung}} {{flur}} {{flstnrzae}}/{{flstnrnen}}, {{flstkennz}}","{{gemarkung}} {{flur}} {{flstnrzae}}, {{flstkennz}}","{{gemarkung}} {{flstnrzae}}/{{flstnrnen}}, {{flstkennz}}","{{gemarkung}} {{flstnrzae}}, {{flstkennz}}","{{flstkennz}}"],i={gemarkung:"([^0-9]+)",flur:"([0-9]+)",flstnrzae:"([0-9]+)",flstnrnen:"([0-9]+)",flstkennz:"([0-9_]+)"};e("getBlocks parts pattern strings to Block[][]",()=>{r(fp(n[0])).toEqual([t("{{gemarkung}}","gemarkung",0,n[0])," ",t("{{flur}}","flur",14,n[0])," ",t("{{flstnrzae}}","flstnrzae",23,n[0]),"/",t("{{flstnrnen}}","flstnrnen",37,n[0]),", ",t("{{flstkennz}}","flstkennz",52,n[0])])}),e("match builds full match groups",()=>{r(Rd(n,i,"Musterhausen 12 3/4, 1234___")).toEqual([[["gemarkung","Musterhausen"],["flur","12"],["flstnrzae","3"],["flstnrnen","4"],["flstkennz","1234___"]],[["gemarkung","Musterhausen"],["flur","12"],["flstnrzae","3"]],[["gemarkung","Musterhausen"],["flstnrzae","12"],["flstnrnen","3"]],[["gemarkung","Musterhausen"],["flstnrzae","12"],["flstkennz","3"]]])}),e("match manages to decide the best fit",()=>{r(Rd(n,i,"1234___")).toEqual([[["flur","1234"],["flstkennz","___"]],[["flstnrzae","1234"],["flstkennz","___"]],[["flstkennz","1234___"]]])})}function IM(r,e){return r.fillPercentage>e.fillPercentage?-1:r.fillPercentage<e.fillPercentage?1:r.keys.length>e.keys.length?-1:r.keys.length<e.keys.length?1:r.index>e.index?-1:r.index<e.index?1:0}function AM(r,e){const t=r.properties||{},n=[...e.map((i,o)=>{const a=fp(i).reduce((l,c)=>Array.isArray(c)?[...l,c[1]]:l,[]),s=a.reduce((l,c)=>typeof t[c]<"u"&&t[c]!==""?l+1:l,0);return{pattern:i,keys:a,index:o,fillPercentage:s/a.length}})].sort(IM)[0];return n.keys.reduce((i,o)=>i.replace(`{{${o}}}`,t[o]||""),n.pattern)}const zf=new xh,PM=new ja;async function NM(r,e,t,n){const i=[],o={type:"FeatureCollection",features:i},a=await r.text(),s=zf.readFeatures(a),{srsName:l}=zf.readFeatureCollectionMetadata(a);return s.forEach(c=>{const u=JSON.parse(PM.writeFeature(c));u.title="",e&&(t?u.title=AM(u,e):u.title=Array.isArray(e)?e.map(d=>u.properties[d]).join(" "):u.properties[e]),l&&(u.geometry=vt(u.geometry,{coordinates:On(u.geometry.coordinates,`EPSG:${l.split("::")[1]}`,n)})),i.push(u)}),o}async function DM(r,e,t,n){const{fieldName:i,patterns:o,patternKeys:a}=n;if(!i&&(!o||!a))throw new Error('Incomplete WFS search configuration. Either "fieldName" or "patterns" & "patternKeys" are required.');i&&o&&console.error(`@polar/polar(lib/getFeatures/wfs/index:22:3)
`,'Using both "fieldName" and "patterns" for WFS search. These are mutually exclusive. "patterns" will be ignored.');const s=i?[[[i,t]]]:Rd(o,a,t),l=ma(s,n),c=await fetch(encodeURI(e),{signal:r,method:"POST",body:l});return fy(c),NM(c,i||o,!i,n.epsg)}function OM(){const r={bkg:kM,mpapi:bM,wfs:DM};return{registerSearchMethods:e=>{Object.entries(e).forEach(([t,n])=>{if(r[t]){console.error(`@polar/polar(plugins/addressSearch/utils/methodContainer:16:6)
`,`Method "${t}" already exists. Please choose a different name. Overrides are not allowed.`);return}r[t]=n})},getSearchMethod:e=>{const t=r[e];if(t)return t;throw new Error(`The given type "${e}" does not define a valid searchMethod.`)}}}const Qn={ERROR:Symbol("error"),NO_SEARCH:Symbol("noSearch")},mp=Wr("plugins/addressSearch",()=>{const r=We(),e={label:"defaultLabel",hint:"",resultDisplayMode:"mixed",limitResults:Number.MAX_SAFE_INTEGER};let t=null,n,i;const o=Ce(null),a=Ce(""),s=Ce(!1),l=Ce(Qn.NO_SEARCH),c=Ce("defaultGroup"),u=Q(()=>d.value.afterResultComponent||null),d=Q(()=>r.configuration.addressSearch),h=Q({get:()=>a.value,set:X=>{X!==a.value&&(a.value=X,q())}}),p=Q(()=>Array.isArray(l.value)&&l.value.length>0&&l.value.some(({features:{features:X}})=>Array.isArray(X)&&X.length>0)),f=Q(()=>d.value.focusAfterSearch||!1),y=Q(()=>X=>{const me=d.value.groupProperties?.[X]||{};return X==="defaultGroup"?vt(e,me):me}),m=Q(()=>Object.keys(R.value)),b=Q(()=>Object.keys(R.value).map(X=>({groupId:X,text:y.value(X).label}))),k=Q(()=>m.value.length>1),C=Q(()=>s.value?_t(X=>X.hint.loading,{ns:hr}):l.value===Qn.ERROR?_t(X=>X.hint.error,{ns:hr}):h.value.length>0&&h.value.length<E.value?_t(X=>X.hint.tooShort,{ns:hr,minLength:E.value}):l.value!==Qn.NO_SEARCH&&!p.value?_t(X=>X.hint.noResults,{ns:hr}):le.value.hint||""),T=Q(()=>le.value.limitResults||e.limitResults),E=Q(()=>typeof d.value.minLength=="number"?d.value.minLength:3),R=Q(()=>d.value.searchMethods.reduce((X,me)=>{const Be=me.groupId||"defaultGroup";return X[Be]?X[Be].push(me):X[Be]=[me],X},{})),F=Q({get:()=>c.value,set:X=>{X!==c.value&&(c.value=X,l.value=Qn.NO_SEARCH,h.value.length>0&&S())}}),le=Q(()=>y.value(F.value)),oe=Q(()=>typeof d.value.waitMs=="number"?d.value.waitMs:300);function ge(){n=dy(S,oe.value),i=OM(),F.value=m.value[0],d.value.customSearchMethods&&i.registerSearchMethods(d.value.customSearchMethods)}function $(){}function q(){t&&(t.abort(),t=null),n()}function te(){h.value="",l.value=Qn.NO_SEARCH,o.value=null}function S(){if(h.value.length<E.value)return l.value=Qn.NO_SEARCH,s.value=!1,Promise.resolve();s.value=!0,t=new AbortController;const X=t;return Promise.allSettled(d.value.searchMethods.map(async({categoryId:me,groupId:Be,queryParameters:B,type:wt,url:rt})=>{const Tt=await i.getSearchMethod(wt)(X.signal,rt,h.value,vt(B||{},{epsg:r.configuration.epsg})),rr=me||"default",kt=d.value.categoryProperties?.[rr];return{categoryId:rr,categoryLabel:kt?_t(kt.label):_t(bt=>bt.defaultLabel,{ns:hr}),features:Tt,groupId:Be||"defaultGroup"}})).then(me=>l.value=yM(me,X)).catch(me=>{console.error(`@polar/polar(plugins/addressSearch/store:249:6)
`,"An error occurred while searching.",me),l.value=Qn.ERROR}).finally(()=>{s.value=!1})}async function H(X,me="never"){if(h.value=X,t&&(t.abort(),t=null),await S(),!Array.isArray(l.value))return;const Be=l.value.find(({features:wt})=>wt.features.length);if(!Be)return;const B=Be.features.features;(me==="first"&&B.length>=1||me==="only"&&B.length===1)&&ne(B[0],Be.categoryId)}function ne(X,me="default"){const Be=d.value.customSelectResult?.[me];Be?Be(X,me):(o.value=X,a.value=X.title,l.value=Qn.NO_SEARCH)}return{chosenAddress:o,inputValue:h,afterResultComponent:u,focusAfterSearch:f,groupSelectOptions:b,hasMultipleGroups:k,isLoading:s,searchResults:l,selectedGroupId:F,featuresAvailable:p,hint:C,limitResults:T,abortAndRequest:q,clear:te,search:H,selectResult:ne,setupPlugin:ge,teardownPlugin:$}});function my(r,e,t){for(let n=0;n<r;n++){const i=e.getElementById(`polar-plugin-address-search-results-feature-${n}-0`);if(i){i.focus(),t?.preventDefault();break}}}function RM(r,e){const t=r.toLowerCase().indexOf(e.toLowerCase());return t===-1?r:r.substring(0,t)+"<strong>"+r.substring(t,t+e.length)+"</strong>"+r.substring(t+e.length)}const FM={key:0,id:"polar-plugin-address-search-result-wrapper",tabindex:"-1"},jM={key:0,class:"polar-plugin-address-search-category-label"},qM=["id","onClick","onKeydown"],zM={class:"span-sr-only"},$M=["innerHTML"],UM=["onClick"],GM={class:"kern-label"},BM={key:2,class:"kern-divider","aria-hidden":"true"},VM=Le({__name:"SearchResults.ce",setup(r){const e=We(),t=mp(),{afterResultComponent:n,featuresAvailable:i,inputValue:o,limitResults:a,searchResults:s,selectedGroupId:l}=ct(t);yt(l,()=>c.value=[]);const c=Ce([]),u=Q(()=>Array.isArray(t.searchResults)?structuredClone(on(t.searchResults)).filter(y=>y.groupId===t.selectedGroupId).reduce((y,m)=>{const b=y.findIndex(k=>k.categoryId===m.categoryId);return b===-1?[...y,m]:(y[b].features.features=[...y[b].features.features,...m.features.features],y)},[]).map(y=>(d(y.categoryId)||(y.features.features=y.features.features.slice(0,a.value)),y)):[]);yt(u,()=>{t.focusAfterSearch&&Yi(()=>{my(u.value.length,e.shadowRoot)})});function d(y){return c.value.includes(y)}function h(){e.shadowRoot.getElementById("polar-plugin-address-search-input")?.focus()}function p(y,m){const{target:b}=m;if(b===null){console.warn(`@polar/polar(plugins/addressSearch/components/SearchResults.ce.vue?vue&type=script&setup=true&lang:112:3)
`,`@polar/polar(plugins/addressSearch/components/SearchResults.ce:174:3)
`,"Could not focus any element.");return}const k=(e.shadowRoot?.getElementById("polar-plugin-address-search-result-wrapper")).querySelectorAll("li, button"),C=[...k].indexOf(b),T=k[(C+(y?1:-1))%k.length];if(T){T.focus();return}e.shadowRoot.getElementById("polar-plugin-address-search-input")?.focus()}function f(y){c.value=c.value.indexOf(y)===-1?[...c.value,y]:c.value.filter(m=>m!==y)}return(y,m)=>M(i)?(N(),ee("div",FM,[(N(!0),ee(lt,null,Lt(u.value,(b,k)=>(N(),ee(lt,{key:b.categoryId},[u.value.length>1?(N(),ee("h2",jM,qe(b.categoryLabel)+" "+qe(y.$t(C=>C.resultCount,{count:M(s)[k].features.features.length,ns:M(hr)})),1)):Ye("",!0),se("ul",{class:it({"polar-plugin-address-search-list-without-label":u.value.length===1})},[(N(!0),ee(lt,null,Lt(b.features.features,(C,T)=>(N(),ee("li",{key:`result-${k}-${T}`,id:`polar-plugin-address-search-results-feature-${k}-${T}`,tabindex:"-1",onClick:E=>M(t).selectResult(C,b.categoryId),onKeydown:[Sr(ir(E=>M(t).selectResult(C,b.categoryId),["prevent","stop"]),["enter"]),m[0]||(m[0]=Sr(ir(E=>p(!0,E),["prevent","stop"]),["down"])),m[1]||(m[1]=Sr(ir(E=>p(!1,E),["prevent","stop"]),["up"])),Sr(ir(h,["prevent","stop"]),["escape"])]},[se("span",zM,qe(C.title),1),se("span",{"aria-hidden":"true",innerHTML:M(RM)(C.title,M(o))},null,8,$M),M(n)?(N(),Te(Qt(M(n)),{key:0,feature:C},null,8,["feature"])):Ye("",!0)],40,qM))),128))],2),M(s)[k].features.features.length>M(a)?(N(),ee("button",{key:1,class:"kern-btn kern-btn--tertiary",onKeydown:[m[2]||(m[2]=Sr(ir(C=>p(!0,C),["prevent","stop"]),["down"])),m[3]||(m[3]=Sr(ir(C=>p(!1,C),["prevent","stop"]),["up"]))],onClick:C=>f(b.categoryId)},[se("span",{class:it(`kern-icon ${d(b.categoryId)?"kern-icon--keyboard-arrow-up":"kern-icon--keyboard-arrow-down"}`),"aria-hidden":"true"},null,2),se("span",GM,qe(y.$t(C=>C.resultList[d(b.categoryId)?"reduce":"extend"],{ns:M(hr)})),1)],40,UM)):Ye("",!0),k<u.value.length-1?(N(),ee("hr",BM)):Ye("",!0)],64))),128))])):Ye("",!0)}}),HM="#polar-plugin-address-search-result-wrapper{&[data-v-7246567e]{display:flex;flex-direction:column;gap:var(--kern-metric-space-2x-small);width:100%;padding-bottom:.625rem;overflow-y:auto}.polar-plugin-address-search-category-label[data-v-7246567e]{display:flex;align-items:center;min-height:var(--kern-metric-dimension-large);padding:0 var(--kern-metric-space-small);margin:0;font-size:calc(var(--kern-typography-font-size-static-small) * .875);font-weight:400;color:var(--kern-color-layout-text-muted)}.polar-plugin-address-search-list-without-label[data-v-7246567e]{margin-top:var(--kern-metric-space-x-small)}ul{&[data-v-7246567e]{margin:0;padding:0}li{&[data-v-7246567e]{display:flex;align-items:center;min-height:var(--kern-metric-dimension-x-large);padding:var(--kern-metric-space-none) var(--kern-metric-space-small);margin:var(--kern-metric-space-none) var(--kern-metric-space-small);border-radius:var(--kern-metric-border-radius-default);color:var(--kern-color-layout-text-default);transition:.3s cubic-bezier(.25,.8,.5,1)}&[data-v-7246567e]:hover,&[data-v-7246567e]:focus{background-color:var(--kern-color-layout-background-hued);cursor:pointer}}}button[data-v-7246567e]{margin:var(--kern-metric-space-none) var(--kern-metric-space-small)}}.span-sr-only[data-v-7246567e]{width:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}",ZM=Ke(VM,[["styles",[HM]],["__scopeId","data-v-7246567e"]]),YM={class:"kern-loader kern-loader--visible",role:"status"},WM={class:"kern-sr-only"},KM=Le({__name:"SmallLoader.ce",setup(r){return(e,t)=>(N(),ee("div",YM,[se("span",WM,qe(e.$t(n=>n.hint.loading,{ns:M(hr)})),1)]))}}),QM=".kern-loader{&[data-v-06c648df]{width:var(--kern-metric-dimension-large);height:var(--kern-metric-dimension-large);margin:var(--kern-metric-space-small)}&[data-v-06c648df]:before,&[data-v-06c648df]:after{display:none}}",XM=Ke(KM,[["styles",[QM]],["__scopeId","data-v-06c648df"]]),JM={class:"polar-plugin-address-search-selection-wrapper"},eS={class:"polar-plugin-address-search-input-wrapper"},tS={id:"polar-plugin-address-search-input-description",class:"kern-sr-only"},rS=["aria-label","onKeydown"],nS={class:"kern-label kern-sr-only"},iS={class:"kern-sr-only","aria-live":"polite"},oS={key:2,class:"polar-plugin-address-search-hint"},aS=Le({__name:"AddressSearch.ce",setup(r){const e=We(),t=mp(),{layout:n}=ct(e),{groupSelectOptions:i,hasMultipleGroups:o,hint:a,inputValue:s,isLoading:l,searchResults:c,selectedGroupId:u}=ct(t),d=Q(()=>_t(m=>m[i.value.find(({groupId:b})=>b===u.value)?.text||"defaultLabel"],{ns:hr})),h=Q(()=>`${e.clientWidth*.75}px`),p=Q(()=>n.value==="standard"?"0":"var(--kern-metric-space-small)");function f(){t.clear(),Yi(()=>{(e.shadowRoot?.getElementById("polar-plugin-address-search-input")).focus()})}function y(m){Array.isArray(t.searchResults)&&my(t.searchResults.length,e.shadowRoot,m)}return(m,b)=>(N(),Te(Sc,{class:it({"has-hint":M(a).length>0,"polar-plugin-address-search-shown-results":Array.isArray(M(c))&&M(c).length,"kern-card-standard":M(n)==="standard"}),style:ci(`max-width: ${h.value}`)},{default:Ir(()=>[se("div",JM,[M(o)?(N(),Te(uy,{key:0,"aria-label":m.$t(k=>k.groupSelector,{ns:M(hr)}),options:M(i).map(({groupId:k,text:C})=>({value:k,label:m.$t(T=>T[C],{ns:M(hr)})})),value:M(u),"onUpdate:value":b[0]||(b[0]=k=>u.value=k)},null,8,["aria-label","options","value"])):Ye("",!0),se("div",eS,[b[4]||(b[4]=se("span",{class:"kern-icon kern-icon--search","aria-hidden":"true"},null,-1)),se("span",tS,qe(m.$t(k=>k.aria.description,{ns:M(hr)})),1),Ki(se("input",{id:"polar-plugin-address-search-input","onUpdate:modelValue":b[1]||(b[1]=k=>Vu(s)?s.value=k:null),class:"kern-form-input__input",type:"text","aria-label":d.value,"aria-describedby":"polar-plugin-address-search-input-description",onKeydown:[b[2]||(b[2]=Sr((...k)=>M(t).abortAndRequest&&M(t).abortAndRequest(...k),["enter"])),Sr(ir(y,["prevent","stop"]),["down"])]},null,40,rS),[[vm,M(s)]]),M(l)?(N(),Te(XM,{key:0,style:ci(`right: ${p.value}; top: ${p.value}`)},null,8,["style"])):Ye("",!0),M(s).length&&!M(l)?(N(),ee("button",{key:1,class:"kern-btn kern-btn--tertiary polar-plugin-address-search-input-button",style:ci(`right: ${p.value}; top: ${p.value}`),onClick:f},[b[3]||(b[3]=se("span",{class:"kern-icon kern-icon--close","aria-hidden":"true"},null,-1)),se("span",nS,qe(m.$t(k=>k.hint.clear,{ns:M(hr)})),1)],4)):Ye("",!0),se("span",iS,qe(M(a)),1),M(a).length?(N(),ee("span",oS,qe(M(a)),1)):Ye("",!0)])]),Pr(ZM)]),_:1},8,["class","style"]))}}),sS="#polar-plugin-address-search-icon-button[data-v-2b842cbb]{position:absolute;margin:var(--kern-metric-space-small)}.kern-card.polar-plugin-address-search-shown-results[data-v-2b842cbb] .kern-card__container{padding-bottom:0}.kern-card.has-hint[data-v-2b842cbb] .kern-card__container{padding-bottom:var(--kern-metric-space-small)}.kern-card.kern-card-standard[data-v-2b842cbb]{position:absolute;min-width:inherit;z-index:2}.kern-card{&[data-v-2b842cbb]{display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small);margin:var(--kern-metric-space-small);max-height:calc(calc(100% - var(--kern-metric-dimension-large)) - calc(2 * var(--kern-metric-space-small)));width:25rem;min-width:inherit}&[data-v-2b842cbb] .kern-card__container{flex:0 1 auto;overflow-y:auto}.polar-plugin-address-search-selection-wrapper{&[data-v-2b842cbb]{display:flex;flex-direction:row;align-items:center;width:100%;gap:var(--kern-metric-space-small)}&[data-v-2b842cbb] select{width:0}.polar-plugin-address-search-input-wrapper{&[data-v-2b842cbb]{display:grid;grid-template-columns:auto minmax(0,1fr);grid-template-rows:auto auto;align-items:center;width:100%;column-gap:var(--kern-metric-space-small)}.kern-icon--search[data-v-2b842cbb]{grid-column:1;grid-row:1;width:var(--kern-metric-dimension-large);height:var(--kern-metric-dimension-large)}#polar-plugin-address-search-input[data-v-2b842cbb]{grid-column:2;grid-row:1;border-radius:var(--kern-metric-border-radius-small);background:var(--kern-color-form-input-background);padding-right:calc(var(--kern-metric-space-large) * 2)}.polar-plugin-address-search-input-button[data-v-2b842cbb]{position:absolute;right:0;top:0;border-radius:var(--kern-metric-border-radius-small);margin:var(--kern-metric-space-default);width:var(--kern-metric-dimension-large);min-height:var(--kern-metric-dimension-large)}.kern-loader[data-v-2b842cbb]{position:absolute;right:0;top:0;margin:var(--kern-metric-space-default)}.polar-plugin-address-search-hint[data-v-2b842cbb]{grid-column:2;grid-row:2;color:var(--kern-color-layout-text-muted);font-size:calc(var(--kern-typography-font-size-static-small) * .875);padding:0 var(--kern-metric-space-2x-small);margin-top:var(--kern-metric-space-small)}}}}",lS=Ke(aS,[["styles",[sS]],["__scopeId","data-v-2b842cbb"]]),cS={aria:{description:"Durch Eingabe in das Suchfeld kann die Suche nach Adressen gestartet werden"},defaultLabel:"Adresssuche",hint:{button:"Eingabefeld der Addresssuche anzeigen",clear:"Das Eingabefeld der Addresssuche leeren",error:"Etwas ist bei der Suche schiefgegangen.",loading:"Suche ...",noResults:"Keine Ergebnisse gefunden.",tooShort:"Fr die Suche bitte mindestens {{minLength}} Zeichen eingeben."},groupSelector:"Suchthema auswhlen",resultCount:"({{count}} Ergebnisse)",resultList:{extend:"Alle Ergebnisse anzeigen",reduce:"Ergebnisliste reduzieren"}},uS={aria:{description:"By entering text into the search field, the address search can be started"},defaultLabel:"Address Search",hint:{button:"Show address search input field",clear:"Clear address search input field",error:"Something went wrong.",loading:"Searching ...",noResults:"No results for the current query.",tooShort:"Please enter at least {{minLength}} characters."},groupSelector:"Select search topic",resultCount:"({{count}} results)",resultList:{extend:"Show all results",reduce:"Reduce result list"}},dS=[{type:"de",resources:cS},{type:"en",resources:uS}];function ZP(r){return{id:hr,component:lS,locales:dS,storeModule:mp,options:r}}function hS(r){let e=r.getSource();if(!e)throw new Error("Could not find a vector source for this layer");for(;e instanceof is;)if(e=e.getSource(),!e)throw new Error("Could not find a vector source for this layer");if(!(e instanceof sr))throw new Error("Could not find a vector source for this layer");return e}const cn="filter",yy=Wr("plugins/filter/main",()=>{const r=We(),e=Q(()=>r.configuration[cn]??{layers:{}}),t=Ce({}),n=Q(()=>Object.entries(e.value.layers).map(([u,d])=>({layerId:u,layerConfiguration:r.getLayerMapConfiguration(u),filterConfiguration:d}))),i=Ce(null);yt(()=>e.value.layers,u=>{Object.keys(u).forEach(d=>{t.value[d]??={}}),i.value=Object.keys(u)[0]||""},{immediate:!0,deep:!0});const o=Q(()=>n.value.find(u=>u.layerId===i.value)??null),a=Q(()=>i.value?e.value.layers[i.value]:{}),s=Q(()=>i.value?t.value[i.value]:null),l=Q(()=>a.value.time?.last||a.value.time?.next||a.value.time?.freeSelection),c=Q(()=>r.map.getAllLayers().filter(u=>Object.keys(e.value.layers).includes(u.get("id"))));return{configuration:e,state:t,layers:n,selectedLayerId:i,selectedLayer:o,selectedLayerConfiguration:a,selectedLayerState:s,selectedLayerHasTimeFilter:l,filteredLayers:c}}),pS=Wr("plugins/filter/time",()=>{const r=new Date(-864e13),e=new Date(864e13),t=We(),n=yy(),i=Q(()=>n.selectedLayerConfiguration.time||{}),o=Q(()=>n.selectedLayerState?.timeSpan||null),a=Q(()=>i.value.targetProperty||""),s=Q(()=>i.value.pattern||"YYYY-MM-DD"),l=Q(()=>o.value?.[a.value]??{from:r,until:e,pattern:s.value}),c=Q({get:()=>l.value.from.getTime()===r.getTime()?null:l.value.from,set:m=>{if(!n.selectedLayerState)return;const b=n.selectedLayerState,k=b.timeSpan??={},C=k[a.value]??={from:r,until:e,pattern:s.value};C.from=m||r}}),u=Q({get:()=>{if(l.value.until.getTime()===e.getTime())return null;const m=new Date(l.value.until);return m.setDate(m.getDate()-1),m},set:m=>{if(!n.selectedLayerState)return;const b=n.selectedLayerState,k=b.timeSpan??={},C=k[a.value]??={from:r,until:e,pattern:s.value};if(m===null){C.until=e;return}const T=new Date(m);T.setDate(T.getDate()+1),C.until=T}});function d(m,b){const k=new Date;return k.setDate(k.getDate()+m),b.toDateString()===k.toDateString()}const h=Ce(!1),p=Q({get:()=>{if(h.value)return"custom";if(c.value===null&&u.value===null)return"all";if(c.value&&u.value){for(const m of n.selectedLayerConfiguration.time?.last||[])if(d(0,u.value)&&d(-m,c.value))return`last-${m}`;for(const m of n.selectedLayerConfiguration.time?.next||[])if(d(0,c.value)&&d(m,u.value))return`next-${m}`}return"custom"},set:m=>{if(m==="all"||m==="custom")c.value=null,u.value=null;else if(m.startsWith("last-")){const b=Number(m.substring(5)),k=new Date,C=new Date(k.getFullYear(),k.getMonth(),k.getDate()-b),T=new Date(k.getFullYear(),k.getMonth(),k.getDate());c.value=C,u.value=T}else if(m.startsWith("next-")){const b=Number(m.substring(5)),k=new Date,C=new Date(k.getFullYear(),k.getMonth(),k.getDate()),T=new Date(k.getFullYear(),k.getMonth(),k.getDate()+b);T.setDate(T.getDate()+b),c.value=C,u.value=T}h.value=m==="custom"}}),f=Q(()=>({from:{min:new Date},until:{max:new Date}})[n.selectedLayerConfiguration.time?.freeSelection||""]||{}),y=Q(()=>(t.language,[{value:"all",label:_t(m=>m.time.noRestriction,{ns:cn}),icon:"kern-icon--all-inclusive"},...i.value.last?.map(m=>({value:`last-${m}`,label:_t(b=>b.time.last,{ns:cn,count:m}),icon:"kern-icon--history"}))||[],...i.value.next?.map(m=>({value:`next-${m}`,label:_t(b=>b.time.next,{ns:cn,count:m}),icon:"kern-icon--timeline"}))||[],...i.value.freeSelection?[{value:"custom",label:_t(m=>m.time.chooseTimeFrame,{ns:cn}),icon:"kern-icon--calendar-month"}]:[]]));return{model:p,customModelStart:c,customModelEnd:u,timeConstraints:f,items:y}});function vy(r,e){const t=r.getFeatures().flatMap(n=>n.get("features")||[n]);r.clear(),t.forEach(n=>{(l2(n,e)?u2:d2)(n)}),r.addFeatures(t)}if(import.meta.vitest){const{test:r,expect:e,vi:t}=import.meta.vitest,{isVisible:n,isInvisible:i}=await mr(async()=>{const{isVisible:a,isInvisible:s}=await import("./invisibleStyle-BctMBDPz-CsIl7PKR.js").then(l=>l.i);return{isVisible:a,isInvisible:s}},__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),o=await mr(()=>import("./doesFeaturePassFilter-Cqeyg6pV-8BE03ay4.js").then(a=>a.d),__vite__mapDeps([7,5]),import.meta.url);t.spyOn(o,"doesFeaturePassFilter").mockImplementation(a=>a.get("filter")==="yes"),r("feature visibility is updated according to filter",()=>{const a=new Ft;a.set("filter","yes");const s=new Ft;s.set("filter","no");const l=new sr;l.addFeatures([a,s]),vy(l,{}),e(l.getFeatures()).toHaveLength(2),e(l.getFeatures()).toContain(a),e(n(a)).toBeTruthy(),e(l.getFeatures()).toContain(s),e(i(s)).toBeTruthy()})}const ds=Wr("plugins/filter",()=>{const r=yy(),e=ct(r),t=pS(),n=ct(t),i=[];function o(){r.filteredLayers.forEach(s=>{const l=hS(s),c=()=>{vy(l,r.state[s.get("id")]??{})};l.on("featuresloadend",c),i.push(()=>{l.un("featuresloadend",c)}),i.push(yt(()=>r.state[s.get("id")],()=>{c()},{deep:!0,immediate:!0}))})}function a(){i.forEach(s=>{s()})}return{layers:e.layers,selectedLayerId:e.selectedLayerId,selectedLayer:e.selectedLayer,selectedLayerConfiguration:e.selectedLayerConfiguration,selectedLayerState:e.selectedLayerState,selectedLayerHasTimeFilter:e.selectedLayerHasTimeFilter,timeModel:n.model,timeStart:n.customModelStart,timeEnd:n.customModelEnd,timeConstraints:n.timeConstraints,timeItems:n.items,setupPlugin:o,teardownPlugin:a}}),gS={class:"kern-label"},fS=Le({__name:"KernBlockButton.ce",props:{icon:{type:Boolean},label:{type:String}},emits:["click"],setup(r,{emit:e}){const t=r,n=e;return(i,o)=>(N(),ee("button",{class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:o[0]||(o[0]=a=>n("click"))},[t.icon?(N(),ee("span",{key:0,class:it({"kern-icon":!0,[t.icon]:!0}),"aria-hidden":"true"},null,2)):Ye("",!0),se("span",gS,qe(t.label),1)]))}}),mS=".kern-btn--tertiary{&[data-v-36d236e4]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-36d236e4]{text-decoration:none}}",yS=Ke(fS,[["styles",[mS]],["__scopeId","data-v-36d236e4"]]),vS=["id"],kS=["for"],bS={class:"kern-label"},xS=Le({__name:"KernBlockButtonCheckbox.ce",props:Qi({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=ts();function i(o){const a=o.target,s=a.parentElement?.querySelector(`label[for="${a.id}"]`);s?.scrollIntoView&&s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(o,a)=>(N(),ee(lt,null,[Ki(se("input",{id:M(n),"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),type:"checkbox",onKeydown:a[1]||(a[1]=Sr(ir(s=>t.value=!t.value,["prevent"]),["enter"])),onFocus:a[2]||(a[2]=s=>i(s))},null,40,vS),[[km,t.value]]),se("label",{for:M(n),class:"kern-btn kern-btn--block kern-btn--tertiary"},[e.icon?(N(),ee("span",{key:0,class:it({"kern-icon":!0,[e.icon]:!0}),"aria-hidden":"true"},null,2)):Ye("",!0),se("span",bS,qe(e.label),1)],8,kS)],64))}}),wS=".kern-btn--tertiary{&[data-v-b66c5b7b]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-b66c5b7b]{text-decoration:none}}label[data-v-b66c5b7b]{border:var(--kern-metric-border-width-default) solid transparent}input[type=checkbox]{&[data-v-b66c5b7b]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-b66c5b7b]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&:checked+label[data-v-b66c5b7b]{border-color:var(--kern-color-action-default)}}",_S=Ke(xS,[["styles",[wS]],["__scopeId","data-v-b66c5b7b"]]),TS={class:"kern-form-check"},CS=["id"],ES=["for"],MS=Le({__name:"KernCheckbox.ce",props:Qi({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=ts();return(i,o)=>(N(),ee("div",TS,[Ki(se("input",{id:M(n),"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-check__checkbox",type:"checkbox",onKeydown:o[1]||(o[1]=Sr(ir(a=>t.value=!t.value,["prevent"]),["enter"]))},null,40,CS),[[km,t.value]]),se("label",{for:M(n),class:"kern-label"},qe(e.label),9,ES)]))}}),SS={class:"kern-heading-small"},LS={class:"polar-filter-category-values"},IS=Le({__name:"FilterCategory.ce",setup(r){const e=We(),t=ds();function n(c){return typeof c=="string"?{key:c,values:[c]}:c}function i(c){return n(c).key}function o(c){const u=t.selectedLayerState;return u.knownValues??={},u.knownValues[c]??=Object.fromEntries(t.selectedLayerConfiguration.categories?.find(d=>d.targetProperty===c)?.knownValues.map(d=>[i(d),!0])??[])}function a(c,{values:u}){return Object.entries(t.selectedLayerState?.knownValues?.[c]??{}).filter(([d])=>u.includes(d)).every(([,d])=>d)}function s(c,{values:u},d){const h=o(c);u.forEach(p=>h[p]=d)}function l(c){const u=o(c.targetProperty),d=c.knownValues.flatMap(p=>typeof p=="string"?[p]:p.values),h=Object.values(u).filter(p=>p).length!==d.length;d.forEach(p=>u[p]=h)}return(c,u)=>(N(!0),ee(lt,null,Lt(M(t).selectedLayerConfiguration.categories,(d,h)=>(N(),ee("section",{key:h,class:"polar-filter-section"},[se("h3",SS,qe(c.$t(p=>p.layer[M(t).selectedLayerId].category[d.targetProperty].title,{ns:M(cn),defaultValue:d.targetProperty})),1),se("div",LS,[d.selectAll?(N(),Te(yS,{key:0,icon:"kern-icon--deselect",label:c.$t(p=>p.category.deselectAll,{ns:M(cn)}),onClick:p=>l(d)},null,8,["label","onClick"])):Ye("",!0),(N(!0),ee(lt,null,Lt(d.knownValues,p=>(N(),Te(Qt(M(e).layout==="standard"?_S:MS),{key:i(p),icon:typeof p!="string"&&p.icon,label:c.$t(f=>f.layer[M(t).selectedLayerId].category[d.targetProperty].knownValue[i(p)],{ns:M(cn),defaultValue:i(p)}),"model-value":a(d.targetProperty,n(p)),"onUpdate:modelValue":f=>s(d.targetProperty,n(p),f)},null,8,["icon","label","model-value","onUpdate:modelValue"]))),128))])]))),128))}}),AS={class:"kern-form-input"},PS={class:"kern-form-input__select-wrapper"},NS=["value"],DS=Le({__name:"FilterLayerChooser.ce",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const e=Nn(r,"modelValue"),t=Q({get:()=>e.value||"",set:i=>{e.value=i||null}}),n=ds();return(i,o)=>(N(),ee("div",AS,[o[1]||(o[1]=se("label",{class:"kern-label",for:"select"},"Fachdatensatz auswhlen",-1)),se("div",PS,[Ki(se("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-input__select"},[(N(!0),ee(lt,null,Lt(M(n).layers,a=>(N(),ee("option",{key:a.layerId,value:a.layerId},qe(a.layerConfiguration?.name||a.layerId),9,NS))),128))],512),[[dk,t.value]])])]))}}),OS={class:"radiogroup",role:"radiogroup"},RS=["aria-checked","aria-labelledby","data-value","onKeydown"],FS=["id","onClick"],jS={class:"kern-label"},qS=Le({__name:"KernBlockButtonRadioGroup.ce",props:Qi({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=ts(),i=pi("radios");function o(a){const s=a.target,l=s.parentElement?.querySelector(`label[id="${s.getAttribute("aria-labelledby")}"]`);l?.scrollIntoView&&l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(a,s)=>(N(),ee("div",OS,[(N(!0),ee(lt,null,Lt(e.items,(l,c)=>(N(),ee(lt,{key:l.value},[se("span",{ref_for:!0,ref_key:"radios",ref:i,role:"radio","aria-checked":t.value===l.value,"aria-labelledby":M(n)+"*"+c,tabindex:"0","data-value":l.value,onKeydown:[Sr(ir(u=>t.value=l.value,["prevent"]),["space"]),Sr(ir(u=>t.value=l.value,["prevent"]),["enter"])],onFocus:s[0]||(s[0]=u=>o(u))},null,40,RS),se("label",{id:M(n)+"*"+c,class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:ir(u=>(t.value=l.value,i.value?.[c].focus()),["prevent"])},[l.icon?(N(),ee("span",{key:0,class:it({"kern-icon":!0,[l.icon]:!0}),"aria-hidden":"true"},null,2)):Ye("",!0),se("span",jS,qe(l.label),1)],8,FS)],64))),128))]))}}),zS=".radiogroup[data-v-55a3c31b]{display:contents}.kern-btn--tertiary{&[data-v-55a3c31b]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-55a3c31b]{text-decoration:none}}label[data-v-55a3c31b]{border:var(--kern-metric-border-width-default) solid transparent}[role=radio]{&[data-v-55a3c31b]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-55a3c31b]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&[aria-checked=true]+label[data-v-55a3c31b]{border-color:var(--kern-color-action-default)}}",$S=Ke(qS,[["styles",[zS]],["__scopeId","data-v-55a3c31b"]]);function Mu(r){return r===null?"":[r.getFullYear(),r.getMonth()+1,r.getDate()].map(e=>e.toString().padStart(2,"0")).join("-")}function US(r){if(r.length===0)return null;const[e,t,n]=r.split("-");return new Date(Number(e),Number(t)-1,Number(n))}const GS=["min","max"],$f=Le({__name:"KernDatePicker.ce",props:Qi({min:{type:Date},max:{type:Date}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=Q({get:()=>Mu(t.value),set:i=>{t.value=US(i)}});return(i,o)=>Ki((N(),ee("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),type:"date",class:"kern-form-input__input",min:M(Mu)(e.min??null),max:M(Mu)(e.max??null)},null,8,GS)),[[vm,n.value]])}}),BS={class:"range-picker"},VS=Le({__name:"KernDateRangePicker.ce",props:Qi({min:{type:Date},max:{type:Date}},{start:{required:!0},startModifiers:{},end:{required:!0},endModifiers:{}}),emits:["update:start","update:end"],setup(r){const e=r,t=Nn(r,"start"),n=Nn(r,"end");return(i,o)=>(N(),ee("div",BS,[Pr($f,Hu({modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a)},e),null,16,["modelValue"]),o[2]||(o[2]=pk("  ",-1)),Pr($f,Hu({modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},e),null,16,["modelValue"])]))}}),HS=".range-picker[data-v-7414cb2a]{display:flex;align-items:center;justify-content:space-between;margin:.3em 0}",ZS=Ke(VS,[["styles",[HS]],["__scopeId","data-v-7414cb2a"]]),YS=["id","value"],WS=["for"],KS=Le({__name:"KernRadioGroup.ce",props:Qi({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=ts();return(i,o)=>(N(!0),ee(lt,null,Lt(e.items,a=>(N(),ee("div",{key:a.value,class:"kern-form-check"},[Ki(se("input",{id:M(n)+"*"+a.value,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),class:"kern-form-check__radio",type:"radio",value:a.value},null,8,YS),[[hk,t.value]]),se("label",{for:M(n)+"*"+a.value,class:"kern-label"},qe(a.label),9,WS)]))),128))}}),QS={class:"kern-heading-small"},XS={class:"polar-filter-category-values"},JS=Le({__name:"FilterTime.ce",setup(r){const e=We(),t=ds(),n=pi("section");async function i(o){o==="custom"&&(await Yi(),n.value?.lastElementChild?.scrollIntoView&&n.value.lastElementChild.scrollIntoView({behavior:"smooth"}))}return(o,a)=>(N(),ee("section",{ref_key:"section",ref:n,class:"polar-filter-section"},[se("h3",QS,qe(o.$t(s=>s.time.header,{ns:M(cn)})),1),se("div",XS,[(N(),Te(Qt(M(e).layout==="standard"?$S:KS),{modelValue:M(t).timeModel,"onUpdate:modelValue":[a[0]||(a[0]=s=>M(t).timeModel=s),a[1]||(a[1]=s=>i(s))],items:M(t).timeItems},null,8,["modelValue","items"]))]),M(t).timeModel==="custom"?(N(),Te(ZS,Hu({key:0,start:M(t).timeStart,"onUpdate:start":a[2]||(a[2]=s=>M(t).timeStart=s),end:M(t).timeEnd,"onUpdate:end":a[3]||(a[3]=s=>M(t).timeEnd=s)},M(t).timeConstraints),null,16,["start","end"])):Ye("",!0)],512))}}),e6={key:1,class:"kern-heading-medium"},t6=Le({__name:"FilterUI.ce",setup(r){const e=ds();return(t,n)=>(N(),Te(Sc,null,{default:Ir(()=>[M(e).layers.length>1?(N(),Te(DS,{key:0,modelValue:M(e).selectedLayerId,"onUpdate:modelValue":n[0]||(n[0]=i=>M(e).selectedLayerId=i)},null,8,["modelValue"])):(N(),ee("h2",e6,qe(M(e).selectedLayer?.layerConfiguration?.name),1)),M(e).selectedLayerId?(N(),Te(IS,{key:2})):Ye("",!0),M(e).selectedLayerHasTimeFilter?(N(),Te(JS,{key:3})):Ye("",!0)]),_:1}))}}),r6="[data-v-e48f57e4] .polar-filter-section{width:100%;h3{padding-left:.15em}.polar-filter-category-values{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-small)}}",n6=Ke(t6,[["styles",[r6]],["__scopeId","data-v-e48f57e4"]]),i6={category:{deselectAll:"Alle an-/abwhlen"},time:{header:"Zeitraum",noRestriction:"Keine Einschrnkung",last_zero:"Heute",last_one:"Der letzte Tag",last_other:"Die letzten {{count}} Tage",next_zero:"Heute",next_one:"Der nchste Tag",next_other:"Die nchsten {{count}} Tage",chooseTimeFrame:"Zeitraum whlen"}},o6={category:{deselectAll:"De-/select all"},time:{header:"Time frame",noRestriction:"No restriction",last_zero:"Today",last_one:"The last day",last_other:"The last {{count}} days",next_zero:"Today",next_one:"The next day",next_other:"The next {{count}} days",chooseTimeFrame:"Choose time frame"}},a6=[{type:"de",resources:i6},{type:"en",resources:o6}];function YP(r){return{id:cn,component:n6,locales:a6,icon:"kern-icon--filter-alt",storeModule:ds,options:r}}const s6={class:"kern-label kern-sr-only"},l6=Le({__name:"PolarIconButton.ce",props:{hint:{type:String},icon:{type:String},active:{type:Boolean},tooltipPosition:{type:String}},setup(r){const{hasSmallDisplay:e}=ct(We());return(t,n)=>(N(),ee("button",{class:it(["kern-btn kern-btn--secondary polar-icon-button",{"polar-icon-button-active":r.active}])},[se("span",{class:it(["kern-icon",{[r.icon]:!0,"polar-icon-button-icon-active":r.active}]),"aria-hidden":"true"},null,2),se("span",s6,qe(r.hint),1),r.tooltipPosition&&!M(e)?(N(),ee("span",{key:0,class:it(["polar-tooltip",`polar-tooltip-${r.tooltipPosition}`]),"aria-hidden":"true"},qe(r.hint),3)):Ye("",!0)],2))}}),c6=".polar-icon-button{&[data-v-c643a442]{position:relative;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);border:none}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}.polar-icon-button-icon-active[data-v-c643a442]{background:var(--kern-color-layout-background-default)}.polar-tooltip{&[data-v-c643a442]{z-index:42;position:absolute;padding:5px 16px;font-family:sans-serif;background:#616161e6;color:#fff;border:2px solid #fff;border-radius:4px;font-size:14px;line-height:22px;white-space:nowrap;pointer-events:none;transition-property:opacity,right,left;transition-duration:.25s;transition-timing-function:ease;opacity:0}&.polar-tooltip-left[data-v-c643a442]{right:calc(100% + .75rem)}&.polar-tooltip-right[data-v-c643a442]{left:calc(100% + .75rem)}}&:hover .polar-tooltip[data-v-c643a442],&:focus-visible .polar-tooltip[data-v-c643a442]{opacity:1}}.polar-icon-button-active{&[data-v-c643a442]{background:var(--kern-color-action-default)}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-action-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}",yp=Ke(l6,[["styles",[c6]],["__scopeId","data-v-c643a442"]]),Lc="fullscreen",vp=Wr("plugins/fullscreen",()=>{const r=We(),e=Q(()=>r.configuration[Lc]),t=Q(()=>e.value.renderType),n=Q(()=>typeof e.value.targetContainer=="string"?document.getElementById(e.value.targetContainer)||document.documentElement:e.value.targetContainer?e.value.targetContainer:r.lightElement||document.documentElement),i=Ce(!1),o=Ce(null);function a(){r.lightElement&&(o.value=r.lightElement.style.cssText,r.lightElement.style.position="fixed",r.lightElement.style.margin="0",r.lightElement.style.top="0",r.lightElement.style.left="0",r.lightElement.style.width="100%",r.lightElement.style.height="100%",r.lightElement.style.zIndex="9999")}async function s(){if(!n.value.requestFullscreen){if(n.value.webkitRequestFullscreen){await n.value.webkitRequestFullscreen(),u();return}a();return}await n.value.requestFullscreen(),u()}async function l(){if(o.value!==null){r.lightElement&&(r.lightElement.style.cssText=o.value),o.value=null;return}if(document.webkitExitFullscreen){await document.webkitExitFullscreen(),u();return}await document.exitFullscreen(),u()}const c=Q({get:()=>o.value!==null||i.value,set:p=>{(p?s:l)().catch(()=>{console.warn(`@polar/polar(plugins/fullscreen/store:110:5)
`,"Failed to toggle fullscreen mode")})}});function u(){i.value=!!(document.fullscreenElement||document.webkitFullscreenElement)}function d(){addEventListener("fullscreenchange",u),addEventListener("webkitfullscreenchange",u)}function h(){removeEventListener("fullscreenchange",u),removeEventListener("webkitfullscreenchange",u)}return{fullscreenEnabled:c,enableSimulatedFullscreen:a,renderType:t,setupPlugin:d,teardownPlugin:h}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await mr(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await mr(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:l}},[],import.meta.url),a=await mr(()=>import("./invisibleStyle-BctMBDPz-CsIl7PKR.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[Lc]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=vp();c.setupPlugin(),await l(c),c.teardownPlugin()}});s.for([{native:!0,webkit:!0,result:!0},{native:!0,webkit:!1,result:!0},{native:!1,webkit:!0,result:!0},{native:!1,webkit:!1,result:!1}])("Fullscreen detection uses webkit prefix if necessary (native=$native, webkit=$webkit)",({native:l,webkit:c,result:u},{store:d})=>{jsdom.window.document.fullscreenElement=l,jsdom.window.document.webkitFullscreenElement=c,dispatchEvent(new Event("fullscreenchange")),r(d.fullscreenEnabled).toBe(u)}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Enable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u,coreStore:d})=>{jsdom.window.document.fullscreenElement=null;const h=t.fn(()=>new Promise(p=>{jsdom.window.document.fullscreenElement=document.createElement("div"),p()}));d.lightElement={...l?{requestFullscreen:h}:{},...c?{webkitRequestFullscreen:h}:{}},u.fullscreenEnabled=!0,r(h).toHaveBeenCalled(),await t.waitUntil(()=>u.fullscreenEnabled),r(u.fullscreenEnabled).toBeTruthy()}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Disable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u})=>{jsdom.window.document.fullscreenElement=document.createElement("div"),dispatchEvent(new Event("fullscreenchange"));const d=t.fn(()=>new Promise(h=>{jsdom.window.document.fullscreenElement=null,h()}));l&&(jsdom.window.document.exitFullscreen=d),c&&(jsdom.window.document.webkitExitFullscreen=d),u.fullscreenEnabled=!1,r(d).toHaveBeenCalled(),await t.waitUntil(()=>!u.fullscreenEnabled),r(u.fullscreenEnabled).toBeFalsy(),delete jsdom.window.document.exitFullscreen,delete jsdom.window.document.webkitExitFullscreen}),s("Enable simulated fullscreen if Fullscreen API is not available",({store:l,coreStore:c})=>{const u=new CSSStyleDeclaration;c.lightElement={style:u},u.cssText="position: relative; width: 400px; height: 300px;",l.fullscreenEnabled=!0,r(l.fullscreenEnabled).toBeTruthy(),r(u.position).toBe("fixed"),l.fullscreenEnabled=!1,r(l.fullscreenEnabled).toBeFalsy(),r(u.position).toBe("relative")})}const u6=Le({__name:"FullscreenUI.ce",setup(r){const e=We(),t=vp(),{fullscreenEnabled:n}=ct(t),i=Q(()=>e.layout==="standard"?"polar-plugin-fullscreen-standard":t.renderType==="iconMenu"?"":"polar-plugin-fullscreen-nine-regions");return(o,a)=>(N(),Te(yp,{class:it(i.value),hint:o.$t(s=>s.button.label,{ns:M(Lc),context:M(n)?"off":"on"}),icon:M(n)?"kern-icon--fullscreen-exit":"kern-icon--fullscreen","tooltip-position":"left",onClick:a[0]||(a[0]=()=>n.value=!M(n))},null,8,["class","hint","icon"]))}}),d6=".polar-icon-button.polar-plugin-fullscreen-standard[data-v-502a0228]{box-shadow:none}.polar-icon-button.polar-plugin-fullscreen-nine-regions[data-v-502a0228]{margin:var(--kern-metric-space-small)}",h6=Ke(u6,[["styles",[d6]],["__scopeId","data-v-502a0228"]]),p6={button:{label:"Vollbildmodus",label_off:"Vollbildmodus deaktivieren",label_on:"Vollbildmodus aktivieren"}},g6={button:{label:"Fullscreen mode",label_off:"Disable fullscreen mode",label_on:"Enable fullscreen mode"}},f6=[{type:"de",resources:p6},{type:"en",resources:g6}];function WP(r={}){return{id:Lc,component:h6,locales:f6,storeModule:vp,options:r}}const m6=100,y6=100,Su={undefinedBoundaryLayer:Symbol.for("Boundary Layer undefined"),undefinedBoundarySource:Symbol.for("Boundary Source undefined"),sourceNotReady:Symbol.for("Source not ready")};async function v6(r){let e=0;for(;r.getState()!=="ready"||r.getFeatures().length===0;)if(e++<m6)await new Promise(t=>{setTimeout(t,y6)});else return!1;return!0}async function k6(r,e,t){if(typeof e>"u")return!0;const n=r.getLayers().getArray().find(o=>o.get("id")===e);if(!(n instanceof lr))return console.error(`@polar/polar(lib/passesBoundaryCheck:61:3)
`,`No layer configured to match boundaryLayerId "${e}".`),Su.undefinedBoundaryLayer;const i=n.getSource();return i instanceof sr?await v6(i)?i.getFeatures().some(o=>o.getGeometry()?.intersectsCoordinate(t)):(console.error(`@polar/polar(lib/passesBoundaryCheck:79:3)
`,`Layer with boundaryLayerId "${e}" did not load or is featureless.`),Su.sourceNotReady):(console.error(`@polar/polar(lib/passesBoundaryCheck:70:3)
`,`Layer with boundaryLayerId "${e}" missing source.`),Su.undefinedBoundarySource)}const ta=Wr("plugins/iconMenu",()=>{const r=We(),e=Ce([]),t=Ce([]),n=Ce(null),i=Ce(null),o=Q(()=>r.configuration.iconMenu?.buttonComponent?Pi(r.configuration.iconMenu.buttonComponent):null);function a(){e.value=(r.configuration.iconMenu?.menus||[]).map(p=>p.filter(({plugin:{id:f}})=>{const y=r.configuration[f]?.displayComponent;return typeof y=="boolean"?y:!0})),t.value=(r.configuration.iconMenu?.focusMenus||[]).filter(({plugin:{id:p}})=>{const f=r.configuration[p]?.displayComponent;return typeof f=="boolean"?f:!0}),e.value.concat(t.value).flat().forEach(({plugin:p})=>{r.addPlugin(vt(p,{independent:!1}))}),e.value.map(p=>p.map(f=>vt(f,{plugin:{component:Pi(f.plugin.component)}}))),t.value.map(p=>vt(p,{plugin:{component:Pi(p.plugin.component)}}));const d=r.configuration.iconMenu?.initiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&d&&l(d);const h=r.configuration.iconMenu?.focusInitiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&h&&c(h)}function s(){}function l(d){e.value.flat().find(({plugin:{id:h}})=>h===d)&&(n.value=d,u(d))}function c(d){t.value.find(({plugin:{id:h}})=>h===d)&&(i.value=d,u(d,!0))}function u(d,h=!1){const p=(h?t.value:e.value.flat()).find(({plugin:{id:f}})=>f===d);if(!p){console.error(`@polar/polar(plugins/iconMenu/store:120:4)
`,`Menu with id ${d} could not be found.`);return}if(!p.plugin.component){console.error(`@polar/polar(plugins/iconMenu/store:124:4)
`,`The plugin ${p.plugin.id} does not have any component to display and thus can not be opened in the moveHandle.`);return}r.hasWindowSize&&r.hasSmallWidth&&(h&&n.value!==null?n.value=null:!h&&i.value!==null&&(i.value=null)),r.setMoveHandle({closeFunction:()=>{if(h){i.value=null;return}n.value=null},closeLabel:_t(f=>f.mobileCloseButton,{ns:"iconMenu",plugin:_t(f=>f.hints[p.plugin.id],{ns:"iconMenu"})}),component:p.plugin.component,plugin:"iconMenu"})}return{menus:e,focusMenus:t,open:n,focusOpen:i,buttonComponent:o,openInMoveHandle:u,openMenuById:l,openFocusMenuById:c,setupPlugin:a,teardownPlugin:s}}),b6=Le({__name:"NineRegionsButton.ce",props:{icon:{type:String},id:{type:String},hint:{type:String}},setup(r){const e=r,t=ta(),{open:n}=ct(t),i=Q(()=>n.value===e.id),o=ym("updateMaxWidth");function a(){n.value===e.id?(n.value=null,We().setMoveHandle(null)):(n.value=e.id,t.openInMoveHandle(e.id)),o()}return(s,l)=>(N(),Te(yp,{active:i.value,hint:r.hint,icon:r.icon,"tooltip-position":"left",onClick:a},null,8,["active","hint","icon"]))}}),x6=Le({__name:"NineRegionsMenu.ce",setup(r){const e=ta(),{clientHeight:t,deviceIsHorizontal:n,hasSmallWidth:i,hasWindowSize:o}=ct(We()),{buttonComponent:a,open:s}=ct(e),l=Ce("inherit"),c=pi("pluginComponent"),u=Q(()=>e.menus.flat()),d=Q(()=>u.value.length>1),h=Q(()=>o.value?"inherit":`calc(${t.value}px - ${n.value?"calc(100% + 1.5em)":"1em"})`);yt(n,f=>{f||p()}),Wi(()=>{addEventListener("resize",p),p()}),Hl(()=>{removeEventListener("resize",p)});function p(){Yi(()=>{if(c.value?.[0])if(o.value)l.value="inherit";else{const{left:f,width:y}=c.value[0].$el.getBoundingClientRect();l.value=`${y+f}px`}})}return gk("updateMaxWidth",p),(f,y)=>(N(),Te(Qt(d.value?"ul":"div"),{class:"polar-plugin-icon-menu-list"},{default:Ir(()=>[(N(!0),ee(lt,null,Lt(u.value,({plugin:m,icon:b},k)=>(N(),Te(Qt(d.value?"li":"div"),{key:k,class:it(M(n)?"polar-plugin-icon-menu-list-item-horizontal":"polar-plugin-icon-menu-list-item")},{default:Ir(()=>[b===void 0?(N(),Te(Qt(m.component),{key:0})):(N(),ee(lt,{key:1},[M(a)?(N(),Te(Qt(M(a)),{key:0,id:m.id,icon:b,hint:f.$t(C=>C.hints[m.id],{ns:"iconMenu"})},null,8,["id","icon","hint"])):(N(),Te(b6,{key:1,id:m.id,icon:b,hint:f.$t(C=>C.hints[m.id],{ns:"iconMenu"})},null,8,["id","icon","hint"])),M(s)===m.id&&(!M(o)||!M(i))?(N(),Te(Qt(m.component),{key:2,ref_for:!0,ref_key:"pluginComponent",ref:c,class:it([M(n)?"polar-plugin-icon-menu-list-item-content-horizontal":"polar-plugin-icon-menu-list-item-content","polar-plugin-icon-menu-list-item-content-scrollable-y"]),style:ci(`max-height: ${h.value}; max-width: ${l.value}`)},null,8,["class","style"])):Ye("",!0)],64))]),_:2},1032,["class"]))),128))]),_:1}))}}),w6=".polar-plugin-icon-menu-list[data-v-3485794c]{position:relative;list-style:none;padding:0;margin:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item-horizontal[data-v-3485794c]{float:left;margin-left:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item[data-v-3485794c]{margin-bottom:var(--kern-metric-space-small);z-index:1}.polar-plugin-icon-menu-list-item-content[data-v-3485794c]{position:absolute;white-space:nowrap;top:0;right:calc(100% + var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-horizontal[data-v-3485794c]{position:absolute;white-space:nowrap;top:calc(100% + var(--kern-metric-space-small));right:calc(-1 * var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-scrollable-y[data-v-3485794c]{z-index:1;overflow-y:auto;scrollbar-gutter:stable}",_6=Ke(x6,[["styles",[w6]],["__scopeId","data-v-3485794c"]]),T6={class:"polar-plugin-icon-menu-focus-list-wrapper"},C6=["onClick"],E6={class:"kern-label"},M6=Le({__name:"StandardFocusMenu.ce",props:{menus:{type:Array}},setup(r){const e=r,t=We(),{clientHeight:n,hasSmallWidth:i,hasWindowSize:o,moveHandleTop:a}=ct(t),s=ta(),l=Ce(null),c=Q(()=>`bottom: ${o.value&&a.value!==null?Math.min(n.value-a.value,n.value/4)/16:t.getPluginStore("footer")===null?0:1.5}rem`),u=Q(()=>o.value?"inherit":`calc(${t.clientHeight}px - ${t.deviceIsHorizontal?"calc(100% + 1.5em)":"1em"})`);function d(h){s.focusOpen===h?(s.focusOpen=null,l.value=null,t.setMoveHandle(null)):(s.focusOpen=h,l.value=Pi(e.menus.find(({plugin:p})=>p.id===h).plugin.component),s.openInMoveHandle(h,!0))}return(h,p)=>(N(),ee("div",T6,[l.value&&(!M(o)||!M(i))?(N(),Te(Qt(l.value),{key:0,class:"polar-plugin-icon-menu-focus-list-content",style:ci(`max-height: ${u.value}`)},null,8,["style"])):Ye("",!0),se("ul",{class:"polar-plugin-icon-menu-focus-list",style:ci(c.value)},[(N(!0),ee(lt,null,Lt(r.menus,({buttonClass:f,icon:y,plugin:m})=>(N(),ee("li",{key:m.id,class:"polar-plugin-icon-menu-focus-list-item"},[se("button",{class:it(["kern-btn kern-btn--secondary polar-plugin-icon-menu-button",f]),onClick:()=>d(m.id)},[se("span",{class:it(["kern-icon",y]),"aria-hidden":"true"},null,2),se("span",E6,qe(M(_t)(b=>b.hints[m.id],{ns:"iconMenu"})),1)],10,C6)]))),128))],4)]))}}),S6=".polar-plugin-icon-menu-focus-list-wrapper{&[data-v-7436f112]{display:flex;align-items:center;justify-content:center;gap:.5rem}.polar-plugin-icon-menu-focus-list{&[data-v-7436f112]{list-style:none;position:absolute;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);transition:bottom .25s ease;z-index:1}.polar-plugin-icon-menu-focus-list-item{&[data-v-7436f112]{margin-bottom:0}.polar-plugin-icon-menu-button{&[data-v-7436f112]{box-shadow:none;border:none}&[data-v-7436f112]:focus,&[data-v-7436f112]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}.polar-plugin-icon-menu-button-active{&[data-v-7436f112]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-7436f112]:focus,&[data-v-7436f112]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}}}.polar-plugin-icon-menu-focus-list-content[data-v-7436f112]{z-index:2;position:absolute;top:0;left:0;margin:var(--kern-metric-space-small);white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}",L6=Ke(M6,[["styles",[S6]],["__scopeId","data-v-7436f112"]]),I6={class:"polar-plugin-icon-menu-list"},A6=Le({__name:"StandardMenuList.ce",props:{menus:{type:Array},baseIndex:{default:0,type:Number}},setup(r){const e=We(),{deviceIsHorizontal:t,hasSmallWidth:n,hasWindowSize:i}=ct(e),o=ta(),{open:a}=ct(o),s=Ce("inherit"),l=pi("pluginComponent"),c=Q(()=>i.value?"inherit":`calc(${e.clientHeight}px - ${t.value?"calc(100% + 1.5rem)":e.getPluginStore("footer")===null?"4.5rem":"6.5rem"})`);yt(t,h=>{h||u()}),Wi(()=>{addEventListener("resize",u),u()}),Hl(()=>{removeEventListener("resize",u)});function u(){Yi(()=>{if(l.value?.[0])if(i.value)s.value="inherit";else{const{left:h,width:p}=l.value[0].$el.getBoundingClientRect();s.value=`${p+h}px`}})}function d(h){a.value===h?(a.value=null,e.setMoveHandle(null)):(a.value=h,o.openInMoveHandle(h)),u()}return(h,p)=>(N(),ee("ul",I6,[(N(!0),ee(lt,null,Lt(r.menus,({buttonClass:f,icon:y,plugin:m},b)=>(N(),ee("li",{key:b,class:it(M(t)?"polar-plugin-icon-menu-list-item-horizontal":"polar-plugin-icon-menu-list-item")},[typeof y>"u"?(N(),Te(Qt(m.component),{key:0})):(N(),ee(lt,{key:1},[Pr(yp,{class:it(f),hint:h.$t(k=>k.hints[m.id],{ns:"iconMenu"}),icon:y,"tooltip-position":"left",onClick:()=>d(m.id)},null,8,["class","hint","icon","onClick"]),M(a)===m.id&&(!M(i)||!M(n))?(N(),Te(Qt(m.component),{key:0,ref_for:!0,ref_key:"pluginComponent",ref:l,class:it(M(t)?"polar-plugin-icon-menu-list-item-content-horizontal":"polar-plugin-icon-menu-list-item-content"),style:ci(`max-height: ${c.value}; max-width: ${s.value}`)},null,8,["class","style"])):Ye("",!0)],64))],2))),128))]))}}),P6=".polar-icon-button.polar-plugin-icon-menu-button[data-v-ffef7f9e]{box-shadow:none}.polar-icon-button.polar-plugin-icon-menu-button-active{&[data-v-ffef7f9e]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-ffef7f9e]:focus,&[data-v-ffef7f9e]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}.polar-plugin-icon-menu-list{&[data-v-ffef7f9e]{list-style:none;margin:0;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow)}.polar-plugin-icon-menu-list-item[data-v-ffef7f9e]:nth-child(n+2){margin-top:3px}.polar-plugin-icon-menu-list-item-horizontal[data-v-ffef7f9e]{float:left}.polar-plugin-icon-menu-list-item-horizontal[data-v-ffef7f9e]:nth-child(n+2){margin-left:3px}.polar-plugin-icon-menu-list-item-content[data-v-ffef7f9e]{z-index:2;position:absolute;right:calc(100% + .5rem);top:0;white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}.polar-plugin-icon-menu-list-item-content-horizontal[data-v-ffef7f9e]{z-index:1;position:absolute;top:calc(100% + .5rem);right:0;white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}",N6=Ke(A6,[["styles",[P6]],["__scopeId","data-v-ffef7f9e"]]),D6=Le({__name:"StandardMenu.ce",setup(r){const{deviceIsHorizontal:e}=ct(We()),t=ta(),n=Q(()=>t.menus.map(o=>o.map(a=>vt(a,{buttonClass:[We().layout==="standard"?"polar-plugin-icon-menu-button":"",t.open===a.plugin.id?" polar-plugin-icon-menu-button-active":""].reduce((s,l)=>s.concat(" ",l)),icon:"icon"in a?a.icon:a.plugin.icon})))),i=Q(()=>t.focusMenus.map(o=>vt(o,{buttonClass:t.focusOpen===o.plugin.id?"polar-plugin-icon-menu-button-active":""})));return(o,a)=>(N(),ee(lt,null,[se("div",{class:it(["polar-plugin-icon-menu-list-wrapper",{"polar-plugin-icon-menu-list-wrapper-horizontal":M(e)}])},[(N(!0),ee(lt,null,Lt(n.value,(s,l)=>(N(),Te(N6,{key:l,menus:s,"base-index":l},null,8,["menus","base-index"]))),128))],2),i.value.length?(N(),Te(L6,{key:0,menus:i.value},null,8,["menus"])):Ye("",!0)],64))}}),O6=".polar-plugin-icon-menu-list-wrapper[data-v-c38a42bc]{position:absolute;right:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:var(--kern-metric-space-x-small);margin:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-wrapper-horizontal[data-v-c38a42bc]{flex-direction:row}",R6=Ke(D6,[["styles",[O6]],["__scopeId","data-v-c38a42bc"]]),F6=Le({__name:"IconMenu.ce",setup(r){const{layout:e}=ct(We());return(t,n)=>M(e)==="standard"?(N(),Te(R6,{key:0})):(N(),Te(_6,{key:1}))}}),j6={mobileCloseButton:"{{plugin}} schlieen",hints:{attributions:"Quellennachweis",draw:"Zeichenwerkzeuge",filter:"Filter",layerChooser:"Kartenauswahl",gfi:"Objektliste"}},q6={mobileCloseButton:"Close {{plugin}}",hints:{attributions:"Attributions",draw:"Draw tools",filter:"Filter",layerChooser:"Choose map",gfi:"Feature list"}},z6=[{type:"de",resources:j6},{type:"en",resources:q6}],$6="iconMenu";function KP(r){return{id:$6,component:F6,locales:z6,storeModule:ta,options:r}}const Dt=[null,"http://www.opengis.net/wms","http://www.opengis.net/sld"];function hs(r){return Jl(r[0].version,"1.3")>=0}const U6=we(Dt,{Service:A(u8),Capability:A(c8)}),G6=we(Dt,{Request:A(k8),Exception:A(g8),Layer:A(f8),UserDefinedSymbolization:A(s8)});let B6=class extends dh{constructor(){super(),this.version=void 0}readFromNode(e){return this.version=e.getAttribute("version").trim(),ie({version:this.version},U6,e,[])||null}};const ky={Name:A(ue),Title:A(ue),Abstract:A(ue),KeywordList:A(Cy),OnlineResource:A(Vo),ContactInformation:A(d8),Fees:A(ue),AccessConstraints:A(ue)},V6=we(Dt,ky),H6=we(Dt,{...ky,LayerLimit:A(Ut),MaxWidth:A(Ut),MaxHeight:A(Ut)}),Z6=we(Dt,{ContactPersonPrimary:A(h8),ContactPosition:A(ue),ContactAddress:A(p8),ContactVoiceTelephone:A(ue),ContactFacsimileTelephone:A(ue),ContactElectronicMailAddress:A(ue)}),Y6=we(Dt,{ContactPerson:A(ue),ContactOrganization:A(ue)}),W6=we(Dt,{AddressType:A(ue),Address:A(ue),City:A(ue),StateOrProvince:A(ue),PostCode:A(ue),Country:A(ue)}),K6=we(Dt,{Format:xe(ue)}),by={Name:A(ue),Title:A(ue),Abstract:A(ue),KeywordList:A(Cy),BoundingBox:Ze(_y),Dimension:Ze(m8),Attribution:A(a8),AuthorityURL:Ze(w8),Identifier:Ze(ue),MetadataURL:Ze(_8),DataURL:Ze(Fn),FeatureListURL:Ze(Fn),Style:Ze(T8),Layer:Ze(Ic)},xy=we(Dt,{...by,SRS:Ze(ue),Extent:A(y8),ScaleHint:Ze(v8),LatLonBoundingBox:A((r,e)=>_y(r,e,!1)),Layer:Ze(Ic)}),wy=we(Dt,{...by,CRS:Ze(ue),EX_GeographicBoundingBox:A(l8),MinScaleDenominator:A(Ii),MaxScaleDenominator:A(Ii),Layer:Ze(Ic)}),Q6=we(Dt,{Title:A(ue),OnlineResource:A(Vo),LogoURL:A(Ty)}),X6=we(Dt,{westBoundLongitude:A(Ii),eastBoundLongitude:A(Ii),southBoundLatitude:A(Ii),northBoundLatitude:A(Ii)}),J6=we(Dt,{GetCapabilities:A(da),GetMap:A(da),GetFeatureInfo:A(da),DescribeLayer:A(da),GetLegendGraphic:A(da)}),e8=we(Dt,{Format:Ze(ue),DCPType:Ze(b8)}),t8=we(Dt,{HTTP:A(x8)}),r8=we(Dt,{Get:A(Fn),Post:A(Fn)}),n8=we(Dt,{Name:A(ue),Title:A(ue),Abstract:A(ue),LegendURL:Ze(Ty),StyleSheetURL:A(Fn),StyleURL:A(Fn)}),i8=we(Dt,{Format:A(ue),OnlineResource:A(Vo)}),o8=we(Dt,{Keyword:xe(ue)});function a8(r,e){return ie({},Q6,r,e)}function s8(r,e){return{SupportSLD:!!fr(r.getAttribute("SupportSLD")),UserLayer:!!fr(r.getAttribute("UserLayer")),UserStyle:!!fr(r.getAttribute("UserStyle")),RemoteWFS:!!fr(r.getAttribute("RemoteWFS")),InlineFeatureData:!!fr(r.getAttribute("InlineFeatureData")),RemoteWCS:!!fr(r.getAttribute("RemoteWCS"))}}function _y(r,e,t=!0){const n=[jr(r.getAttribute("minx")),jr(r.getAttribute("miny")),jr(r.getAttribute("maxx")),jr(r.getAttribute("maxy"))],i=[jr(r.getAttribute("resx")),jr(r.getAttribute("resy"))],o={extent:n,res:i};return t&&(hs(e)?o.crs=r.getAttribute("CRS"):o.srs=r.getAttribute("SRS")),o}function l8(r,e){const t=ie({},X6,r,e);if(!t)return;const n=t.westBoundLongitude,i=t.southBoundLatitude,o=t.eastBoundLongitude,a=t.northBoundLatitude;if(!(n===void 0||i===void 0||o===void 0||a===void 0))return[n,i,o,a]}function c8(r,e){return ie({},G6,r,e)}function u8(r,e){return ie({},hs(e)?H6:V6,r,e)}function d8(r,e){return ie({},Z6,r,e)}function h8(r,e){return ie({},Y6,r,e)}function p8(r,e){return ie({},W6,r,e)}function g8(r,e){return ie([],K6,r,e)}function f8(r,e){const t=ie({},hs(e)?wy:xy,r,e);return t.Layer===void 0?Object.assign(t,Ic(r,e)):t}function Ic(r,e){const t=hs(e),n=e[e.length-1],i=ie({},t?wy:xy,r,e);if(!i)return;let o=fr(r.getAttribute("queryable"));o===void 0&&(o=n.queryable),i.queryable=o!==void 0?o:!1;let a=Ln(r.getAttribute("cascaded"));a===void 0&&(a=n.cascaded),i.cascaded=a;let s=fr(r.getAttribute("opaque"));s===void 0&&(s=n.opaque),i.opaque=s!==void 0?s:!1;let l=fr(r.getAttribute("noSubsets"));l===void 0&&(l=n.noSubsets),i.noSubsets=l!==void 0?l:!1;let c=jr(r.getAttribute("fixedWidth"));c||(c=n.fixedWidth),i.fixedWidth=c;let u=jr(r.getAttribute("fixedHeight"));u||(u=n.fixedHeight),i.fixedHeight=u;const d=["Style","AuthorityURL"];t?d.push("CRS"):d.push("SRS","Dimension"),d.forEach(function(p){if(p in n){const f=i[p]||[];i[p]=f.concat(n[p])}});const h=["BoundingBox","Attribution"];return t?h.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):h.push("LatLonBoundingBox","ScaleHint","Extent"),h.forEach(function(p){if(!(p in i)){const f=n[p];i[p]=f}}),i}function m8(r,e){const t={name:r.getAttribute("name"),units:r.getAttribute("units"),unitSymbol:r.getAttribute("unitSymbol")};return hs(e)&&Object.assign(t,{default:r.getAttribute("default"),multipleValues:fr(r.getAttribute("multipleValues")),nearestValue:fr(r.getAttribute("nearestValue")),current:fr(r.getAttribute("current")),values:ue(r)}),t}function y8(r,e){return{name:r.getAttribute("name"),default:r.getAttribute("default"),nearestValue:fr(r.getAttribute("nearestValue"))}}function v8(r,e){return{min:jr(r.getAttribute("min")),max:jr(r.getAttribute("max"))}}function Fn(r,e){return ie({},i8,r,e)}function k8(r,e){return ie({},J6,r,e)}function b8(r,e){return ie({},t8,r,e)}function x8(r,e){return ie({},r8,r,e)}function da(r,e){return ie({},e8,r,e)}function Ty(r,e){const t=Fn(r,e);if(t){const n=[Ln(r.getAttribute("width")),Ln(r.getAttribute("height"))];return t.size=n,t}}function w8(r,e){const t=Fn(r,e);if(t)return t.name=r.getAttribute("name"),t}function _8(r,e){const t=Fn(r,e);if(t)return t.type=r.getAttribute("type"),t}function T8(r,e){return ie({},n8,r,e)}function Cy(r,e){return ie([],o8,r,e)}function C8({legendURL:r,layers:e="",url:t,typ:n,format:i,version:o}){return r?r==="ignore"?[]:[r]:e.split(",").filter(a=>a).map(a=>`${t}?SERVICE=${n}&REQUEST=GetLegendGraphic&FORMAT=${i||"image/png"}&VERSION=${o}&LAYER=${a}`)}const Uf=(r,e)=>r.filter(t=>{let{minZoom:n,maxZoom:i}=t;return typeof n>"u"&&(n=0),typeof i>"u"&&(i=Number.MAX_SAFE_INTEGER),n<=e&&e<=i});function jl(r,e){if(Array.isArray(r))return r.map(t=>jl(t,e)).find(t=>t!==null)||null;if(typeof r=="object"){if(r.Name===e)return r;if(r.Layer)return jl(r.Layer,e)}return null}const E8=r=>(Array.isArray(r)?r:[r]).map(e=>(Array.isArray(e.LegendURL)?e.LegendURL:typeof e.LegendURL=="object"?[e.LegendURL]:[]).map(t=>t.OnlineResource)).flat(1);function M8(r,e){return jl(r.Capability.Layer,e)?.Title||""}function S8(r,e){const t=jl(r.Capability.Layer,e)?.Style;return t&&E8(t)[0]||""}function L8(r,e){const t=e[r];if(t)try{return new B6().read(t)}catch(n){console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:21:4)
`,`Error reading xml '${t}' for id '${r}'.`,n)}return null}function I8(r,e){return Promise.all(r.map(async t=>{const{id:n}=t,i=t.options?.layers;if(i&&(i.title===!0||i.legend===!0)){if(typeof e[n]=="string")return console.warn(`@polar/polar(plugins/layerChooser/utils/capabilities:41:6)
`,`Re-fired loadCapabilities on id '${n}' albeit the GetCapabilities have already been successfully fetched. No re-fetch will occur.`),[n,null];const o=yi.getLayerWhere({id:t.id});if(!o||!o.url||!o.version||!o.typ)return console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:49:6)
`,`Missing data for service '${o}' with id '${n}'.`),[n,null];const a=`${o.url}?service=${o.typ}&version=${o.version}&request=GetCapabilities`;try{const s=await fetch(a);return[n,await s.text()]}catch(s){return console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:61:6)
`,`Capabilities from ${a} could not be fetched.`,s),[n,null]}}return[n,null]})).then(t=>t.reduce((n,[i,o])=>vt(n,{[i]:o}),{}))}function A8(r,e,t){const n=yi.getLayerWhere({id:r}),i=L8(r,e);return{[r]:(t.order?.split(",")||n.layers.split(",")).map(o=>({layerName:o,displayName:t.title===!0&&i?M8(i,o):t.title===!1?o:t.title?.[o]||o,layerImage:t.legend===!0&&i?S8(i,o):t.legend===!1?null:t.legend?.[o]||null}))}}const P8=r=>r.reduce(([e,t],n)=>yi.getLayerWhere({id:n.id})===null?(console.error(`@polar/polar(plugins/layerChooser/utils/getBackgroundsAndMasks:15:5)
`,`Layer ${n.id} not found in service register. This is a configuration issue. The map might behave in unexpected ways.`,n),[e,t]):n.type==="background"?[[...e,n],t]:[e,[...t,n]],[[],[]]),N8=r=>r.map(({id:e,name:t})=>({id:e,name:t})).map(e=>vt(e,{rawLayer:yi.getLayerWhere({id:e.id})})).filter(({rawLayer:e})=>e!==null).reduce((e,t)=>{const n=C8(t.rawLayer)[0];return typeof n=="string"?{...e,[t.id]:{name:t.name,url:n}}:e},{}),ra=Wr("plugins/layerChooser",()=>{const r=We(),e=Ce({}),t=Ce([]),n=Ce([]),i=Ce([]),o=Ce([]),a=Ce(""),s=Ce([]),l=Ce({}),c=Ce(""),u=Ce({}),d=Ce(""),h=Q(()=>t.value.reduce((E,{id:R})=>({...E,[R]:i.value.findIndex(({id:F})=>F===R)===-1}),{})),p=Q(()=>f.value.reduce((E,{id:R})=>({...E,[R]:o.value.findIndex(({id:F})=>F===R)===-1}),{})),f=Q(()=>n.value.filter(({hideInMenu:E})=>!E)),y=Q(()=>f.value.reduce((E,R)=>vt(E,{[R.type]:Array.isArray(E[R.type])?E[R.type].concat(R):[R]}),{}));function m(){const[E,R]=P8(r.configuration.layers);t.value=E,n.value=R,E.length===0&&console.error(`@polar/polar(plugins/layerChooser/store:100:4)
`,'No layers of type "background" have been configured.'),a.value=E.find(({visibility:F})=>F)?.id||"",s.value=R.filter(({visibility:F})=>F).map(({id:F})=>F),C(),r.map.on("moveend",C),l.value=N8(r.configuration.layers),I8(r.configuration.layers,e.value).then(F=>{e.value=F,r.configuration.layers.forEach(le=>{const oe=le.options?.layers;oe&&(u.value=vt(u.value,A8(le.id,F,oe)))})})}function b(){r.map.un("moveend",C)}yt(a,E=>{r.map.getLayers().getArray().forEach(R=>{t.value.find(({id:F})=>F===R.get("id"))&&R.setVisible(R.get("id")===E)})}),yt(s,E=>{k(E)});function k(E){r.map.getLayers().getArray().forEach(R=>{n.value.find(({id:F})=>F===R.get("id"))&&R.setVisible(E.includes(R.get("id")))})}function C(){const E=r.map.getView().getZoom();i.value=Uf(t.value,E),o.value=Uf(n.value,E);const R=i.value.map(({id:F})=>F);R.includes(a.value)||(a.value=R[0]||""),k(o.value.map(({id:F})=>F).filter(F=>s.value.includes(F)))}function T(E){const R=r.map.getLayers().getArray().find(F=>F.get("id")===d.value).getSource();if(!R){console.error(`@polar/polar(plugins/layerChooser/store:208:4)
`,`Action 'toggleOpenedOptionsServiceLayer' failed on ${d.value}. Layer not found in OpenLayers or source not initialized in OpenLayers.`);return}R.updateParams({...R.getParams(),LAYERS:E})}return{activeBackgroundId:a,activeMaskIds:s,backgrounds:t,capabilities:e,disabledBackgrounds:h,disabledMasks:p,layersWithLegends:l,layersWithOptions:u,masksSeparatedByType:y,shownMasks:f,openedLegendId:c,openedOptionsId:d,setupPlugin:m,teardownPlugin:b,toggleOpenedOptionsServiceLayer:T}}),Ar="layerChooser",D8=["id"],O8={class:"kern-label"},Ey=Le({__name:"LayerInformationCard.ce",props:{identifier:{type:String},idName:{type:String}},setup(r){const e=r,t=We(),n=ra();Wi(()=>{t.shadowRoot?.getElementById(`polar-layer-chooser-${e.identifier}-back-button`)?.focus()});function i(){const o=n[e.idName];n[e.idName]="",Yi(()=>{t.shadowRoot?.getElementById(`polar-layer-chooser-${e.identifier}-${o}-button`)?.focus()})}return(o,a)=>(N(),Te(Sc,null,{default:Ir(()=>[se("button",{id:`polar-layer-chooser-${r.identifier}-back-button`,class:"kern-btn kern-btn--secondary",onClick:i},[a[0]||(a[0]=se("span",{class:"kern-icon kern-icon--arrow-back","aria-hidden":"true"},null,-1)),se("span",O8,qe(o.$t(s=>s.returnToLayers,{ns:M(Ar)})),1)],8,D8),Yd(o.$slots,"default")]),_:3}))}}),R8={class:"kern-label",for:"polar-layer-chooser-legend-anchor"},F8=["href","aria-label"],j8=["src","alt"],q8=Le({__name:"LayerLegend.ce",setup(r){const e=ra(),t=Q(()=>e.layersWithLegends[e.openedLegendId]);return(n,i)=>(N(),Te(Ey,{identifier:"legend","id-name":"openedLegendId",class:"legend-card"},{default:Ir(()=>[se("label",R8,qe(n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)})),1),se("a",{id:"polar-layer-chooser-legend-anchor",href:t.value.url,"aria-label":n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)}),target:"_blank"},[se("img",{src:t.value.url,alt:n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)})},null,8,j8)],8,F8)]),_:1}))}}),z8=".legend-card[data-v-e248e19b]{overflow-y:scroll}",$8=Ke(q8,[["styles",[z8]],["__scopeId","data-v-e248e19b"]]),U8={class:"kern-form-check"},G8=["id","name","value","type","disabled"],B8=["for"],V8=Le({__name:"PolarInput.ce",props:Qi({idSuffix:{type:String},label:{type:String},type:{type:null},value:{type:String},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=Nn(r,"modelValue");return(t,n)=>(N(),ee("div",U8,[Ki(se("input",{id:`polar-${r.type}-${r.value}-${r.idSuffix}`,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value=i),class:it(`polar-input kern-form-check__${r.type}`),name:r.value,value:r.value,type:r.type,disabled:r.disabled},null,10,G8),[[fk,e.value]]),se("label",{class:"polar-input kern-label",for:`polar-${r.type}-${r.value}-${r.idSuffix}`},qe(r.label),9,B8)]))}}),H8=".kern-form-check__radio[disabled],.kern-form-check__checkbox[disabled]{&[data-v-83635f17]:hover{border:var(--kern-metric-border-width-default) solid var(--kern-color-form-input-border)}}.kern-form-check__checkbox[disabled]{&[data-v-83635f17]:checked:hover:before{margin:var(--kern-metric-space-x-small)}}",Fd=Ke(V8,[["styles",[H8]],["__scopeId","data-v-83635f17"]]),Z8={class:"kern-fieldset"},Y8={class:"kern-label"},W8={class:"kern-fieldset__body"},K8=Le({__name:"PolarInputGroup.ce",props:{legend:{type:String}},setup(r){return(e,t)=>(N(),ee("fieldset",Z8,[se("legend",Y8,qe(r.legend),1),se("div",W8,[Yd(e.$slots,"default",{},void 0,!0)])]))}}),Q8=".kern-fieldset[data-v-69d29a6c]{width:100%}.kern-fieldset__body[data-v-69d29a6c]{width:100%;padding:var(--kern-metric-space-small) 0;gap:var(--kern-metric-space-small);border-radius:var(--kern-metric-border-radius-default);background-color:var(--kern-color-layout-background-hued)}.kern-label[data-v-69d29a6c]{padding-left:.75rem}[data-v-69d29a6c] .kern-form-check{align-items:center;gap:var(--kern-metric-space-large);margin-left:.75rem;padding-right:0}",jd=Ke(K8,[["styles",[Q8]],["__scopeId","data-v-69d29a6c"]]),X8=["src","alt"],J8=Le({__name:"LayerOptions.ce",setup(r){const e=We(),t=ra(),{openedOptionsId:n}=ct(t),i=Q(()=>t.layersWithOptions[n.value]),o=Ce(i.value.map(({layerName:l})=>l).reverse()),a=Q({get:()=>o.value,set:l=>{o.value=l,t.toggleOpenedOptionsServiceLayer(l)}}),s=Q(()=>e.configuration.layers.find(({id:l})=>l===n.value)?.name||"");return(l,c)=>(N(),Te(Ey,{identifier:"options","id-name":"openedOptionsId"},{default:Ir(()=>[Pr(jd,{legend:l.$t(u=>u.layerHeader,{ns:M(Ar),name:s.value})},{default:Ir(()=>[(N(!0),ee(lt,null,Lt(i.value,({displayName:u,layerImage:d,layerName:h})=>(N(),ee("div",{key:`polar-layer-chooser-mask-options-checkbox-${h}`,class:"polar-layer-chooser-options-checkbox-wrapper"},[d?(N(),ee("img",{key:0,src:d,alt:h},null,8,X8)):Ye("",!0),Pr(Fd,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=p=>a.value=p),"id-suffix":"polar-layer-chooser-mask-options",label:u,type:"checkbox",value:h,class:it(i.value.some(({layerImage:p})=>p!==null)?"polar-layer-chooser-options-checkbox":"")},null,8,["modelValue","label","value","class"])]))),128))]),_:1},8,["legend"])]),_:1}))}}),eL=".polar-layer-chooser-options-checkbox-wrapper[data-v-1ce80731]{display:flex;justify-content:flex-start;align-items:center;gap:var(--kern-metric-space-large)}.kern-form-check.polar-layer-chooser-options-checkbox[data-v-1ce80731]{margin-left:0}.kern-btn[data-v-1ce80731]{border:none;min-height:inherit;padding:var(--kern-metric-space-x-small)}.kern-label[data-v-1ce80731]{padding:0;padding-left:var(--kern-metric-space-small)}",tL=Ke(J8,[["styles",[eL]],["__scopeId","data-v-1ce80731"]]),rL=["id","disabled"],nL={class:"kern-label kern-sr-only"},Gf=Le({__name:"LegendButton.ce",props:{disabled:{type:Boolean},id:{type:String}},setup(r){return(e,t)=>(N(),ee("button",{id:`polar-layer-chooser-legend-${r.id}-button`,class:"kern-btn kern-btn--tertiary",disabled:r.disabled},[t[0]||(t[0]=se("span",{class:"kern-icon kern-icon--info","aria-hidden":"true"},null,-1)),se("span",nL,qe(e.$t(n=>n.legend.open,{ns:M(Ar)})),1)],8,rL))}}),iL=["id","disabled","onClick"],oL={class:"kern-label kern-sr-only"},aL=Le({__name:"LayerSelection.ce",setup(r){const e=ra(),{activeBackgroundId:t,activeMaskIds:n,backgrounds:i,disabledBackgrounds:o,disabledMasks:a,layersWithOptions:s,masksSeparatedByType:l,openedLegendId:c,shownMasks:u}=ct(e),d=Q(()=>Object.keys(e.layersWithLegends));function h(p){e.openedOptionsId=p}return(p,f)=>(N(),Te(Sc,{id:"polar-layer-chooser-card"},{default:Ir(()=>[M(i).length?(N(),Te(jd,{key:0,legend:p.$t(y=>y.backgroundTitle,{ns:M(Ar)})},{default:Ir(()=>[(N(!0),ee(lt,null,Lt(M(i),({name:y,id:m})=>(N(),ee("div",{key:`polar-layer-chooser-background-radio-${m}`,class:"polar-layer-chooser-input-wrapper"},[Pr(Fd,{modelValue:M(t),"onUpdate:modelValue":f[0]||(f[0]=b=>Vu(t)?t.value=b:null),"id-suffix":"polar-layer-chooser-background",label:y,type:"radio",value:m,disabled:M(o)[m]},null,8,["modelValue","label","value","disabled"]),d.value.includes(m)?(N(),Te(Gf,{key:0,id:m,disabled:M(o)[m],onClick:b=>c.value=m},null,8,["id","disabled","onClick"])):Ye("",!0)]))),128))]),_:1},8,["legend"])):Ye("",!0),M(u).length?(N(!0),ee(lt,{key:1},Lt(Object.entries(M(l)),([y,m])=>(N(),Te(jd,{key:`polar-layer-chooser-mask-${y}`,legend:p.$t(b=>b[`${y}Title`],{ns:M(Ar)})},{default:Ir(()=>[(N(!0),ee(lt,null,Lt(m,({name:b,id:k})=>(N(),ee("div",{key:`polar-layer-chooser-mask-${y}-checkbox-${k}`,class:"polar-layer-chooser-input-wrapper"},[Pr(Fd,{modelValue:M(n),"onUpdate:modelValue":f[1]||(f[1]=C=>Vu(n)?n.value=C:null),"id-suffix":`polar-layer-chooser-mask-${y}`,label:b,type:"checkbox",value:k,disabled:M(a)[k]},null,8,["modelValue","id-suffix","label","value","disabled"]),Object.keys(M(s)).includes(k)?(N(),ee("button",{key:0,id:`polar-layer-chooser-options-${k}-button`,class:"kern-btn kern-btn--tertiary",disabled:M(a)[k],onClick:()=>h(k)},[f[2]||(f[2]=se("span",{class:"kern-icon kern-icon-fill--settings","aria-hidden":"true"},null,-1)),se("span",oL,qe(p.$t(C=>C.layerOptions,{ns:M(Ar)})),1)],8,iL)):d.value.includes(k)?(N(),Te(Gf,{key:1,id:k,disabled:M(a)[k],onClick:C=>c.value=k},null,8,["id","disabled","onClick"])):Ye("",!0)]))),128))]),_:2},1032,["legend"]))),128)):Ye("",!0)]),_:1}))}}),sL="#polar-layer-chooser-card[data-v-c4509e12]{overflow-y:inherit}.polar-layer-chooser-input-wrapper[data-v-c4509e12]{display:flex;justify-content:space-between;align-items:center;gap:var(--kern-metric-space-large)}.kern-btn[data-v-c4509e12]{width:var(--kern-metric-dimension-large);min-height:var(--kern-metric-dimension-large);border:none;border-radius:50%}",lL=Ke(aL,[["styles",[sL]],["__scopeId","data-v-c4509e12"]]),cL=Le({__name:"LayerChooser.ce",setup(r){const e=ra(),t=Q(()=>e.openedLegendId.length!==0),n=Q(()=>e.openedOptionsId.length===0&&!t.value);return(i,o)=>n.value?(N(),Te(lL,{key:0})):t.value?(N(),Te($8,{key:1})):(N(),Te(tL,{key:2}))}}),uL={backgroundTitle:"Hintergrundkarten",maskTitle:"Fachdaten",layerHeader:'Auswahl sichtbarer Ebenen fr Layer "{{name}}"',layerOptions:"Optionen fr Kartenmaterial",legend:{title:"Legende",to:'Legendenbild zu "{{name}}"',open:`$t(legend.to, {ns: ${Ar}}) ffnen`},returnToLayers:"Zurck"},dL={backgroundTitle:"Background maps",maskTitle:"Subject data",layerHeader:'Visible layer selection for layer "{{name}}"',layerOptions:"Map data options",legend:{title:"Legend",to:'"{{name}}" legend image',open:`Open $t(legend.to, {ns: ${Ar}})`},returnToLayers:"Back"},hL=[{type:"de",resources:uL},{type:"en",resources:dL}];function XP(r){return{id:Ar,component:cL,icon:"kern-icon-fill--layers",locales:hL,storeModule:ra,options:r}}class ps extends qo{constructor(e,t,n){super(),n!==void 0&&t===void 0?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new ps(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){const o=this.flatCoordinates,a=e-o[0],s=t-o[1],l=a*a+s*s;if(l<i){if(l===0)for(let c=0;c<this.stride;++c)n[c]=o[c];else{const c=this.getRadius()/Math.sqrt(l);n[0]=o[0]+c*a,n[1]=o[1]+c*s;for(let u=2;u<this.stride;++u)n[u]=o[u]}return n.length=this.stride,l}return i}containsXY(e,t){const n=this.flatCoordinates,i=e-n[0],o=t-n[1];return i*i+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return Fo(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(jo(e,t)){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]?!0:Gb(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],i=e.slice();i[t]=i[0]+n;for(let o=1;o<t;++o)i[t+o]=e[o];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let o=Bb(i,0,e,this.stride);i[o++]=i[0]+t;for(let a=1,s=this.stride;a<s;++a)i[o++]=i[a];i.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),i=this.getStride();this.setCenter(Vb(n,0,n.length,i,e,t,n)),this.changed()}}ps.prototype.transform;function li(r,e){const t=r.length;return e<0?r[e+t]:e>=t?r[e-t]:r[e]}function _o(r,e){const t=r.length;let n=Math.floor(e);const i=e-n;n>=t?n-=t:n<0&&(n+=t);let o=n+1;o>=t&&(o-=t);const a=r[n],s=a[0],l=a[1],c=r[o],u=c[0]-s,d=c[1]-l;return[s+u*i,l+d*i]}const Gs={index:-1,endIndex:NaN,closestTargetDistance:1/0};function My(r,e,t,n){const i=r[0],o=r[1];let a=1/0,s=-1,l=NaN;for(let d=0;d<e.targets.length;++d){const h=e.targets[d],p=h.coordinates;let f=1/0,y;for(let m=0;m<p.length-1;++m){const b=p[m],k=p[m+1],C=Iy(i,o,b,k);C.squaredDistance<f&&(f=C.squaredDistance,y=m+C.along)}f<a&&(a=f,h.ring&&e.targetIndex===d&&(h.endIndex>h.startIndex?y<h.startIndex&&(y+=p.length):h.endIndex<h.startIndex&&y>h.startIndex&&(y-=p.length)),l=y,s=d)}const c=e.targets[s];let u=c.ring;if(e.targetIndex===s&&u){const d=_o(c.coordinates,l),h=t.getPixelFromCoordinate(d),p=t.getPixelFromCoordinate(e.startCoord);vo(h,p)>n&&(u=!1)}if(u){const d=c.coordinates,h=d.length,p=c.startIndex,f=l;if(p<f){const y=Hs(d,p,f);Hs(d,p,f-h)<y&&(l-=h)}else{const y=Hs(d,p,f);Hs(d,p,f+h)<y&&(l+=h)}}return Gs.index=s,Gs.endIndex=l,Gs.closestTargetDistance=a,Gs}function Sy(r,e){const t=[];for(let n=0;n<e.length;++n){const i=e[n].getGeometry();Ly(r,i,t)}return t}function Ly(r,e,t){if(e instanceof Vr){Bs(r,e.getCoordinates(),!1,t);return}if(e instanceof Ji){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i)Bs(r,n[i],!1,t);return}if(e instanceof Zr){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i)Bs(r,n[i],!0,t);return}if(e instanceof eo){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length;s<l;++s)Bs(r,a[s],!0,t)}return}if(e instanceof d0){const n=e.getGeometries();for(let i=0;i<n.length;++i)Ly(r,n[i],t);return}}function Bs(r,e,t,n){const i=r[0],o=r[1];for(let a=0,s=e.length-1;a<s;++a){const l=e[a],c=e[a+1],u=Iy(i,o,l,c);if(u.squaredDistance===0){const d=a+u.along;n.push({coordinates:e,ring:t,startIndex:d,endIndex:d});return}}}function Vs(r,e){return th(r[0],r[1],e[0],e[1])}function Hs(r,e,t){let n,i;e<t?(n=e,i=t):(n=t,i=e);const o=Math.ceil(n),a=Math.floor(i);if(o>a){const l=_o(r,n),c=_o(r,i);return Vs(l,c)}let s=0;if(n<o){const l=_o(r,n),c=li(r,o);s+=Vs(l,c)}if(a<i){const l=li(r,a),c=_o(r,i);s+=Vs(l,c)}for(let l=o;l<a-1;++l){const c=li(r,l),u=li(r,l+1);s+=Vs(c,u)}return s}const Lu={along:0,squaredDistance:0};function Iy(r,e,t,n){const i=t[0],o=t[1],a=n[0],s=n[1],l=a-i,c=s-o;let u=0,d=i,h=o;return(l!==0||c!==0)&&(u=nh(((r-i)*l+(e-o)*c)/(l*l+c*c),0,1),d+=l*u,h+=c*u),Lu.along=u,Lu.squaredDistance=n2(th(r,e,d,h),10),Lu}const Zs={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};let Ys=class extends Nr{constructor(e,t){super(e),this.feature=t}};class pL extends vi{constructor(e){const t=e;t.stopDown||(t.stopDown=Bo),super(t),this.on,this.once,this.un,this.options_=e,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=fL(this.type_),this.stopClick_=!!e.stopClick,this.ignoreNextUpEvent_=!1,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:fn,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const i=this.mode_;if(i==="Circle")n=(o,a,s)=>{const l=a||new ps([NaN,NaN]),c=Gt(o[0]),u=yl(c,Gt(o[o.length-1]));return l.setCenterAndRadius(c,Math.sqrt(u),this.geometryLayout_),l};else{let o;i==="Point"?o=Bt:i==="LineString"?o=Vr:i==="Polygon"&&(o=Zr),n=(a,s,l)=>(s?i==="Polygon"?a[0].length?s.setCoordinates([a[0].concat([a[0][0]])],this.geometryLayout_):s.setCoordinates([],this.geometryLayout_):s.setCoordinates(a,this.geometryLayout_):s=new o(a,this.geometryLayout_),s)}}this.geometryFunction_=n,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new lr({source:new sr({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:gL(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Th,this.freehandCondition_,e.freehand?this.freehandCondition_=Ri:this.freehandCondition_=e.freehandCondition?e.freehandCondition:wl,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(bl.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=Ri:t=e:t=xl,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}setFreehand(e){this.freehand_=e,this.freehand_?this.freehandCondition_=Ri:this.freehandCondition_=this.options_&&this.options_.freehandCondition?this.options_.freehandCondition:wl}getOverlay(){return this.overlay_}getFreehand(){return this.freehand_}handleEvent(e){e.originalEvent.type===Oe.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===$e.POINTERMOVE,n=!0;return!this.freehand_&&this.lastDragTime_&&e.type===$e.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===$e.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===$e.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===$e.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===$e.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===$e.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new wn($e.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),n=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=Yt([n,i]),a=this.traceSource_.getFeaturesInExtent(o);if(a.length===0)return;const s=Sy(e.coordinate,a);s.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:s,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex,i=e.startIndex<=t;n===i?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const i=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),n=o-i+1}else{const i=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),n=i-o+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const i=[];if(t<n){const o=Math.ceil(t);let a=Math.floor(n);a===n&&(a-=1);for(let s=o;s<=a;++s)i.push(li(e.coordinates,s))}else{const o=Math.floor(t);let a=Math.ceil(n);a===n&&(a+=1);for(let s=o;s>=a;--s)i.push(li(e.coordinates,s))}i.length&&this.appendCoordinates(i)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(t.targetIndex===-1){const s=e.map.getPixelFromCoordinate(t.startCoord);if(vo(s,e.pixel)<this.snapTolerance_)return}const n=My(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const s=t.targets[n.index];this.addTracedCoordinates_(s,s.startIndex,n.endIndex)}else{const s=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(s,n.endIndex)}t.targetIndex=n.index;const i=t.targets[t.targetIndex];i.endIndex=n.endIndex;const o=_o(i.coordinates,i.endIndex),a=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(a[0]),Math.round(a[1])]}handleDragEvent(e){this.ignoreNextUpEvent_=!0,super.handleDragEvent(e)}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.ignoreNextUpEvent_||this.toggleTraceState_(e),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_==="Point")&&(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return this.ignoreNextUpEvent_=!1,!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,i=t[0]-n[0],o=t[1]-n[1],a=i*i+o*o;if(this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let i=!1,o=[this.finishCoordinate_];const a=this.mode_;if(a==="Point")n=!0;else if(a==="Circle")n=this.sketchCoords_.length===2;else if(a==="LineString")i=!t&&this.sketchCoords_.length>this.minPoints_;else if(a==="Polygon"){const s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]],t?o=[s[0][0]]:o=[s[0][0],s[0][s[0].length-2]]}if(i){const s=this.getMap();for(let l=0,c=o.length;l<c;l++){const u=o[l],d=s.getPixelFromCoordinate(u),h=e[0]-d[0],p=e[1]-d[1],f=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(h*h+p*p)<=f,n){this.finishCoordinate_=u;break}}}}return n}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Ft(new Bt(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Ft);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new Vr(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=ug(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Ft(new Vr(this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Ft,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new Ys(Zs.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),i=t.getView().getProjection(),o=ug(this.geometryLayout_);let a,s;for(;e.length<o;)e.push(0);this.mode_==="Point"?s=this.sketchCoords_:this.mode_==="Polygon"?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),n.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,o;const a=this.mode_;return a==="LineString"||a==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),this.geometryFunction_(o,t,n)):a==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),i&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let o=0;o<e;++o){let a;if(i==="LineString"||i==="Circle"){if(a=this.sketchCoords_,a.splice(-2,1),a.length>=2){this.finishCoordinate_=a[a.length-2].slice();const s=this.finishCoordinate_.slice();a[a.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(a,t,n),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i==="Polygon"){a=this.sketchCoords_[0],a.splice(-2,1);const s=this.sketchLine_.getGeometry();if(a.length>=2){const l=a[a.length-2].slice();a[a.length-1]=l,this.createOrUpdateSketchPoint_(l)}s.setCoordinates(a),this.geometryFunction_(this.sketchCoords_,t,n)}if(a.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_;const n=e.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,n,i)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,n,i),t=n.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Zo([t])):this.type_==="MultiLineString"?e.setGeometry(new Ji([t])):this.type_==="MultiPolygon"&&e.setGeometry(new eo([t])),this.dispatchEvent(new Ys(Zs.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Ys(Zs.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;n&&this.startDrawing_(e[0]);let i;if(t==="LineString"||t==="Circle")i=this.sketchCoords_;else if(t==="Polygon")i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;n&&i.shift(),i.pop();for(let a=0;a<e.length;a++)this.addToDrawing_(e[a]);const o=e[e.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Ft(new Bt(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Ys(Zs.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function gL(){const r=sh();return function(e,t){return r[e.getGeometry().getType()]}}function fL(r){switch(r){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+r)}}const Bf=0,wa=1,Vf=[0,0,0,0],Lo=[],Iu={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};function Au(r,e,t){let n;switch(e){case"LineString":n=r;break;case"MultiLineString":case"Polygon":n=r[t[0]];break;case"MultiPolygon":n=r[t[1]][t[0]];break}return n}class Pu extends Nr{constructor(e,t,n){super(e),this.features=t,this.mapBrowserEvent=n}}class mL extends vi{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:_0,this.defaultDeleteCondition_=function(n){return dx(n)&&x0(n)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Ri,this.vertexFeature_=null,this.vertexSegments_=null,this.lastCoordinate_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new Xu,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new lr({source:new sr({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:vL(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.traceSource_=e.traceSource||e.source||null,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSegments_=null,this.hitDetection_=null;let t;if(e.features?t=e.features:e.source&&(this.source_=e.source,t=new qt(this.source_.getFeatures()),this.source_.addEventListener(cr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(cr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(Mt.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(Mt.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}setTrace(e){let t;e?e===!0?t=Ri:t=e:t=xl,this.traceCondition_=t}addFeature_(e){const t=e.getGeometry();if(t){const i=this.SEGMENT_WRITERS_[t.getType()];i&&i(e,t)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastCoordinate_),e.addEventListener(Oe.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new qt;const n=this.featuresBeingModified_.getArray();for(let i=0,o=t.length;i<o;++i){const a=t[i].feature;a&&!n.includes(a)&&this.featuresBeingModified_.push(a)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new Pu(Iu.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Oe.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const t=this.rBush_,n=[];t.forEach(function(i){e===i.feature&&n.push(i)});for(let i=n.length-1;i>=0;--i){const o=n[i];for(let a=this.dragSegments_.length-1;a>=0;--a)this.dragSegments_[a][0]===o&&this.dragSegments_.splice(a,1);t.remove(o)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){const n=t.getCoordinates(),i={feature:e,geometry:t,segment:[n,n]};this.rBush_.insert(t.getExtent(),i)}writeMultiPointGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i],s={feature:e,geometry:t,depth:[i],index:i,segment:[a,a]};this.rBush_.insert(t.getExtent(),s)}}writeLineStringGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length-1;i<o;++i){const a=n.slice(i,i+2),s={feature:e,geometry:t,index:i,segment:a};this.rBush_.insert(Yt(a),s)}}writeMultiLineStringGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length-1;s<l;++s){const c=a.slice(s,s+2),u={feature:e,geometry:t,depth:[i],index:s,segment:c};this.rBush_.insert(Yt(c),u)}}}writePolygonGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length-1;s<l;++s){const c=a.slice(s,s+2),u={feature:e,geometry:t,depth:[i],index:s,segment:c};this.rBush_.insert(Yt(c),u)}}}writeMultiPolygonGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length;s<l;++s){const c=a[s];for(let u=0,d=c.length-1;u<d;++u){const h=c.slice(u,u+2),p={feature:e,geometry:t,depth:[s,i],index:u,segment:h};this.rBush_.insert(Yt(h),p)}}}}writeCircleGeometry_(e,t){const n=t.getCenter(),i={feature:e,geometry:t,index:Bf,segment:[n,n]},o={feature:e,geometry:t,index:wa,segment:[n,n]},a=[i,o];i.featureSegments=a,o.featureSegments=a,this.rBush_.insert(rl(n),i);let s=t;this.rBush_.insert(s.getExtent(),o)}writeGeometryCollectionGeometry_(e,t){const n=t.getGeometriesArray();for(let i=0;i<n.length;++i){const o=n[i],a=this.SEGMENT_WRITERS_[o.getType()];a(e,o)}}createOrUpdateVertexFeature_(e,t,n,i){let o=this.vertexFeature_;return o?o.getGeometry().setCoordinates(e):(o=new Ft(new Bt(e)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o)),o.set("features",t),o.set("geometries",n),o.set("existing",i),o}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==$e.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=$e.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==$e.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}findInsertVerticesAndUpdateDragSegments_(e){if(this.handlePointerAtPixel_(e),this.dragSegments_.length=0,this.featuresBeingModified_=null,!this.vertexFeature_)return;this.getMap().getView().getProjection();const t=[],n=this.vertexFeature_.getGeometry().getCoordinates(),i=Yt([n]),o=this.rBush_.getInExtent(i),a={};o.sort(yL);for(let s=0,l=o.length;s<l;++s){const c=o[s],u=c.segment;let d=Ue(c.geometry);const h=c.depth;if(h&&(d+="-"+h.join("-")),a[d]||(a[d]=new Array(2)),c.geometry.getType()==="Circle"&&c.index===wa){const p=Zf(e,c);Rr(p,n)&&!a[d][0]&&(this.dragSegments_.push([c,0]),a[d][0]=c);continue}if(Rr(u[0],n)&&!a[d][0]){this.dragSegments_.push([c,0]),a[d][0]=c;continue}if(Rr(u[1],n)&&!a[d][1]){if(a[d][0]&&a[d][0].index===0){let p=c.geometry.getCoordinates();switch(c.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":p=p[h[1]];case"Polygon":if(c.index!==p[h[0]].length-2)continue;break}}this.dragSegments_.push([c,1]),a[d][1]=c;continue}Ue(u)in this.vertexSegments_&&!a[d][0]&&!a[d][1]&&t.push(c)}return t}deactivateTrace_(){this.traceState_={active:!1}}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(t.targetIndex===-1){const o=e.map.getPixelFromCoordinate(t.startCoord);if(vo(o,e.pixel)<this.pixelTolerance_)return}const n=My(e.coordinate,t,e.map,this.pixelTolerance_);if(t.targetIndex===-1&&Math.sqrt(n.closestTargetDistance)/e.map.getView().getResolution()>this.pixelTolerance_)return;if(t.targetIndex!==n.index){if(t.targetIndex!==-1){const a=t.targets[t.targetIndex];this.removeTracedCoordinates_(a.startIndex,a.endIndex)}else for(const a of this.traceSegments_){const s=a[0],l=s.geometry,c=a[1],u=l.getCoordinates();Au(u,l.getType(),s.depth).splice(s.index+c,1),l.setCoordinates(u),c===0&&(s.index-=1)}const o=t.targets[n.index];this.addTracedCoordinates_(o,o.startIndex,n.endIndex)}else{const o=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(o,n.endIndex)}t.targetIndex=n.index;const i=t.targets[t.targetIndex];i.endIndex=n.endIndex}getTraceCandidates_(e){const t=this.getMap(),n=this.pixelTolerance_,i=t.getCoordinateFromPixel([e.pixel[0]-n,e.pixel[1]+n]),o=t.getCoordinateFromPixel([e.pixel[0]+n,e.pixel[1]-n]),a=Yt([i,o]);return this.traceSource_.getFeaturesInExtent(a)}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_(),this.traceSegments_=null;return}const t=this.getTraceCandidates_(e);if(t.length===0)return;const n=Sy(e.coordinate,t);n.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:n,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex,i=e.startIndex<=t;n===i?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const i=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),n=o-i+1}else{const i=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),n=i-o+1}if(n>0)for(const i of this.traceSegments_){const o=i[0],a=o.geometry,s=i[1];let l=i[0].index+1;s===1&&(l-=n);const c=a.getCoordinates();Au(c,a.getType(),o.depth).splice(l,n),a.setCoordinates(c),s===1&&(o.index-=n)}}addTracedCoordinates_(e,t,n){if(t===n)return;const i=[];if(t<n){const o=Math.ceil(t);let a=Math.floor(n);a===n&&(a-=1);for(let s=o;s<=a;++s)i.push(li(e.coordinates,s))}else{const o=Math.floor(t);let a=Math.ceil(n);a===n&&(a+=1);for(let s=o;s>=a;--s)i.push(li(e.coordinates,s))}if(i.length)for(const o of this.traceSegments_){const a=o[0],s=a.geometry,l=o[1],c=a.index+1;l===0&&i.reverse();const u=s.getCoordinates();Au(u,s.getType(),a.depth).splice(c,0,...i),s.setCoordinates(u),l===1&&(a.index+=i.length)}}updateGeometry_(e,t){const n=t[0],i=n.depth;let o;const a=n.segment,s=n.geometry,l=t[1];for(;e.length<s.getStride();)e.push(a[l][e.length]);switch(s.getType()){case"Point":o=e,a[0]=e,a[1]=e;break;case"MultiPoint":o=s.getCoordinates(),o[n.index]=e,a[0]=e,a[1]=e;break;case"LineString":o=s.getCoordinates(),o[n.index+l]=e,a[l]=e;break;case"MultiLineString":o=s.getCoordinates(),o[i[0]][n.index+l]=e,a[l]=e;break;case"Polygon":o=s.getCoordinates(),o[i[0]][n.index+l]=e,a[l]=e;break;case"MultiPolygon":o=s.getCoordinates(),o[i[1]][i[0]][n.index+l]=e,a[l]=e;break;case"Circle":const c=s;if(a[0]=e,a[1]=e,n.index===Bf)this.changingFeature_=!0,c.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0,this.getMap().getView().getProjection();let u=vo(Gt(c.getCenter()),Gt(e));c.setRadius(u),this.changingFeature_=!1}break}o&&this.setGeometryCoordinates_(s,o)}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_.map(([a])=>a));const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],n=[],i=[],o=this.traceState_.active&&!this.traceSegments_?this.traceState_.startCoord:null;if(o){this.traceSegments_=[];for(const a of this.dragSegments_){const s=a[0];vo(Qm(o,s.segment),o)/e.map.getView().getResolution()<1&&this.traceSegments_.push(a)}}for(let a=0,s=this.dragSegments_.length;a<s;++a){const l=this.dragSegments_[a],c=l[0],u=c.feature;n.includes(u)||n.push(u);const d=c.geometry;i.includes(d)||i.push(d),this.updateGeometry_(t,l)}this.updateTrace_(e),this.createOrUpdateVertexFeature_(t,n,i,!0)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate,n=this.findInsertVerticesAndUpdateDragSegments_(t);if(n?.length&&this.insertVertexCondition_(e)&&(this.willModifyFeatures_(e,n),this.vertexFeature_)){const i=this.vertexFeature_.getGeometry().getCoordinates();for(let o=n.length-1;o>=0;--o)this.insertVertex_(n[o],i);this.ignoreNextSingleClick_=!0}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const n=this.dragSegments_[t][0],i=n.geometry;if(i.getType()==="Circle"){const o=i,a=o.getCenter(),s=n.featureSegments[0],l=n.featureSegments[1];s.segment[0]=a,s.segment[1]=a,l.segment[0]=a,l.segment[1]=a,this.rBush_.update(rl(a),s);let c=o;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(Yt(n.segment),n)}return this.featuresBeingModified_&&(this.toggleTraceState_(e),this.dispatchEvent(new Pu(Iu.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastCoordinate_=e.coordinate,this.handlePointerAtPixel_(this.lastCoordinate_)}handlePointerAtPixel_(e){const t=this.getMap(),n=t.getPixelFromCoordinate(e);t.getView().getProjection();const i=function(s,l){return Hf(e,s)-Hf(e,l)};let o,a;if(this.hitDetection_){const s=typeof this.hitDetection_=="object"?l=>l===this.hitDetection_:void 0;t.forEachFeatureAtPixel(n,(l,c,u)=>{u&&u.getType()==="Point"&&(u=new Bt(Na(u.getCoordinates())));const d=u||l.getGeometry();if(d&&d.getType()==="Point"&&l instanceof Ft&&this.features_.getArray().includes(l)){a=d;const h=l.getGeometry().getFlatCoordinates().slice(0,2);o=[{feature:l,geometry:a,segment:[h,h]}]}return!0},{layerFilter:s})}if(!o){const s=dl(rl(e,Vf)),l=t.getView().getResolution()*this.pixelTolerance_,c=_m(ui(s,l,Vf));o=this.rBush_.getInExtent(c)}if(o&&o.length>0){const s=o.sort(i)[0],l=s.segment;let c=Zf(e,s);const u=t.getPixelFromCoordinate(c);let d=vo(n,u);if(a||d<=this.pixelTolerance_){const h={};if(h[Ue(l)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-e[0],this.delta_[1]=c[1]-e[1]),s.geometry.getType()==="Circle"&&s.index===wa)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[s.feature],[s.geometry],this.snappedToVertex_);else{const p=t.getPixelFromCoordinate(l[0]),f=t.getPixelFromCoordinate(l[1]),y=yl(u,p),m=yl(u,f);if(d=Math.sqrt(Math.min(y,m)),this.snappedToVertex_=d<=this.pixelTolerance_,!this.snappedToVertex_&&!this.insertVertexCondition_(this.lastPointerEvent_)){this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);return}this.snappedToVertex_&&(c=y>m?l[1]:l[0]),this.createOrUpdateVertexFeature_(c,[s.feature],[s.geometry],this.snappedToVertex_);const b={};b[Ue(s.geometry)]=!0;for(let k=1,C=o.length;k<C;++k){const T=o[k].segment;if(Rr(l[0],T[0])&&Rr(l[1],T[1])||Rr(l[0],T[1])&&Rr(l[1],T[0])){const E=Ue(o[k].geometry);E in b||(b[E]=!0,h[Ue(T)]=!0)}else break}}this.vertexSegments_=h;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;let l;for(;t.length<o.getStride();)t.push(0);switch(o.getType()){case"MultiLineString":l=o.getCoordinates(),l[a[0]].splice(s+1,0,t);break;case"Polygon":l=o.getCoordinates(),l[a[0]].splice(s+1,0,t);break;case"MultiPolygon":l=o.getCoordinates(),l[a[1]][a[0]].splice(s+1,0,t);break;case"LineString":l=o.getCoordinates(),l.splice(s+1,0,t);break;default:return!1}this.setGeometryCoordinates_(o,l);const c=this.rBush_;c.remove(e),this.updateSegmentIndices_(o,s,a,1);const u={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};c.insert(Yt(u.segment),u),this.dragSegments_.push([u,1]);const d={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};return c.insert(Yt(d.segment),d),this.dragSegments_.push([d,0]),!0}updatePointer_(e){return e&&this.findInsertVerticesAndUpdateDragSegments_(e),this.vertexFeature_?.getGeometry().getCoordinates()}getPoint(){const e=this.vertexFeature_?.getGeometry().getCoordinates();return e?Na(e,this.getMap().getView().getProjection()):null}canRemovePoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(t=>t.getType()==="Circle"||t.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Yt([e])).some(({segment:t})=>Rr(t[0],e)||Rr(t[1],e))}removePoint(e){if(e&&(e=Gt(e,this.getMap().getView().getProjection()),this.updatePointer_(e)),!this.lastPointerEvent_||this.lastPointerEvent_&&this.lastPointerEvent_.type!=$e.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_.map(([i])=>i));const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Pu(Iu.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,t={};let n=!1,i,o,a,s,l,c,u,d,h,p,f;for(l=e.length-1;l>=0;--l)a=e[l],p=a[0],f=Ue(p.feature),p.depth&&(f+="-"+p.depth.join("-")),f in t||(t[f]={}),a[1]===0?(t[f].right=p,t[f].index=p.index):a[1]==1&&(t[f].left=p,t[f].index=p.index+1);for(f in t){switch(h=t[f].right,u=t[f].left,c=t[f].index,d=c-1,u!==void 0?p=u:p=h,d<0&&(d=0),s=p.geometry,o=s.getCoordinates(),i=o,n=!1,s.getType()){case"MultiLineString":o[p.depth[0]].length>2&&(o[p.depth[0]].splice(c,1),n=!0);break;case"LineString":o.length>2&&(o.splice(c,1),n=!0);break;case"MultiPolygon":i=i[p.depth[1]];case"Polygon":i=i[p.depth[0]],i.length>4&&(c==i.length-1&&(c=0),i.splice(c,1),n=!0,c===0&&(i.pop(),i.push(i[0]),d=i.length-1));break}if(n){this.setGeometryCoordinates_(s,o);const y=[];if(u!==void 0&&(this.rBush_.remove(u),y.push(u.segment[0])),h!==void 0&&(this.rBush_.remove(h),y.push(h.segment[1])),u!==void 0&&h!==void 0){const m={depth:p.depth,feature:p.feature,geometry:p.geometry,index:d,segment:y};this.rBush_.insert(Yt(m.segment),m)}this.updateSegmentIndices_(s,c,p.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return n}canInsertPoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(t=>t.getType()==="Circle"||t.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Yt([e])).some(({segment:t})=>!(Rr(t[0],e)||Rr(t[1],e)))}insertPoint(e){const t=e?Gt(e,this.getMap().getView().getProjection()):this.vertexFeature_?.getGeometry().getCoordinates();return t?this.findInsertVerticesAndUpdateDragSegments_(t).reduce((n,i)=>n||this.insertVertex_(i,t),!1):!1}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,n,i){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(n===void 0||o.depth===void 0||Xl(o.depth,n))&&o.index>t&&(o.index+=i)})}}function yL(r,e){return r.index-e.index}function Hf(r,e,t){const n=e.geometry;if(n.getType()==="Circle"){let o=n;if(e.index===wa){const a=yl(o.getCenter(),Gt(r)),s=Math.sqrt(a)-o.getRadius();return s*s}}const i=Gt(r);return Lo[0]=Gt(e.segment[0]),Lo[1]=Gt(e.segment[1]),Hb(i,Lo)}function Zf(r,e,t){const n=e.geometry;if(n.getType()==="Circle"&&e.index===wa)return Na(n.getClosestPoint(Gt(r)));const i=Gt(r);return Lo[0]=Gt(e.segment[0]),Lo[1]=Gt(e.segment[1]),Na(Qm(i,Lo))}function vL(){const r=sh();return function(e,t){return r.Point}}const Ws={SELECT:"select"};class Ks extends Nr{constructor(e,t,n,i){super(e),this.selected=t,this.deselected=n,this.mapBrowserEvent=i}}const Qs={};class kp extends Wo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:x0,this.addCondition_=e.addCondition?e.addCondition:xl,this.removeCondition_=e.removeCondition?e.removeCondition:xl,this.toggleCondition_=e.toggleCondition?e.toggleCondition:wl,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:fn,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:kL(),this.features_=e.features||new qt;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const n=e.layers;t=function(i){return n.includes(i)}}else t=fn;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[Ue(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Ue(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(Mt.ADD,this.boundAddFeature_),this.features_.addEventListener(Mt.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Mt.ADD,this.boundAddFeature_),this.features_.removeEventListener(Mt.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const n=this.findLayerOfFeature_(t);n&&this.addFeatureLayerAssociation_(t,n)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}findLayerOfFeature_(e){return this.getMap().getAllLayers().find(function(t){if(t instanceof lr&&t.getSource()&&t.getSource().hasFeature(e))return t})}getStyle(){return this.style_}applySelectedStyle_(e){const t=Ue(e);t in Qs||(Qs[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let i=t.length-1;i>=0;--i){const o=t[i];if(o!==this&&o instanceof kp&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(o.getStyle());return}}const n=Ue(e);e.setStyle(Qs[n]),delete Qs[n]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Ue(e)]}selectFeatureInternal_(e,t,n){if(!(e instanceof Ft)||!this.filter_(e,t))return;const i=this.getFeatures();return i.getArray().includes(e)||(this.addFeatureLayerAssociation_(e,t),i.push(e),n?.push(e)),e}selectFeature(e){const t=this.findLayerOfFeature_(e);if(!this.layerFilter_(t))return!1;const n=this.selectFeatureInternal_(e,t);return n&&this.dispatchEvent(new Ks(Ws.SELECT,[n],[],void 0)),!!n}removeFeatureInternal_(e,t){const n=this.getFeatures();if(!(!(e instanceof Ft)||!n.getArray().includes(e)))return n.remove(e),this.removeFeatureLayerAssociation_(e),t?.push(e),e}deselectFeature(e){const t=this.removeFeatureInternal_(e);return t&&this.dispatchEvent(new Ks(Ws.SELECT,[],[t],void 0)),!!t}toggleFeature(e){this.deselectFeature(e)||this.selectFeature(e)}clearSelection(){ch(this.featureLayerAssociation_);const e=this.getFeatures(),t=e.getArray().slice();e.clear(),t.length!==0&&this.dispatchEvent(new Ks(Ws.SELECT,[],t,void 0))}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),n=this.removeCondition_(e),i=this.toggleCondition_(e),o=!t&&!n&&!i,a=e.map,s=this.getFeatures(),l=[],c=[];if(o){let u=!1;a.forEachFeatureAtPixel(e.pixel,(d,h)=>{if(u=!0,!!this.selectFeatureInternal_(d,h,c))return!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let d=s.getLength()-1;d>=0;--d){const h=s.item(d);(c.length>0&&!c.includes(h)||!u)&&this.removeFeatureInternal_(h,l)}}else a.forEachFeatureAtPixel(e.pixel,(u,d)=>{let h;if((n||i)&&(h=this.removeFeatureInternal_(u,l)),(t||i)&&!h&&(h=this.selectFeatureInternal_(u,d,c)),!!h)return!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});return(c.length>0||l.length>0)&&this.dispatchEvent(new Ks(Ws.SELECT,c,l,e)),!0}}function kL(){const r=sh();return ar(r.Polygon,r.LineString),ar(r.GeometryCollection,r.LineString),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}}const Nu={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};class Du extends Nr{constructor(e,t,n,i,o){super(e),this.features=t,this.coordinate=n,this.startCoordinate=i,this.mapBrowserEvent=o}}class bL extends vi{constructor(e){e=e||{},super(e),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=e.features!==void 0?e.features:null;let t;if(e.layers&&!this.features_)if(typeof e.layers=="function")t=e.layers;else{const n=e.layers;t=function(i){return n.includes(i)}}else t=fn;this.layerFilter_=t,this.filter_=e.filter&&!this.features_?e.filter:fn,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.condition_=e.condition?e.condition:Ri,this.lastFeature_=null,this.addChangeListener(bl.ACTIVE,this.handleActiveChanged_)}handleDownEvent(e){if(!e.originalEvent||!this.condition_(e))return!1;if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);const t=this.features_||new qt([this.lastFeature_]);return this.dispatchEvent(new Du(Nu.TRANSLATESTART,t,e.coordinate,this.startCoordinate_,e)),!0}return!1}handleUpEvent(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);const t=this.features_||new qt([this.lastFeature_]);return this.dispatchEvent(new Du(Nu.TRANSLATEEND,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1}handleDragEvent(e){if(this.lastCoordinate_){const t=e.coordinate;e.map.getView().getProjection();const n=Gt(t),i=Gt(this.lastCoordinate_),o=n[0]-i[0],a=n[1]-i[1],s=this.features_||new qt([this.lastFeature_]);s.forEach(function(l){const c=l.getGeometry();c.translate(o,a),l.setGeometry(c)}),this.lastCoordinate_=t,this.dispatchEvent(new Du(Nu.TRANSLATING,s,t,this.startCoordinate_,e))}}handleMoveEvent(e){const t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(e,t){return t.forEachFeatureAtPixel(e,(n,i)=>{if(!(!(n instanceof Ft)||!this.filter_(n,i))&&!(this.features_&&!this.features_.getArray().includes(n)))return n},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(e){this.hitTolerance_=e}setMap(e){const t=this.getMap();super.setMap(e),this.updateState_(t)}handleActiveChanged_(){this.updateState_(null)}updateState_(e){let t=this.getMap();const n=this.getActive();(!t||!n)&&(t=t||e,t&&t.getViewport().classList.remove("ol-grab","ol-grabbing"))}}const xL=(r,e,t)=>{if(t){const n=new DOMParser().parseFromString(t,"image/svg+xml");return n.querySelectorAll("[fill]").forEach(i=>{i.setAttribute("fill",r)}),n.querySelectorAll("[stroke]").forEach(i=>{i.setAttribute("stroke",e)}),n.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(i=>{i.hasAttribute("fill")||i.setAttribute("fill",r),i.hasAttribute("stroke")||i.setAttribute("stroke",e)}),new XMLSerializer().serializeToString(n)}return`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="-1 -1 25 25"
  >
    <path
      d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"
      fill="${r}"
      stroke="${e}"
      stroke-width="1"
    />
  </svg>
`},wL=({fill:r="#005CA9",stroke:e="#FFF",svg:t})=>{let n="";typeof r=="string"?n=r:"oklch"in r?n=`oklch(${r.oklch.l} ${r.oklch.c} ${r.oklch.h})`:"rgba"in r&&(n=`${r.rgba.r} ${r.rgba.g} ${r.rgba.b} ${r.rgba.a?r.rgba.a:""}`);let i="";return typeof e=="string"?i=e:"oklch"in e?i=`oklch(${e.oklch.l} ${e.oklch.c} ${e.oklch.h})`:"rgba"in e&&(i=`${e.rgba.r} ${e.rgba.g} ${e.rgba.b} ${e.rgba.a?e.rgba.a:""}`),new Pt({image:new gi({src:`data:image/svg+xml;base64,${btoa(xL(n,i,t))}`,scale:2,anchor:[.5,1]})})},_L={Circle:ps,LinearRing:Pm,LineString:Vr,MultiLineString:Ji,MultiPoint:Zo,MultiPolygon:eo,Point:Bt,Polygon:Zr};function TL(r,e,t,n){const i=new _L[t](n);let o=Gn(i.getExtent());return(t==="Polygon"||t==="MultiPolygon")&&!i.intersectsCoordinate(o)&&(o=(i.getType()==="Polygon"?i.getInteriorPoint():i.getInteriorPoints()).getFirstCoordinate()),r===e?o:On(o,r,e)}async function Yf(r,e,t){if(!t)return!0;const n=await k6(e,t.layerId,r);return n===!0||typeof n=="symbol"&&t.onError!=="strict"?!0:(typeof n=="symbol"?(Ju("error",()=>_t(i=>i.boundaryError,{ns:"pins"})),console.error(`@polar/polar(plugins/pins/utils/isCoordinateInBoundaryLayer:39:3)
`,"Checking boundary layer failed.")):(Ju("info",()=>_t(i=>i.notInBoundary,{ns:"pins"})),console.info(`@polar/polar(plugins/pins/utils/isCoordinateInBoundaryLayer:43:3)
`,"Pin position outside of boundary layer:",r)),!1)}const CL=Wr("plugins/pins",()=>{const r=We(),e=Ce(null),t=Ce(!1),n=Q(()=>vt({minZoomLevel:0,movable:"none",toZoomLevel:0},r.configuration.pins||{})),i=Q(()=>{if(!e.value)return null;const b=Ub(e.value,r.configuration.epsg);return[b[1],b[0]]}),o=new lr({source:new sr,style:wL(n.value.style||{})}),a=new kp({layers:b=>b===o,style:null,condition:gx}),s=new bL({condition:()=>r.map.getView().getZoom()>=n.value.minZoomLevel,layers:[o]});let l=null;function c(){r.map.addLayer(o),o.setZIndex(100),r.map.on("singleclick",async({coordinate:b})=>{await f(b)}),d(),h(),p()}function u(){const{map:b}=r;b.un("singleclick",async({coordinate:k})=>{await f(k)}),m(),b.removeLayer(o),b.removeInteraction(a),b.removeInteraction(s),l&&l()}function d(){const{coordinateSources:b}=n.value;b&&b.forEach(k=>{const C=k.plugin?r.getPluginStore(k.plugin):r;C&&(l=yt(()=>C[k.key],T=>{T&&T.type!=="reverse_geocoded"&&y(T.geometry.coordinates,!1,{type:T.geometry.type})}))})}function h(){const{initial:b}=n.value;if(b){const{coordinate:k,centerOn:C,epsg:T}=b;if(C){y(k,!1,{epsg:T||r.configuration.epsg,type:"Point"});return}y(k)}}function p(){a.on("select",({selected:k})=>{n.value.movable==="none"&&(document.body.style.cursor=k.length?"not-allowed":"")}),r.map.addInteraction(a);const{movable:b}=n.value;b==="drag"&&(s.on("translatestart",()=>t.value=!0),s.on("translateend",({features:k})=>{t.value=!1,k.forEach(async C=>{const T=C.getGeometry().getCoordinates(),E=await Yf(T,r.map,n.value.boundary)?T:e.value;E&&y(E)})}),r.map.addInteraction(s))}async function f(b){const k=r.map.getInteractions().getArray().some(E=>E instanceof pL&&(E._isMultiSelect||E._isDrawPlugin)||E instanceof mL||E._isDeleteSelect),{minZoomLevel:C,movable:T}=n.value;(T==="drag"||T==="click")&&r.map.getView().getZoom()>=C&&!k&&await Yf(b,r.map,n.value.boundary)&&y(b)}function y(b,k=!0,C){m(),e.value=b,!k&&C&&(e.value=TL(C.epsg||r.configuration.epsg,r.configuration.epsg,C.type,b),r.map.getView().setCenter(e.value),r.map.getView().setZoom(n.value.toZoomLevel)),o.getSource().addFeature(new Ft({geometry:new Bt(e.value),type:"point",name:"mapMarker",zIndex:100}))}function m(){o.getSource().clear()}return{coordinate:e,latLon:i,setupPlugin:c,teardownPlugin:u}}),EL={boundaryError:"Die berprfung der Koordinate ist fehlgeschlagen. Bitte versuchen Sie es spter erneut oder wenden Sie sich an einen Administrator, wenn das Problem bestehen bleibt.",notInBoundary:"Diese Koordinate kann nicht gewhlt werden."},ML={boundaryError:"Validating the coordinate failed. Please try again later or contact an administrator if the issue persists.",notInBoundary:"It is not possible to select this coordinate."},SL=[{type:"de",resources:EL},{type:"en",resources:ML}],LL="pins";function eN(r){return{id:LL,locales:SL,storeModule:CL,options:r}}const bp="reverseGeocoder",Ay=Wr("plugins/reverseGeocoder",()=>{const r=We(),e=Q(()=>r.configuration[bp]),t=Ce([]);function n(){for(const s of e.value.coordinateSources||[]){const l=s.plugin?r.getPluginStore(s.plugin):r;l&&t.value.push(yt(()=>l[s.key],async c=>{c&&await a(c)},{immediate:!0}))}}function i(){t.value.forEach(s=>{s()})}function o(s,l){const c=s.plugin?r.getPluginStore(s.plugin):r;c&&c[s.key](l)}async function a(s){const l=h2();try{const c=await p2(e.value.url,s);return e.value.addressTarget&&o(e.value.addressTarget,c),e.value.zoomTo&&r.map.getView().fit(new Bt(s),{maxZoom:e.value.zoomTo,duration:400,easing:Xi}),c}catch(c){return console.error(`@polar/polar(plugins/reverseGeocoder/store:102:5)
`,"Reverse geocoding failed:",c),null}finally{l()}}return{reverseGeocode:a,setupPlugin:n,teardownPlugin:i}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await mr(async()=>{const{createPinia:u,setActivePinia:d}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:u,setActivePinia:d}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await mr(async()=>{const{reactive:u}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:u}},[],import.meta.url),a=await mr(()=>import("./invisibleStyle-BctMBDPz-CsIl7PKR.js").then(u=>u.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=await mr(()=>import("./reverseGeocode-CR3Bbmu1-BkP1SGuk.js"),__vite__mapDeps([8,6]),import.meta.url),l=await mr(()=>import("./indicateLoading-BMtjzCI9-CPNIyu5L.js"),__vite__mapDeps([9,3,0,1,4,5,6]),import.meta.url),c=e.extend({reverseGeocodeUtil:[async({},u)=>{const d=t.spyOn(s,"reverseGeocode").mockResolvedValue(null);await u(d)},{auto:!0}],indicateLoading:[async({},u)=>{const d=t.spyOn(l,"indicateLoading").mockImplementation(()=>()=>{});await u(d)},{auto:!0}],coreStore:[async({},u)=>{const d=t.fn(),h=o({configuration:{[bp]:{url:"https://wps.example",coordinateSources:[{key:"coordinateSource"}],addressTarget:{key:"addressTarget"},zoomTo:99}},map:{getView:()=>({fit:d})},coordinateSource:null,addressTarget:t.fn()});t.spyOn(a,"useCoreStore").mockReturnValue(h),await u(h)},{auto:!0}],store:[async({},u)=>{i(n());const d=Ay();d.setupPlugin(),await u(d),d.teardownPlugin()},{auto:!0}]});c("detects changes in coordinate sources",async({reverseGeocodeUtil:u,coreStore:d})=>{d.coordinateSource=[1,2],await new Promise(h=>setTimeout(h)),r(u).toHaveBeenCalledWith("https://wps.example",[1,2])}),c("passes geocoding result to address target",async({reverseGeocodeUtil:u,coreStore:d,store:h})=>{const p=Symbol("feature");u.mockResolvedValueOnce(p),await h.reverseGeocode([3,4]),r(d.addressTarget).toHaveBeenCalledOnce(),r(d.addressTarget).toHaveBeenCalledWith(p)}),c("zooms to input coordinate",async({reverseGeocodeUtil:u,coreStore:d,store:h})=>{const p=Symbol("feature");u.mockResolvedValueOnce(p),await h.reverseGeocode([3,4]),r(d.map.getView().fit).toHaveBeenCalledOnce()})}function tN(r){return{id:bp,storeModule:Ay,options:r}}function IL(r,e,{signal:t,edges:n=["leading","trailing"]}={}){let i=null;const o=dy(function(...s){i=Date.now(),r.apply(this,s)},e,{signal:t,edges:n}),a=function(...s){if(i==null&&(i=Date.now()),Date.now()-i>=e){i=Date.now(),r.apply(this,s),o.cancel(),o.schedule();return}o.apply(this,s)};return a.cancel=o.cancel,a.flush=o.flush,a}function Py(){let r=96;try{const e=document.createElement("div"),t=document.body;e.id="programmatical-dpidiv",e.setAttribute("style","position: absolute; height: 1in; width: 1in; top: -100%; left: -100%;"),t.appendChild(e),r=e.offsetWidth*(window.devicePixelRatio||1),t.removeChild(e)}catch(e){console.error(`@polar/polar(lib/dpi:26:3)
`,e),console.warn(`@polar/polar(lib/dpi:27:3)
`,`Since the dpi could not be inferred, the default value ${r} will be used.`)}return r}const Ny=Ce(Py());let Xs=0;const uo=IL(()=>Ny.value=Py(),100);function AL(){return Xs===0&&(window.addEventListener("resize",uo,{passive:!0}),window.addEventListener("orientationchange",uo),window.visualViewport?.addEventListener("resize",uo)),Xs++,bm(function(){Xs--,Xs===0&&(window.removeEventListener("resize",uo),window.removeEventListener("orientationchange",uo),window.visualViewport?.removeEventListener("resize",uo))}),{dpi:Ny}}const Wf=(r,e)=>`1 : ${new Intl.NumberFormat(e,{maximumFractionDigits:0}).format(r>1e4?Math.round(r/500)*500:r>1e3?Math.round(r/50)*50:r)}`;function Kf(r,e,t){return Math.round(e*Pa[r]*39.37*t)}const Dy=Wr("plugins/scale",()=>{const r=We(),{dpi:e}=AL(),t=Ce(0),n=Q(()=>Wf(t.value,r.language)),i=Q(()=>{const c=Math.round(.02*t.value);return c>=1e3?`${Math.round(c/100)/10}km`:`${c}m`}),o=Q(()=>r.configuration.options.map(c=>{const u=Wf(Kf(r.map.getView().getProjection().getUnits(),c.resolution,e.value),r.language);return{...c,label:u,ariaLabel:u0(()=>_t(d=>d.to,{ns:"scale",number:u.split(":")[1]?.replace(/[,.]/g,"").trim()})).value,value:c.zoomLevel}})),a=Q(()=>r.configuration.scale?.layoutTag),s=Q(()=>r.configuration.scale?.showScaleSwitcher&&o.value.length>0);function l(){const c=r.map.getView().getProjection().getUnits(),u=r.map.getView().getResolution(),d=Kf(c,u,e.value);t.value=d}return r.map.on("moveend",l),bm(()=>{r.map.un("moveend",l)}),{layoutTag:a,scaleToOne:n,scaleWithUnit:i,showScaleSwitcher:s,zoomOptions:o}}),ll="scale",PL=["title","aria-label"],NL={key:1,class:"scale-as-a-ratio"},DL={class:"scale-line"},OL={class:"scale-line-text"},RL=Le({__name:"ScaleWidget.ce",setup(r){const e=Dy(),t=We(),{layoutTag:n,scaleToOne:i,scaleWithUnit:o,showScaleSwitcher:a,zoomOptions:s}=ct(e),{layout:l,zoom:c}=ct(t),u=Q(()=>`${Math.round(c.value)}`);function d(h){c.value=Number(h)}return(h,p)=>(N(),ee("div",{class:it(["polar-plugin-scale",M(l)==="nineRegions"?`polar-plugin-scale-nineRegions ${M(n)}`:""]),title:h.$t(f=>f.label,{ns:M(ll)}),"aria-label":h.$t(f=>f.label,{ns:M(ll)})},[M(a)?(N(),Te(uy,{key:0,value:u.value,options:M(s),"aria-label":h.$t(f=>f.scaleSwitcher,{ns:M(ll)}),small:"","onUpdate:value":d},null,8,["value","options","aria-label"])):(N(),ee("span",NL,qe(M(i)),1)),se("span",DL,[se("span",OL,qe(M(o)),1),p[0]||(p[0]=se("span",{class:"scale-line-scale"},null,-1))])],10,PL))}}),FL=".polar-plugin-scale{&[data-v-9b75fe49]{display:flex;flex-direction:row;align-items:center;gap:var(--kern-metric-space-small);padding:0 var(--kern-metric-space-small)}.scale-as-a-ratio[data-v-9b75fe49]{white-space:nowrap;color:var(--kern-color-layout-text-default)}.scale-line-text[data-v-9b75fe49]{font-weight:bolder;color:var(--kern-color-layout-text-default);min-width:5ch;text-align:right}.scale-line{&[data-v-9b75fe49]{display:flex;align-items:anchor-center;gap:var(--kern-metric-space-small)}.scale-line-scale[data-v-9b75fe49]{border-radius:0 0 .125rem .125rem;border-right:1px solid var(--kern-color-form-input-border);border-bottom:1px solid var(--kern-color-form-input-border);border-left:1px solid var(--kern-color-form-input-border);height:.75rem;width:2cm}}[data-v-9b75fe49] .kern-form-input__select-wrapper{background-color:var(--kern-color-form-input-background-inverted)}&.polar-plugin-scale-nineRegions{&[data-v-9b75fe49]{gap:var(--kern-metric-space-2x-small);padding:var(--kern-metric-space-2x-small);align-items:stretch}>*[data-v-9b75fe49]{background:var(--kern-color-form-input-background-inverted);border-radius:var(--kern-metric-border-radius-large);padding:var(--kern-metric-space-x-small) var(--kern-metric-space-small);box-shadow:var(--polar-shadow)}.scale-line-text[data-v-9b75fe49]{text-align:left}&.BOTTOM_LEFT[data-v-9b75fe49],&.TOP_LEFT[data-v-9b75fe49],&.MIDDLE_LEFT[data-v-9b75fe49]{flex-direction:row-reverse}}}",jL=Ke(RL,[["styles",[FL]],["__scopeId","data-v-9b75fe49"]]),qL={label:"Skala",scaleSwitcher:"Mastab ndern",to:"Eins zu {{number}}"},zL={label:"Scale",scaleSwitcher:"Change scale",to:"One to {{number}}"},$L=[{type:"de",resources:qL},{type:"en",resources:zL}];function rN(r){return{id:ll,component:jL,locales:$L,options:r,storeModule:Dy}}function UL(r){if(typeof r=="object"){if("oklch"in r)return`oklch(${r.oklch.l}, ${r.oklch.c}, ${r.oklch.h})`;if("rgba"in r)return r.rgba.a?`rgba(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b}, ${r.rgba.a})`:`rgb(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b})`}return r}const GL={class:"kern-alert__header"},BL={class:"kern-title"},VL=["onClick"],HL={class:"kern-label kern-sr-only"},ZL=Le({__name:"ToastUI.ce",setup(r){const e=hh();function t(i){return{error:"danger",info:"info",warning:"warning",success:"success"}[i]}const n=Q(()=>e.toasts.map(i=>{const o=t(i.severity);return{alertClass:`kern-alert--${o}`,alertStyle:i.theme?.color?{"background-color":UL(i.theme.color)}:{},iconClass:i.theme?.icon||`kern-icon--${o}`,text:i.text,originalToast:i}}));return(i,o)=>(N(!0),ee(lt,null,Lt(n.value,(a,s)=>(N(),ee("div",{key:s,class:it(["kern-alert",a.alertClass]),style:ci(a.alertStyle),role:"alert"},[se("div",GL,[se("span",{class:it(["kern-icon",a.iconClass]),"aria-hidden":"true"},null,2),se("span",BL,qe(a.text),1),se("button",{class:"kern-btn",onClick:l=>M(e).removeToast(a.originalToast)},[o[0]||(o[0]=se("span",{class:"kern-icon kern-icon--close","aria-hidden":"true"},null,-1)),se("span",HL,qe(i.$t(l=>l.dismissButton.label,{ns:M(Fa)})),1)],8,VL)])],6))),128))}}),YL=".kern-alert{&[data-v-d4942d6e]{margin:var(--kern-metric-space-small) var(--kern-metric-space-none)}>.kern-alert__header{&[data-v-d4942d6e]{padding:var(--kern-metric-space-x-small) var(--kern-metric-space-default)}>.kern-icon[data-v-d4942d6e]{display:none;@media(min-width:30em){display:initial}}>.kern-title[data-v-d4942d6e]{flex:1;max-width:calc(100% - 2.5em);overflow-wrap:break-word}}}.kern-btn[data-v-d4942d6e]{margin-left:var(--kern-metric-space-x-small);background-color:transparent}",Qf=Ke(ZL,[["styles",[YL]],["__scopeId","data-v-d4942d6e"]]),WL={key:0,class:"polar-plugin-toast-standard-layout"},KL=Le({__name:"ToastContainer.ce",setup(r){const{layout:e}=ct(We());return(t,n)=>M(e)==="standard"?(N(),ee("div",WL,[Pr(Qf)])):(N(),Te(Qf,{key:1}))}}),QL=".polar-plugin-toast-standard-layout[data-v-13133193]{position:absolute;z-index:40;top:0;left:var(--kern-metric-space-small);right:var(--kern-metric-space-small);@media(min-width:50em){left:25%;right:25%}}",XL=Ke(KL,[["styles",[QL]],["__scopeId","data-v-13133193"]]),JL={dismissButton:{label:"Benachrichtigung ausblenden"}},eI={dismissButton:{label:"Hide notification"}},tI=[{type:"de",resources:JL},{type:"en",resources:eI}];function nN(r){return{id:Fa,component:XL,locales:tI,storeModule:hh,options:r}}function xp(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const nt={},Io=[],gn=()=>{},Oy=()=>!1,wp=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Ry=r=>r.startsWith("onUpdate:"),er=Object.assign,_p=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},rI=Object.prototype.hasOwnProperty,Je=(r,e)=>rI.call(r,e),Ee=Array.isArray,Ao=r=>gs(r)==="[object Map]",Fy=r=>gs(r)==="[object Set]",Xf=r=>gs(r)==="[object Date]",Pe=r=>typeof r=="function",tr=r=>typeof r=="string",jn=r=>typeof r=="symbol",ot=r=>r!==null&&typeof r=="object",jy=r=>(ot(r)||Pe(r))&&Pe(r.then)&&Pe(r.catch),qy=Object.prototype.toString,gs=r=>qy.call(r),nI=r=>gs(r).slice(8,-1),zy=r=>gs(r)==="[object Object]",Ac=r=>tr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,_a=xp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pc=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},iI=/-\w/g,yn=Pc(r=>r.replace(iI,e=>e.slice(1).toUpperCase())),oI=/\B([A-Z])/g,fs=Pc(r=>r.replace(oI,"-$1").toLowerCase()),Tp=Pc(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ou=Pc(r=>r?`on${Tp(r)}`:""),hi=(r,e)=>!Object.is(r,e),Ru=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},$y=(r,e,t,n=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:n,value:t})},aI=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Jf;const Nc=()=>Jf||(Jf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cp(r){if(Ee(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=tr(n)?uI(n):Cp(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(tr(r)||ot(r))return r}const sI=/;(?![^(]*\))/g,lI=/:([^]+)/,cI=/\/\*[^]*?\*\//g;function uI(r){const e={};return r.replace(cI,"").split(sI).forEach(t=>{if(t){const n=t.split(lI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ep(r){let e="";if(tr(r))e=r;else if(Ee(r))for(let t=0;t<r.length;t++){const n=Ep(r[t]);n&&(e+=n+" ")}else if(ot(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const dI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iN=xp(dI);function oN(r){return!!r||r===""}function hI(r,e){if(r.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<r.length;n++)t=Mp(r[n],e[n]);return t}function Mp(r,e){if(r===e)return!0;let t=Xf(r),n=Xf(e);if(t||n)return t&&n?r.getTime()===e.getTime():!1;if(t=jn(r),n=jn(e),t||n)return r===e;if(t=Ee(r),n=Ee(e),t||n)return t&&n?hI(r,e):!1;if(t=ot(r),n=ot(e),t||n){if(!t||!n)return!1;const i=Object.keys(r).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in r){const s=r.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!Mp(r[a],e[a]))return!1}}return String(r)===String(e)}const Uy=r=>!!(r&&r.__v_isRef===!0),pI=r=>tr(r)?r:r==null?"":Ee(r)||ot(r)&&(r.toString===qy||!Pe(r.toString))?Uy(r)?pI(r.value):JSON.stringify(r,Gy,2):String(r),Gy=(r,e)=>Uy(e)?Gy(r,e.value):Ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i],o)=>(t[Fu(n,o)+" =>"]=i,t),{})}:Fy(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Fu(t))}:jn(e)?Fu(e):ot(e)&&!Ee(e)&&!zy(e)?String(e):e,Fu=(r,e="")=>{var t;return jn(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};let Wt;class By{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Wt,!e&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Wt;try{return Wt=this,e()}finally{Wt=t}}}on(){++this._on===1&&(this.prevScope=Wt,Wt=this)}off(){this._on>0&&--this._on===0&&(Wt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function aN(r){return new By(r)}function gI(){return Wt}function sN(r,e=!1){Wt&&Wt.cleanups.push(r)}let ut;const ju=new WeakSet;class Vy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wt&&Wt.active&&Wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ju.has(this)&&(ju.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,em(this),Yy(this);const e=ut,t=Hr;ut=this,Hr=!0;try{return this.fn()}finally{Wy(this),ut=e,Hr=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ip(e);this.deps=this.depsTail=void 0,em(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ju.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qd(this)&&this.run()}get dirty(){return qd(this)}}let Hy=0,Ta,Ca;function Zy(r,e=!1){if(r.flags|=8,e){r.next=Ca,Ca=r;return}r.next=Ta,Ta=r}function Sp(){Hy++}function Lp(){if(--Hy>0)return;if(Ca){let e=Ca;for(Ca=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;Ta;){let e=Ta;for(Ta=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){r||(r=n)}e=t}}if(r)throw r}function Yy(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wy(r){let e,t=r.depsTail,n=t;for(;n;){const i=n.prevDep;n.version===-1?(n===t&&(t=i),Ip(n),fI(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}r.deps=e,r.depsTail=t}function qd(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ky(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function Ky(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Ka)||(r.globalVersion=Ka,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!qd(r))))return;r.flags|=2;const e=r.dep,t=ut,n=Hr;ut=r,Hr=!0;try{Yy(r);const i=r.fn(r._value);(e.version===0||hi(i,r._value))&&(r.flags|=128,r._value=i,e.version++)}catch(i){throw e.version++,i}finally{ut=t,Hr=n,Wy(r),r.flags&=-3}}function Ip(r,e=!1){const{dep:t,prevSub:n,nextSub:i}=r;if(n&&(n.nextSub=i,r.prevSub=void 0),i&&(i.prevSub=n,r.nextSub=void 0),t.subs===r&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let o=t.computed.deps;o;o=o.nextDep)Ip(o,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function fI(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Hr=!0;const Qy=[];function qn(){Qy.push(Hr),Hr=!1}function zn(){const r=Qy.pop();Hr=r===void 0?!0:r}function em(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=ut;ut=void 0;try{e()}finally{ut=t}}}let Ka=0;class mI{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ap{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ut||!Hr||ut===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ut)t=this.activeLink=new mI(ut,this),ut.deps?(t.prevDep=ut.depsTail,ut.depsTail.nextDep=t,ut.depsTail=t):ut.deps=ut.depsTail=t,Xy(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=ut.depsTail,t.nextDep=void 0,ut.depsTail.nextDep=t,ut.depsTail=t,ut.deps===t&&(ut.deps=n)}return t}trigger(e){this.version++,Ka++,this.notify(e)}notify(e){Sp();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Lp()}}}function Xy(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Xy(n)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const ql=new WeakMap,Ui=Symbol(""),zd=Symbol(""),Qa=Symbol("");function Kt(r,e,t){if(Hr&&ut){let n=ql.get(r);n||ql.set(r,n=new Map);let i=n.get(t);i||(n.set(t,i=new Ap),i.map=n,i.key=t),i.track()}}function Mn(r,e,t,n,i,o){const a=ql.get(r);if(!a){Ka++;return}const s=l=>{l&&l.trigger()};if(Sp(),e==="clear")a.forEach(s);else{const l=Ee(r),c=l&&Ac(t);if(l&&t==="length"){const u=Number(n);a.forEach((d,h)=>{(h==="length"||h===Qa||!jn(h)&&h>=u)&&s(d)})}else switch((t!==void 0||a.has(void 0))&&s(a.get(t)),c&&s(a.get(Qa)),e){case"add":l?c&&s(a.get("length")):(s(a.get(Ui)),Ao(r)&&s(a.get(zd)));break;case"delete":l||(s(a.get(Ui)),Ao(r)&&s(a.get(zd)));break;case"set":Ao(r)&&s(a.get(Ui));break}}Lp()}function yI(r,e){const t=ql.get(r);return t&&t.get(e)}function ho(r){const e=He(r);return e===r?e:(Kt(e,"iterate",Qa),wr(r)?e:e.map(Yr))}function Dc(r){return Kt(r=He(r),"iterate",Qa),r}function ti(r,e){return $n(r)?Oo(Gi(r)?Yr(e):e):Yr(e)}const vI={__proto__:null,[Symbol.iterator](){return qu(this,Symbol.iterator,r=>ti(this,r))},concat(...r){return ho(this).concat(...r.map(e=>Ee(e)?ho(e):e))},entries(){return qu(this,"entries",r=>(r[1]=ti(this,r[1]),r))},every(r,e){return xn(this,"every",r,e,void 0,arguments)},filter(r,e){return xn(this,"filter",r,e,t=>t.map(n=>ti(this,n)),arguments)},find(r,e){return xn(this,"find",r,e,t=>ti(this,t),arguments)},findIndex(r,e){return xn(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return xn(this,"findLast",r,e,t=>ti(this,t),arguments)},findLastIndex(r,e){return xn(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return xn(this,"forEach",r,e,void 0,arguments)},includes(...r){return zu(this,"includes",r)},indexOf(...r){return zu(this,"indexOf",r)},join(r){return ho(this).join(r)},lastIndexOf(...r){return zu(this,"lastIndexOf",r)},map(r,e){return xn(this,"map",r,e,void 0,arguments)},pop(){return ha(this,"pop")},push(...r){return ha(this,"push",r)},reduce(r,...e){return tm(this,"reduce",r,e)},reduceRight(r,...e){return tm(this,"reduceRight",r,e)},shift(){return ha(this,"shift")},some(r,e){return xn(this,"some",r,e,void 0,arguments)},splice(...r){return ha(this,"splice",r)},toReversed(){return ho(this).toReversed()},toSorted(r){return ho(this).toSorted(r)},toSpliced(...r){return ho(this).toSpliced(...r)},unshift(...r){return ha(this,"unshift",r)},values(){return qu(this,"values",r=>ti(this,r))}};function qu(r,e,t){const n=Dc(r),i=n[e]();return n!==r&&!wr(r)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=t(o.value)),o}),i}const kI=Array.prototype;function xn(r,e,t,n,i,o){const a=Dc(r),s=a!==r&&!wr(r),l=a[e];if(l!==kI[e]){const d=l.apply(r,o);return s?Yr(d):d}let c=t;a!==r&&(s?c=function(d,h){return t.call(this,ti(r,d),h,r)}:t.length>2&&(c=function(d,h){return t.call(this,d,h,r)}));const u=l.call(a,c,n);return s&&i?i(u):u}function tm(r,e,t,n){const i=Dc(r);let o=t;return i!==r&&(wr(r)?t.length>3&&(o=function(a,s,l){return t.call(this,a,s,l,r)}):o=function(a,s,l){return t.call(this,a,ti(r,s),l,r)}),i[e](o,...n)}function zu(r,e,t){const n=He(r);Kt(n,"iterate",Qa);const i=n[e](...t);return(i===-1||i===!1)&&Oc(t[0])?(t[0]=He(t[0]),n[e](...t)):i}function ha(r,e,t=[]){qn(),Sp();const n=He(r)[e].apply(r,t);return Lp(),zn(),n}const bI=xp("__proto__,__v_isRef,__isVue"),Jy=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(jn));function xI(r){jn(r)||(r=String(r));const e=He(this);return Kt(e,"has",r),e.hasOwnProperty(r)}class ev{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return o;if(t==="__v_raw")return n===(i?o?AI:iv:o?nv:rv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Ee(e);if(!i){let l;if(a&&(l=vI[t]))return l;if(t==="hasOwnProperty")return xI}const s=Reflect.get(e,t,zt(e)?e:n);if((jn(t)?Jy.has(t):bI(t))||(i||Kt(e,"get",t),o))return s;if(zt(s)){const l=a&&Ac(t)?s:s.value;return i&&ot(l)?Ud(l):l}return ot(s)?i?Ud(s):Np(s):s}}class tv extends ev{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];const a=Ee(e)&&Ac(t);if(!this._isShallow){const c=$n(o);if(!wr(n)&&!$n(n)&&(o=He(o),n=He(n)),!a&&zt(o)&&!zt(n))return c||(o.value=n),!0}const s=a?Number(t)<e.length:Je(e,t),l=Reflect.set(e,t,n,zt(e)?e:i);return e===He(i)&&(s?hi(n,o)&&Mn(e,"set",t,n):Mn(e,"add",t,n)),l}deleteProperty(e,t){const n=Je(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Mn(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(!jn(t)||!Jy.has(t))&&Kt(e,"has",t),n}ownKeys(e){return Kt(e,"iterate",Ee(e)?"length":Ui),Reflect.ownKeys(e)}}class wI extends ev{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const _I=new tv,TI=new wI,CI=new tv(!0);const $d=r=>r,Js=r=>Reflect.getPrototypeOf(r);function EI(r,e,t){return function(...n){const i=this.__v_raw,o=He(i),a=Ao(o),s=r==="entries"||r===Symbol.iterator&&a,l=r==="keys"&&a,c=i[r](...n),u=t?$d:e?Oo:Yr;return!e&&Kt(o,"iterate",l?zd:Ui),er(Object.create(c),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:s?[u(d[0]),u(d[1])]:u(d),done:h}}})}}function el(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function MI(r,e){const t={get(i){const o=this.__v_raw,a=He(o),s=He(i);r||(hi(i,s)&&Kt(a,"get",i),Kt(a,"get",s));const{has:l}=Js(a),c=e?$d:r?Oo:Yr;if(l.call(a,i))return c(o.get(i));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!r&&Kt(He(i),"iterate",Ui),i.size},has(i){const o=this.__v_raw,a=He(o),s=He(i);return r||(hi(i,s)&&Kt(a,"has",i),Kt(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=He(s),c=e?$d:r?Oo:Yr;return!r&&Kt(l,"iterate",Ui),s.forEach((u,d)=>i.call(o,c(u),c(d),a))}};return er(t,r?{add:el("add"),set:el("set"),delete:el("delete"),clear:el("clear")}:{add(i){!e&&!wr(i)&&!$n(i)&&(i=He(i));const o=He(this);return Js(o).has.call(o,i)||(o.add(i),Mn(o,"add",i,i)),this},set(i,o){!e&&!wr(o)&&!$n(o)&&(o=He(o));const a=He(this),{has:s,get:l}=Js(a);let c=s.call(a,i);c||(i=He(i),c=s.call(a,i));const u=l.call(a,i);return a.set(i,o),c?hi(o,u)&&Mn(a,"set",i,o):Mn(a,"add",i,o),this},delete(i){const o=He(this),{has:a,get:s}=Js(o);let l=a.call(o,i);l||(i=He(i),l=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return l&&Mn(o,"delete",i,void 0),c},clear(){const i=He(this),o=i.size!==0,a=i.clear();return o&&Mn(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=EI(i,r,e)}),t}function Pp(r,e){const t=MI(r,e);return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(Je(t,i)&&i in n?t:n,i,o)}const SI={get:Pp(!1,!1)},LI={get:Pp(!1,!0)},II={get:Pp(!0,!1)};const rv=new WeakMap,nv=new WeakMap,iv=new WeakMap,AI=new WeakMap;function PI(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function NI(r){return r.__v_skip||!Object.isExtensible(r)?0:PI(nI(r))}function Np(r){return $n(r)?r:Dp(r,!1,_I,SI,rv)}function DI(r){return Dp(r,!1,CI,LI,nv)}function Ud(r){return Dp(r,!0,TI,II,iv)}function Dp(r,e,t,n,i){if(!ot(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=NI(r);if(o===0)return r;const a=i.get(r);if(a)return a;const s=new Proxy(r,o===2?n:t);return i.set(r,s),s}function Gi(r){return $n(r)?Gi(r.__v_raw):!!(r&&r.__v_isReactive)}function $n(r){return!!(r&&r.__v_isReadonly)}function wr(r){return!!(r&&r.__v_isShallow)}function Oc(r){return r?!!r.__v_raw:!1}function He(r){const e=r&&r.__v_raw;return e?He(e):r}function OI(r){return!Je(r,"__v_skip")&&Object.isExtensible(r)&&$y(r,"__v_skip",!0),r}const Yr=r=>ot(r)?Np(r):r,Oo=r=>ot(r)?Ud(r):r;function zt(r){return r?r.__v_isRef===!0:!1}function lN(r){return ov(r,!1)}function RI(r){return ov(r,!0)}function ov(r,e){return zt(r)?r:new FI(r,e)}class FI{constructor(e,t){this.dep=new Ap,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:He(e),this._value=t?e:Yr(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||wr(e)||$n(e);e=n?e:He(e),hi(e,t)&&(this._rawValue=e,this._value=n?e:Yr(e),this.dep.trigger())}}function av(r){return zt(r)?r.value:r}const jI={get:(r,e,t)=>e==="__v_raw"?r:av(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return zt(i)&&!zt(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function sv(r){return Gi(r)?r:new Proxy(r,jI)}function cN(r){const e=Ee(r)?new Array(r.length):{};for(const t in r)e[t]=zI(r,t);return e}class qI{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=He(e);let i=!0,o=e;if(!Ee(e)||!Ac(String(t)))do i=!Oc(o)||wr(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=av(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&zt(this._raw[this._key])){const t=this._object[this._key];if(zt(t)){t.value=e;return}}this._object[this._key]=e}get dep(){return yI(this._raw,this._key)}}function zI(r,e,t){return new qI(r,e,t)}class $I{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ap(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ka-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return Zy(this,!0),!0}get value(){const e=this.dep.track();return Ky(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function UI(r,e,t=!1){let n,i;return Pe(r)?n=r:(n=r.get,i=r.set),new $I(n,i,t)}const tl={},zl=new WeakMap;let Ei;function GI(r,e=!1,t=Ei){if(t){let n=zl.get(t);n||zl.set(t,n=[]),n.push(r)}}function BI(r,e,t=nt){const{immediate:n,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=t,c=T=>i?T:wr(T)||i===!1||i===0?Sn(T,1):Sn(T);let u,d,h,p,f=!1,y=!1;if(zt(r)?(d=()=>r.value,f=wr(r)):Gi(r)?(d=()=>c(r),f=!0):Ee(r)?(y=!0,f=r.some(T=>Gi(T)||wr(T)),d=()=>r.map(T=>{if(zt(T))return T.value;if(Gi(T))return c(T);if(Pe(T))return l?l(T,2):T()})):Pe(r)?e?d=l?()=>l(r,2):r:d=()=>{if(h){qn();try{h()}finally{zn()}}const T=Ei;Ei=u;try{return l?l(r,3,[p]):r(p)}finally{Ei=T}}:d=gn,e&&i){const T=d,E=i===!0?1/0:i;d=()=>Sn(T(),E)}const m=gI(),b=()=>{u.stop(),m&&m.active&&_p(m.effects,u)};if(o&&e){const T=e;e=(...E)=>{T(...E),b()}}let k=y?new Array(r.length).fill(tl):tl;const C=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const E=u.run();if(i||f||(y?E.some((R,F)=>hi(R,k[F])):hi(E,k))){h&&h();const R=Ei;Ei=u;try{const F=[E,k===tl?void 0:y&&k[0]===tl?[]:k,p];k=E,l?l(e,3,F):e(...F)}finally{Ei=R}}}else u.run()};return s&&s(C),u=new Vy(d),u.scheduler=a?()=>a(C,!1):C,p=T=>GI(T,!1,u),h=u.onStop=()=>{const T=zl.get(u);if(T){if(l)l(T,4);else for(const E of T)E();zl.delete(u)}},e?n?C(!0):k=u.run():a?a(C.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Sn(r,e=1/0,t){if(e<=0||!ot(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,zt(r))Sn(r.value,e,t);else if(Ee(r))for(let n=0;n<r.length;n++)Sn(r[n],e,t);else if(Fy(r)||Ao(r))r.forEach(n=>{Sn(n,e,t)});else if(zy(r)){for(const n in r)Sn(r[n],e,t);for(const n of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,n)&&Sn(r[n],e,t)}return r}function ms(r,e,t,n){try{return n?r(...n):r()}catch(i){Rc(i,e,t)}}function Un(r,e,t,n){if(Pe(r)){const i=ms(r,e,t,n);return i&&jy(i)&&i.catch(o=>{Rc(o,e,t)}),i}if(Ee(r)){const i=[];for(let o=0;o<r.length;o++)i.push(Un(r[o],e,t,n));return i}}function Rc(r,e,t,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||nt;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](r,l,c)===!1)return}s=s.parent}if(o){qn(),ms(o,null,10,[r,l,c]),zn();return}}VI(r,t,i,n,a)}function VI(r,e,t,n=!0,i=!1){if(i)throw r;console.error(r)}const or=[];let en=-1;const Po=[];let ri=null,yo=0;const lv=Promise.resolve();let $l=null;function HI(r){const e=$l||lv;return r?e.then(this?r.bind(this):r):e}function ZI(r){let e=en+1,t=or.length;for(;e<t;){const n=e+t>>>1,i=or[n],o=Xa(i);o<r||o===r&&i.flags&2?e=n+1:t=n}return e}function Op(r){if(!(r.flags&1)){const e=Xa(r),t=or[or.length-1];!t||!(r.flags&2)&&e>=Xa(t)?or.push(r):or.splice(ZI(e),0,r),r.flags|=1,cv()}}function cv(){$l||($l=lv.then(dv))}function YI(r){Ee(r)?Po.push(...r):ri&&r.id===-1?ri.splice(yo+1,0,r):r.flags&1||(Po.push(r),r.flags|=1),cv()}function rm(r,e,t=en+1){for(;t<or.length;t++){const n=or[t];if(n&&n.flags&2){if(r&&n.id!==r.uid)continue;or.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function uv(r){if(Po.length){const e=[...new Set(Po)].sort((t,n)=>Xa(t)-Xa(n));if(Po.length=0,ri){ri.push(...e);return}for(ri=e,yo=0;yo<ri.length;yo++){const t=ri[yo];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}ri=null,yo=0}}const Xa=r=>r.id==null?r.flags&2?-1:1/0:r.id;function dv(r){try{for(en=0;en<or.length;en++){const e=or[en];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;en<or.length;en++){const e=or[en];e&&(e.flags&=-2)}en=-1,or.length=0,uv(),$l=null,(or.length||Po.length)&&dv()}}let kr=null,hv=null;function Ul(r){const e=kr;return kr=r,hv=r&&r.type.__scopeId||null,e}function WI(r,e=kr,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&gm(-1);const o=Ul(e);let a;try{a=r(...i)}finally{Ul(o),n._d&&gm(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function uN(r,e){if(kr===null)return r;const t=$c(kr),n=r.dirs||(r.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=nt]=e[i];o&&(Pe(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(a),n.push({dir:o,instance:t,value:a,oldValue:void 0,arg:s,modifiers:l}))}return r}function Ti(r,e,t,n){const i=r.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(qn(),Un(l,t,8,[r.el,s,r,e]),zn())}}function KI(r,e){if(Jt){let t=Jt.provides;const n=Jt.parent&&Jt.parent.provides;n===t&&(t=Jt.provides=Object.create(n)),t[r]=e}}function cl(r,e,t=!1){const n=zc();if(n||Bi){let i=Bi?Bi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&r in i)return i[r];if(arguments.length>1)return t&&Pe(e)?e.call(n&&n.proxy):e}}function dN(){return!!(zc()||Bi)}const QI=Symbol.for("v-scx"),XI=()=>cl(QI);function $u(r,e,t){return pv(r,e,t)}function pv(r,e,t=nt){const{immediate:n,deep:i,flush:o,once:a}=t,s=er({},t),l=e&&n||!e&&o!=="post";let c;if(es){if(o==="sync"){const p=XI();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=gn,p.resume=gn,p.pause=gn,p}}const u=Jt;s.call=(p,f,y)=>Un(p,u,f,y);let d=!1;o==="post"?s.scheduler=p=>{ur(p,u&&u.suspense)}:o!=="sync"&&(d=!0,s.scheduler=(p,f)=>{f?p():Op(p)}),s.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=BI(r,e,s);return es&&(c?c.push(h):l&&h()),h}function JI(r,e,t){const n=this.proxy,i=tr(r)?r.includes(".")?gv(n,r):()=>n[r]:r.bind(n,n);let o;Pe(e)?o=e:(o=e.handler,t=e);const a=ys(this),s=pv(i,o.bind(n),t);return a(),s}function gv(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}const eA=Symbol("_vte"),tA=r=>r.__isTeleport,rA=Symbol("_leaveCb");function Rp(r,e){r.shapeFlag&6&&r.component?(r.transition=e,Rp(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function hN(r,e){return Pe(r)?er({name:r.name},e,{setup:r}):r}function pN(){const r=zc();return r?(r.appContext.config.idPrefix||"v")+"-"+r.ids[0]+r.ids[1]++:""}function fv(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function gN(r){const e=zc(),t=RI(null);if(e){const i=e.refs===nt?e.refs={}:e.refs;Object.defineProperty(i,r,{enumerable:!0,get:()=>t.value,set:o=>t.value=o})}return t}function nm(r,e){let t;return!!((t=Object.getOwnPropertyDescriptor(r,e))&&!t.configurable)}const Gl=new WeakMap;function Ea(r,e,t,n,i=!1){if(Ee(r)){r.forEach((y,m)=>Ea(y,e&&(Ee(e)?e[m]:e),t,n,i));return}if(Ma(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ea(r,e,t,n.component.subTree);return}const o=n.shapeFlag&4?$c(n.component):n.el,a=i?null:o,{i:s,r:l}=r,c=e&&e.r,u=s.refs===nt?s.refs={}:s.refs,d=s.setupState,h=He(d),p=d===nt?Oy:y=>nm(u,y)?!1:Je(h,y),f=(y,m)=>!(m&&nm(u,m));if(c!=null&&c!==l){if(im(e),tr(c))u[c]=null,p(c)&&(d[c]=null);else if(zt(c)){const y=e;f(c,y.k)&&(c.value=null),y.k&&(u[y.k]=null)}}if(Pe(l))ms(l,s,12,[a,u]);else{const y=tr(l),m=zt(l);if(y||m){const b=()=>{if(r.f){const k=y?p(l)?d[l]:u[l]:f()||!r.k?l.value:u[r.k];if(i)Ee(k)&&_p(k,o);else if(Ee(k))k.includes(o)||k.push(o);else if(y)u[l]=[o],p(l)&&(d[l]=u[l]);else{const C=[o];f(l,r.k)&&(l.value=C),r.k&&(u[r.k]=C)}}else y?(u[l]=a,p(l)&&(d[l]=a)):m&&(f(l,r.k)&&(l.value=a),r.k&&(u[r.k]=a))};if(a){const k=()=>{b(),Gl.delete(r)};k.id=-1,Gl.set(r,k),ur(k,t)}else im(r),b()}}}function im(r){const e=Gl.get(r);e&&(e.flags|=8,Gl.delete(r))}Nc().requestIdleCallback;Nc().cancelIdleCallback;const Ma=r=>!!r.type.__asyncLoader,mv=r=>r.type.__isKeepAlive;function nA(r,e){yv(r,"a",e)}function iA(r,e){yv(r,"da",e)}function yv(r,e,t=Jt){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Fc(e,n,t),t){let i=t.parent;for(;i&&i.parent;)mv(i.parent.vnode)&&oA(n,e,t,i),i=i.parent}}function oA(r,e,t,n){const i=Fc(e,r,n,!0);vv(()=>{_p(n[e],i)},t)}function Fc(r,e,t=Jt,n=!1){if(t){const i=t[r]||(t[r]=[]),o=e.__weh||(e.__weh=(...a)=>{qn();const s=ys(t),l=Un(e,t,r,a);return s(),zn(),l});return n?i.unshift(o):i.push(o),o}}const Bn=r=>(e,t=Jt)=>{(!es||r==="sp")&&Fc(r,(...n)=>e(...n),t)},aA=Bn("bm"),sA=Bn("m"),lA=Bn("bu"),cA=Bn("u"),uA=Bn("bum"),vv=Bn("um"),dA=Bn("sp"),hA=Bn("rtg"),pA=Bn("rtc");function gA(r,e=Jt){Fc("ec",r,e)}const fA="components",kv=Symbol.for("v-ndc");function fN(r){return tr(r)?mA(fA,r,!1)||r:r||kv}function mA(r,e,t=!0,n=!1){const i=kr||Jt;if(i){const o=i.type;{const s=rP(o,!1);if(s&&(s===e||s===yn(e)||s===Tp(yn(e))))return o}const a=om(i[r]||o[r],e)||om(i.appContext[r],e);return!a&&n?o:a}}function om(r,e){return r&&(r[e]||r[yn(e)]||r[Tp(yn(e))])}function mN(r,e,t,n){let i;const o=t,a=Ee(r);if(a||tr(r)){const s=a&&Gi(r);let l=!1,c=!1;s&&(l=!wr(r),c=$n(r),r=Dc(r)),i=new Array(r.length);for(let u=0,d=r.length;u<d;u++)i[u]=e(l?c?Oo(Yr(r[u])):Yr(r[u]):r[u],u,void 0,o)}else if(typeof r=="number"){i=new Array(r);for(let s=0;s<r;s++)i[s]=e(s+1,s,void 0,o)}else if(ot(r))if(r[Symbol.iterator])i=Array.from(r,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(r);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[l]=e(r[u],u,l,o)}}else i=[];return i}const Gd=r=>r?$v(r)?$c(r):Gd(r.parent):null,Sa=er(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Gd(r.parent),$root:r=>Gd(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>xv(r),$forceUpdate:r=>r.f||(r.f=()=>{Op(r.update)}),$nextTick:r=>r.n||(r.n=HI.bind(r.proxy)),$watch:r=>JI.bind(r)}),Uu=(r,e)=>r!==nt&&!r.__isScriptSetup&&Je(r,e),yA={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=r;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(Uu(n,e))return a[e]=1,n[e];if(i!==nt&&Je(i,e))return a[e]=2,i[e];if(Je(o,e))return a[e]=3,o[e];if(t!==nt&&Je(t,e))return a[e]=4,t[e];Bd&&(a[e]=0)}}const c=Sa[e];let u,d;if(c)return e==="$attrs"&&Kt(r.attrs,"get",""),c(r);if((u=s.__cssModules)&&(u=u[e]))return u;if(t!==nt&&Je(t,e))return a[e]=4,t[e];if(d=l.config.globalProperties,Je(d,e))return d[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:o}=r;return Uu(i,e)?(i[e]=t,!0):n!==nt&&Je(n,e)?(n[e]=t,!0):Je(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,props:o,type:a}},s){let l;return!!(t[s]||r!==nt&&s[0]!=="$"&&Je(r,s)||Uu(e,s)||Je(o,s)||Je(n,s)||Je(Sa,s)||Je(i.config.globalProperties,s)||(l=a.__cssModules)&&l[s])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Je(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function am(r){return Ee(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Bd=!0;function vA(r){const e=xv(r),t=r.proxy,n=r.ctx;Bd=!1,e.beforeCreate&&sm(e.beforeCreate,r,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:f,activated:y,deactivated:m,beforeDestroy:b,beforeUnmount:k,destroyed:C,unmounted:T,render:E,renderTracked:R,renderTriggered:F,errorCaptured:le,serverPrefetch:oe,expose:ge,inheritAttrs:$,components:q,directives:te,filters:S}=e;if(c&&kA(c,n,null),a)for(const X in a){const me=a[X];Pe(me)&&(n[X]=me.bind(t))}if(i){const X=i.call(t,t);ot(X)&&(r.data=Np(X))}if(Bd=!0,o)for(const X in o){const me=o[X],Be=Pe(me)?me.bind(t,t):Pe(me.get)?me.get.bind(t,t):gn,B=!Pe(me)&&Pe(me.set)?me.set.bind(t):gn,wt=iP({get:Be,set:B});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>wt.value,set:rt=>wt.value=rt})}if(s)for(const X in s)bv(s[X],n,t,X);if(l){const X=Pe(l)?l.call(t):l;Reflect.ownKeys(X).forEach(me=>{KI(me,X[me])})}u&&sm(u,r,"c");function ne(X,me){Ee(me)?me.forEach(Be=>X(Be.bind(t))):me&&X(me.bind(t))}if(ne(aA,d),ne(sA,h),ne(lA,p),ne(cA,f),ne(nA,y),ne(iA,m),ne(gA,le),ne(pA,R),ne(hA,F),ne(uA,k),ne(vv,T),ne(dA,oe),Ee(ge))if(ge.length){const X=r.exposed||(r.exposed={});ge.forEach(me=>{Object.defineProperty(X,me,{get:()=>t[me],set:Be=>t[me]=Be,enumerable:!0})})}else r.exposed||(r.exposed={});E&&r.render===gn&&(r.render=E),$!=null&&(r.inheritAttrs=$),q&&(r.components=q),te&&(r.directives=te),oe&&fv(r)}function kA(r,e,t=gn){Ee(r)&&(r=Vd(r));for(const n in r){const i=r[n];let o;ot(i)?"default"in i?o=cl(i.from||n,i.default,!0):o=cl(i.from||n):o=cl(i),zt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[n]=o}}function sm(r,e,t){Un(Ee(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function bv(r,e,t,n){let i=n.includes(".")?gv(t,n):()=>t[n];if(tr(r)){const o=e[r];Pe(o)&&$u(i,o)}else if(Pe(r))$u(i,r.bind(t));else if(ot(r))if(Ee(r))r.forEach(o=>bv(o,e,t,n));else{const o=Pe(r.handler)?r.handler.bind(t):e[r.handler];Pe(o)&&$u(i,o,r)}}function xv(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=r.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>Bl(l,c,a,!0)),Bl(l,e,a)),ot(e)&&o.set(e,l),l}function Bl(r,e,t,n=!1){const{mixins:i,extends:o}=e;o&&Bl(r,o,t,!0),i&&i.forEach(a=>Bl(r,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const s=bA[a]||t&&t[a];r[a]=s?s(r[a],e[a]):e[a]}return r}const bA={data:lm,props:cm,emits:cm,methods:ya,computed:ya,beforeCreate:nr,created:nr,beforeMount:nr,mounted:nr,beforeUpdate:nr,updated:nr,beforeDestroy:nr,beforeUnmount:nr,destroyed:nr,unmounted:nr,activated:nr,deactivated:nr,errorCaptured:nr,serverPrefetch:nr,components:ya,directives:ya,watch:wA,provide:lm,inject:xA};function lm(r,e){return e?r?function(){return er(Pe(r)?r.call(this,this):r,Pe(e)?e.call(this,this):e)}:e:r}function xA(r,e){return ya(Vd(r),Vd(e))}function Vd(r){if(Ee(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function nr(r,e){return r?[...new Set([].concat(r,e))]:e}function ya(r,e){return r?er(Object.create(null),r,e):e}function cm(r,e){return r?Ee(r)&&Ee(e)?[...new Set([...r,...e])]:er(Object.create(null),am(r),am(e??{})):e}function wA(r,e){if(!r)return e;if(!e)return r;const t=er(Object.create(null),r);for(const n in e)t[n]=nr(r[n],e[n]);return t}function wv(){return{app:null,config:{isNativeTag:Oy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _A=0;function TA(r,e){return function(n,i=null){Pe(n)||(n=er({},n)),i!=null&&!ot(i)&&(i=null);const o=wv(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:_A++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:oP,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&Pe(u.install)?(a.add(u),u.install(c,...d)):Pe(u)&&(a.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||Pn(n,i);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),r(p,u,h),l=!0,c._container=u,u.__vue_app__=c,$c(p.component)}},onUnmount(u){s.push(u)},unmount(){l&&(Un(s,c._instance,16),r(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Bi;Bi=c;try{return u()}finally{Bi=d}}};return c}}let Bi=null;const CA=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${yn(e)}Modifiers`]||r[`${fs(e)}Modifiers`];function EA(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||nt;let i=t;const o=e.startsWith("update:"),a=o&&CA(n,e.slice(7));a&&(a.trim&&(i=t.map(u=>tr(u)?u.trim():u)),a.number&&(i=t.map(aI)));let s,l=n[s=Ou(e)]||n[s=Ou(yn(e))];!l&&o&&(l=n[s=Ou(fs(e))]),l&&Un(l,r,6,i);const c=n[s+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,Un(c,r,6,i)}}const MA=new WeakMap;function _v(r,e,t=!1){const n=t?MA:e.emitsCache,i=n.get(r);if(i!==void 0)return i;const o=r.emits;let a={},s=!1;if(!Pe(r)){const l=c=>{const u=_v(c,e,!0);u&&(s=!0,er(a,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!o&&!s?(ot(r)&&n.set(r,null),null):(Ee(o)?o.forEach(l=>a[l]=null):er(a,o),ot(r)&&n.set(r,a),a)}function jc(r,e){return!r||!wp(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(r,e[0].toLowerCase()+e.slice(1))||Je(r,fs(e))||Je(r,e))}function um(r){const{type:e,vnode:t,proxy:n,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:f,inheritAttrs:y}=r,m=Ul(r);let b,k;try{if(t.shapeFlag&4){const T=i||n,E=T;b=tn(c.call(E,T,u,d,p,h,f)),k=s}else{const T=e;b=tn(T.length>1?T(d,{attrs:s,slots:a,emit:l}):T(d,null)),k=e.props?s:SA(s)}}catch(T){La.length=0,Rc(T,r,1),b=Pn(mi)}let C=b;if(k&&y!==!1){const T=Object.keys(k),{shapeFlag:E}=C;T.length&&E&7&&(o&&T.some(Ry)&&(k=LA(k,o)),C=Ro(C,k,!1,!0))}return t.dirs&&(C=Ro(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&Rp(C,t.transition),b=C,Ul(m),b}const SA=r=>{let e;for(const t in r)(t==="class"||t==="style"||wp(t))&&((e||(e={}))[t]=r[t]);return e},LA=(r,e)=>{const t={};for(const n in r)(!Ry(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function IA(r,e,t){const{props:n,children:i,component:o}=r,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?dm(n,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(Tv(a,n,h)&&!jc(c,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?dm(n,a,c):!0:!!a;return!1}function dm(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(Tv(e,r,o)&&!jc(t,o))return!0}return!1}function Tv(r,e,t){const n=r[t],i=e[t];return t==="style"&&ot(n)&&ot(i)?!Mp(n,i):n!==i}function AA({vnode:r,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=e.vnode).el=t,e=e.parent;else break}}const Cv={},Ev=()=>Object.create(Cv),Mv=r=>Object.getPrototypeOf(r)===Cv;function PA(r,e,t,n=!1){const i={},o=Ev();r.propsDefaults=Object.create(null),Sv(r,e,i,o);for(const a in r.propsOptions[0])a in i||(i[a]=void 0);t?r.props=n?i:DI(i):r.type.props?r.props=i:r.props=o,r.attrs=o}function NA(r,e,t,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=r,s=He(i),[l]=r.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=r.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(jc(r.emitsOptions,h))continue;const p=e[h];if(l)if(Je(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const f=yn(h);i[f]=Hd(l,s,f,p,r,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{Sv(r,e,i,o)&&(c=!0);let u;for(const d in s)(!e||!Je(e,d)&&((u=fs(d))===d||!Je(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=Hd(l,s,d,void 0,r,!0)):delete i[d]);if(o!==s)for(const d in o)(!e||!Je(e,d))&&(delete o[d],c=!0)}c&&Mn(r.attrs,"set","")}function Sv(r,e,t,n){const[i,o]=r.propsOptions;let a=!1,s;if(e)for(let l in e){if(_a(l))continue;const c=e[l];let u;i&&Je(i,u=yn(l))?!o||!o.includes(u)?t[u]=c:(s||(s={}))[u]=c:jc(r.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(o){const l=He(t),c=s||nt;for(let u=0;u<o.length;u++){const d=o[u];t[d]=Hd(i,l,d,c[d],r,!Je(c,d))}}return a}function Hd(r,e,t,n,i,o){const a=r[t];if(a!=null){const s=Je(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Pe(l)){const{propsDefaults:c}=i;if(t in c)n=c[t];else{const u=ys(i);n=c[t]=l.call(null,e),u()}}else n=l;i.ce&&i.ce._setProp(t,n)}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===fs(t))&&(n=!0))}return n}const DA=new WeakMap;function Lv(r,e,t=!1){const n=t?DA:e.propsCache,i=n.get(r);if(i)return i;const o=r.props,a={},s=[];let l=!1;if(!Pe(r)){const u=d=>{l=!0;const[h,p]=Lv(d,e,!0);er(a,h),p&&s.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!o&&!l)return ot(r)&&n.set(r,Io),Io;if(Ee(o))for(let u=0;u<o.length;u++){const d=yn(o[u]);hm(d)&&(a[d]=nt)}else if(o)for(const u in o){const d=yn(u);if(hm(d)){const h=o[u],p=a[d]=Ee(h)||Pe(h)?{type:h}:er({},h),f=p.type;let y=!1,m=!0;if(Ee(f))for(let b=0;b<f.length;++b){const k=f[b],C=Pe(k)&&k.name;if(C==="Boolean"){y=!0;break}else C==="String"&&(m=!1)}else y=Pe(f)&&f.name==="Boolean";p[0]=y,p[1]=m,(y||Je(p,"default"))&&s.push(d)}}const c=[a,s];return ot(r)&&n.set(r,c),c}function hm(r){return r[0]!=="$"&&!_a(r)}const Fp=r=>r==="_"||r==="_ctx"||r==="$stable",jp=r=>Ee(r)?r.map(tn):[tn(r)],OA=(r,e,t)=>{if(e._n)return e;const n=WI((...i)=>jp(e(...i)),t);return n._c=!1,n},Iv=(r,e,t)=>{const n=r._ctx;for(const i in r){if(Fp(i))continue;const o=r[i];if(Pe(o))e[i]=OA(i,o,n);else if(o!=null){const a=jp(o);e[i]=()=>a}}},Av=(r,e)=>{const t=jp(e);r.slots.default=()=>t},Pv=(r,e,t)=>{for(const n in e)(t||!Fp(n))&&(r[n]=e[n])},RA=(r,e,t)=>{const n=r.slots=Ev();if(r.vnode.shapeFlag&32){const i=e._;i?(Pv(n,e,t),t&&$y(n,"_",i,!0)):Iv(e,n)}else e&&Av(r,e)},FA=(r,e,t)=>{const{vnode:n,slots:i}=r;let o=!0,a=nt;if(n.shapeFlag&32){const s=e._;s?t&&s===1?o=!1:Pv(i,e,t):(o=!e.$stable,Iv(e,i)),a=e}else e&&(Av(r,e),a={default:1});if(o)for(const s in i)!Fp(s)&&a[s]==null&&delete i[s]},ur=$A;function yN(r){return jA(r)}function jA(r,e){const t=Nc();t.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=gn,insertStaticContent:f}=r,y=(x,w,L,z=null,P=null,j=null,V=void 0,W=null,Z=!!w.dynamicChildren)=>{if(x===w)return;x&&!pa(x,w)&&(z=Qe(x),rt(x,P,j,!0),x=null),w.patchFlag===-2&&(Z=!1,w.dynamicChildren=null);const{type:D,ref:fe,shapeFlag:re}=w;switch(D){case qc:m(x,w,L,z);break;case mi:b(x,w,L,z);break;case Bu:x==null&&k(w,L,z,V);break;case Tn:q(x,w,L,z,P,j,V,W,Z);break;default:re&1?E(x,w,L,z,P,j,V,W,Z):re&6?te(x,w,L,z,P,j,V,W,Z):(re&64||re&128)&&D.process(x,w,L,z,P,j,V,W,Z,Y)}fe!=null&&P?Ea(fe,x&&x.ref,j,w||x,!w):fe==null&&x&&x.ref!=null&&Ea(x.ref,null,j,x,!0)},m=(x,w,L,z)=>{if(x==null)n(w.el=s(w.children),L,z);else{const P=w.el=x.el;w.children!==x.children&&c(P,w.children)}},b=(x,w,L,z)=>{x==null?n(w.el=l(w.children||""),L,z):w.el=x.el},k=(x,w,L,z)=>{[x.el,x.anchor]=f(x.children,w,L,z,x.el,x.anchor)},C=({el:x,anchor:w},L,z)=>{let P;for(;x&&x!==w;)P=h(x),n(x,L,z),x=P;n(w,L,z)},T=({el:x,anchor:w})=>{let L;for(;x&&x!==w;)L=h(x),i(x),x=L;i(w)},E=(x,w,L,z,P,j,V,W,Z)=>{if(w.type==="svg"?V="svg":w.type==="math"&&(V="mathml"),x==null)R(w,L,z,P,j,V,W,Z);else{const D=x.el&&x.el._isVueCE?x.el:null;try{D&&D._beginPatch(),oe(x,w,P,j,V,W,Z)}finally{D&&D._endPatch()}}},R=(x,w,L,z,P,j,V,W)=>{let Z,D;const{props:fe,shapeFlag:re,transition:J,dirs:ae}=x;if(Z=x.el=a(x.type,j,fe&&fe.is,fe),re&8?u(Z,x.children):re&16&&le(x.children,Z,null,z,P,Gu(x,j),V,W),ae&&Ti(x,null,z,"created"),F(Z,x,x.scopeId,V,z),fe){for(const ke in fe)ke!=="value"&&!_a(ke)&&o(Z,ke,null,fe[ke],j,z);"value"in fe&&o(Z,"value",null,fe.value,j),(D=fe.onVnodeBeforeMount)&&Jr(D,z,x)}ae&&Ti(x,null,z,"beforeMount");const de=qA(P,J);de&&J.beforeEnter(Z),n(Z,w,L),((D=fe&&fe.onVnodeMounted)||de||ae)&&ur(()=>{D&&Jr(D,z,x),de&&J.enter(Z),ae&&Ti(x,null,z,"mounted")},P)},F=(x,w,L,z,P)=>{if(L&&p(x,L),z)for(let j=0;j<z.length;j++)p(x,z[j]);if(P){let j=P.subTree;if(w===j||Rv(j.type)&&(j.ssContent===w||j.ssFallback===w)){const V=P.vnode;F(x,V,V.scopeId,V.slotScopeIds,P.parent)}}},le=(x,w,L,z,P,j,V,W,Z=0)=>{for(let D=Z;D<x.length;D++){const fe=x[D]=W?Cn(x[D]):tn(x[D]);y(null,fe,w,L,z,P,j,V,W)}},oe=(x,w,L,z,P,j,V)=>{const W=w.el=x.el;let{patchFlag:Z,dynamicChildren:D,dirs:fe}=w;Z|=x.patchFlag&16;const re=x.props||nt,J=w.props||nt;let ae;if(L&&Ci(L,!1),(ae=J.onVnodeBeforeUpdate)&&Jr(ae,L,w,x),fe&&Ti(w,x,L,"beforeUpdate"),L&&Ci(L,!0),(re.innerHTML&&J.innerHTML==null||re.textContent&&J.textContent==null)&&u(W,""),D?ge(x.dynamicChildren,D,W,L,z,Gu(w,P),j):V||me(x,w,W,null,L,z,Gu(w,P),j,!1),Z>0){if(Z&16)$(W,re,J,L,P);else if(Z&2&&re.class!==J.class&&o(W,"class",null,J.class,P),Z&4&&o(W,"style",re.style,J.style,P),Z&8){const de=w.dynamicProps;for(let ke=0;ke<de.length;ke++){const ce=de[ke],_e=re[ce],Me=J[ce];(Me!==_e||ce==="value")&&o(W,ce,_e,Me,P,L)}}Z&1&&x.children!==w.children&&u(W,w.children)}else!V&&D==null&&$(W,re,J,L,P);((ae=J.onVnodeUpdated)||fe)&&ur(()=>{ae&&Jr(ae,L,w,x),fe&&Ti(w,x,L,"updated")},z)},ge=(x,w,L,z,P,j,V)=>{for(let W=0;W<w.length;W++){const Z=x[W],D=w[W],fe=Z.el&&(Z.type===Tn||!pa(Z,D)||Z.shapeFlag&198)?d(Z.el):L;y(Z,D,fe,null,z,P,j,V,!0)}},$=(x,w,L,z,P)=>{if(w!==L){if(w!==nt)for(const j in w)!_a(j)&&!(j in L)&&o(x,j,w[j],null,P,z);for(const j in L){if(_a(j))continue;const V=L[j],W=w[j];V!==W&&j!=="value"&&o(x,j,W,V,P,z)}"value"in L&&o(x,"value",w.value,L.value,P)}},q=(x,w,L,z,P,j,V,W,Z)=>{const D=w.el=x?x.el:s(""),fe=w.anchor=x?x.anchor:s("");let{patchFlag:re,dynamicChildren:J,slotScopeIds:ae}=w;ae&&(W=W?W.concat(ae):ae),x==null?(n(D,L,z),n(fe,L,z),le(w.children||[],L,fe,P,j,V,W,Z)):re>0&&re&64&&J&&x.dynamicChildren&&x.dynamicChildren.length===J.length?(ge(x.dynamicChildren,J,L,P,j,V,W),(w.key!=null||P&&w===P.subTree)&&Nv(x,w,!0)):me(x,w,L,fe,P,j,V,W,Z)},te=(x,w,L,z,P,j,V,W,Z)=>{w.slotScopeIds=W,x==null?w.shapeFlag&512?P.ctx.activate(w,L,z,V,Z):S(w,L,z,P,j,V,Z):H(x,w,Z)},S=(x,w,L,z,P,j,V)=>{const W=x.component=QA(x,z,P);if(mv(x)&&(W.ctx.renderer=Y),XA(W,!1,V),W.asyncDep){if(P&&P.registerDep(W,ne,V),!x.el){const Z=W.subTree=Pn(mi);b(null,Z,w,L),x.placeholder=Z.el}}else ne(W,x,w,L,P,j,V)},H=(x,w,L)=>{const z=w.component=x.component;if(IA(x,w,L))if(z.asyncDep&&!z.asyncResolved){X(z,w,L);return}else z.next=w,z.update();else w.el=x.el,z.vnode=w},ne=(x,w,L,z,P,j,V)=>{const W=()=>{if(x.isMounted){let{next:re,bu:J,u:ae,parent:de,vnode:ke}=x;{const Ve=Dv(x);if(Ve){re&&(re.el=ke.el,X(x,re,V)),Ve.asyncDep.then(()=>{ur(()=>{x.isUnmounted||D()},P)});return}}let ce=re,_e;Ci(x,!1),re?(re.el=ke.el,X(x,re,V)):re=ke,J&&Ru(J),(_e=re.props&&re.props.onVnodeBeforeUpdate)&&Jr(_e,de,re,ke),Ci(x,!0);const Me=um(x),ze=x.subTree;x.subTree=Me,y(ze,Me,d(ze.el),Qe(ze),x,P,j),re.el=Me.el,ce===null&&AA(x,Me.el),ae&&ur(ae,P),(_e=re.props&&re.props.onVnodeUpdated)&&ur(()=>Jr(_e,de,re,ke),P)}else{let re;const{el:J,props:ae}=w,{bm:de,m:ke,parent:ce,root:_e,type:Me}=x,ze=Ma(w);Ci(x,!1),de&&Ru(de),!ze&&(re=ae&&ae.onVnodeBeforeMount)&&Jr(re,ce,w),Ci(x,!0);{_e.ce&&_e.ce._hasShadowRoot()&&_e.ce._injectChildStyle(Me);const Ve=x.subTree=um(x);y(null,Ve,L,z,x,P,j),w.el=Ve.el}if(ke&&ur(ke,P),!ze&&(re=ae&&ae.onVnodeMounted)){const Ve=w;ur(()=>Jr(re,ce,Ve),P)}(w.shapeFlag&256||ce&&Ma(ce.vnode)&&ce.vnode.shapeFlag&256)&&x.a&&ur(x.a,P),x.isMounted=!0,w=L=z=null}};x.scope.on();const Z=x.effect=new Vy(W);x.scope.off();const D=x.update=Z.run.bind(Z),fe=x.job=Z.runIfDirty.bind(Z);fe.i=x,fe.id=x.uid,Z.scheduler=()=>Op(fe),Ci(x,!0),D()},X=(x,w,L)=>{w.component=x;const z=x.vnode.props;x.vnode=w,x.next=null,NA(x,w.props,z,L),FA(x,w.children,L),qn(),rm(x),zn()},me=(x,w,L,z,P,j,V,W,Z=!1)=>{const D=x&&x.children,fe=x?x.shapeFlag:0,re=w.children,{patchFlag:J,shapeFlag:ae}=w;if(J>0){if(J&128){B(D,re,L,z,P,j,V,W,Z);return}else if(J&256){Be(D,re,L,z,P,j,V,W,Z);return}}ae&8?(fe&16&&bt(D,P,j),re!==D&&u(L,re)):fe&16?ae&16?B(D,re,L,z,P,j,V,W,Z):bt(D,P,j,!0):(fe&8&&u(L,""),ae&16&&le(re,L,z,P,j,V,W,Z))},Be=(x,w,L,z,P,j,V,W,Z)=>{x=x||Io,w=w||Io;const D=x.length,fe=w.length,re=Math.min(D,fe);let J;for(J=0;J<re;J++){const ae=w[J]=Z?Cn(w[J]):tn(w[J]);y(x[J],ae,L,null,P,j,V,W,Z)}D>fe?bt(x,P,j,!0,!1,re):le(w,L,z,P,j,V,W,Z,re)},B=(x,w,L,z,P,j,V,W,Z)=>{let D=0;const fe=w.length;let re=x.length-1,J=fe-1;for(;D<=re&&D<=J;){const ae=x[D],de=w[D]=Z?Cn(w[D]):tn(w[D]);if(pa(ae,de))y(ae,de,L,null,P,j,V,W,Z);else break;D++}for(;D<=re&&D<=J;){const ae=x[re],de=w[J]=Z?Cn(w[J]):tn(w[J]);if(pa(ae,de))y(ae,de,L,null,P,j,V,W,Z);else break;re--,J--}if(D>re){if(D<=J){const ae=J+1,de=ae<fe?w[ae].el:z;for(;D<=J;)y(null,w[D]=Z?Cn(w[D]):tn(w[D]),L,de,P,j,V,W,Z),D++}}else if(D>J)for(;D<=re;)rt(x[D],P,j,!0),D++;else{const ae=D,de=D,ke=new Map;for(D=de;D<=J;D++){const tt=w[D]=Z?Cn(w[D]):tn(w[D]);tt.key!=null&&ke.set(tt.key,D)}let ce,_e=0;const Me=J-de+1;let ze=!1,Ve=0;const gt=new Array(Me);for(D=0;D<Me;D++)gt[D]=0;for(D=ae;D<=re;D++){const tt=x[D];if(_e>=Me){rt(tt,P,j,!0);continue}let Re;if(tt.key!=null)Re=ke.get(tt.key);else for(ce=de;ce<=J;ce++)if(gt[ce-de]===0&&pa(tt,w[ce])){Re=ce;break}Re===void 0?rt(tt,P,j,!0):(gt[Re-de]=D+1,Re>=Ve?Ve=Re:ze=!0,y(tt,w[Re],L,null,P,j,V,W,Z),_e++)}const Vt=ze?zA(gt):Io;for(ce=Vt.length-1,D=Me-1;D>=0;D--){const tt=de+D,Re=w[tt],Ot=w[tt+1],At=tt+1<fe?Ot.el||Ov(Ot):z;gt[D]===0?y(null,Re,L,At,P,j,V,W,Z):ze&&(ce<0||D!==Vt[ce]?wt(Re,L,At,2):ce--)}}},wt=(x,w,L,z,P=null)=>{const{el:j,type:V,transition:W,children:Z,shapeFlag:D}=x;if(D&6){wt(x.component.subTree,w,L,z);return}if(D&128){x.suspense.move(w,L,z);return}if(D&64){V.move(x,w,L,Y);return}if(V===Tn){n(j,w,L);for(let re=0;re<Z.length;re++)wt(Z[re],w,L,z);n(x.anchor,w,L);return}if(V===Bu){C(x,w,L);return}if(z!==2&&D&1&&W)if(z===0)W.beforeEnter(j),n(j,w,L),ur(()=>W.enter(j),P);else{const{leave:re,delayLeave:J,afterLeave:ae}=W,de=()=>{x.ctx.isUnmounted?i(j):n(j,w,L)},ke=()=>{j._isLeaving&&j[rA](!0),re(j,()=>{de(),ae&&ae()})};J?J(j,de,ke):ke()}else n(j,w,L)},rt=(x,w,L,z=!1,P=!1)=>{const{type:j,props:V,ref:W,children:Z,dynamicChildren:D,shapeFlag:fe,patchFlag:re,dirs:J,cacheIndex:ae}=x;if(re===-2&&(P=!1),W!=null&&(qn(),Ea(W,null,L,x,!0),zn()),ae!=null&&(w.renderCache[ae]=void 0),fe&256){w.ctx.deactivate(x);return}const de=fe&1&&J,ke=!Ma(x);let ce;if(ke&&(ce=V&&V.onVnodeBeforeUnmount)&&Jr(ce,w,x),fe&6)kt(x.component,L,z);else{if(fe&128){x.suspense.unmount(L,z);return}de&&Ti(x,null,w,"beforeUnmount"),fe&64?x.type.remove(x,w,L,Y,z):D&&!D.hasOnce&&(j!==Tn||re>0&&re&64)?bt(D,w,L,!1,!0):(j===Tn&&re&384||!P&&fe&16)&&bt(Z,w,L),z&&Tt(x)}(ke&&(ce=V&&V.onVnodeUnmounted)||de)&&ur(()=>{ce&&Jr(ce,w,x),de&&Ti(x,null,w,"unmounted")},L)},Tt=x=>{const{type:w,el:L,anchor:z,transition:P}=x;if(w===Tn){rr(L,z);return}if(w===Bu){T(x);return}const j=()=>{i(L),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(x.shapeFlag&1&&P&&!P.persisted){const{leave:V,delayLeave:W}=P,Z=()=>V(L,j);W?W(x.el,j,Z):Z()}else j()},rr=(x,w)=>{let L;for(;x!==w;)L=h(x),i(x),x=L;i(w)},kt=(x,w,L)=>{const{bum:z,scope:P,job:j,subTree:V,um:W,m:Z,a:D}=x;pm(Z),pm(D),z&&Ru(z),P.stop(),j&&(j.flags|=8,rt(V,x,w,L)),W&&ur(W,w),ur(()=>{x.isUnmounted=!0},w)},bt=(x,w,L,z=!1,P=!1,j=0)=>{for(let V=j;V<x.length;V++)rt(x[V],w,L,z,P)},Qe=x=>{if(x.shapeFlag&6)return Qe(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const w=h(x.anchor||x.el),L=w&&w[eA];return L?h(L):w};let et=!1;const Fe=(x,w,L)=>{let z;x==null?w._vnode&&(rt(w._vnode,null,null,!0),z=w._vnode.component):y(w._vnode||null,x,w,null,null,null,L),w._vnode=x,et||(et=!0,rm(z),uv(),et=!1)},Y={p:y,um:rt,m:wt,r:Tt,mt:S,mc:le,pc:me,pbc:ge,n:Qe,o:r};return{render:Fe,hydrate:void 0,createApp:TA(Fe)}}function Gu({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ci({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function qA(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Nv(r,e,t=!1){const n=r.children,i=e.children;if(Ee(n)&&Ee(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Cn(i[o]),s.el=a.el),!t&&s.patchFlag!==-2&&Nv(a,s)),s.type===qc&&(s.patchFlag===-1&&(s=i[o]=Cn(s)),s.el=a.el),s.type===mi&&!s.el&&(s.el=a.el)}}function zA(r){const e=r.slice(),t=[0];let n,i,o,a,s;const l=r.length;for(n=0;n<l;n++){const c=r[n];if(c!==0){if(i=t[t.length-1],r[i]<c){e[n]=i,t.push(n);continue}for(o=0,a=t.length-1;o<a;)s=o+a>>1,r[t[s]]<c?o=s+1:a=s;c<r[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,a=t[o-1];o-- >0;)t[o]=a,a=e[a];return t}function Dv(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dv(e)}function pm(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}function Ov(r){if(r.placeholder)return r.placeholder;const e=r.component;return e?Ov(e.subTree):null}const Rv=r=>r.__isSuspense;function $A(r,e){e&&e.pendingBranch?Ee(r)?e.effects.push(...r):e.effects.push(r):YI(r)}const Tn=Symbol.for("v-fgt"),qc=Symbol.for("v-txt"),mi=Symbol.for("v-cmt"),Bu=Symbol.for("v-stc"),La=[];let br=null;function UA(r=!1){La.push(br=r?null:[])}function GA(){La.pop(),br=La[La.length-1]||null}let Ja=1;function gm(r,e=!1){Ja+=r,r<0&&br&&e&&(br.hasOnce=!0)}function Fv(r){return r.dynamicChildren=Ja>0?br||Io:null,GA(),Ja>0&&br&&br.push(r),r}function vN(r,e,t,n,i,o){return Fv(zv(r,e,t,n,i,o,!0))}function BA(r,e,t,n,i){return Fv(Pn(r,e,t,n,i,!0))}function jv(r){return r?r.__v_isVNode===!0:!1}function pa(r,e){return r.type===e.type&&r.key===e.key}const qv=({key:r})=>r??null,ul=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?tr(r)||zt(r)||Pe(r)?{i:kr,r,k:e,f:!!t}:r:null);function zv(r,e=null,t=null,n=0,i=null,o=r===Tn?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&qv(e),ref:e&&ul(e),scopeId:hv,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:kr};return s?(qp(l,t),o&128&&r.normalize(l)):t&&(l.shapeFlag|=tr(t)?8:16),Ja>0&&!a&&br&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&br.push(l),l}const Pn=VA;function VA(r,e=null,t=null,n=0,i=null,o=!1){if((!r||r===kv)&&(r=mi),jv(r)){const s=Ro(r,e,!0);return t&&qp(s,t),Ja>0&&!o&&br&&(s.shapeFlag&6?br[br.indexOf(r)]=s:br.push(s)),s.patchFlag=-2,s}if(nP(r)&&(r=r.__vccOpts),e){e=HA(e);let{class:s,style:l}=e;s&&!tr(s)&&(e.class=Ep(s)),ot(l)&&(Oc(l)&&!Ee(l)&&(l=er({},l)),e.style=Cp(l))}const a=tr(r)?1:Rv(r)?128:tA(r)?64:ot(r)?4:Pe(r)?2:0;return zv(r,e,t,n,i,a,o,!0)}function HA(r){return r?Oc(r)||Mv(r)?er({},r):r:null}function Ro(r,e,t=!1,n=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=r,c=e?YA(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&qv(c),ref:e&&e.ref?t&&o?Ee(o)?o.concat(ul(e)):[o,ul(e)]:ul(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Tn?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:l,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ro(r.ssContent),ssFallback:r.ssFallback&&Ro(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return l&&n&&Rp(u,l.clone(u)),u}function ZA(r=" ",e=0){return Pn(qc,null,r,e)}function kN(r="",e=!1){return e?(UA(),BA(mi,null,r)):Pn(mi,null,r)}function tn(r){return r==null||typeof r=="boolean"?Pn(mi):Ee(r)?Pn(Tn,null,r.slice()):jv(r)?Cn(r):Pn(qc,null,String(r))}function Cn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ro(r)}function qp(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ee(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),qp(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Mv(e)?e._ctx=kr:i===3&&kr&&(kr.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Pe(e)?(e={default:e,_ctx:kr},t=32):(e=String(e),n&64?(t=16,e=[ZA(e)]):t=8);r.children=e,r.shapeFlag|=t}function YA(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ep([e.class,n.class]));else if(i==="style")e.style=Cp([e.style,n.style]);else if(wp(i)){const o=e[i],a=n[i];a&&o!==a&&!(Ee(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=n[i])}return e}function Jr(r,e,t,n=null){Un(r,e,7,[t,n])}const WA=wv();let KA=0;function QA(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||WA,o={uid:KA++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new By(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lv(n,i),emitsOptions:_v(n,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:n.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=EA.bind(null,o),r.ce&&r.ce(o),o}let Jt=null;const zc=()=>Jt||kr;let Vl,Zd;{const r=Nc(),e=(t,n)=>{let i;return(i=r[t])||(i=r[t]=[]),i.push(n),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};Vl=e("__VUE_INSTANCE_SETTERS__",t=>Jt=t),Zd=e("__VUE_SSR_SETTERS__",t=>es=t)}const ys=r=>{const e=Jt;return Vl(r),r.scope.on(),()=>{r.scope.off(),Vl(e)}},fm=()=>{Jt&&Jt.scope.off(),Vl(null)};function $v(r){return r.vnode.shapeFlag&4}let es=!1;function XA(r,e=!1,t=!1){e&&Zd(e);const{props:n,children:i}=r.vnode,o=$v(r);PA(r,n,o,e),RA(r,i,t||e);const a=o?JA(r,e):void 0;return e&&Zd(!1),a}function JA(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,yA);const{setup:n}=t;if(n){qn();const i=r.setupContext=n.length>1?tP(r):null,o=ys(r),a=ms(n,r,0,[r.props,i]),s=jy(a);if(zn(),o(),(s||r.sp)&&!Ma(r)&&fv(r),s){if(a.then(fm,fm),e)return a.then(l=>{mm(r,l)}).catch(l=>{Rc(l,r,0)});r.asyncDep=a}else mm(r,a)}else Uv(r)}function mm(r,e,t){Pe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:ot(e)&&(r.setupState=sv(e)),Uv(r)}function Uv(r,e,t){const n=r.type;r.render||(r.render=n.render||gn);{const i=ys(r);qn();try{vA(r)}finally{zn(),i()}}}const eP={get(r,e){return Kt(r,"get",""),r[e]}};function tP(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,eP),slots:r.slots,emit:r.emit,expose:e}}function $c(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(sv(OI(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Sa)return Sa[t](r)},has(e,t){return t in e||t in Sa}})):r.proxy}function rP(r,e=!0){return Pe(r)?r.displayName||r.name:r.name||e&&r.__name}function nP(r){return Pe(r)&&"__vccOpts"in r}const iP=(r,e)=>UI(r,e,es),oP="3.5.28";export{UP as $,jn as A,yp as B,Ju as C,Ee as D,YE as E,fs as F,nN as G,Tp as H,Un as I,sr as J,BP as K,Mp as L,WP as M,Ru as N,aN as O,lN as P,OI as Q,cl as R,dN as S,ZP as T,Np as U,zt as V,XP as W,cy as X,Gi as Y,He as Z,gI as _,zv as a,sN as a0,HI as a1,cN as a2,iP as a3,$u as a4,gN as a5,GP as a6,Tn as a7,kN as a8,Ep as a9,pI as aa,av as ab,pN as ac,mN as ad,uN as ae,BA as af,ZA as ag,fN as ah,KE as ai,ZE as b,vN as c,hN as d,VP as e,HP as f,k6 as g,eN as h,tN as i,KP as j,Sc as k,YP as l,Pe as m,yN as n,UA as o,tr as p,rN as q,er as r,Ke as s,wp as t,Ry as u,iN as v,lr as w,yx as x,yn as y,oN as z};
