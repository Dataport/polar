const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pinia-6B_mW3wX-DRmF_KiC.js","./vue.runtime.esm-bundler-IOlVeADE-DvDdZCyY.js","./invisibleStyle-CilI54Z3-B0AHAUN2.js","./index-C5oYwalC-CYWpeTrP.js","./Style-DGYpfZX3-BA-oaQ9Z.js","./asserts-C1UfHExR-pcJD3tIw.js","./xml2js-BbVVFNWz-CKTwSDEB.js","./doesFeaturePassFilter-pdQbHl3P-CEan8aLJ.js","./reverseGeocode-CR3Bbmu1-BkP1SGuk.js","./indicateLoading-BPSAe-HO-Bh03LpqB.js"])))=>i.map(i=>d[i]);
import{computed as X,toRaw as nn,ref as Me,watch as yt,defineCustomElement as lk,nextTick as Yi,defineComponent as Ee,shallowRef as ck,inject as ym,useCssVars as uk,useTemplateRef as pi,createElementBlock as ee,onMounted as Wi,useHost as dk,useShadowRoot as hk,onBeforeUnmount as Zl,openBlock as I,createVNode as Pr,createBlock as xe,createCommentVNode as Ke,unref as M,createElementVNode as oe,Fragment as lt,resolveDynamicComponent as Ft,normalizeClass as it,toDisplayString as ze,withModifiers as ar,onUnmounted as pk,markRaw as Pi,withCtx as tr,Transition as gk,renderList as Lt,renderSlot as Ki,useId as rs,withDirectives as Qi,withKeys as Lr,isRef as Zu,vModelText as vm,normalizeStyle as ci,useModel as Nn,vModelSelect as fk,mergeProps as Yu,normalizeProps as mk,guardReactiveProps as yk,mergeModels as Xi,vModelCheckbox as km,vModelRadio as vk,createTextVNode as kk,provide as bk,vModelDynamic as xk,onScopeDispose as bm}from"./vue.runtime.esm-bundler-IOlVeADE-DvDdZCyY.js";import{x as Wt,b as hr,d as wk,e as on,m as Vi,r as ve,t as _k,f as qo,s as He,O as vt,g as Kd,h as xm,i as Pa,N as an,j as Jt,V as Dn,G as Tk,k as Ck,C as Ek,I as Qp,l as Ni,Z as hl,n as zo,o as ca,E as Mk,U as Xp,S as Sk,D as ui,p as Yl,q as wm,L as Lk,K as _m,u as Ik,v as Ak,y as Jp,P as Pk,z as Nk,F as $o,H as Dk,J as ns,Q as Ok,R as Rk,_ as Fk,W as jk,X as Wu,Y as qk,a0 as zk,a1 as Tm,a2 as $k,a3 as Vr,a4 as Uk,a5 as Cm,a6 as Gk,a7 as Bk,a8 as Vk,a9 as Hk,aa as Em,ab as Mm,ac as Sm,ad as Zk,ae as Yk,af as Lm,A as Vt,ag as Wk,ah as Kk,ai as Qk,aj as Xk,ak as Jk,al as eb,am as tb,an as Qd,ao as pl,ap as Im,aq as Am,ar as Gn,as as $t,at as gl,au as Pm,av as Di,aw as Uo,ax as rb,ay as nb,az as nl,aA as ib,aB as Nm,aC as ob,aD as Ji,aE as Dm,aF as ab,aG as Hi,aH as kr,aI as sb,aJ as yi,aK as Kt,aL as Na,B as Fr,aM as at,aN as Wl,aO as Xd,aP as lb,aQ as cb,aR as fl,aS as ub,aT as db,aU as hb,$ as Om,aV as Go,aW as Es,aX as Ku,aY as Rm,aZ as Da,a_ as pb,a$ as Fm,b0 as ml,b1 as gb,b2 as ao,b3 as eg,b4 as fb,b5 as jm,b6 as Bo,b7 as qm,a as Tt,b8 as is,b9 as tg,ba as Tr,bb as zm,bc as Jd,bd as $m,be as Um,bf as Ur,bg as Xc,bh as Jc,bi as rg,bj as In,bk as Gm,bl as Cn,bm as Oa,bn as Gt,bo as mb,bp as yb,T as On,bq as Bm,br as vb,w as kb,bs as gi,bt as eu,bu as bb,bv as xb,bw as wb,bx as ng,by as _b,bz as Vm,bA as Tb,bB as Cb,bC as Eb,bD as Mb,bE as Sb,bF as Lb,bG as ig,bH as Ib,bI as Ab,bJ as Pb,bK as Nb,bL as Db,bM as Oo,bN as Kl,bO as Ob,bP as il,bQ as Hm,bR as Zm,bS as Rb,bT as cn,bU as Fb,bV as Qu,bW as Ym,bX as jb,bY as Wm,bZ as qb,b_ as Xu,b$ as eh,c0 as zb,c1 as og,c2 as ag,c3 as tu,c4 as sg,c5 as lg,c6 as cg,c7 as $b,c8 as ma,c9 as Ub,ca as yl,cb as Km,cc as Gb,cd as Bb,M as Vb,ce as Hb,cf as Zb,cg as Ms,ch as Yb,ci as vl,cj as bo,ck as ug,cl as Rr,cm as Qm,cn as Wb,co as Kb,cp as Qb,cq as Xb}from"./index-C5oYwalC-CYWpeTrP.js";import{defineStore as Zr,createPinia as Jb,storeToRefs as ct}from"./pinia-6B_mW3wX-DRmF_KiC.js";import{_ as Ra,g as Xm,v as th,a1 as rh,a2 as e2,a3 as t2,a4 as Jm,a5 as r2,a6 as n2,C as Pt,S as Ir,k as sn,a7 as Ql,u as Et,a8 as ii,a as oi,a9 as i2,y as nh,aa as xo,ab as ih,K as wo,b as Mi,ac as e0,ad as dg,n as t0,a0 as o2,w as a2,ae as Xl,af as s2,ag as hg,ah as Jl,ai as Ss,aj as oh,ak as pg,al as gg,am as r0,I as ah,X as l2,an as sh,P as c2}from"./Style-DGYpfZX3-BA-oaQ9Z.js";import{K as lr,U as Mt,f as n0,F as Nt,x as Ge,c as st,L as Ne,y as en,p as qt,P as Fa,V as Vo,D as gn,E as Nr,A as ec,B as Ho,S as i0,O as lh,g as o0,j as u2,N as d2,w as tn,R as h2,G as a0}from"./asserts-C1UfHExR-pcJD3tIw.js";import{A as p2,X as fg}from"./xml2js-BbVVFNWz-CKTwSDEB.js";import{i as jt,s as g2}from"./doesFeaturePassFilter-pdQbHl3P-CEan8aLJ.js";import{l as f2,y as m2,n as y2}from"./invisibleStyle-CilI54Z3-B0AHAUN2.js";import{indicateLoading as v2}from"./indicateLoading-BPSAe-HO-Bh03LpqB.js";import{reverseGeocode as k2}from"./reverseGeocode-CR3Bbmu1-BkP1SGuk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const Be=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},Ju="http://www.w3.org/2001/XMLSchema-instance";function Pe(r,e){return ch().createElementNS(r,e)}function Zi(r,e){return s0(r,e,[]).join("")}function s0(r,e,t){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)t.push(r.nodeValue);else{let n;for(n=r.firstChild;n;n=n.nextSibling)s0(n,e,t)}return t}function Si(r){return"documentElement"in r}function b2(r,e,t){return r.getAttributeNS(e,t)||""}function Li(r){return new DOMParser().parseFromString(r,"application/xml")}function l0(r,e){return(function(t,n){const i=r.call(this,t,n);if(i!==void 0){const o=n[n.length-1];lr(o,i)}})}function we(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&n[n.length-1].push(i)})}function be(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&(n[n.length-1]=i)})}function We(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=n.localName;let l;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}})}function A(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=e!==void 0?e:n.localName;a[s]=o}})}function D(r,e){return(function(t,n,i){r.call(e??this,t,n,i),i[i.length-1].node.appendChild(t)})}function wr(r,e){return(function(t,n,i){const o=n[n.length-1].node;let a=r;a===void 0&&(a=i);const s=e!==void 0?e:o.namespaceURI;return Pe(s,a)})}const c0=wr();function _e(r,e,t){t=t!==void 0?t:{};let n,i;for(n=0,i=r.length;n<i;++n)t[r[n]]=e;return t}function Oi(r,e,t,n){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const o=r[i.namespaceURI];if(o!==void 0){const a=o[i.localName];a!==void 0&&a.call(n,i,t)}}}function ie(r,e,t,n,i){return n.push(r),Oi(e,t,n,i),n.pop()}function x2(r,e,t,n,i,o){const a=(i!==void 0?i:t).length;let s,l;for(let c=0;c<a;++c)s=t[c],s!==void 0&&(l=e.call(o,s,n,i!==void 0?i[c]:void 0),l!==void 0&&r[l.namespaceURI][l.localName].call(o,l,s,n))}function xt(r,e,t,n,i,o,a){return i.push(r),x2(e,t,n,i,o,a),i.pop()}let ru;function w2(){return ru===void 0&&typeof XMLSerializer<"u"&&(ru=new XMLSerializer),ru}let nu;function ch(){return nu===void 0&&typeof document<"u"&&(nu=document.implementation.createDocument("","",null)),nu}function mr(r){const e=/^\s*(true|1)|(false|0)\s*$/.exec(r);if(e)return e[1]!==void 0||!1}function Ii(r){const e=Zi(r,!1);return jr(e)}function jr(r){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r);if(e)return parseFloat(e[1])}function Ut(r){const e=Zi(r,!1);return Ln(e)}function Ln(r){const e=/^\s*(\d+)\s*$/.exec(r);if(e)return parseInt(e[1],10)}function ue(r){return Zi(r,!1).trim()}function _2(r,e){r.appendChild(ch().createCDATASection(e))}const T2=/^\s/,C2=/\s$/,E2=/(\n|\t|\r|<|&| {2})/;function It(r,e){typeof e=="string"&&(T2.test(e)||C2.test(e)||E2.test(e))?e.split("]]>").forEach((t,n,i)=>{n<i.length-1&&(t+="]]"),n>0&&(t=">"+t),_2(r,t)}):r.appendChild(ch().createTextNode(e))}function tc(r,e){const t=(""+r).split("."),n=(""+e).split(".");for(let i=0;i<Math.max(t.length,n.length);i++){const o=parseInt(t[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}let uh=class{read(e){if(!e)return null;if(typeof e=="string"){const t=Li(e);return this.readFromDocument(t)}return Si(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){Mt()}};const M2="http://www.w3.org/1999/xlink";function Zo(r){return r.getAttributeNS(M2,"href")}const wt={ADD:"add",REMOVE:"remove"},mg={LENGTH:"length"};let Ls=class extends Nr{constructor(e,t,n){super(e),this.element=t,this.index=n}},Bt=class extends Vo{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let n=1,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(mg.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ls(wt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ls(wt.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ls(wt.REMOVE,i,e)),this.dispatchEvent(new Ls(wt.ADD,t,e))}updateLength_(){this.set(mg.LENGTH,this.array_.length)}assertUnique_(e,t){const n=this.array_;for(let i=0,o=n.length;i<o;++i)if(n[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},S2=!1;function u0(r,e,t,n,i,o,a){const s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(t,n,i):r,!0),e.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=S2,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=s.responseText:c=="xml"?u=s.responseXML||s.responseText:c=="arraybuffer"&&(u=s.response),u?o(e.readFeatures(u,{extent:t,featureProjection:i}),e.readProjection(u)):a()}catch{a()}}else a()},s.onerror=a,s.send()}function yg(r,e){return function(t,n,i,o,a){u0(r,e,t,n,i,(s,l)=>{this.addFeatures(s),o!==void 0&&o(s)},()=>{this.changed(),a!==void 0&&a()})}}function L2(r,e){return[[-1/0,-1/0,1/0,1/0]]}function Eo(r,e){return[r]}let ed=class{constructor(e){this.rbush_=new _k(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Ge(t)]=n}load(e,t){const n=new Array(t.length);for(let i=0,o=t.length;i<o;i++){const a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[Ge(s)]=l}this.rbush_.load(n)}remove(e){const t=Ge(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null}update(e,t){const n=this.items_[Ge(t)],i=[n.minX,n.minY,n.maxX,n.maxY];Vi(i,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let i=0,o=e.length;i<o;i++)if(n=t(e[i]),n)return n;return n}isEmpty(){return Fa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return qo(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},Yo=class extends Vo{constructor(e){super(),this.projection=ve(e.projection),this.attributions_=vg(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,i){t.viewResolver=n,t.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=vg(e),this.changed()}setState(e){this.state_=e,this.changed()}};function vg(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),e=>r):null}let Zn=class extends Nr{constructor(e,t,n){super(e),this.feature=t,this.features=n}},cr=class extends Yo{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=n0,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Nt(this.format_,"`format` must be set when `url` is set"),this.loader_=yg(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:L2;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new ed:null,this.loadedExtentsRtree_=new ed,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,i;Array.isArray(e.features)?i=e.features:e.features&&(n=e.features,i=n.getArray()),!t&&n===void 0&&(n=new Bt(i)),i!==void 0&&this.addFeaturesInternal(i),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Ge(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Zn(Wt.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof hr||(this.featureChangeKeys_[e]=[st(t,Ne.CHANGE,this.handleFeatureChange_,this),st(t,en.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(t.getId()!==void 0){const i=String(t.getId());if(!(i in this.idIndex_))this.idIndex_[i]=t;else if(t instanceof hr){const o=this.idIndex_[i];o instanceof hr?Array.isArray(o)?o.push(t):this.idIndex_[i]=[o,t]:n=!1}else n=!1}return n&&(Nt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o],l=Ge(s);this.addToIndex_(l,s)&&n.push(s)}for(let o=0,a=n.length;o<a;o++){const s=n[o],l=Ge(s);this.setupChangeEvents_(l,s);const c=s.getGeometry();if(c){const u=c.getExtent();t.push(u),i.push(s)}else this.nullGeometryFeatures_[l]=s}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(Wt.ADDFEATURE))for(let o=0,a=n.length;o<a;o++)this.dispatchEvent(new Zn(Wt.ADDFEATURE,n[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Wt.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(Wt.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(wt.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(wt.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(qt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(n=>{this.removeFeatureInternal(n)});for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Zn(Wt.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(i){const o=i.getGeometry();if(o instanceof hr||o.intersectsCoordinate(e))return t(i)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const i=n.getGeometry();if(i instanceof hr||i.intersectsExtent(e)){const o=t(n);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Fa(this.nullGeometryFeatures_)||lr(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=wk(e,t);return[].concat(...n.map(i=>this.featuresRtree_.getInExtent(i)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],i=e[1];let o=null;const a=[NaN,NaN];let s=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||gn,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const u=c.getGeometry(),d=s;if(s=u instanceof hr?0:u.closestPointXY(n,i,a,s),s<d){o=c;const h=Math.sqrt(s);l[0]=n-h,l[1]=i-h,l[2]=n+h,l[3]=i+h}}}),o}getExtent(e){return this.featuresRtree_?.getExtent(e)??null}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=Ge(t),i=t.getGeometry();if(!i)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{const a=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(a,t)):this.featuresRtree_&&this.featuresRtree_.update(a,t)}const o=t.getId();if(o!==void 0){const a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Zn(Wt.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Ge(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Fa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,n){const i=this.loadedExtentsRtree_,o=this.strategy_(e,t,n);for(let a=0,s=o.length;a<s;++a){const l=o[a];i.forEachInExtent(l,function(c){return on(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wt.FEATURESLOADSTART)),this.loader_.call(this,l,t,n,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wt.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Zn(Wt.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(i){if(Vi(i.extent,e))return i});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,i=e.length;n<i;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Ge(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(qt),delete this.featureChangeKeys_[t];const n=e.getId();if(n!==void 0){const i=n.toString(),o=this.idIndex_[i];o===e?delete this.idIndex_[i]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[i]=o[0]))}return delete this.uidIndex_[t],this.hasListener(Wt.REMOVEFEATURE)&&this.dispatchEvent(new Zn(Wt.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Nt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(yg(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}};function d0(r){return X(()=>(He().language,r()))}const I2="modulepreload",A2=function(r,e){return new URL(r,e).href},kg={},yr=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(t.map(u=>{if(u=A2(u,n),u in kg)return;kg[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(n)for(let f=a.length-1;f>=0;f--){const y=a[f];if(y.href===u&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":I2,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,y)=>{p.addEventListener("load",f),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},ja="toast",dh=Zr("plugins/toast",()=>{const r=He(),e=X(()=>r.configuration[ja]),t=Me([]);function n(o,a){const s=vt({timeout:o.severity==="error"?null:5e3},a||{});o.theme=vt(e.value[o.severity]||{},o.theme||{});const l={toast:o};t.value.push(l),typeof s.timeout=="number"&&(l.timeout=setTimeout(()=>i(o),s.timeout))}function i(o){const a=t.value.findIndex(l=>nn(l.toast)===nn(o));if(a<0)return!1;const[s]=t.value.splice(a,1);return s?.timeout&&clearTimeout(s.timeout),!0}return{toasts:X(()=>t.value.map(({toast:o})=>o)),addToast:n,removeToast:i}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await yr(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-6B_mW3wX-DRmF_KiC.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await yr(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-IOlVeADE-DvDdZCyY.js");return{reactive:l}},[],import.meta.url),a=await yr(()=>import("./invisibleStyle-CilI54Z3-B0AHAUN2.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[ja]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=dh();await l(c)},timer:[async({},l)=>{t.useFakeTimers(),await l(null),t.resetAllMocks()},{auto:!0}]});s("Toast can be added and safely removed",({store:l})=>{const c={text:"TOAST",severity:"error"};l.addToast(c),r(l.toasts.length).toBe(1),r(nn(l.toasts[0])).toEqual(c),r(l.removeToast(c)).toBe(!0),r(l.toasts.length).toBe(0),r(l.removeToast(c)).toBe(!1)}),s.for([{severity:"error",timeout:null},{severity:"warning",timeout:5},{severity:"info",timeout:5},{severity:"success",timeout:5}])("Toast with severity $severity is automatically removed after $timeout seconds (null = never)",({severity:l,timeout:c},{store:u})=>{u.addToast({text:"TOAST",severity:l}),c?(t.advanceTimersByTime(c*1e3-1),r(u.toasts.length).toBe(1),t.advanceTimersByTime(1),r(u.toasts.length).toBe(0)):(t.runAllTimers(),r(u.toasts.length).toBe(1))}),s.for([{config:{color:"SC",icon:"SI"},options:{icon:"OI"},result:{color:"SC",icon:"OI"}},{config:{icon:"SI"},options:{},result:{icon:"SI"}}])("Toast consideres theme settings in the right precedence",({config:l,options:c,result:u},{coreStore:d,store:h})=>{d.configuration[ja].info=l,h.addToast({text:"TEXT",severity:"info",theme:c}),r(h.toasts.length).toBe(1),r(h.toasts[0]?.theme).toEqual(u)})}let P2=class extends xm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipExtent_=null,this.extendX_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Pa(),this.wrappedRenderedExtent_=Pa(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const i=t.extent,o=t.viewState,a=o.center,s=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),p=t.pixelRatio,f=t.viewHints,y=!(f[an.ANIMATING]||f[an.INTERACTING]),m=this.context,b=Math.round(Jt(i)/s*p),k=Math.round(Dn(i)/s*p),C=d.getWrapX()&&l.canWrapX(),T=C?Jt(u):null,E=C?Math.ceil((i[2]-u[2])/T)+(this.extendX_?2:1):1;let R=C?Math.floor((i[0]-u[0])/T)-(this.extendX_?1:0):0;do{let F=this.getRenderTransform(a,s,0,p,b,k,R*T);t.declutter&&(F=F.slice(0)),e.execute(m,[m.canvas.width,m.canvas.height],F,c,y,n===void 0?Tk:n?Ck:Ek,n?h&&t.declutter[h]:void 0)}while(++R<E)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Ra(this.context.canvas.width,this.context.canvas.height,Qp))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Xm(this.context),Qp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.clipExtent_&&this.clipUnrotated(this.context,e,this.clipExtent_),this.replayGroup_.renderDeferred(),this.clipExtent_&&(this.context.restore(),this.clipExtent_=null),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const i=e.viewState;this.prepareContainer(e,t);const o=this.context,a=this.replayGroup_;let s=a&&!a.isEmpty();if(!s&&!(this.getLayer().hasListener(Ni.PRERENDER)||this.getLayer().hasListener(Ni.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,e),i.projection,this.clipExtent_=null;let l=!1;if(s&&n.extent&&this.clipping){const c=hl(n.extent);s=zo(c,e.extent),s&&!on(c,e.extent)&&(e.declutter?this.clipExtent_=c:(this.clipUnrotated(o,e,c),l=!0))}return s&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),l&&o.restore(),this.postRender(o,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=this.frameState.size.slice(),i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=n[0]*ca,h=n[1]*ca;u.push(this.getRenderTransform(i,o,a,ca,d,h,0).slice());const p=c.getSource(),f=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!on(f,l)){let y=l[0];const m=Jt(f);let b=0,k;for(;y<f[0];)--b,k=m*b,u.push(this.getRenderTransform(i,o,a,ca,d,h,k).slice()),y+=m;for(b=0,y=l[2];y>f[2];)++b,k=m*b,u.push(this.getRenderTransform(i,o,a,ca,d,h,k).slice()),y-=m}this.hitDetectionImageData_=Mk(n,u,this.renderedFeatures_,c.getStyleFunction(),l,o,a,Xp(o,this.renderedPixelRatio_),null)}t(Sk(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,i,o){if(!this.replayGroup_)return;const a=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),c={},u=function(h,p,f){const y=Ge(h),m=c[y];if(m){if(m!==!0&&f<m.distanceSq){if(f===0)return c[y]=!0,o.splice(o.lastIndexOf(m),1),i(h,l,p);m.geometry=p,m.distanceSq=f}}else{if(f===0)return c[y]=!0,i(h,l,p);o.push(c[y]={feature:h,layer:l,geometry:p,distanceSq:f,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,s,n,u,d?t.declutter?.[d]?.all().map(h=>h.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const i=e.viewHints[an.ANIMATING],o=e.viewHints[an.INTERACTING],a=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!a&&i||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,p=t.getRevision(),f=t.getRenderBuffer();let y=t.getRenderOrder();y===void 0&&(y=Pk);const m=c.center.slice(),b=ui(l,f*d),k=b.slice(),C=[b.slice()],T=u.getExtent(),E=n.getWrapX()&&u.canWrapX();if(this.extendX_=!1,E){const q=n.getExtent();q&&!Yl(q)&&(this.extendX_=q[0]<T[0]||q[2]>T[2])}if(E&&(!on(T,e.extent)||this.extendX_)){const q=Jt(T),ce=Math.max(Jt(b)/2,q);let W=T[0],pe=T[2];this.extendX_&&(W-=q,pe+=q),b[0]=W-ce,b[2]=pe+ce,wm(m,u);const Ce=Lk(C[0],u);Ce[0]<T[0]&&Ce[2]<T[2]?C.push([Ce[0]+q,Ce[1],Ce[2]+q,Ce[3]]):Ce[0]>T[0]&&Ce[2]>T[2]&&C.push([Ce[0]-q,Ce[1],Ce[2]-q,Ce[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedPixelRatio_===h&&this.renderedRevision_==p&&this.renderedRenderOrder_==y&&this.renderedFrameDeclutter_===!!e.declutter&&on(this.wrappedRenderedExtent_,b))return ec(this.renderedExtent_,k)||(this.hitDetectionImageData_=null,this.renderedExtent_=k),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const R=new Ik(Nk(d,h),b,d,h);let F;for(let q=0,ce=C.length;q<ce;++q)n.loadFeatures(C[q],d,u);const se=Xp(d,h);let ne=!0;const fe=((q,ce)=>{let W;const pe=q.getStyleFunction()||t.getStyleFunction();if(pe&&(W=pe(q,d)),W){const Ce=this.renderFeature(q,se,W,R,F,this.getLayer().getDeclutter(),ce);ne=ne&&!Ce}}),U=_m(b),j=n.getFeaturesInExtent(U);y&&j.sort(y);for(let q=0,ce=j.length;q<ce;++q)fe(j[q],q);this.renderedFeatures_=j,this.ready=ne;const te=R.finish(),O=new Ak(b,d,h,n.getOverlaps(),te,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=p,this.renderedRenderOrder_=y,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=k,this.wrappedRenderedExtent_=b,this.renderedCenter_=m,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=O,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,i,o,a,s){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let c=0,u=n.length;c<u;++c)l=Jp(i,e,n[c],t,this.boundHandleStyleImageChange_,o,a,s)||l;else l=Jp(i,e,n,t,this.boundHandleStyleImageChange_,o,a,s);return l}},ur=class extends Kd{constructor(e){super(e)}createRenderer(){return new P2(this)}};function td(r,e,t){const n=He().getPluginStore("toast");n&&(typeof e=="function"&&(e=d0(e)),n.addToast({severity:r,text:e},t))}let Gr=class rd extends $o{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){lr(this.flatCoordinates,e),this.changed()}clone(){const e=new rd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<ns(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Bk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}forEachSegment(e){return Vk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Hk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Em(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Sm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Zk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new rd(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Yk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lm(this.flatCoordinates,0,e,this.stride),this.changed()}},h0=class nd extends pl{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(qt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(st(e[t],Ne.CHANGE,this.changed,this))}clone(){const e=new nd(iu(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<ns(this.getExtent(),e,t))return i;const o=this.geometries_;for(let a=0,s=o.length;a<s;++a)i=o[a].closestPointXY(e,t,n,i);return i}containsXY(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)if(n[i].containsXY(e,t))return!0;return!1}computeExtent(e){Im(e);const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)Am(e,t[n].getExtent());return e}getGeometries(){return iu(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let i=!1;for(let o=0,a=n.length;o<a;++o){const s=n[o],l=s.getSimplifiedGeometry(e);t.push(l),l!==s&&(i=!0)}return i?new nd(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].rotate(e,t);this.changed()}scale(e,t,n){n||(n=Gn(this.getExtent()));const i=this.geometries_;for(let o=0,a=i.length;o<a;++o)i[o].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(iu(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function iu(r){return r.map(e=>e.clone())}let eo=class id extends $o{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const i=e,o=[],a=[];for(let l=0,c=i.length;l<c;++l){const u=i[l];lr(o,u.getFlatCoordinates()),a.push(o.length)}const s=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(e){lr(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new id(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<ns(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qk(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Kk(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}getCoordinateAtM(e,t,n){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,Xk(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return Jk(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Gr(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[];let o=0;for(let a=0,s=t.length;a<s;++a){const l=t[a],c=new Gr(e.slice(o,l),n);i.push(c),o=l}return i}getLength(){const e=this.ends_;let t=0,n=0;for(let i=0,o=e.length;i<o;++i)n+=Sm(this.flatCoordinates,t,e[i],this.stride),t=e[i];return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const i=this.ends_,o=this.stride;for(let a=0,s=i.length;a<s;++a){const l=i[a],c=Mm(t,n,l,o,.5);lr(e,c),n=l}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=eb(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new id(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return tb(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Qd(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}},Wo=class p0 extends $o{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){lr(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new p0(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<ns(this.getExtent(),e,t))return i;const o=this.flatCoordinates,a=this.stride;for(let s=0,l=o.length;s<l;s+=a){const c=th(e,t,o[s],o[s+1]);if(c<i){i=c;for(let u=0;u<a;++u)n[u]=o[s+u];n.length=a}}return i}getCoordinates(){return Em(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Vt(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,i=[];for(let o=0,a=e.length;o<a;o+=n){const s=new Vt(e.slice(o,o+n),t);i.push(s)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let i=0,o=t.length;i<o;i+=n){const a=t[i],s=t[i+1];if(Wk(e,a,s))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lm(this.flatCoordinates,0,e,this.stride),this.changed()}},to=class od extends $o{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const i=e,o=[],a=[];for(let s=0,l=i.length;s<l;++s){const c=i[s],u=o.length,d=c.getEnds();for(let h=0,p=d.length;h<p;++h)d[h]+=u;lr(o,c.getFlatCoordinates()),a.push(d)}t=i.length===0?this.getLayout():i[0].getLayout(),e=o,n=a}t!==void 0&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const n=this.flatCoordinates.length;lr(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let i=0,o=t.length;i<o;++i)t[i]+=n}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=this.endss_[i].slice();const n=new od(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,i){return i<ns(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ok(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}containsXY(e,t){return Rk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Fk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Wu(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,jk(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=qk(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=zk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Wo(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Tm(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Wu(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=$k(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new od(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const n=this.endss_[e].slice(),i=n[n.length-1];if(t!==0)for(let o=0,a=n.length;o<a;++o)n[o]-=t;return new Vr(this.flatCoordinates.slice(t,i),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a].slice(),c=l[l.length-1];if(o!==0)for(let d=0,h=l.length;d<h;++d)l[d]-=o;const u=new Vr(t.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Uk(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Cm(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{const i=n[n.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}},hh=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=jt,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?ve(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()==="tile-pixels"&&(n=ve(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Mt()}readFeature(e,t){return Mt()}readFeatures(e,t){return Mt()}readGeometry(e,t){return Mt()}readProjection(e){return Mt()}writeFeature(e,t){return Mt()}writeFeatures(e,t){return Mt()}writeGeometry(e,t){return Mt()}};function ro(r,e,t){const n=t?ve(t.featureProjection):null,i=t?ve(t.dataProjection):null;let o=r;if(n&&i&&!$t(n,i)){e&&(o=r.clone());const a=e?n:i,s=e?i:n;a.getUnits()==="tile-pixels"?o.transform(a,s):o.applyTransform(gl(a,s))}if(e&&t&&t.decimals!==void 0){const a=Math.pow(10,t.decimals),s=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*a)/a;return l};o===r&&(o=r.clone()),o.applyTransform(s)}return o}function ph(r,e){const t=e?ve(e.featureProjection):null,n=e?ve(e.dataProjection):null;return t&&n&&!$t(t,n)?Di(r,n,t):r}const N2={Point:Vt,LineString:Gr,Polygon:Vr,MultiPoint:Wo,MultiLineString:eo,MultiPolygon:to};function D2(r,e,t){return Array.isArray(e[0])?(Tm(r,0,e,t)||(r=r.slice(),Wu(r,0,e,t)),r):(rb(r,0,e,t)||(r=r.slice(),nb(r,0,e,t)),r)}function g0(r,e){const t=r.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>g0({...r,geometry:o})).flat();const n=t.type==="MultiPolygon"?"Polygon":t.type;if(n==="GeometryCollection"||n==="Circle")throw new Error("Unsupported geometry type: "+n);const i=t.layout.length;return ro(new hr(n,n==="Polygon"?D2(t.flatCoordinates,t.ends,i):t.flatCoordinates,t.ends?.flat(),i,r.properties||{},r.id).enableSimplifyTransformed(),!1,e)}function gh(r,e){if(!r)return null;if(Array.isArray(r)){const n=r.map(i=>gh(i,e));return new h0(n)}const t=N2[r.type];return ro(new t(r.flatCoordinates,r.layout||"XY",r.ends),!1,e)}let O2=class extends hh{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Is(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Is(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Mt()}readFeaturesFromObject(e,t){return Mt()}readGeometry(e,t){return this.readGeometryFromObject(Is(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Mt()}readProjection(e){return this.readProjectionFromObject(Is(e))}readProjectionFromObject(e){return Mt()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Mt()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Mt()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Mt()}};function Is(r){return typeof r=="string"?JSON.parse(r)||null:r!==null?r:null}let qa=class extends O2{constructor(e){e=e||{},super(),this.dataProjection=ve(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=ve(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;e.type==="Feature"?n=e:n={type:"Feature",geometry:e,properties:null};const i=fh(n.geometry);if(this.featureClass===hr)return g0({geometry:i,id:n.id,properties:n.properties},t);const o=new jt;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&o.setGeometryName(n.geometry_name),o.setGeometry(gh(i,t)),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o}readFeaturesFromObject(e,t){const n=e;let i=null;if(n.type==="FeatureCollection"){const o=e;i=[];const a=o.features;for(let s=0,l=a.length;s<l;++s){const c=this.readFeatureFromObject(a[s],t);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,t)];return i.flat()}readGeometryFromObject(e,t){return R2(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if(t.type=="name")n=ve(t.properties.name);else if(t.type==="EPSG")n=ve("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(n.id=i),!e.hasProperties())return n;const o=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=ad(a,t),delete o[e.getGeometryName()]),Fa(o)||(n.properties=o),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let i=0,o=e.length;i<o;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return ad(e,this.adaptOptions(t))}};function fh(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=j2(r);break}case"LineString":{t=q2(r);break}case"Polygon":{t=G2(r);break}case"MultiPoint":{t=$2(r);break}case"MultiLineString":{t=z2(r);break}case"MultiPolygon":{t=U2(r);break}case"GeometryCollection":{t=F2(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return t}function R2(r,e){const t=fh(r);return gh(t,e)}function F2(r,e){return r.geometries.map(function(t){return fh(t)})}function j2(r){const e=r.coordinates;return{type:"Point",flatCoordinates:e,layout:Uo(e.length)}}function q2(r){const e=r.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Uo(e[0]?.length||2)}}function z2(r){const e=r.coordinates,t=e[0]?.[0]?.length||2,n=[],i=Qd(n,0,e,t);return{type:"MultiLineString",flatCoordinates:n,ends:i,layout:Uo(t)}}function $2(r){const e=r.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Uo(e[0]?.length||2)}}function U2(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.[0].length||2,i=Cm(t,0,e,n);return{type:"MultiPolygon",flatCoordinates:t,ends:i,layout:Uo(n)}}function G2(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.length,i=Qd(t,0,e,n);return{type:"Polygon",flatCoordinates:t,ends:i,layout:Uo(n)}}function ad(r,e){r=ro(r,!0,e);const t=r.getType();let n;switch(t){case"Point":{n=W2(r);break}case"LineString":{n=V2(r);break}case"Polygon":{n=K2(r,e);break}case"MultiPoint":{n=Z2(r);break}case"MultiLineString":{n=H2(r);break}case"MultiPolygon":{n=Y2(r,e);break}case"GeometryCollection":{n=B2(r,e);break}case"Circle":{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return n}function B2(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(t){return ad(t,e)})}}function V2(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function H2(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function Z2(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function Y2(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function W2(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function K2(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}let f0=class extends hh{constructor(){super(),this.xmlSerializer_=w2()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if(typeof e=="string"){const n=Li(e);return this.readFeatureFromDocument(n,t)}return Si(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if(typeof e=="string"){const n=Li(e);return this.readFeaturesFromDocument(n,t)}return Si(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const n=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&lr(n,this.readFeaturesFromNode(i,t));return n}readFeaturesFromNode(e,t){return Mt()}readGeometry(e,t){if(!e)return null;if(typeof e=="string"){const n=Li(e);return this.readGeometryFromDocument(n,t)}return Si(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){const t=Li(e);return this.readProjectionFromDocument(t)}return Si(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}};const An="http://www.opengis.net/gml",Q2=/^\s*$/;let he=class extends f0{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:we(this.readFeaturesInternal),featureMembers:be(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){const n=e.localName;let i=null;if(n=="FeatureCollection")i=ie([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if(n=="featureMembers"||n=="featureMember"||n=="member"){const o=t[0];let a=o.featureType,s=o.featureNS;const l="p",c="p0";if(!a&&e.childNodes){a=[],s={};for(let h=0,p=e.childNodes.length;h<p;++h){const f=e.childNodes[h];if(f.nodeType===1){const y=f.nodeName.split(":").pop();if(!a.includes(y)){let m="",b=0;const k=f.namespaceURI;for(const C in s){if(s[C]===k){m=C;break}++b}m||(m=l+b,s[m]=k),a.push(m+":"+y)}}}n!="featureMember"&&(o.featureType=a,o.featureNS=s)}if(typeof s=="string"){const h=s;s={},s[c]=h}const u={},d=Array.isArray(a)?a:[a];for(const h in s){const p={};for(let f=0,y=d.length;f<y;++f)(d[f].includes(":")?d[f].split(":")[0]:c)===h&&(p[d[f].split(":").pop()]=n=="featureMembers"?we(this.readFeatureElement,this):be(this.readFeatureElement,this));u[s[h]]=p}n=="featureMember"||n=="member"?i=ie(void 0,u,e,t):i=ie([],u,e,t)}return i===null&&(i=[]),i}readGeometryOrExtent(e,t){const n=t[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),ie(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?ph(i,n):void 0}readGeometryElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?ro(i,!1,n):void 0}readFeatureElementInternal(e,t,n){let i;const o={};for(let l=e.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(c=Zi(l,!1),Q2.test(c)&&(c=void 0)):(n&&(c=u==="boundedBy"?this.readExtentElement(l,t):this.readGeometryElement(l,t)),c?u!=="boundedBy"&&(i=u):c=this.readFeatureElementInternal(l,t,!1));const d=l.attributes.length;if(d>0&&!(c instanceof pl)){c={_content_:c};for(let h=0;h<d;h++){const p=l.attributes[h].name;c[p]=l.attributes[h].value}}o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(c)):o[u]=c}if(!n)return o;const a=new jt(o);i&&a.setGeometryName(i);const s=e.getAttribute("fid")||b2(e,this.namespace,"id");return s&&a.setId(s),a}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Vt(n,"XYZ")}readMultiPoint(e,t){const n=ie([],this.MULTIPOINT_PARSERS,e,t,this);if(n)return new Wo(n)}readMultiLineString(e,t){const n=ie([],this.MULTILINESTRING_PARSERS,e,t,this);if(n)return new eo(n)}readMultiPolygon(e,t){const n=ie([],this.MULTIPOLYGON_PARSERS,e,t,this);if(n)return new to(n)}pointMemberParser(e,t){Oi(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){Oi(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){Oi(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Gr(n,"XYZ")}readFlatLinearRing(e,t){const n=ie(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(n)return n}readLinearRing(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Pm(n,"XYZ")}readPolygon(e,t){const n=ie([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)lr(i,n[a]),o.push(i.length);return new Vr(i,"XYZ",o)}}readFlatCoordinatesFromNode(e,t){return ie(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){return this.readGeometryElement(e,[this.getReadOptions(e,t||{})])||null}readFeaturesFromNode(e,t){const n={featureType:this.featureType,featureNS:this.featureNS};return n&&Object.assign(n,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[n])||[]}readProjectionFromNode(e){return ve(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}};he.prototype.namespace=An;he.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};he.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:we(he.prototype.pointMemberParser),pointMembers:we(he.prototype.pointMemberParser)}};he.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:we(he.prototype.lineStringMemberParser),lineStringMembers:we(he.prototype.lineStringMemberParser)}};he.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:we(he.prototype.polygonMemberParser),polygonMembers:we(he.prototype.polygonMemberParser)}};he.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:we(he.prototype.readFlatCoordinatesFromNode)}};he.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:we(he.prototype.readLineString)}};he.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:we(he.prototype.readPolygon)}};he.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:be(he.prototype.readFlatLinearRing)}};const X2=An+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",J2={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};let Re=class extends he{constructor(e){e=e||{},super(e),this.FEATURE_COLLECTION_PARSERS[An].featureMember=we(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:X2}readFlatCoordinates(e,t){const n=Zi(e,!1).replace(/^\s*|\s*$/g,""),i=t[0].srsName;let o="enu";if(i){const l=ve(i);l&&(o=l.getAxisOrientation())}const a=n.trim().split(/\s+/),s=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].split(/,+/),d=parseFloat(u[0]),h=parseFloat(u[1]),p=u.length===3?parseFloat(u[2]):0;o.startsWith("en")?s.push(d,h,p):s.push(h,d,p)}return s}readBox(e,t){const n=ie([null],this.BOX_PARSERS_,e,t,this);return qo(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}outerBoundaryIsParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="MultiLineString"&&s===!0&&(n="MultiCurve")),Pe("http://www.opengis.net/gml",n)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=D(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=D(It)))}}const u=Object.assign({},o);u.node=e,xt(u,o.serializers,wr(void 0,a),c,n,l)}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}else if(e.nodeName==="Curve"){const o=Pe(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();xt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=ph(t,i):a=ro(t,!0,i),xt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}createCoordinatesNode_(e){const t=Pe(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=t.getCoordinates(),l=s.length,c=new Array(l);for(let u=0;u<l;++u){const d=s[u];c[u]=this.getCoords_(d,a,o)}It(e,c.join(" "))}writeCurveSegments_(e,t,n){const i=Pe(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();xt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Pe(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Pe(o.namespaceURI,a!==void 0?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,n){const i=Pe(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeRing(e,t,n){const i=Pe(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}getCoords_(e,t,n){let i=(t?ve(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(n){const o=e[2]||0;i+=","+o}return i}writePoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);const l=t.getCoordinates(),c=this.getCoords_(l,a,o);It(s,c)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=t.getPoints();xt({node:e,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS,wr("pointMember"),s,n,void 0,this)}writePointMember(e,t,n){const i=Pe(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();xt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];xt({node:e},this.ENVELOPE_SERIALIZERS,c0,a,n,o,this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Pe("http://www.opengis.net/gml",J2[i.nodeName])}};Re.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:be(Re.prototype.readFlatCoordinates)}};Re.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Re.prototype.innerBoundaryIsParser,outerBoundaryIs:Re.prototype.outerBoundaryIsParser}};Re.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:we(Re.prototype.readFlatCoordinates)}};Re.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Box:be(Re.prototype.readBox)}};Re.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:D(Re.prototype.writeCurveOrLineString),MultiCurve:D(Re.prototype.writeMultiCurveOrLineString),Point:D(Re.prototype.writePoint),MultiPoint:D(Re.prototype.writeMultiPoint),LineString:D(Re.prototype.writeCurveOrLineString),MultiLineString:D(Re.prototype.writeMultiCurveOrLineString),LinearRing:D(Re.prototype.writeLinearRing),Polygon:D(Re.prototype.writeSurfaceOrPolygon),MultiPolygon:D(Re.prototype.writeMultiSurfaceOrPolygon),Surface:D(Re.prototype.writeSurfaceOrPolygon),MultiSurface:D(Re.prototype.writeMultiSurfaceOrPolygon),Envelope:D(Re.prototype.writeEnvelope)}};Re.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:D(Re.prototype.writeLineStringOrCurveMember),curveMember:D(Re.prototype.writeLineStringOrCurveMember)}};Re.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:D(Re.prototype.writeRing),innerBoundaryIs:D(Re.prototype.writeRing)}};Re.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:D(Re.prototype.writePointMember)}};Re.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:D(Re.prototype.writeSurfaceOrPolygonMember),polygonMember:D(Re.prototype.writeSurfaceOrPolygonMember)}};Re.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:D(It),upperCorner:D(It)}};const ex=An+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",tx={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class B extends he{constructor(e){e=e||{},super(e),this.surface_=e.surface!==void 0?e.surface:!1,this.curve_=e.curve!==void 0?e.curve:!1,this.multiCurve_=e.multiCurve!==void 0?e.multiCurve:!0,this.multiSurface_=e.multiSurface!==void 0?e.multiSurface:!0,this.schemaLocation=e.schemaLocation?e.schemaLocation:ex,this.hasZ=e.hasZ!==void 0?e.hasZ:!1}readMultiCurve(e,t){const n=ie([],this.MULTICURVE_PARSERS,e,t,this);if(n)return new eo(n)}readFlatCurveRing(e,t){const n=ie([],this.MULTICURVE_PARSERS,e,t,this),i=[];for(let o=0,a=n.length;o<a;++o)lr(i,n[o].getFlatCoordinates());return i}readMultiSurface(e,t){const n=ie([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new to(n)}curveMemberParser(e,t){Oi(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){Oi(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return ie([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return ie([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return ie([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return ie([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}exteriorParser(e,t){const n=ie(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}readSurface(e,t){const n=ie([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)lr(i,n[a]),o.push(i.length);return new Vr(i,"XYZ",o)}}readCurve(e,t){const n=ie([null],this.CURVE_PARSERS,e,t,this);if(n)return new Gr(n,"XYZ")}readEnvelope(e,t){const n=ie([null],this.ENVELOPE_PARSERS,e,t,this);return qo(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=Zi(e,!1);const i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];let a;for(;a=i.exec(n);)o.push(parseFloat(a[1])),n=n.substr(a[0].length);if(n!=="")return;const s=t[0].srsName;if((s?ve(s).getAxisOrientation():"enu")==="neu")for(let c=0,u=o.length;c<u;c+=3){const d=o[c],h=o[c+1];o[c]=h,o[c+1]=d}const l=o.length;if(l==2&&o.push(0),l!==0)return o}readFlatPosList(e,t){const n=Zi(e,!1).replace(/^\s*|\s*$/g,""),i=t[0],o=i.srsName,a=i.srsDimension,s=o?ve(o).getAxisOrientation():"enu",l=n.split(/\s+/);let c=2;e.getAttribute("srsDimension")?c=Ln(e.getAttribute("srsDimension")):e.getAttribute("dimension")?c=Ln(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?c=Ln(e.parentNode.getAttribute("srsDimension")):a&&(c=Ln(a));const u=s.startsWith("en");let d,h,p;const f=[];for(let y=0,m=l.length;y<m;y+=c)d=parseFloat(l[y]),h=parseFloat(l[y+1]),p=c===3?parseFloat(l[y+2]):0,u?f.push(d,h,p):f.push(h,d,p);return f}writePos_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=s?ve(s).getAxisOrientation():"enu",c=t.getCoordinates();let u=l.startsWith("en")?c[0]+" "+c[1]:c[1]+" "+c[0];if(o){const d=c[2]||0;u+=" "+d}It(e,u)}getCoords_(e,t,n){let i=(t?ve(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){const o=e[2]||0;i+=" "+o}return i}writePosList_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=t.getCoordinates(),c=l.length,u=new Array(c);let d;for(let h=0;h<c;++h)d=l[h],u[h]=this.getCoords_(d,s,o);It(e,u.join(" "))}writePoint(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Pe(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,t,n)}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];xt({node:e},this.ENVELOPE_SERIALIZERS,c0,a,n,o,this)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Pe(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Pe(o.namespaceURI,a!==void 0?"interior":"exterior")}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();xt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Pe(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=Pe(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}else if(e.nodeName==="Curve"){const o=Pe(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();xt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.srsName,a=i.hasZ;o&&e.setAttribute("srsName",o);const s=t.getPoints();xt({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,wr("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();xt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeRing(e,t,n){const i=Pe(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writePointMember(e,t,n){const i=Pe(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeSurfacePatches_(e,t,n){const i=Pe(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeCurveSegments_(e,t,n){const i=Pe(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=ph(t,i):a=ro(t,!0,i),xt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=D(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=D(It)))}}const u=Object.assign({},o);u.node=e,xt(u,o.serializers,wr(void 0,a),c,n,l)}writeFeatureMembers_(e,t,n){const i=n[n.length-1],o=i.featureType,a=i.featureNS,s={};s[a]={},s[a][o]=D(this.writeFeatureElement,this);const l=Object.assign({},i);l.node=e,xt(l,s,wr(o,a),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Pe(this.namespace,tx[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.curve,l=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="LineString"&&s===!0?n="Curve":n==="MultiLineString"&&l===!0&&(n="MultiCurve")),Pe(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=Pe(this.namespace,"geom"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(n,e,[i]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=Pe(this.namespace,"featureMembers");n.setAttributeNS(Ju,"xsi:schemaLocation",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(n,e,[i]),n}}B.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:be(B.prototype.readFlatPos),posList:be(B.prototype.readFlatPosList),coordinates:be(Re.prototype.readFlatCoordinates)}};B.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:B.prototype.interiorParser,exterior:B.prototype.exteriorParser}};B.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Surface:be(B.prototype.readSurface),MultiSurface:be(B.prototype.readMultiSurface),Curve:be(B.prototype.readCurve),MultiCurve:be(B.prototype.readMultiCurve),Envelope:be(B.prototype.readEnvelope)}};B.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:we(B.prototype.curveMemberParser),curveMembers:we(B.prototype.curveMemberParser)}};B.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:we(B.prototype.surfaceMemberParser),surfaceMembers:we(B.prototype.surfaceMemberParser)}};B.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:we(he.prototype.readLineString),Curve:we(B.prototype.readCurve)}};B.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:we(he.prototype.readPolygon),Surface:we(B.prototype.readSurface)}};B.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:be(B.prototype.readPatch)}};B.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:be(B.prototype.readSegment)}};B.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:we(B.prototype.readFlatPosList),upperCorner:we(B.prototype.readFlatPosList)}};B.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:be(B.prototype.readPolygonPatch)}};B.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:l0(B.prototype.readLineStringSegment)}};he.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:be(he.prototype.readFlatLinearRing),Ring:be(B.prototype.readFlatCurveRing)}};B.prototype.writeFeatures;B.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:D(B.prototype.writeRing),interior:D(B.prototype.writeRing)}};B.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:D(It),upperCorner:D(It)}};B.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:D(B.prototype.writeSurfaceOrPolygonMember),polygonMember:D(B.prototype.writeSurfaceOrPolygonMember)}};B.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:D(B.prototype.writePointMember)}};B.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:D(B.prototype.writeLineStringOrCurveMember),curveMember:D(B.prototype.writeLineStringOrCurveMember)}};B.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:D(B.prototype.writeCurveOrLineString),MultiCurve:D(B.prototype.writeMultiCurveOrLineString),Point:D(B.prototype.writePoint),MultiPoint:D(B.prototype.writeMultiPoint),LineString:D(B.prototype.writeCurveOrLineString),MultiLineString:D(B.prototype.writeMultiCurveOrLineString),LinearRing:D(B.prototype.writeLinearRing),Polygon:D(B.prototype.writeSurfaceOrPolygon),MultiPolygon:D(B.prototype.writeMultiSurfaceOrPolygon),Surface:D(B.prototype.writeSurfaceOrPolygon),MultiSurface:D(B.prototype.writeMultiSurfaceOrPolygon),Envelope:D(B.prototype.writeEnvelope)}};let Ve=class extends B{constructor(e){e=e||{},super(e),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,n){const i=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},i),super.writeGeometryElement(e,t,n)}};Ve.prototype.namespace="http://www.opengis.net/gml/3.2";Ve.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:be(B.prototype.readFlatPos),posList:be(B.prototype.readFlatPosList),coordinates:be(Re.prototype.readFlatCoordinates)}};Ve.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:B.prototype.interiorParser,exterior:B.prototype.exteriorParser}};Ve.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:be(he.prototype.readPoint),MultiPoint:be(he.prototype.readMultiPoint),LineString:be(he.prototype.readLineString),MultiLineString:be(he.prototype.readMultiLineString),LinearRing:be(he.prototype.readLinearRing),Polygon:be(he.prototype.readPolygon),MultiPolygon:be(he.prototype.readMultiPolygon),Surface:be(Ve.prototype.readSurface),MultiSurface:be(B.prototype.readMultiSurface),Curve:be(Ve.prototype.readCurve),MultiCurve:be(B.prototype.readMultiCurve),Envelope:be(Ve.prototype.readEnvelope)}};Ve.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:we(B.prototype.curveMemberParser),curveMembers:we(B.prototype.curveMemberParser)}};Ve.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:we(B.prototype.surfaceMemberParser),surfaceMembers:we(B.prototype.surfaceMemberParser)}};Ve.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:we(he.prototype.readLineString),Curve:we(B.prototype.readCurve)}};Ve.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:we(he.prototype.readPolygon),Surface:we(B.prototype.readSurface)}};Ve.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:be(B.prototype.readPatch)}};Ve.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:be(B.prototype.readSegment)}};Ve.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:we(B.prototype.readFlatPosList),upperCorner:we(B.prototype.readFlatPosList)}};Ve.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:be(B.prototype.readPolygonPatch)}};Ve.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:l0(B.prototype.readLineStringSegment)}};Ve.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:we(he.prototype.pointMemberParser),pointMembers:we(he.prototype.pointMemberParser)}};Ve.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:we(he.prototype.lineStringMemberParser),lineStringMembers:we(he.prototype.lineStringMemberParser)}};Ve.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:we(he.prototype.polygonMemberParser),polygonMembers:we(he.prototype.polygonMemberParser)}};Ve.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:we(he.prototype.readFlatCoordinatesFromNode)}};Ve.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:we(he.prototype.readLineString)}};Ve.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:we(he.prototype.readPolygon)}};Ve.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:be(he.prototype.readFlatLinearRing),Ring:be(Ve.prototype.readFlatCurveRing)}};Ve.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:D(B.prototype.writeRing),interior:D(B.prototype.writeRing)}};Ve.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:D(It),upperCorner:D(It)}};Ve.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:D(B.prototype.writeSurfaceOrPolygonMember),polygonMember:D(B.prototype.writeSurfaceOrPolygonMember)}};Ve.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:D(B.prototype.writePointMember)}};Ve.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:D(B.prototype.writeLineStringOrCurveMember),curveMember:D(B.prototype.writeLineStringOrCurveMember)}};Ve.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:D(B.prototype.writeCurveOrLineString),MultiCurve:D(B.prototype.writeMultiCurveOrLineString),Point:D(Ve.prototype.writePoint),MultiPoint:D(B.prototype.writeMultiPoint),LineString:D(B.prototype.writeCurveOrLineString),MultiLineString:D(B.prototype.writeMultiCurveOrLineString),LinearRing:D(B.prototype.writeLinearRing),Polygon:D(B.prototype.writeSurfaceOrPolygon),MultiPolygon:D(B.prototype.writeMultiSurfaceOrPolygon),Surface:D(B.prototype.writeSurfaceOrPolygon),MultiSurface:D(B.prototype.writeMultiSurfaceOrPolygon),Envelope:D(B.prototype.writeEnvelope)}};let m0=class{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}};class rx extends m0{constructor(e,t){super(e),this.conditions=t,Nt(this.conditions.length>=2,"At least 2 conditions are required")}}class nx extends rx{constructor(e){super("And",Array.prototype.slice.call(arguments))}}let ix=class extends m0{constructor(e,t,n){if(super("BBOX"),this.geometryName=e,this.extent=t,t.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}};function ox(r){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(nx,e))}function ax(r,e,t){return new ix(r,e,t)}const bg={"http://www.opengis.net/gml":{boundedBy:A(he.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:we(he.prototype.readFeaturesInternal)}},sx={"http://www.opengis.net/wfs":{totalInserted:A(Ut),totalUpdated:A(Ut),totalDeleted:A(Ut)},"http://www.opengis.net/wfs/2.0":{totalInserted:A(Ut),totalUpdated:A(Ut),totalDeleted:A(Ut)}},lx={"http://www.opengis.net/wfs":{TransactionSummary:A(wg,"transactionSummary"),InsertResults:A(Tg,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:A(wg,"transactionSummary"),InsertResults:A(Tg,"insertIds")}},cx={"http://www.opengis.net/wfs":{PropertyName:D(It)},"http://www.opengis.net/wfs/2.0":{PropertyName:D(It)}},y0={"http://www.opengis.net/wfs":{Insert:D(Cg),Update:D(Mg),Delete:D(Eg),Property:D(Sg),Native:D(Lg)},"http://www.opengis.net/wfs/2.0":{Insert:D(Cg),Update:D(Mg),Delete:D(Eg),Property:D(Sg),Native:D(Lg)}},v0="feature",mh="http://www.w3.org/2000/xmlns/",yh={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},sd={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},vh={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},xg={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},kh={"2.0.0":Ve,"1.1.0":B,"1.0.0":Re},ux="1.1.0";let bh=class extends f0{constructor(e){super(),e=e||{},this.version_=e.version?e.version:ux,this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new kh[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:xg[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{}));const i=[n];let o;this.version_==="2.0.0"?o=bg:o=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let a=ie([],o,e,i,this.gmlFormat_);return a||(a=[]),a}readTransactionResponse(e){if(e){if(typeof e=="string"){const t=Li(e);return this.readTransactionResponseFromDocument(t)}return Si(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(typeof e=="string"){const t=Li(e);return this.readFeatureCollectionMetadataFromDocument(t)}return Si(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=Ln(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=n,ie(t,bg,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return ie({},lx,e,[])}writeGetFeature(e){const t=Pe(sd[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&t.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&t.setAttribute("count",String(e.count)),e.viewParams!==void 0&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(Ju,"xsi:schemaLocation",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),Nt(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),typeof e.featureTypes[0]=="string"){let i=e.filter;e.bbox&&(Nt(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),i=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,i)),Object.assign(n,{geometryName:e.geometryName,filter:i}),qg(t,e.featureTypes,[n])}else e.featureTypes.forEach(i=>{const o=this.combineBboxAndFilter(i.geometryName,i.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:i.geometryName,filter:o}),qg(t,[i.name],[n])});return t}combineBboxAndFilter(e,t,n,i){const o=ax(e,t,n);return i?ox(i,o):o}writeTransaction(e,t,n,i){const o=[],a=i.version?i.version:this.version_,s=Pe(sd[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a);let l;i&&(l=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS(Ju,"xsi:schemaLocation",xg[a]);const c=dx(s,l,a,i);return e&&As("Insert",e,o,c),t&&As("Update",t,o,c),n&&As("Delete",n,o,c),i.nativeElements&&As("Native",i.nativeElements,o,c),s}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(!(t.childNodes.length===0||t.childNodes.length===1&&t.firstChild.nodeType===3)){const n=[{}];return this.gmlFormat_.readGeometryElement(t,n),ve(n.pop().srsName)}}return null}};function dx(r,e,t,n){const i=n.featurePrefix?n.featurePrefix:v0;let o;return t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2),Object.assign({node:r},{version:t,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:i,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}function As(r,e,t,n){xt(n,y0,wr(r),e,t)}function wg(r,e){return ie({},sx,r,e)}const hx={"http://www.opengis.net/ogc":{FeatureId:we(function(r,e){return r.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:we(function(r,e){return r.getAttribute("fid")})}};function _g(r,e){Oi(hx,r,e)}const px={"http://www.opengis.net/wfs":{Feature:_g},"http://www.opengis.net/wfs/2.0":{Feature:_g}};function Tg(r,e){return ie([],px,r,e)}function Cg(r,e,t){const n=t[t.length-1],i=n.featureType,o=n.featureNS,a=n.gmlVersion,s=Pe(o,i);r.appendChild(s),a===2?Re.prototype.writeFeatureElement(s,e,t):a===3?B.prototype.writeFeatureElement(s,e,t):Ve.prototype.writeFeatureElement(s,e,t)}function k0(r,e,t){const n=t[t.length-1].version,i=yh[n],o=Pe(i,"Filter"),a=Pe(i,"FeatureId");o.appendChild(a),a.setAttribute("fid",e),r.appendChild(o)}function xh(r,e){r=r||v0;const t=r+":";return e.startsWith(t)?e:t+e}function Eg(r,e,t){const n=t[t.length-1];Nt(e.getId()!==void 0,"Features must have an id set");const i=n.featureType,o=n.featurePrefix,a=n.featureNS,s=xh(o,i);r.setAttribute("typeName",s),r.setAttributeNS(mh,"xmlns:"+o,a);const l=e.getId();l!==void 0&&k0(r,l,t)}function Mg(r,e,t){const n=t[t.length-1];Nt(e.getId()!==void 0,"Features must have an id set");const i=n.version,o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=xh(a,o),c=e.getGeometryName();r.setAttribute("typeName",l),r.setAttributeNS(mh,"xmlns:"+a,s);const u=e.getId();if(u!==void 0){const d=e.getKeys(),h=[];for(let p=0,f=d.length;p<f;p++){const y=e.get(d[p]);if(y!==void 0){let m=d[p];y&&typeof y.getSimplifiedGeometry=="function"&&(m=c),h.push({name:m,value:y})}}xt({version:i,gmlVersion:n.gmlVersion,node:r,hasZ:n.hasZ,srsName:n.srsName},y0,wr("Property"),h,t),k0(r,u,t)}}function Sg(r,e,t){const n=t[t.length-1],i=n.version,o=sd[i],a=Pe(o,i==="2.0.0"?"ValueReference":"Name"),s=n.gmlVersion;if(r.appendChild(a),It(a,e.name),e.value!==void 0&&e.value!==null){const l=Pe(o,"Value");r.appendChild(l),e.value&&typeof e.value.getSimplifiedGeometry=="function"?s===2?Re.prototype.writeGeometryElement(l,e.value,t):s===3?B.prototype.writeGeometryElement(l,e.value,t):Ve.prototype.writeGeometryElement(l,e.value,t):It(l,e.value)}}function Lg(r,e,t){e.vendorId&&r.setAttribute("vendorId",e.vendorId),e.safeToIgnore!==void 0&&r.setAttribute("safeToIgnore",String(e.safeToIgnore)),e.value!==void 0&&It(r,e.value)}const rc={"http://www.opengis.net/wfs":{Query:D(Ig)},"http://www.opengis.net/wfs/2.0":{Query:D(Ig)},"http://www.opengis.net/ogc":{During:D(Ng),And:D(Ps),Or:D(Ps),Not:D(Dg),BBOX:D(Ag),Contains:D(Xn),Intersects:D(Xn),Within:D(Xn),DWithin:D(Pg),PropertyIsEqualTo:D(Sr),PropertyIsNotEqualTo:D(Sr),PropertyIsLessThan:D(Sr),PropertyIsLessThanOrEqualTo:D(Sr),PropertyIsGreaterThan:D(Sr),PropertyIsGreaterThanOrEqualTo:D(Sr),PropertyIsNull:D(Og),PropertyIsBetween:D(Rg),PropertyIsLike:D(Fg)},"http://www.opengis.net/fes/2.0":{During:D(Ng),And:D(Ps),Or:D(Ps),Not:D(Dg),BBOX:D(Ag),Contains:D(Xn),Disjoint:D(Xn),Intersects:D(Xn),ResourceId:D(fx),Within:D(Xn),DWithin:D(Pg),PropertyIsEqualTo:D(Sr),PropertyIsNotEqualTo:D(Sr),PropertyIsLessThan:D(Sr),PropertyIsLessThanOrEqualTo:D(Sr),PropertyIsGreaterThan:D(Sr),PropertyIsGreaterThanOrEqualTo:D(Sr),PropertyIsNull:D(Og),PropertyIsBetween:D(Rg),PropertyIsLike:D(Fg)}};function Ig(r,e,t){const n=t[t.length-1],i=n.version,o=n.featurePrefix,a=n.featureNS,s=n.propertyNames,l=n.srsName;let c;o?c=xh(o,e):c=e;let u;i==="2.0.0"?u="typeNames":u="typeName",r.setAttribute(u,c),l&&r.setAttribute("srsName",l),a&&r.setAttributeNS(mh,"xmlns:"+o,a);const d=Object.assign({},n);d.node=r,xt(d,cx,wr("PropertyName"),s,t);const h=n.filter;if(h){const p=Pe(nc(i),"Filter");r.appendChild(p),gx(p,h,t)}}function gx(r,e,t){const n=t[t.length-1],i={node:r};Object.assign(i,{context:n}),xt(i,rc,wr(e.getTagName()),[e],t)}function Ag(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=kh[i];Ko(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.extent,t)}function fx(r,e,t){r.setAttribute("rid",e.rid)}function Xn(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=kh[i];Ko(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.geometry,t)}function Pg(r,e,t){const n=t[t.length-1].context.version;Xn(r,e,t);const i=Pe(nc(n),"Distance");It(i,e.distance.toString()),n==="2.0.0"?i.setAttribute("uom",e.unit):i.setAttribute("units",e.unit),r.appendChild(i)}function Ng(r,e,t){const n=t[t.length-1].context.version;kl(vh[n],"ValueReference",r,e.propertyName);const i=Pe(An,"TimePeriod");r.appendChild(i);const o=Pe(An,"begin");i.appendChild(o),jg(o,e.begin);const a=Pe(An,"end");i.appendChild(a),jg(a,e.end)}function Ps(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.conditions;for(let a=0,s=o.length;a<s;++a){const l=o[a];xt(i,rc,wr(l.getTagName()),[l],t)}}function Dg(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.condition;xt(i,rc,wr(o.getTagName()),[o],t)}function Sr(r,e,t){const n=t[t.length-1].context.version;e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),Ko(n,r,e.propertyName),bl(n,r,""+e.expression)}function Og(r,e,t){const n=t[t.length-1].context.version;Ko(n,r,e.propertyName)}function Rg(r,e,t){const n=t[t.length-1].context.version,i=nc(n);Ko(n,r,e.propertyName);const o=Pe(i,"LowerBoundary");r.appendChild(o),bl(n,o,""+e.lowerBoundary);const a=Pe(i,"UpperBoundary");r.appendChild(a),bl(n,a,""+e.upperBoundary)}function Fg(r,e,t){const n=t[t.length-1].context.version;r.setAttribute("wildCard",e.wildCard),r.setAttribute("singleChar",e.singleChar),r.setAttribute("escapeChar",e.escapeChar),e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),Ko(n,r,e.propertyName),bl(n,r,""+e.pattern)}function kl(r,e,t,n){const i=Pe(r,e);It(i,n),t.appendChild(i)}function bl(r,e,t){kl(nc(r),"Literal",e,t)}function Ko(r,e,t){r==="2.0.0"?kl(vh[r],"ValueReference",e,t):kl(yh[r],"PropertyName",e,t)}function jg(r,e){const t=Pe(An,"TimeInstant");r.appendChild(t);const n=Pe(An,"timePosition");t.appendChild(n),It(n,e)}function qg(r,e,t){const n=t[t.length-1],i=Object.assign({},n);i.node=r,xt(i,rc,wr("Query"),e,t)}function nc(r){let e;return r==="2.0.0"?e=vh[r]:e=yh[r],e}let os=class extends cr{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const n=t.getGeometry();return Nt(!n||n.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),n},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,n){this.source?.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Ne.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Ne.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const n=e===0?0:Math.min(t,e)/e,i=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Pa(),t=this.distance*this.resolution,n=this.source.getFeatures(),i={};for(let o=0,a=n.length;o<a;o++){const s=n[o];if(!(Ge(s)in i)){const l=this.geometryFunction(s);if(l){const c=l.getCoordinates();nl(c,e),ui(e,t,e);const u=this.source.getFeaturesInExtent(e).filter(function(d){const h=Ge(d);return h in i?!1:(i[h]=!0,!0)});this.features.push(this.createCluster(u,e))}}}}createCluster(e,t){const n=[0,0];for(let s=e.length-1;s>=0;--s){const l=this.geometryFunction(e[s]);l?ib(n,l.getCoordinates()):e.splice(s,1)}Nm(n,1/e.length);const i=Gn(t),o=this.interpolationRatio,a=new Vt([n[0]*(1-o)+i[0]*o,n[1]*(1-o)+i[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(a,e):new jt({geometry:a,features:e})}},go=class extends Nr{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}},xn=class extends go{constructor(e,t,n,i,o,a){super(e,t,o),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}};const Ue={SINGLECLICK:"singleclick",CLICK:Ne.CLICK,DBLCLICK:Ne.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},xl={ACTIVE:"active"};class Qo extends Vo{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(xl.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(xl.ACTIVE,e)}setMap(e){this.map_=e}}function mx(r,e,t){const n=r.getCenterInternal();if(n){const i=[n[0]+e[0],n[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:ob,center:r.getConstrainedCenter(i)})}}function wh(r,e,t,n){const i=r.getZoom();if(i===void 0)return;const o=r.getConstrainedZoom(i+e),a=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:Ji})}function ld(r){const e=arguments;return function(t){let n=!0;for(let i=0,o=e.length;i<o&&(n=n&&e[i](t),!!n);++i);return n}}const yx=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},vx=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},kx=function(r){const e=r.map.getTargetElement(),t=e.getRootNode(),n=r.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(n):e.contains(n)},b0=function(r){const e=r.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?kx(r):!0},Ri=gn,x0=function(r){const e=r.originalEvent;return"pointerId"in e&&e.button==0&&!(e2&&rh&&e.ctrlKey)},wl=Ho,bx=function(r){return r.type=="pointermove"},w0=function(r){return r.type==Ue.SINGLECLICK},_h=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},xx=function(r){const e=r.originalEvent;return!e.altKey&&(rh?e.metaKey:e.ctrlKey)&&!e.shiftKey},wx=function(r){const e=r.originalEvent;return rh?e.metaKey:e.ctrlKey},_l=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_0=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},ou=function(r){const e=r.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},T0=function(r){const e=r.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};let vi=class extends Qo{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ue.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ue.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==Ue.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Ue.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function Th(r){const e=r.length;let t=0,n=0;for(let i=0;i<e;i++)t+=r[i].clientX,n+=r[i].clientY;return{clientX:t/e,clientY:n/e}}const wn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Zt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let _x=class extends Vo{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+t2,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Zt.ELEMENT,this.handleElementChanged),this.addChangeListener(Zt.MAP,this.handleMapChanged),this.addChangeListener(Zt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Zt.POSITION,this.handlePositionChanged),this.addChangeListener(Zt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Zt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Zt.MAP)||null}getOffset(){return this.get(Zt.OFFSET)}getPosition(){return this.get(Zt.POSITION)}getPositioning(){return this.get(Zt.POSITIONING)}handleElementChanged(){Jm(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),qt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=st(e,wn.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Zt.ELEMENT,e)}setMap(e){this.set(Zt.MAP,e)}setOffset(e){this.set(Zt.OFFSET,e)}setPosition(e){this.set(Zt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Zt.POSITION))return;const n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),o=this.getRect(i,[r2(i),n2(i)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!on(n,o)){const s=o[0]-n[0],l=n[2]-o[2],c=o[1]-n[1],u=n[3]-o[3],d=[0,0];if(s<0?d[0]=s-a:l<0&&(d[0]=Math.abs(l)+a),c<0?d[1]=c-a:u<0&&(d[1]=Math.abs(u)+a),d[0]!==0||d[1]!==0){const h=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(h);if(!p)return;const f=[p[0]+d[0],p[1]+d[1]],y=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:y.duration,easing:y.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]}setPositioning(e){this.set(Zt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(e,t){const n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const a=`${e[0]+i[0]}px`,s=`${e[1]+i[1]}px`;let l="0%",c="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?c="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${a}, ${s})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u)}getOptions(){return this.options}};function Tx(r,e){const t=r.canvas;e=e||{};const n=e.pixelRatio||ih,i=e.size;i&&(t.width=i[0]*n,t.height=i[1]*n,t.style.width=i[0]+"px",t.style.height=i[1]+"px");const o=[0,0,t.width,t.height],a=Ab(Na(),n,n);return new Pb(r,n,o,a,0)}class Cx extends Ql{constructor(e,t,n,i,o){const a=o!==void 0?Et.IDLE:Et.LOADED;super(e,t,n,a),this.loader_=o!==void 0?o:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Et.ERROR):this.state=Et.LOADED,this.changed()}load(){this.state==Et.IDLE&&(this.state=Et.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class Ex{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;const o=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const cd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class Mx extends h2{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=st(n,cd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=st(n,cd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ne.TOUCHMOVE,this.boundHandleTouchMove_,e0?{passive:!1}:!1)}emulateClick_(e){let t=new xn(Ue.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new xn(Ue.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new xn(Ue.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Ue.POINTERUP||t.type==Ue.POINTERCANCEL){delete this.trackedTouches_[n];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else(t.type==Ue.POINTERDOWN||t.type==Ue.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new xn(Ue.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(qt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new xn(Ue.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(st(n,Ue.POINTERMOVE,this.handlePointerMove_,this),st(n,Ue.POINTERUP,this.handlePointerUp_,this),st(this.element_,Ue.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(st(this.element_.getRootNode(),Ue.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new xn(Ue.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new xn(Ue.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(qt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ne.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(qt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(qt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Yt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ud=1/0;class Sx{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,o0(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(e){Nt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=ud?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,i=t.length,o=t[e],a=n[e],s=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&n[c]<n[l]?c:l;t[e]=t[u],n[e]=n[u],e=u}t[e]=o,n[e]=a,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,i=this.priorities_,o=n[t],a=i[t];for(;t>e;){const s=this.getParentIndex_(t);if(i[s]>a)n[t]=n[s],i[t]=i[s],t=s;else break}n[t]=o,i[t]=a}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let i=0;const o=t.length;let a,s,l;for(s=0;s<o;++s)a=t[s],l=e(a),l==ud?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=l,t[i++]=a);t.length=i,n.length=i,this.heapify_()}}class C0 extends Sx{constructor(e,t){super(n=>e.apply(null,n),n=>n[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Ne.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===at.LOADED||n===at.ERROR||n===at.EMPTY){n!==at.ERROR&&t.removeEventListener(Ne.CHANGE,this.boundHandleTileChange_);const i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const i=this.dequeue()[0],o=i.getKey();i.getState()===at.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,i.load())}}}function Lx(r,e,t,n,i){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return ud;const o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}class Ch extends Vo{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,n=this.listenerKeys.length;t<n;++t)qt(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==n0&&this.listenerKeys.push(st(e,wn.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Ix extends Ch{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=a):this.collapseLabel_=o;const s=e.label!==void 0?e.label:"i";typeof s=="string"?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ne.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+Xl+" "+oh+(this.collapsed_&&this.collapsible_?" "+pg:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>n.add(i)):n.add(this.attributions_)),!this.overrideCollapsible_){const i=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(i)}return Array.from(n)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(i=>a0(()=>i))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!ec(t,this.renderedAttributions_)){Jm(this.ulElement_);for(let i=0,o=t.length;i<o;++i){const a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(pg),this.collapsed_?gg(this.collapseLabel_,this.label_):gg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Ax extends Ch{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const o=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=t+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),a.addEventListener(Ne.CLICK,this.handleClick_.bind(this),!1);const s=t+" "+Xl+" "+oh,l=this.element;l.className=s,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ss)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();t!==void 0&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Ji}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const i="rotate("+n+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ss);!o&&n===0?this.element.classList.add(Ss):o&&n!==0&&this.element.classList.remove(Ss)}this.label_.style.transform=i}this.rotation_=n}}class Px extends Ch{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",s=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Ne.CLICK,this.handleClick_.bind(this,n),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(Ne.CLICK,this.handleClick_.bind(this,-n),!1);const h=t+" "+Xl+" "+oh,p=this.element;p.className=h,p.appendChild(u),p.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(n!==void 0){const i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:Ji})):t.setZoom(i)}}}function Nx(r){r=r||{};const e=new Bt;return(r.zoom===void 0||r.zoom)&&e.push(new Px(r.zoomOptions)),(r.rotate===void 0||r.rotate)&&e.push(new Ax(r.rotateOptions)),(r.attribution===void 0||r.attribution)&&e.push(new Ix(r.attributionOptions)),e}class Dx extends Qo{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ue.DBLCLICK){const n=e.originalEvent,i=e.map,o=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_,s=i.getView();wh(s,a,o,this.duration_),n.preventDefault(),t=!0}return!t}}class Tl extends vi{constructor(e){super({stopDown:Ho}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:ld(_h,T0);this.condition_=e.onFocusOnly?ld(b0,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,i=t.getEventPixel(Th(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();Nm(o,a.getResolution()),zm(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=t.getPixelFromCoordinateInternal(a),l=t.getCoordinateFromPixelInternal([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(l),duration:500,easing:Ji})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Ox extends vi{constructor(e){e=e||{},super({stopDown:Ho}),this.condition_=e.condition?e.condition:vx,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!ou(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===Um)return;const i=t.getSize(),o=e.pixel,a=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){const s=a-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=a}handleUpEvent(e){return ou(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return ou(e)&&x0(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Rx extends lh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Vr([n])}getGeometry(){return this.geometry_}}const so={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ua extends Nr{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class Fx extends vi{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Rx(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??x0,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const i=n[0]-t[0],o=n[1]-t[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ua(so.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new ua(t?so.BOXEND:so.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ua(so.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ua(so.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ua(so.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class jx extends Fx{constructor(e){e=e||{};const t=e.condition?e.condition:_l;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const i=t.rotatedExtentForGeometry(n),o=t.getResolutionForExtentInternal(i),a=t.getResolution()/o;n=n.clone(),n.scale(a*a)}t.fitInternal(n,{duration:this.duration_,easing:Ji})}}const xi={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class E0 extends Qo{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return _h(t)&&_0(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Ne.KEYDOWN){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==xi.DOWN||i==xi.LEFT||i==xi.RIGHT||i==xi.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let s=0,l=0;i==xi.DOWN?l=-a:i==xi.LEFT?s=-a:i==xi.RIGHT?s=a:l=a;const c=[s,l];zm(c,o.getRotation()),mx(o,c,this.duration_),n.preventDefault(),t=!0}}return!t}}class M0 extends Qo{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!wx(t)&&_0(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Ne.KEYDOWN||e.type==Ne.KEYPRESS){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==="+"||i==="-")){const o=e.map,a=i==="+"?this.delta_:-this.delta_,s=o.getView();wh(s,a,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const qx=40,zx=300;class dd extends Qo{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:Ri;this.condition_=e.onFocusOnly?ld(b0,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ne.WHEEL)return!0;const t=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let i=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:i*=qx;break;case WheelEvent.DOM_DELTA_PAGE:i*=zx;break}if(i===0)return!1;this.lastDelta_=i;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const a=t.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-nh(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),wh(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class $x extends vi{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Ho),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;const a=e.map,s=a.getView();s.getConstraints().rotation!==Um&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Th(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class Ux extends vi{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Ho),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,a=n.clientY-i.clientY,s=Math.sqrt(o*o+a*a);this.lastDistance_!==void 0&&(t=this.lastDistance_/s),this.lastDistance_=s;const l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Th(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function Eh(r){r=r||{};const e=new Bt,t=new Ex(-.005,.05,100);return(r.altShiftDragRotate===void 0||r.altShiftDragRotate)&&e.push(new Ox),(r.doubleClickZoom===void 0||r.doubleClickZoom)&&e.push(new Dx({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan===void 0||r.dragPan)&&e.push(new Tl({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate===void 0||r.pinchRotate)&&e.push(new $x),(r.pinchZoom===void 0||r.pinchZoom)&&e.push(new Ux({duration:r.zoomDuration})),(r.keyboard===void 0||r.keyboard)&&(e.push(new E0),e.push(new M0({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom===void 0||r.mouseWheelZoom)&&e.push(new dd({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom===void 0||r.shiftDragZoom)&&e.push(new jx({duration:r.zoomDuration})),e}const Yn={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class ei extends Nr{constructor(e,t){super(e),this.layer=t}}const au={LAYERS:"layers"};class fn extends vb{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(au.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new Bt(n.slice(),{unique:!0}):Nt(typeof n.getArray=="function","Expected `layers` to be an array or a `Collection`"):n=new Bt(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(qt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(st(e,wt.ADD,this.handleLayersAdd_,this),st(e,wt.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(qt);o0(this.listenerKeys_);const t=e.getArray();for(let n=0,i=t.length;n<i;n++){const o=t[n];this.registerLayerListeners_(o),this.dispatchEvent(new ei(Yn.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){const t=[st(e,en.PROPERTYCHANGE,this.handleLayerChange_,this),st(e,Ne.CHANGE,this.handleLayerChange_,this)];e instanceof fn&&t.push(st(e,Yn.ADDLAYER,this.handleLayerGroupAdd_,this),st(e,Yn.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ge(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ei(Yn.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ei(Yn.REMOVELAYER,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ei(Yn.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=Ge(t);this.listenerKeys_[n].forEach(qt),delete this.listenerKeys_[n],this.dispatchEvent(new ei(Yn.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(au.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let i=0,o=n.length;i<o;++i)this.dispatchEvent(new ei(Yn.REMOVELAYER,n[i]))}this.set(au.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(t)});const i=this.getLayerState();let o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(let a=n,s=t.length;a<s;a++){const l=t[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Wl(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}}class Gx extends lh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Mt()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Rm(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Sb(i,n)}forEachFeatureAtCoordinate(e,t,n,i,o,a,s,l){let c;const u=t.viewState;function d(T,E,R,F){return o.call(a,E,T?R:null,F)}const h=u.projection,p=wm(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){const T=h.getExtent(),E=Jt(T);f.push([-E,0],[E,0])}const y=t.layerStatesArray,m=y.length,b=[],k=[];for(let T=0;T<f.length;T++)for(let E=m-1;E>=0;--E){const R=y[E],F=R.layer;if(F.hasRenderer()&&Vm(R,u)&&s.call(l,F)){const se=F.getRenderer(),ne=F.getSource();if(se&&ne){const fe=ne.getWrapX()?p:e,U=d.bind(null,R.managed);k[0]=fe[0]+f[T][0],k[1]=fe[1]+f[T][1],c=se.forEachFeatureAtCoordinate(k,t,n,U,b)}if(c)return c}}if(b.length===0)return;const C=1/b.length;return b.forEach((T,E)=>T.distanceSq+=E*C),b.sort((T,E)=>T.distanceSq-E.distanceSq),b.some(T=>c=T.callback(T.feature,T.layer,T.geometry)),c}hasFeatureAtCoordinate(e,t,n,i,o,a){return this.forEachFeatureAtCoordinate(e,t,n,i,gn,this,o,a)!==void 0}getMap(){return this.map_}renderFrame(e){Mt()}scheduleExpireIconCache(e){r0.canExpireCache()&&e.postRenderFunctions.push(Bx)}}function Bx(r,e){r0.expire()}class Vx extends Gx{constructor(e){super(e),this.fontChangeListenerKey_=st(o2,en.PROPERTYCHANGE,e.redrawText,e),this.element_=wo?a2():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Xl+" ol-layers";const n=e.getViewport();n&&n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const i=new _b(e,void 0,t);n.dispatchEvent(i)}}disposeInternal(){qt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Ni.PRECOMPOSE,e);const t=e.layerStatesArray.sort((s,l)=>s.zIndex-l.zIndex);t.some(s=>s.layer instanceof Kd&&s.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const i=[];let o=null;for(let s=0,l=t.length;s<l;++s){const c=t[s];e.layerIndex=s;const u=c.layer,d=u.getSourceState();if(!Vm(c,n)||d!="ready"&&d!="undefined"){u.unrender();continue}const h=u.render(e,o);h&&(h!==o&&(this.children_.push(h),o=h),i.push(c))}this.declutter(e,i),s2(this.element_,this.children_);const a=this.getMap().getTargetElement();if(Mi(a)){const s=a.getContext("2d");for(const l of this.children_){const c=l.firstElementChild||l,u=l.style.backgroundColor;if(u&&(!Mi(c)||c.width>0)&&(s.fillStyle=u,s.fillRect(0,0,a.width,a.height)),Mi(c)&&c.width>0){s.save();const d=l.style.opacity||c.style.opacity;s.globalAlpha=d===""?1:Number(d);const h=c.style.transform;if(h)s.transform(...Tb(h));else{const p=parseFloat(c.style.width)/c.width,f=parseFloat(c.style.height)/c.height;s.transform(p,0,0,f,0,0)}s.drawImage(c,0,0),s.restore()}}}this.dispatchRenderEvent(Ni.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const i=t[n],o=i.layer;o.getDeclutter()&&o.renderDeclutter(e,i)}t.forEach(n=>n.layer.renderDeferred(e))}}}function S0(r){if(r instanceof Go){r.setMapInternal(null);return}r instanceof fn&&r.getLayers().forEach(S0)}function L0(r,e){if(r instanceof Go){r.setMapInternal(e);return}if(r instanceof fn){const t=r.getLayers().getArray();for(let n=0,i=t.length;n<i;++n)L0(t[n],e)}}let fi=class extends Vo{constructor(r){super(),r=r||{},this.on,this.once,this.un;const e=Hx(r);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,this.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:ih,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Na(),this.pixelToCoordinateTransform_=Na(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,wo||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=r.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,wo||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=e.controls||(wo?new Bt:Nx()),this.interactions=e.interactions||(wo?new Bt:Eh({onFocusOnly:!0})),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new C0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Yt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Yt.VIEW,this.handleViewChanged_),this.addChangeListener(Yt.SIZE,this.handleSizeChanged_),this.addChangeListener(Yt.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const t=this;r.view&&!(r.view instanceof Cn)&&r.view.then(function(n){t.setView(new Cn(n))}),this.controls.addEventListener(wt.ADD,n=>{n.element.setMap(this)}),this.controls.addEventListener(wt.REMOVE,n=>{n.element.setMap(null)}),this.interactions.addEventListener(wt.ADD,n=>{n.element.setMap(this)}),this.interactions.addEventListener(wt.REMOVE,n=>{n.element.setMap(null)}),this.overlays_.addEventListener(wt.ADD,n=>{this.addOverlayInternal_(n.element)}),this.overlays_.addEventListener(wt.REMOVE,n=>{const i=n.element.getId();i!==void 0&&delete this.overlayIdIndex_[i.toString()],n.element.setMap(null)}),this.controls.forEach(n=>{n.setMap(this)}),this.interactions.forEach(n=>{n.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(r){this.getControls().push(r)}addInteraction(r){this.getInteractions().push(r)}addLayer(r){this.getLayerGroup().getLayers().push(r)}handleLayerAdd_(r){L0(r.layer,this)}addOverlay(r){this.getOverlays().push(r)}addOverlayInternal_(r){const e=r.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=r),r.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(r,e,t){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(r);t=t!==void 0?t:{};const i=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.layerFilter!==void 0?t.layerFilter:gn,a=t.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,e,null,o,null)}getFeaturesAtPixel(r,e){const t=[];return this.forEachFeatureAtPixel(r,function(n){t.push(n)},e),t}getAllLayers(){const r=[];function e(t){t.forEach(function(n){n instanceof fn?e(n.getLayers()):r.push(n)})}return e(this.getLayers()),r}hasFeatureAtPixel(r,e){if(!this.frameState_||!this.renderer_)return!1;const t=this.getCoordinateFromPixelInternal(r);e=e!==void 0?e:{};const n=e.layerFilter!==void 0?e.layerFilter:gn,i=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(t,this.frameState_,i,o,n,null)}getEventCoordinate(r){return this.getCoordinateFromPixel(this.getEventPixel(r))}getEventCoordinateInternal(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))}getEventPixel(r){const e=this.viewport_.getBoundingClientRect(),t=this.getSize(),n=e.width/t[0],i=e.height/t[1],o="changedTouches"in r?r.changedTouches[0]:r;return[(o.clientX-e.left)/n,(o.clientY-e.top)/i]}getTarget(){return this.get(Yt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(r){return Oa(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())}getCoordinateFromPixelInternal(r){const e=this.frameState_;return e?Ku(e.pixelToCoordinateTransform,r.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(r){const e=this.overlayIdIndex_[r.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Yt.LAYERGROUP)}setLayers(r){const e=this.getLayerGroup();if(r instanceof Bt){e.setLayers(r);return}const t=e.getLayers();t.clear(),t.extend(r)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const r=this.getLayerGroup().getLayerStatesArray();for(let e=0,t=r.length;e<t;++e){const n=r[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const o=n.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(r){const e=Gt(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(r){const e=this.frameState_;return e?Ku(e.coordinateToPixelTransform,r.slice(0,2)):null}getPixelRatio(){return this.pixelRatio_}setPixelRatio(r){this.pixelRatio_!==r&&(this.pixelRatio_=r,this.render())}getRenderer(){return this.renderer_}getSize(){return this.get(Yt.SIZE)}getView(){return this.get(Yt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const r=this.getTargetElement();return r?r.ownerDocument:document}getTilePriority(r,e,t,n){return Lx(this.frameState_,r,e,t,n)}handleBrowserEvent(r,e){e=e||r.type;const t=new xn(e,this,r);this.handleMapBrowserEvent(t)}handleMapBrowserEvent(r){if(!this.frameState_)return;const e=r.originalEvent,t=e.type;if(t===cd.POINTERDOWN||t===Ne.WHEEL||t===Ne.KEYDOWN){const n=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=e.target,a=i instanceof ShadowRoot?i.host===o?i.host.ownerDocument:i:i===n?n.documentElement:i;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1){const n=this.getInteractions().getArray().slice();for(let i=n.length-1;i>=0;i--){const o=n[i];if(!(o.getMap()!==this||!o.getActive()||!this.getTargetElement())&&(!o.handleEvent(r)||r.propagationStopped))break}}}handlePostRender(){const r=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(r){const o=r.viewHints;if(o[an.ANIMATING]||o[an.INTERACTING]){const a=Date.now()-r.time>8;n=a?0:8,i=a?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}r&&this.renderer_&&!r.animate&&(this.renderComplete_?(this.hasListener(Ni.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Ni.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new go(wn.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new go(wn.LOADSTART,this,r))));const t=this.postRenderFunctions_;if(r)for(let n=0,i=t.length;n<i;++n)t[n](this,r);t.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,n=this.targetChangeHandlerKeys_.length;t<n;++t)qt(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ne.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ne.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!Mi(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const r=this.getTarget(),e=typeof r=="string"?document.getElementById(r):r;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(Mi(e)||e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Vx(this)),!Mi(e)){this.mapBrowserEventHandler_=new Mx(this,this.moveTolerance_);for(const n in Ue)this.mapBrowserEventHandler_.addEventListener(Ue[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ne.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ne.WHEEL,this.boundHandleBrowserEvent_,e0?{passive:!1}:!1);let t;if(this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}if(this.targetChangeHandlerKeys_=[st(t,Ne.KEYDOWN,this.handleBrowserEvent,this),st(t,Ne.KEYPRESS,this.handleBrowserEvent,this)],e instanceof HTMLElement){const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_?.observe(e)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(qt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(qt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const r=this.getView();r&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=st(r,en.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=st(r,Ne.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(qt),this.layerGroupPropertyListenerKeys_=null);const r=this.getLayerGroup();r&&(this.handleLayerAdd_(new ei("addlayer",r)),this.layerGroupPropertyListenerKeys_=[st(r,en.PROPERTYCHANGE,this.render,this),st(r,Ne.CHANGE,this.render,this),st(r,"addlayer",this.handleLayerAdd_,this),st(r,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const r=this.frameState_.layerStatesArray;for(let e=0,t=r.length;e<t;++e){const n=r[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(r){return this.getControls().remove(r)}removeInteraction(r){return this.getInteractions().remove(r)}removeLayer(r){return this.getLayerGroup().getLayers().remove(r)}handleLayerRemove_(r){S0(r.layer)}removeOverlay(r){return this.getOverlays().remove(r)}renderFrame_(r){const e=this.getSize(),t=this.getView(),n=this.frameState_;let i=null;if(e!==void 0&&dg(e)&&t&&t.isDef()){const o=t.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=t.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:fl(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Ge(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const s=isNaN(a.nextRotation)?a.rotation:a.nextRotation;i.nextExtent=fl(a.nextCenter,a.nextResolution,s,e)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n&&(!this.previousExtent_||!Yl(this.previousExtent_)&&!Vi(i.extent,this.previousExtent_))&&(this.dispatchEvent(new go(wn.MOVESTART,this,n)),this.previousExtent_=Im(this.previousExtent_)),this.previousExtent_&&!i.viewHints[an.ANIMATING]&&!i.viewHints[an.INTERACTING]&&!Vi(i.extent,this.previousExtent_)&&(this.dispatchEvent(new go(wn.MOVEEND,this,i)),mb(i.extent,this.previousExtent_))),this.dispatchEvent(new go(wn.POSTRENDER,this,i)),this.renderComplete_=(this.hasListener(wn.LOADSTART)||this.hasListener(wn.LOADEND)||this.hasListener(Ni.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(r){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new ei("removelayer",e)),this.set(Yt.LAYERGROUP,r)}setSize(r){this.set(Yt.SIZE,r)}setTarget(r){this.set(Yt.TARGET,r)}setView(r){if(!r||r instanceof Cn){this.set(Yt.VIEW,r);return}this.set(Yt.VIEW,new Cn);const e=this;r.then(function(t){e.setView(new Cn(t))})}updateSize(){const r=this.getTargetElement();let e;if(r){let n,i;if(Mi(r)){const o=r.getContext("2d").getTransform();n=r.width/o.a,i=r.height/o.d}else{const o=getComputedStyle(r);n=r.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),i=r.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth)}!isNaN(n)&&!isNaN(i)&&(e=[Math.max(0,n),Math.max(0,i)],!dg(e)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&yb("No map visible because the map container's width or height are 0."))}const t=this.getSize();e&&(!t||!ec(e,t))&&(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(r){const e=this.getView();e&&e.setViewportSize(r)}};function Hx(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new fn({layers:r.layers});t[Yt.LAYERGROUP]=n,t[Yt.TARGET]=r.target,t[Yt.VIEW]=r.view instanceof Cn?r.view:new Cn;let i;r.controls!==void 0&&(Array.isArray(r.controls)?i=new Bt(r.controls.slice()):(Nt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new Bt(r.interactions.slice()):(Nt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new Bt(r.overlays.slice()):(Nt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=r.overlays):a=new Bt,{controls:i,interactions:o,keyboardEventTarget:e,overlays:a,values:t}}const zg=[];class Zx extends Ib{constructor(e,t,n,i,o){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.removeSourceTiles_=o,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=Ra(1,1,zg)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=Ge(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedPixelRatio:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(Xm(this.context_),zg.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}function Yx(r={},e=Tr){const t={startZoomLevel:void 0,startResolution:void 0};return Object.prototype.hasOwnProperty.call(r,"startZoomLevel")&&!Object.prototype.hasOwnProperty.call(r,"startResolution")?t.startZoomLevel=e.startZoomLevel:t.startResolution=e.startResolution,t}function Wx(r){const e=Object.assign({},Tr,r),t=Yx(r,e);return new Cn({projection:e.epsg,center:e.startCenter,extent:e.extent,zoom:t.startZoomLevel,options:e.options,resolution:t.startResolution,resolutions:e.options.map(n=>n.resolution),constrainResolution:!0,constrainOnlyCenter:!0,backgroundImage:e.backgroundImage})}function I0(r){const e=Object.keys(r.defs),t=e.length;let n,i;for(n=0;n<t;++n){const o=e[n];if(!eu(o)){const a=r.defs(o);let s=a.units;!s&&a.projName==="longlat"&&(s="degrees"),Gm(new Dm({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(n=0;n<t;++n){const o=e[n],a=eu(o);for(i=0;i<t;++i){const s=e[i],l=eu(s);if(!bb(o,s))if(r.defs[o]===r.defs[s])xb([a,l]);else{const c=r(o,s);wb(a,l,ng(a,l,c.forward),ng(l,a,c.inverse))}}}}function Kx(r){const e=r.split(":")[1];Ur.defs("http://www.opengis.net/gml/srs/epsg.xml#"+e,Ur.defs(r)),I0(Ur)}function Mh(r){return Ur.defs(r)}function Qx(r=Tr.namedProjections){Ur.defs(r),I0(Ur),r.forEach(e=>{Gm(ve(e[0])),Kx(e[0]),Mh(e[0]).masterportal=!0})}function Xx(){return Object.keys(Ur.defs).map(r=>Object.assign(Ur.defs(r),{name:r})).filter(function(r,e,t){return e===t.indexOf(r)&&r.masterportal===!0})}function Sh(r){return r.getView().getProjection().getCode()}function $g(r){return typeof r=="string"?Mh(r):r}function Lh(r,e,t){const n=$g(r),i=$g(e);if(n&&i&&t)return Ur(n,i,t);console.error(`Cancelled coordinate transformation with invalid parameters: ${r}; ${e}; ${t}`)}function Jx(r,e,t){return Lh(e,Sh(r),t)}function ew(r,e,t){return Lh(Sh(r),e,t)}const tw={transformFromMapProjection:ew,transformToMapProjection:Jx,transform:Lh,getMapProjection:Sh,getProjections:Xx,registerProjections:Qx,getProjection:Mh};class rw extends Go{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Es.PRELOAD)}setPreload(e){this.set(Es.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Es.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Es.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class no extends rw{constructor(e){super(e)}createRenderer(){return new hb(this,{cacheSize:this.getCacheSize()})}}class nw extends xm{constructor(e){super(e),this.image=null,this.renderedSourceRevision_=0}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,o=i.resolution,a=this.getLayer().getSource(),s=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Wl(l,hl(t.extent,i.projection))),!s[an.ANIMATING]&&!s[an.INTERACTING]&&!Yl(l))if(a){!this.getLayer().rendered&&this.renderedSourceRevision_!==a.getRevision()&&(this.image=null),this.renderedSourceRevision_=a.getRevision();const c=i.projection,u=a.getImage(l,o,n,c);u&&(this.loadImage(u)?this.image=u:u.getState()===Et.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),i=Ku(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!Om(o,i))return null;const a=this.image.getExtent(),s=this.image.getImage(),l=Jt(a),c=Math.floor(s.width*((i[0]-a[0])/l));if(c<0||c>=s.width)return null;const u=Dn(a),d=Math.floor(s.height*((a[3]-i[1])/u));return d<0||d>=s.height?null:this.getImageData(s,c,d)}renderFrame(e,t){const n=this.image,i=n.getExtent(),o=n.getResolution(),[a,s]=Array.isArray(o)?o:[o,o],l=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],u=e.pixelRatio,d=e.viewState,h=d.center,p=d.resolution,f=u*a/(p*l),y=u*s/(p*l);this.prepareContainer(e,t);const m=this.context.canvas.width,b=this.context.canvas.height,k=this.getRenderContext(e);let C=!1,T=!0;if(c.extent){const ne=hl(c.extent,d.projection);T=zo(ne,e.extent),C=T&&!on(ne,e.extent),C&&this.clipUnrotated(k,e,ne)}const E=n.getImage(),R=Rm(this.tempTransform,m/2,b/2,f,y,0,l*(i[0]-h[0])/a,l*(h[1]-i[3])/s);this.renderedResolution=s*u/l;const F=E.width*R[0],se=E.height*R[3];if(this.getLayer().getSource().getInterpolate()||(k.imageSmoothingEnabled=!1),this.preRender(k,e),T&&F>=.5&&se>=.5){const ne=R[4],fe=R[5],U=c.opacity;U!==1&&(k.save(),k.globalAlpha=U),k.drawImage(E,0,0,+E.width,+E.height,ne,fe,F,se),U!==1&&k.restore()}return this.postRender(this.context,e),C&&k.restore(),k.imageSmoothingEnabled=!0,this.container}}class iw extends Go{constructor(e){e=e||{},super(e)}}class as extends iw{constructor(e){super(e)}createRenderer(){return new nw(this)}getData(e){return super.getData(e)}}function za(r,e){const t=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&t.push(i+"="+encodeURIComponent(e[i]))});const n=t.join("&");return r=r.replace(/[?&]$/,""),r+=r.includes("?")?"&":"?",r+n}const ow=/\{z\}/g,aw=/\{x\}/g,sw=/\{y\}/g,lw=/\{-y\}/g;function cw(r,e,t,n,i){return r.replace(ow,e.toString()).replace(aw,t.toString()).replace(sw,n.toString()).replace(lw,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-n).toString()})}function A0(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const n=t[1].charCodeAt(0),i=t[2].charCodeAt(0);let o;for(o=n;o<=i;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const n=parseInt(t[2],10);for(let i=parseInt(t[1],10);i<=n;i++)e.push(r.replace(t[0],i.toString()));return e}return e.push(r),e}const lo=[0,0,0],Wn=5;class io{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Nt(u2(this.resolutions_,(i,o)=>o-i),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Nt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ml(n)),Nt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Nt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Fm,Nt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,o)=>{const a=new gb(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(n){const s=this.getTileRangeForExtentAndZ(n,o);a.minX=Math.max(s.minX,a.minX),a.maxX=Math.min(s.maxX,a.maxX),a.minY=Math.max(s.minY,a.minY),a.maxY=Math.min(s.maxY,a.maxY)}return a}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const i=this.getTileRangeForExtentAndZ(e,t);for(let o=i.minX,a=i.maxX;o<=a;++o)for(let s=i.minY,l=i.maxY;s<=l;++s)n([t,o,s])}forEachTileCoordParentTileRange(e,t,n,i){let o,a,s,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(a!==void 0&&s!==void 0?(a=Math.floor(a/2),s=Math.floor(s/2),o=ao(a,a,s,s,n)):o=this.getTileRangeForExtentAndZ(l,c,n),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getOrigins(){return this.origins_}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,a=e[2]*2;return ao(o,o+1,a,a+1,t)}const i=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const i=e[0],o=e[1],a=e[2];if(t===i)return ao(o,a,o,a,n);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-i),c=Math.floor(o*l),u=Math.floor(a*l);if(t<i)return ao(c,c,u,u,n);const d=Math.floor(l*(o+1))-1,h=Math.floor(l*(a+1))-1;return ao(c,d,u,h,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,lo);const i=lo[1],o=lo[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,lo);const a=lo[1],s=lo[2];return ao(i,a,o,s,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=oi(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=oi(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*o[0]*i,s=n[1]-(e[2]+1)*o[1]*i,l=a+o[0]*i,c=s+o[1]*i;return qo(a,s,l,c,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,i,o){const a=this.getZForResolution(n),s=n/this.getResolution(a),l=this.getOrigin(a),c=oi(this.getTileSize(a),this.tmpSize_);let u=s*(e-l[0])/n/c[0],d=s*(l[1]-t)/n/c[1];return i?(u=ii(u,Wn)-1,d=ii(d,Wn)-1):(u=xo(u,Wn),d=xo(d,Wn)),eg(a,u,d,o)}getTileCoordForXYAndZ_(e,t,n,i,o){const a=this.getOrigin(n),s=this.getResolution(n),l=oi(this.getTileSize(n),this.tmpSize_);let c=(e-a[0])/s/l[0],u=(a[1]-t)/s/l[1];return i?(c=ii(c,Wn)-1,u=ii(u,Wn)-1):(c=xo(c,Wn),u=xo(u,Wn)),eg(n,c,u,o)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=i0(this.resolutions_,e,t||0);return nh(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return fb(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}class P0 extends io{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function uw(r,e,t){const n=[],i=[],o=[],a=[],s=[];t=t!==void 0?t:[];const l="SupportedCRS",c="TileMatrix",u="Identifier",d="ScaleDenominator",h="TopLeftCorner",p="TileWidth",f="TileHeight",y=r[l],m=ve(y),b=m.getMetersPerUnit(),k=m.getAxisOrientation().startsWith("ne");return r[c].sort(function(C,T){return T[d]-C[d]}),r[c].forEach(function(C){let T;if(t.length>0?T=t.find(function(E){return C[u]==E[c]?!0:C[u].includes(":")?!1:r[u]+":"+C[u]===E[c]}):T=!0,T){i.push(C[u]);const E=C[d]*28e-5/b,R=C[p],F=C[f];k?o.push([C[h][1],C[h][0]]):o.push(C[h]),n.push(E),a.push(R==F?R:[R,F]),s.push([C.MatrixWidth,C.MatrixHeight])}}),new P0({extent:e,origins:o,resolutions:n,matrixIds:i,tileSizes:a,sizes:s})}function ic(r){let e=r.getDefaultTileGrid();return e||(e=pw(r),r.setDefaultTileGrid(e)),e}function dw(r,e,t){const n=e[0],i=r.getTileCoordCenter(e),o=ss(t);if(!Om(o,i)){const a=Jt(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,r.getTileCoordForCoordAndZ(i,n)}return e}function hw(r,e,t,n){n=n!==void 0?n:"top-left";const i=N0(r,e,t);return new io({extent:r,origin:pb(r,n),resolutions:i,tileSize:t})}function Ih(r){const e=r||{},t=e.extent||ve("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:N0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new io(n)}function N0(r,e,t,n){e=e!==void 0?e:jm,t=oi(t!==void 0?t:Fm);const i=Dn(r),o=Jt(r);n=n>0?n:Math.max(o/t[0],i/t[1]);const a=e+1,s=new Array(a);for(let l=0;l<a;++l)s[l]=n/Math.pow(2,l);return s}function pw(r,e,t,n){const i=ss(r);return hw(i,e,t,n)}function ss(r){r=ve(r);let e=r.getExtent();if(!e){const t=180*Da.degrees/r.getMetersPerUnit();e=qo(-t,-t,t,t)}return e}function gw(r,e){return(function(t,n,i){if(!t)return;let o;const a=t[0];if(e){const s=e.getFullTileRange(a);s&&(o=s.getHeight()-1)}return cw(r,a,t[1],t[2],o)})}function Ah(r,e){const t=r.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=gw(r[i],e);return hd(n)}function hd(r){return r.length===1?r[0]:(function(e,t,n){if(!e)return;const i=Bm(e),o=t0(i,r.length);return r[o](e,t,n)})}class D0 extends Yo{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&oi(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Ge(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,i,o,a){return Mt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:ic(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),a=oi(i.getTileSize(e),this.tmpSize);return o==1?a:i2(a,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const n=t!==void 0?t:this.getProjection(),i=t!==void 0?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=dw(i,e,n)),db(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class fw extends Nr{constructor(e,t){super(e),this.tile=t}}const su={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class oc extends D0{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===oc.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=Ge(t),i=t.getState();let o;i==at.LOADING?(this.tileLoadingKeys_[n]=!0,o=su.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=i==at.ERROR?su.TILELOADERROR:i==at.LOADED?su.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new fw(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=A0(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ah(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}class ac extends oc{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:mw,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.referrerPolicy=e.referrerPolicy,this.tileClass=e.tileClass!==void 0?e.tileClass:Cb,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!$t(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||$t(t,e)))return this.tileGrid;const n=Ge(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ic(e)),this.tileGridForProjection[n]}createTile_(e,t,n,i,o,a){const s=[e,t,n],l=this.getTileCoordForTileUrlFunction(s,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(s,c!==void 0?at.IDLE:at.EMPTY,c!==void 0?c:"",{crossOrigin:this.crossOrigin,referrerPolicy:this.referrerPolicy},this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Ne.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,n,i,o,a){const s=this.getProjection();if(!s||!o||$t(s,o))return this.getTileInternal(e,t,n,i,s||o);const l=[e,t,n],c=this.getKey(),u=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),h=this.getTileCoordForTileUrlFunction(l,o),p=new Eb(s,u,o,d,l,h,this.getTilePixelRatio(i),this.getGutter(),(f,y,m,b)=>this.getTileInternal(f,y,m,b,s,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,p}getTileInternal(e,t,n,i,o,a){const s=this.getKey(),l=Mb(this,s,e,t,n);if(a&&a.containsKey(l))return a.get(l);const c=this.createTile_(e,t,n,i,o,s);return a?.set(l,c),c}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=ve(e);if(n){const i=Ge(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}}function mw(r,e){if(wo){const t=r.getCrossOrigin();let n="same-origin",i="same-origin";t==="anonymous"||t===""?(n="cors",i="omit"):t==="use-credentials"&&(n="cors",i="include");const o={mode:n,credentials:i,referrerPolicy:r.getReferrerPolicy()};fetch(e,o).then(a=>{if(!a.ok)throw new Error(`HTTP ${a.status}`);return a.blob()}).then(a=>createImageBitmap(a)).then(a=>{const s=r.getImage();s.width=a.width,s.height=a.height,s.getContext("2d").drawImage(a,0,0),a.close?.(),s.dispatchEvent(new Event("load"))}).catch(()=>{r.getImage().dispatchEvent(new Event("error"))});return}r.getImage().src=e}function pd(r){return Array.isArray(r)?Math.min(...r):r}class yw extends Ql{constructor(e,t,n,i,o,a,s){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const u=c?Wl(n,c):n,d=Gn(u),h=Xd(e,t,d,i),p=ub,f=new lb(e,t,u,l,h*p,i),y=f.calculateSourceExtent(),m=Yl(y)?null:a(y,h,o),b=m?Et.IDLE:Et.EMPTY,k=m?m.getPixelRatio():1;super(n,i,k,b),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=f,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=m,this.sourcePixelRatio_=k,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Et.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Et.LOADED){const t=Jt(this.targetExtent_)/this.targetResolution_,n=Dn(this.targetExtent_)/this.targetResolution_;this.canvas_=cb(t,n,this.sourcePixelRatio_,pd(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Et.IDLE){this.state=Et.LOADING,this.changed();const e=this.sourceImage_.getState();e==Et.LOADED||e==Et.ERROR?this.reproject_():(this.sourceListenerKey_=st(this.sourceImage_,Ne.CHANGE,t=>{const n=this.sourceImage_.getState();(n==Et.LOADED||n==Et.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){qt(this.sourceListenerKey_),this.sourceListenerKey_=null}}const ai=4,lu={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class vw extends Nr{constructor(e,t){super(e),this.image=t}}class sc extends Yo{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=i0(t,e,0);e=t[n]}return e}getImage(e,t,n,i){const o=this.getProjection();if(!o||!i||$t(o,i))return o&&(i=o),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&$t(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&Vi(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new yw(o,i,e,t,n,(a,s,l)=>this.getImageInternal(a,s,l,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,i){if(this.loader){const o=R0(e,t,n,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&on(this.wantedExtent_,o)||on(this.image.getExtent(),o))&&(this.wantedResolution_&&pd(this.wantedResolution_)===a||pd(this.image.getResolution())===a)))return this.image;this.wantedProjection_=i,this.wantedExtent_=o,this.wantedResolution_=a,this.image=new Ql(o,a,n,this.loader),this.image.addEventListener(Ne.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Et.LOADING:this.loading=!0,n=lu.IMAGELOADSTART;break;case Et.LOADED:this.loading=!1,n=lu.IMAGELOADEND;break;case Et.ERROR:this.loading=!1,n=lu.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new vw(n,t))}}function O0(r,e){r.getImage().src=e}function R0(r,e,t,n){const i=e/t,o=Gn(r),a=ii(Jt(r)/i,ai),s=ii(Dn(r)/i,ai),l=ii((n-1)*a/2,ai),c=a+2*l,u=ii((n-1)*s/2,ai),d=s+2*u;return fl(o,i,0,[c,d])}const Cl="1.3.0",Ug=[101,101];function F0(r,e,t,n,i){i.WIDTH=t[0],i.HEIGHT=t[1];const o=n.getAxisOrientation(),a=tc(i.VERSION,"1.3")>=0;i[a?"CRS":"SRS"]=n.getCode();const s=a&&o.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e;return i.BBOX=s.join(","),za(r,i)}function j0(r,e,t,n,i,o,a){o=Object.assign({REQUEST:"GetMap"},o);const s=e/t,l=[hg(Jt(r)/s,ai),hg(Dn(r)/s,ai)];if(t!=1)switch(a){case"geoserver":const c=90*t+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+c:o.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":o.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":o.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return F0(i,r,l,n,o)}function El(r,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:Cl,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},r)}function kw(r){const e=r.hidpi===void 0?!0:r.hidpi,t=ve(r.projection||"EPSG:3857"),n=r.ratio||1.5,i=r.load||Jl,o=r.crossOrigin??null,a=r.referrerPolicy;return(s,l,c)=>{s=R0(s,l,c,n),c!=1&&(!e||r.serverType===void 0)&&(c=1);const u=j0(s,l,c,t,r.url,El(r.params,"GetMap"),r.serverType),d=new Image;return d.crossOrigin=o,a!==void 0&&(d.referrerPolicy=a),i(d,u).then(h=>({image:h,extent:s,pixelRatio:c}))}}function bw(r,e,t){if(r.url===void 0)return;const n=ve(r.projection||"EPSG:3857"),i=fl(e,t,0,Ug),o={QUERY_LAYERS:r.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,El(r.params,"GetFeatureInfo"),r.params);const a=xo((e[0]-i[0])/t,ai),s=xo((i[3]-e[1])/t,ai),l=tc(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=a,o[l?"J":"Y"]=s,F0(r.url,i,Ug,n,o)}function xw(r,e){if(r.url===void 0)return;const t={SERVICE:"WMS",VERSION:Cl,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e!==void 0){const n=ve(r.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;t.SCALE=e*n/i}if(Object.assign(t,r.params),r.params!==void 0&&t.LAYER===void 0){const n=t.LAYERS;if(!(!Array.isArray(n)||n.length!==1))return;t.LAYER=n}return za(r.url,t)}class Ph extends ac{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=Pa(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,i){const o=ve(n),a=this.getProjection()||o;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(a));const l=On(e,o,a),c=Xd(a,o,e,t),u=s.getZForResolution(c,this.zDirection),d=s.getResolution(u),h=s.getTileCoordForCoordAndZ(l,u);if(s.getResolutions().length<=h[0])return;let p=s.getTileCoordExtent(h,this.tmpExtent_);const f=this.gutter_;f!==0&&(p=ui(p,d*f,p));const y={QUERY_LAYERS:this.params_.LAYERS};Object.assign(y,El(this.params_,"GetFeatureInfo"),i);const m=Math.floor((l[0]-p[0])/d),b=Math.floor((p[3]-l[1])/d);return y[this.v13_?"I":"X"]=m,y[this.v13_?"J":"Y"]=b,this.getRequestUrl_(h,p,1,a||o,y)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const n={SERVICE:"WMS",VERSION:Cl,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;n.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,o=28e-5;n.SCALE=e*i/o}return Object.assign(n,t),za(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,i,o){const a=this.urls;if(!a)return;let s;if(a.length==1)s=a[0];else{const l=t0(Bm(e),a.length);s=a[l]}return j0(t,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),n,i,s,o,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}setParams_(e){this.params_=e,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(e){this.setParams_(Object.assign({},e))}updateParams(e){this.setParams_(Object.assign(this.params_,e))}updateV13_(){const e=this.params_.VERSION||Cl;this.v13_=tc(e,"1.3")>=0}tileUrlFunction(e,t,n){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),i.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const o=i.getResolution(e[0]);let a=i.getTileCoordExtent(e,this.tmpExtent_);const s=this.gutter_;s!==0&&(a=ui(a,o*s,a));const l=Object.assign({},El(this.params_,"GetMap"));return this.getRequestUrl_(e,a,t,n,l)}}class Nh extends sc{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.referrerPolicy_=e.referrerPolicy,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:O0,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,i){const o=ve(n),a=this.getProjection();a&&a!==o&&(t=Xd(a,o,e,t),e=On(e,o,a));const s={url:this.url_,params:{...this.params_,...i},projection:a||o};return bw(s,e,t)}getLegendUrl(e,t){return xw({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,i){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==i)&&(this.loaderProjection_=i,this.loader=kw({crossOrigin:this.crossOrigin_,referrerPolicy:this.referrerPolicy_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(o,a)=>(this.image.setImage(o),this.imageLoadFunction_(this.image,a),Jl(o))})),super.getImageInternal(e,t,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}setParams(e){this.params_=Object.assign({},e),this.loader=null,this.changed()}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const ww="EPSG:3857";function Dh(){return Math.floor(Math.random()*9999999)}function q0(r,e){const t={...r},n={},i=["STYLES","TIME","CRS"];return Object.keys(e).forEach(o=>{n[o.toUpperCase()]=e[o]}),i.forEach(o=>{e[o]&&(t[o]=e[o])}),t}function z0(r){let e={};return e=Object.assign({CACHEID:Dh(),FORMAT:r.format||"image/png",LAYERS:r.layers,VERSION:r.version,TRANSPARENT:r.transparent,SINGLETILE:r.singleTile,CQL_FILTER:r.cqlFilter},r.singleTile?{}:{WIDTH:r.tilesize,HEIGHT:r.tilesize}),e=q0(e,r),e}function gd({isSecured:r}){return async(e,t)=>{try{const n=await fetch(t,{credentials:r?"include":"omit"}),i=await n.blob();e.getImage().src=URL.createObjectURL(i)}catch(n){console.error(n.message),e.getImage().src=t}}}function $0(r,e,t={}){const n=z0(r),i=r.crs?ve(r.crs):void 0;let o=null,a={};return r.TIME&&r.TIME.toString()==="[object Promise]"&&(n.TIME=new Date().toISOString()),r.singleTile?(a={url:r.url,params:n,serverType:r.serverType,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{imageLoadFunction:gd(r)})),new Nh(a)):(e&&e.resolutions&&(o=new io({resolutions:e.resolutions,origin:e.origin?e.origin:void 0,tileSize:parseInt(r.tilesize,10)})),a={url:r.url,params:n,gutter:r.gutter||0,tileGrid:o,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{tileLoadFunction:gd(r)})),new Ph(a))}function _w(r={},{layerParams:e={},options:t={}}={}){const n=$0(r,t,e),i=r.singleTile?as:no;return n.set("olcs_projection",ve(ww)),new i(Object.assign({source:n,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,id:r.id,extent:r.extent},e))}function Tw(r){const e=r.getSource().getParams().SESSIONID;let t=e;for(;e===t;)t=Dh();return r.getSource().updateParams({SESSIONID:t}),t}function Cw(r,e,t){const n=yi.getLayerWhere({Id:r.get("id")}),i=e.getView().getResolution(),o=e.getView().getProjection(),a=Object.assign({INFO_FORMAT:n&&n.infoFormat||"text/xml"},n&&typeof n.featureCount<"u"?{FEATURE_COUNT:n.featureCount}:{});return r.getSource().getFeatureInfoUrl(t,i,o,a)}const Ew=Object.freeze(Object.defineProperty({__proto__:null,addOptionalParams:q0,createLayer:_w,createLayerSource:$0,defaultLoadFunction:gd,generateSessionId:Dh,getGfiURL:Cw,makeParams:z0,updateSource:Tw},Symbol.toStringTag,{value:"Module"}));class lc extends ac{constructor(e){const t=e.requestEncoding!==void 0?e.requestEncoding:"KVP",n=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=A0(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,referrerPolicy:e.referrerPolicy,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=hd(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join(`
`);this.setTileUrlFunction(hd(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t=="KVP"&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t=="KVP"?za(e,n):e.replace(/\{(\w+?)\}/g,function(a,s){return s.toLowerCase()in n?n[s.toLowerCase()]:a});const i=this.tileGrid,o=this.dimensions_;return(function(a,s,l){if(!a)return;const c={TileMatrix:i.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(c,o);let u=e;return t=="KVP"?u=za(u,c):u=u.replace(/\{(\w+?)\}/g,function(d,h){return encodeURIComponent(c[h])}),u})}}function Mw(r,e){const t=r.Contents.Layer?.find(function(U){return U.Identifier==e.layer});if(!t)return null;const n=r.Contents.TileMatrixSet;let i;t.TileMatrixSetLink.length>1?"projection"in e?i=t.TileMatrixSetLink.findIndex(function(U){const j=n.find(function(q){return q.Identifier==U.TileMatrixSet}).SupportedCRS,te=ve(j),O=ve(e.projection);return te&&O?$t(te,O):j==e.projection}):i=t.TileMatrixSetLink.findIndex(function(U){return U.TileMatrixSet==e.matrixSet}):i=0,i<0&&(i=0);const o=t.TileMatrixSetLink[i].TileMatrixSet,a=t.TileMatrixSetLink[i].TileMatrixSetLimits;let s=t.Format[0];"format"in e&&(s=e.format),i=t.Style.findIndex(function(U){return"style"in e?U.Title==e.style:U.isDefault}),i<0&&(i=0);const l=t.Style[i].Identifier,c={};"Dimension"in t&&t.Dimension.forEach(function(U,j,te){const O=U.Identifier;let q=U.Default;q===void 0&&(q=U.Value[0]),c[O]=q});const u=r.Contents.TileMatrixSet.find(function(U){return U.Identifier==o});let d;const h=u.SupportedCRS;if(h&&(d=ve(h)),"projection"in e){const U=ve(e.projection);U&&(!d||$t(U,d))&&(d=U)}let p=!1;const f=d.getAxisOrientation().startsWith("ne");let y=u.TileMatrix[0],m={MinTileCol:0,MinTileRow:0,MaxTileCol:y.MatrixWidth-1,MaxTileRow:y.MatrixHeight-1};if(a){m=a[a.length-1];const U=u.TileMatrix.find(j=>j.Identifier===m.TileMatrix||u.Identifier+":"+j.Identifier===m.TileMatrix);U&&(y=U)}const b=t.BoundingBox?.find(U=>ve(U.crs)&&$t(ve(U.crs),d)),k=y.ScaleDenominator*28e-5/d.getMetersPerUnit(),C=f?[y.TopLeftCorner[1],y.TopLeftCorner[0]]:y.TopLeftCorner,T=y.TileWidth*k,E=y.TileHeight*k;let R=b?.extent??u.BoundingBox;R&&f&&(R=[R[1],R[0],R[3],R[2]]);let F=[C[0]+T*m.MinTileCol,C[1]-E*(1+m.MaxTileRow),C[0]+T*(1+m.MaxTileCol),C[1]-E*m.MinTileRow];if(R!==void 0&&!on(R,F)){const U=t.WGS84BoundingBox,j=ve("EPSG:4326").getExtent();if(F=R,U)p=U[0]===j[0]&&U[2]===j[2];else{const te=Di(R,u.SupportedCRS,"EPSG:4326");p=te[0]-1e-10<=j[0]&&te[2]+1e-10>=j[2]}}const se=uw(u,F,a),ne=[];let fe=e.requestEncoding;if(fe=fe!==void 0?fe:"","OperationsMetadata"in r&&"GetTile"in r.OperationsMetadata){const U=r.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let j=0,te=U.length;j<te;++j)if(U[j].Constraint){const O=U[j].Constraint.find(function(q){return q.name=="GetEncoding"}).AllowedValues.Value;if(fe===""&&(fe=O[0]),fe==="KVP")O.includes("KVP")&&ne.push(U[j].href);else break}else U[j].href&&(fe="KVP",ne.push(U[j].href))}return ne.length===0&&(fe="REST",t.ResourceURL.forEach(function(U){U.resourceType==="tile"&&(s=U.format,ne.push(U.template))})),{urls:ne,layer:e.layer,matrixSet:o,format:s,projection:d,requestEncoding:fe,tileGrid:se,style:l,dimensions:c,wrapX:p,crossOrigin:e.crossOrigin}}const gr=[null,"http://www.opengis.net/ows/1.1"],Sw=_e(gr,{ServiceIdentification:A(Jw),ServiceProvider:A(t_),OperationsMetadata:A(Qw)});class Lw extends uh{constructor(){super()}readFromNode(e){return ie({},Sw,e,[])||null}}const Iw=_e(gr,{DeliveryPoint:A(ue),City:A(ue),AdministrativeArea:A(ue),PostalCode:A(ue),Country:A(ue),ElectronicMailAddress:A(ue)}),Aw=_e(gr,{Value:We(r_)}),Pw=_e(gr,{AllowedValues:A(Bw)}),Nw=_e(gr,{Phone:A(Xw),Address:A(Gw)}),Dw=_e(gr,{HTTP:A(Ww)}),Ow=_e(gr,{Get:We(Yw),Post:void 0}),Rw=_e(gr,{DCP:A(Zw)}),Fw=_e(gr,{Operation:Kw}),jw=_e(gr,{Voice:A(ue),Facsimile:A(ue)}),qw=_e(gr,{Constraint:We(Vw)}),zw=_e(gr,{IndividualName:A(ue),PositionName:A(ue),ContactInfo:A(Hw)}),$w=_e(gr,{Abstract:A(ue),AccessConstraints:A(ue),Fees:A(ue),Title:A(ue),ServiceTypeVersion:A(ue),ServiceType:A(ue)}),Uw=_e(gr,{ProviderName:A(ue),ProviderSite:A(Zo),ServiceContact:A(e_)});function Gw(r,e){return ie({},Iw,r,e)}function Bw(r,e){return ie({},Aw,r,e)}function Vw(r,e){const t=r.getAttribute("name");if(t)return ie({name:t},Pw,r,e)}function Hw(r,e){return ie({},Nw,r,e)}function Zw(r,e){return ie({},Dw,r,e)}function Yw(r,e){const t=Zo(r);if(t)return ie({href:t},qw,r,e)}function Ww(r,e){return ie({},Ow,r,e)}function Kw(r,e){const t=r.getAttribute("name"),n=ie({},Rw,r,e);if(!n)return;const i=e[e.length-1];i[t]=n}function Qw(r,e){return ie({},Fw,r,e)}function Xw(r,e){return ie({},jw,r,e)}function Jw(r,e){return ie({},$w,r,e)}function e_(r,e){return ie({},zw,r,e)}function t_(r,e){return ie({},Uw,r,e)}function r_(r,e){return ue(r)}const yn=[null,"http://www.opengis.net/wmts/1.0"],Xo=[null,"http://www.opengis.net/ows/1.1"],n_=_e(yn,{Contents:A(g_)});class i_ extends uh{constructor(){super(),this.owsParser_=new Lw}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let n=this.owsParser_.readFromNode(e);return n?(n.version=t,n=ie(n,n_,e,[]),n||null):null}}const o_=_e(yn,{Layer:We(f_),TileMatrixSet:We(m_)}),a_=_e(yn,{Style:We(y_),Format:We(ue),TileMatrixSetLink:We(v_),Dimension:We(k_),ResourceURL:We(b_)},_e(Xo,{Title:A(ue),Abstract:A(ue),WGS84BoundingBox:A(G0),BoundingBox:We(x_),Identifier:A(ue)})),s_=_e(yn,{LegendURL:We(w_)},_e(Xo,{Title:A(ue),Identifier:A(ue)})),l_=_e(yn,{TileMatrixSet:A(ue),TileMatrixSetLimits:A(T_)}),c_=_e(yn,{TileMatrixLimits:we(C_)}),u_=_e(yn,{TileMatrix:A(ue),MinTileRow:A(Ut),MaxTileRow:A(Ut),MinTileCol:A(Ut),MaxTileCol:A(Ut)}),d_=_e(yn,{Default:A(ue),Value:We(ue)},_e(Xo,{Identifier:A(ue)})),U0=_e(Xo,{LowerCorner:we(fd),UpperCorner:we(fd)}),h_=_e(yn,{WellKnownScaleSet:A(ue),TileMatrix:We(__)},_e(Xo,{SupportedCRS:A(ue),Identifier:A(ue),BoundingBox:A(G0)})),p_=_e(yn,{TopLeftCorner:A(fd),ScaleDenominator:A(Ii),TileWidth:A(Ut),TileHeight:A(Ut),MatrixWidth:A(Ut),MatrixHeight:A(Ut)},_e(Xo,{Identifier:A(ue)}));function g_(r,e){return ie({},o_,r,e)}function f_(r,e){return ie({},a_,r,e)}function m_(r,e){return ie({},h_,r,e)}function y_(r,e){const t=ie({},s_,r,e);if(!t)return;const n=r.getAttribute("isDefault")==="true";return t.isDefault=n,t}function v_(r,e){return ie({},l_,r,e)}function k_(r,e){return ie({},d_,r,e)}function b_(r,e){const t=r.getAttribute("format"),n=r.getAttribute("template"),i=r.getAttribute("resourceType"),o={};return t&&(o.format=t),n&&(o.template=n),i&&(o.resourceType=i),o}function G0(r,e){const t=ie([],U0,r,e);if(t.length==2)return Kt(t)}function x_(r,e){const t=r.getAttribute("crs"),n=ie([],U0,r,e);if(n.length==2)return{extent:Kt(n),crs:t}}function w_(r,e){const t={};return t.format=r.getAttribute("format"),t.href=Zo(r),t}function fd(r,e){const t=ue(r).split(/\s+/);if(!t||t.length!=2)return;const n=+t[0],i=+t[1];if(!(isNaN(n)||isNaN(i)))return[n,i]}function __(r,e){return ie({},p_,r,e)}function T_(r,e){return ie([],c_,r,e)}function C_(r,e){return ie({},u_,r,e)}function Ml(r,e){console.error("content: Layer "+e+": "+r)}function B0(r,e,t,n){for(let i=0;i<t;++i)r[i]=n/Math.pow(2,i),e[i]=i}function V0(r){return fetch(r).then(e=>{if(e&&e.status===200)return e.text();throw console.error(e),new Error(`Failing WMTS request to ${r}. Status: ${e?.status}`)}).then(e=>new i_().read(e))}function H0(r,e){const t=ve(r.coordinateSystem),n=t.getExtent(),i=r.style,o=r.format,a=r.wrapX?r.wrapX:!1,s=r.urls,l=n?Jt(n)/parseInt(r.tileSize,10):null,c=parseInt(r.resLength,10),u=new Array(c),d=new Array(c),h=new lc({projection:t,attributions:r.olAttribution,tileGrid:new P0({origin:r.origin,resolutions:u,matrixIds:d,tileSize:r.tileSize}),tilePixelRatio:ih,urls:s,matrixSet:r.tileMatrixSet,matrixSizes:r.matrixSizes,layer:r.layers,format:o,style:i,version:r.version,transparent:r.transparent.toString(),wrapX:a,requestEncoding:r.requestEncoding,scales:r.scales});l?B0(u,d,c,l):Ml(r.name,`${t.getCode()} has been given as projection to wmts.js for layer with id ${r.id}, but only "EPSG:4326" and "EPSG:3857" are supported. Please use the "capabilitiesUrl" and "optionsFromCapabilities" configuration parameters on this layer.`),h.matrixSizes=r.matrixSizes,h.scales=r.scales,e.setSource(h),e.getSource().refresh()}function Z0(r,e){const t=r.layers,n=r.capabilitiesUrl,i=r.tileMatrixSet,o=r.format,a={layer:t,format:o};i&&i.length>0?a.matrixSet=i:a.projection="EPSG:3857",V0(n).then(s=>{const l=Mw(s,a),c=s.Contents.TileMatrixSet.filter(h=>h.Identifier===l.matrixSet)[0],u=[],d=[];if(c.TileMatrix.forEach(({MatrixHeight:h,MatrixWidth:p,ScaleDenominator:f})=>{u.push([p,h]),d.push(f)}),l!==null){const h=new lc(l);h.matrixSizes=u,h.scales=d,e.set("options",l),e.setSource(h),e.getSource().refresh()}else{const h="Cannot get options from WMTS-Capabilities";throw Ml(h,r.name||r.id),new Error(h)}}).catch(s=>{s!=="Fetch error"&&Ml(s,r.name||r.id)})}function E_(r,e={}){const t=new no(Object.assign({id:r.id,source:new lc({}),name:r.name,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,supported:["2D","3D"],showSettings:!0,extent:null,typ:r.typ,legendURL:r.legendURL,infoFormat:r.infoFormat},e));return!r.optionsFromCapabilities||!r.capabilitiesUrl?H0(r,t):Z0(r,t),t}const M_={createLayer:E_,createLayerSourceByCapabilities:Z0,createLayerSourceByDefinitions:H0,getWMTSCapabilities:V0,generateArrays:B0,showErrorMessage:Ml},md=65536*65536,Gg=1/md,S_=12,Bg=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),cu=0,Ns=1,da=2,Ds=5;class L_{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const i=this.readVarint(),o=i>>3,a=this.pos;this.type=i&7,e(o,t,this),this.pos===a&&this.skip(i)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*md;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*md;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,i;return i=t[this.pos++],n=i&127,i<128||(i=t[this.pos++],n|=(i&127)<<7,i<128)||(i=t[this.pos++],n|=(i&127)<<14,i<128)||(i=t[this.pos++],n|=(i&127)<<21,i<128)?n:(i=t[this.pos],n|=(i&15)<<28,I_(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=S_&&Bg?Bg.decode(this.buf.subarray(t,e)):B_(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===da?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===cu)for(;this.buf[this.pos++]>127;);else if(t===da)this.pos=this.readVarint()+this.pos;else if(t===Ds)this.pos+=4;else if(t===Ns)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gg),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Gg),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){P_(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=V_(this.buf,e,this.pos);const n=this.pos-t;n>=128&&Vg(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const i=this.pos-n;i>=128&&Vg(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i}writeMessage(e,t,n){this.writeTag(e,da),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,O_,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,R_,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,q_,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,F_,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,j_,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,z_,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,$_,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,U_,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,G_,t)}writeBytesField(e,t){this.writeTag(e,da),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,Ds),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,Ds),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,Ns),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,Ns),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,cu),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,cu),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,da),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,Ds),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,Ns),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function I_(r,e,t){const n=t.buf;let i,o;if(o=n[t.pos++],i=(o&112)>>4,o<128||(o=n[t.pos++],i|=(o&127)<<3,o<128)||(o=n[t.pos++],i|=(o&127)<<10,o<128)||(o=n[t.pos++],i|=(o&127)<<17,o<128)||(o=n[t.pos++],i|=(o&127)<<24,o<128)||(o=n[t.pos++],i|=(o&1)<<31,o<128))return A_(r,i,e);throw new Error("Expected varint not more than 10 bytes")}function A_(r,e,t){return t?e*4294967296+(r>>>0):(e>>>0)*4294967296+(r>>>0)}function P_(r,e){let t,n;if(r>=0?(t=r%4294967296|0,n=r/4294967296|0):(t=~(-r%4294967296),n=~(-r/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),N_(t,n,e),D_(n,e)}function N_(r,e,t){t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos]=r&127}function D_(r,e){const t=(r&7)<<4;e.buf[e.pos++]|=t|((r>>>=3)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127)))))}function Vg(r,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let i=t.pos-1;i>=r;i--)t.buf[i+n]=t.buf[i]}function O_(r,e){for(let t=0;t<r.length;t++)e.writeVarint(r[t])}function R_(r,e){for(let t=0;t<r.length;t++)e.writeSVarint(r[t])}function F_(r,e){for(let t=0;t<r.length;t++)e.writeFloat(r[t])}function j_(r,e){for(let t=0;t<r.length;t++)e.writeDouble(r[t])}function q_(r,e){for(let t=0;t<r.length;t++)e.writeBoolean(r[t])}function z_(r,e){for(let t=0;t<r.length;t++)e.writeFixed32(r[t])}function $_(r,e){for(let t=0;t<r.length;t++)e.writeSFixed32(r[t])}function U_(r,e){for(let t=0;t<r.length;t++)e.writeFixed64(r[t])}function G_(r,e){for(let t=0;t<r.length;t++)e.writeSFixed64(r[t])}function B_(r,e,t){let n="",i=e;for(;i<t;){const o=r[i];let a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>t)break;let l,c,u;s===1?o<128&&(a=o):s===2?(l=r[i+1],(l&192)===128&&(a=(o&31)<<6|l&63,a<=127&&(a=null))):s===3?(l=r[i+1],c=r[i+2],(l&192)===128&&(c&192)===128&&(a=(o&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(l=r[i+1],c=r[i+2],u=r[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(a=(o&15)<<18|(l&63)<<12|(c&63)<<6|u&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),i+=s}return n}function V_(r,e,t){for(let n=0,i,o;n<e.length;n++){if(i=e.charCodeAt(n),i>55295&&i<57344)if(o)if(i<56320){r[t++]=239,r[t++]=191,r[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||n+1===e.length?(r[t++]=239,r[t++]=191,r[t++]=189):o=i;continue}else o&&(r[t++]=239,r[t++]=191,r[t++]=189,o=null);i<128?r[t++]=i:(i<2048?r[t++]=i>>6|192:(i<65536?r[t++]=i>>12|224:(r[t++]=i>>18|240,r[t++]=i>>12&63|128),r[t++]=i>>6&63|128),r[t++]=i&63|128)}return t}class Oh extends hh{constructor(e){super(),e=e||{},this.dataProjection=new Dm({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:hr,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,i){e.pos=t.geometry;const o=e.readVarint()+e.pos;let a=1,s=0,l=0,c=0,u=0,d=0;for(;e.pos<o;){if(!s){const h=e.readVarint();a=h&7,s=h>>3}if(s--,a===1||a===2)l+=e.readSVarint(),c+=e.readSVarint(),a===1&&u>d&&(i.push(u),d=u),n.push(l,c),u+=2;else if(a===7)u>d&&(n.push(n[d],n[d+1]),u+=2);else throw new Error("Invalid command found in the PBF")}u>d&&(i.push(u),d=u)}createFeature_(e,t,n){const i=t.type;if(i===0)return null;let o;const a=t.properties;let s;this.idProperty_?(s=a[this.idProperty_],delete a[this.idProperty_]):s=t.id,a[this.layerName_]=t.layer.name;const l=[],c=[];this.readRawGeometry_(e,t,l,c);const u=K_(i,c.length);if(this.featureClass===hr)o=new this.featureClass(u,l,c,2,a,s),o.transform(n.dataProjection);else{let d;if(u=="Polygon"){const f=ab(l,c);d=f.length>1?new to(l,"XY",f):new Vr(l,"XY",c)}else d=u==="Point"?new Vt(l,"XY"):u==="LineString"?new Gr(l,"XY"):u==="MultiPoint"?new Wo(l,"XY"):u==="MultiLineString"?new eo(l,"XY",c):null;const h=this.featureClass;o=new h,this.geometryName_&&o.setGeometryName(this.geometryName_);const p=ro(d,!1,n);o.setGeometry(p),s!==void 0&&o.setId(s),o.setProperties(a,!0)}return o}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_;t=this.adaptOptions(t);const i=ve(t.dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;const o=new L_(e),a=o.readFields(H_,{}),s=[];for(const l in a){if(n&&!n.includes(l))continue;const c=a[l],u=c?[0,0,c.extent,c.extent]:null;i.setExtent(u);for(let d=0,h=c.length;d<h;++d){const p=W_(o,c,d),f=this.createFeature_(o,p,t);f!==null&&s.push(f)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function H_(r,e,t){if(r===3){const n={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(Z_,n,i),n.length=n.features.length,n.length&&(e[n.name]=n)}}function Z_(r,e,t){if(r===15)e.version=t.readVarint();else if(r===1)e.name=t.readString();else if(r===5)e.extent=t.readVarint();else if(r===2)e.features.push(t.pos);else if(r===3)e.keys.push(t.readString());else if(r===4){let n=null;const i=t.readVarint()+t.pos;for(;t.pos<i;)r=t.readVarint()>>3,n=r===1?t.readString():r===2?t.readFloat():r===3?t.readDouble():r===4?t.readVarint64():r===5?t.readVarint():r===6?t.readSVarint():r===7?t.readBoolean():null;e.values.push(n)}}function Y_(r,e,t){if(r==1)e.id=t.readVarint();else if(r==2){const n=t.readVarint()+t.pos;for(;t.pos<n;){const i=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[i]=o}}else r==3?e.type=t.readVarint():r==4&&(e.geometry=t.pos)}function W_(r,e,t){r.pos=e.features[t];const n=r.readVarint()+r.pos,i={layer:e,type:0,properties:{}};return r.readFields(Y_,i,n),i}function K_(r,e){let t;return r===1?t=e===1?"Point":"MultiPoint":r===2?t=e===1?"LineString":"MultiLineString":r===3&&(t="Polygon"),t}function Rh(r,e,t){let n,i,o;return typeof r=="string"?i=r:typeof r=="function"?n=r:typeof r=="object"&&(o=t.readFeatures(r,{dataProjection:"EPSG:4326",featureProjection:"EPSG:25832"})),new cr({loader:n,features:o,url:i,strategy:e,format:t})}function Fh(r,e,t){return new os({source:r,distance:e,geometryFunction:t})}function Q_(r,e){const t=["1.0.0","1.1.0","2.0.0"];let n=e.version||r.version;return t.includes(n)||(n=t[1],console.warn(`The "${r.typ}" layer with the id: "${r.id}" is configured in version: ${n}. OpenLayers accepts "${r.typ}" only in the versions: ${t}, It tries to load the layer with the id: "${r.id}" in version ${t[1]}!`)),n}function Mo(r,e={},t){throw e.onLoadingError&&e.onLoadingError(r),t(r),Error(r)}function cc(r,e,t,n,i,o={}){let a=e;try{o.featuresFilter&&(a=o.featuresFilter(e)),r.addFeatures(a),o.afterLoading&&o.afterLoading(a),n(a)}catch(s){console.error(s),t(s,o,i)}}function Y0(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.status}`,t,n)}function X_(r){return{method:"POST",headers:{"Content-Type":"text/xml"},body:r}}function W0(r,e,t,{onErrorFn:n,success:i,failure:o},a){const s=a?.loadingParams?.xhrParameters??{},l={...e,...s};fetch(r,l).then(c=>Y0(c,n,a,o)).then(c=>c.text()).then(c=>t.getFormat().readFeatures(c)).then(c=>cc(t,c,n,i,o,a)).catch(c=>{console.error(c)})}function J_(r,e,t,{onErrorFn:n,success:i,failure:o},a){fetch(r).then(s=>Y0(s,n,a,o)).then(s=>s.text()).then(s=>W0(e,X_(s),t,{onErrorFn:n,success:i,failure:o},a)).catch(s=>{console.error(s)})}function K0(r,e,t,n){const i=new URL(r.url);return i.searchParams.set("service","WFS"),i.searchParams.set("version",e),i.searchParams.set("request","GetFeature"),i.searchParams.set("srsName",t.getCode()),e==="1.0.0"||e==="1.1.0"?i.searchParams.set("typeName",r.featureType):e==="2.0.0"&&i.searchParams.set("typeNames",r.featureType),`${i.toString()}${n}`}function yd(r,e={}){e.loadingStrategy||(e.loadingStrategy=Eo);const t=Q_(r,e),n=new bh({featureNS:r.featureNS,version:t});let i=null;function o(a,s,l,c,u){if(e.doNotLoadInitially)cc(i,[],Mo,c,u,e);else if(e.wfsFilter)J_(e.wfsFilter,r.url,i,{onErrorFn:Mo,success:c,failure:u},e);else{const d=e.loadingStrategy===Eo?`&bbox=${a.join(",")},${l.getCode()}`:"";let h=K0(r,t,l,d);if(e.loadingParams)for(const p in e.loadingParams){if(p==="xhrParameters")continue;const f=Array.isArray(e.loadingParams[p])?e.loadingParams[p].join(","):e.loadingParams[p];f!==void 0&&p==="bbox"?h+=`&${p}=${f},${l.getCode()}`:f!==void 0&&(h+=`&${p}=${f}`)}W0(h,{},i,{onErrorFn:Mo,success:c,failure:u},e)}}return n.featureType=r.featureType,i=Rh(o,e.loadingStrategy,n),e.beforeLoading&&i.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?Fh(i,r.clusterDistance,e.clusterGeometryFunction):(r.renderer==="webgl"&&(e.loadingStrategy===Eo?i.on("featuresloadend",a=>{Oo(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}):i.once("featuresloadend",a=>{Oo(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)})),i)}function e5(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=yd({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Kl({...r,...e,source:i}),n):(i=yd(r,t),n=new ur(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function t5(r,e){if(r==="2.0.0"){const t=new DOMParser,n=t.parseFromString(e,"application/xml");return n.querySelectorAll("Filter").forEach(i=>{const o=n.createElementNS("http://www.opengis.net/fes/2.0","fes:Filter");for(;i.firstChild;){const a=i.firstChild;if(a.nodeType===1&&a.localName==="FeatureId"){const s=a.getAttribute("fid"),l=n.createElementNS("http://www.opengis.net/fes/2.0","fes:ResourceId");l.setAttribute("rid",s),o.appendChild(l),i.removeChild(a)}else o.appendChild(a)}i.parentNode.replaceChild(o,i)}),new XMLSerializer().serializeToString(n)}return e}function Q0(r,e,t,n="1.1.0"){const i={insert:0,selectedUpdate:1,delete:2},o=[[],[],[]];if(t!=="insert"&&t!=="delete"&&t!=="selectedUpdate")throw new Error('transactionMethod has to be "insert", "selectedUpdate" or "delete".');return o[i[t]].push(r),t5(n,new XMLSerializer().serializeToString(new bh({version:n}).writeTransaction(...o,e)))}function r5(r){const e={code:null,message:"genericFailedTransaction"},t=r.getElementsByTagName(`${r.getElementsByTagName("Exception").length===0?"ows:":""}Exception`)[0],n=t.getElementsByTagName(`${r.getElementsByTagName("ExceptionText").length===0?"ows:":""}ExceptionText`)[0];return n!==void 0?(e.message=n.textContent,console.error("WfsTransaction: An error occurred when sending the transaction to the service.",n.textContent)):(e.message="WfsTransaction: An unkown error occurred when sending the transaction to the service.",console.error(e.message)),(t?.attributes.getNamedItem("code")||t?.attributes.getNamedItem("exceptionCode"))&&(e.code=t.attributes.getNamedItem(`${t?.attributes.getNamedItem("code")?"c":"exceptionC"}ode`).textContent),e}async function n5(r,e,t,n,i){let o,a,s=null,l=null,c=null;const u=new URL(t),{featureNS:d,featurePrefix:h,featureType:p,version:f}=n;try{if(a=await fetch(u,{method:"POST",headers:{"Content-Type":"text/xml"},credentials:n.isSecured?"include":"omit",body:Q0(e,{featureNS:d,featurePrefix:h,featureType:p,version:f,srsName:r},i,f),responseType:"text"}),c=await a.text(),s=new DOMParser().parseFromString(c,"text/xml"),l=s.getElementsByTagName("wfs:TransactionSummary"),l.length===0&&(l=s.getElementsByTagName("TransactionSummary")),l.length===0)throw o=r5(s),new Error(o.code?o.code+": "+o.message:o.message)}catch(y){throw console.error(y),y}return e}function X0(r,e){const t=new DOMParser().parseFromString(r,"application/xml");let n="",i=null;if(t.getElementsByTagName("xsd:element").length>0?n="xsd:":t.getElementsByTagName("xs:element").length>0&&(n="xs"),i=Object.values(t.getElementsByTagName(n+"element")).find(o=>o.getAttribute("name")===e),i){let o;i.hasChildNodes()?o=Object.values(i.getElementsByTagName(n+"sequence")):o=Object.values(t.getElementsByTagName(n+"sequence"));const a=[];return o.forEach(s=>{a.push(...Object.values(s.getElementsByTagName(n+"element")))}),a.map(s=>Object.values(s.attributes).reduce((l,c)=>{if(c.localName==="minOccurs")l.required=c.value==="1";else if(c.localName==="type")if(c.value.trim().startsWith("gml"))l.type="geometry";else{let u=c.value;switch(n.length>0&&(u=u.replace(n,"")),u){case"long":l.type="integer";break;default:l.type=u}}else c.localName==="name"&&(l.label=l.key=c.value);return l},{label:"",key:"",value:null,type:"string",required:!0}))}return[]}function J0(r,e,t){const n=new URL(decodeURI(r));return n.searchParams.set("SERVICE","WFS"),n.searchParams.set("REQUEST","DescribeFeatureType"),n.searchParams.set("TYPENAME",t),!n.searchParams.has("VERSION")&&!n.searchParams.has("version")&&n.searchParams.set("VERSION",e),n}async function i5(r,e,t,n){const i=J0(r,e,t);let o=null;try{return o=await fetch(i,{responseType:"text/xml",credentials:n?"include":"omit"}),X0(await o.text(),t)}catch(a){throw console.error(a),a}}function o5(r,e){const t=K0(r,r.version,{getCode:()=>r.crs},"");fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const a5={createLayerSource:yd,createLayer:e5,createReceivePossiblePropertiesUrl:J0,sendTransaction:n5,receivePossibleProperties:i5,parseDescribeFeatureTypeResponse:X0,writeTransactionBody:Q0,loadFeaturesManually:o5};function vd({url:r,features:e,clusterDistance:t,renderer:n,styleId:i,excludeTypesFromParsing:o,isPointLayer:a},s){const l=new qa;let c=null;return c=Rh(r||e,s.loadingStrategy,l),typeof t=="number"&&(c=Fh(c,t,s.clusterGeometryFunction)),(typeof t=="number"?c.getSource():c).once("featuresloadend",u=>{typeof s.afterLoading=="function"&&s.afterLoading(u?.features)}),n==="webgl"&&(e?.length>0&&Oo(c.getFeatures(),i,o,a),c.once("featuresloadend",u=>{Oo(u?.features,i,o,a)})),c}function s5(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=vd({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Kl({...r,...e,source:i}),n):(i=vd(r,t),n=new ur(Object.assign({id:r.id,source:i},e)),t.style?n.setStyle(t.style):r.style?n.setStyle(r.style):n.setStyle(Fb),n)}function l5(r){r.getSource().refresh(),r.get("renderer")==="webgl"&&r.getSource().once("featuresloadend",e=>{Oo(e?.features,r.get("styleId"),r.get("excludeTypesFromParsing"),r.get("isPointLayer"))})}function uc(r,e){r.forEach(t=>t.setStyle(e))}function e1(r){uc(r.getSource().getFeatures(),()=>null)}function c5(r){uc(r.getSource().getFeatures(),void 0)}function u5(r,e){const t=r.getSource().getFeatures().filter(n=>e.indexOf(n.getId())>=0);e1(r),uc(t,void 0)}function d5(r,e){const t=r.url;fetch(t,e).then(n=>n.text()).then(n=>{const i=e.getFormat().readFeatures(n);e.addFeatures(i),e.dispatchEvent({type:"featuresloadend",features:e.getFeatures()})}).catch(n=>{console.error(n)})}const h5=Object.freeze(Object.defineProperty({__proto__:null,createLayer:s5,createLayerSource:vd,hideAllFeatures:e1,loadFeaturesManually:d5,setCustomStyles:Ob,setFeatureStyle:uc,showAllFeatures:c5,showFeaturesById:u5,updateSource:l5},Symbol.toStringTag,{value:"Module"}));class dc extends oc{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||ss(t),i=e.tileGrid||Ih({extent:n,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:t1,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:Lb,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===at.IDLE){n.setState(at.LOADING);const i=n.wrappedTileCoord,o=this.getTileGridForProjection(t);let a=o.getTileCoordExtent(i);const s=i[0],l=o.getResolution(s);ui(a,-l,a);const c=this.projection;t&&this.projection&&!$t(t,c)&&(a=Di(a,t,c));const u=this.tileGrid,d=u.getExtent();d&&Wl(a,d,a);let h=l;t&&c&&!$t(t,c)&&(h=l/c.getMetersPerUnit()/t.getMetersPerUnit());const p=u.getZForResolution(h,this.zDirection);u.forEachTileCoord(a,p,f=>{const y=this.tileUrlFunction(f,e,t);this.sourceTiles_[y]||(this.sourceTiles_[y]=new this.tileClass(f,y?at.IDLE:at.EMPTY,y,this.format_,this.tileLoadFunction));const m=this.sourceTiles_[y];n.sourceTiles.push(m),this.tileKeysBySourceTileUrl_[y]||(this.tileKeysBySourceTileUrl_[y]=[]),this.tileKeysBySourceTileUrl_[y].push(n.getKey());const b=m.getState();if(b<at.LOADED){const k=C=>{this.handleTileChange(C);const T=m.getState();if(T===at.LOADED||T===at.ERROR){const E=m.getKey();E in n.errorTileKeys?m.getState()===at.LOADED&&delete n.errorTileKeys[E]:n.loadingSourceTiles--,T===at.ERROR?n.errorTileKeys[E]=!0:m.removeEventListener(Ne.CHANGE,k),n.loadingSourceTiles===0&&n.setState(Fa(n.errorTileKeys)?at.LOADED:at.ERROR)}};m.addEventListener(Ne.CHANGE,k),n.loadingSourceTiles++}b===at.IDLE&&(m.extent=u.getTileCoordExtent(f),m.projection=this.projection,m.resolution=u.getResolution(f[0]),m.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(f=>f.getState()===at.ERROR)?at.ERROR:at.LOADED)}return n.sourceTiles}removeSourceTiles(e){const t=e.getKey(),n=e.sourceTiles;for(let i=0,o=n.length;i<o;++i){const a=n[i].getTileUrl();if(!this.tileKeysBySourceTileUrl_[a])return;const s=this.tileKeysBySourceTileUrl_[a].indexOf(t);s!==-1&&(this.tileKeysBySourceTileUrl_[a].splice(s,1),this.tileKeysBySourceTileUrl_[a].length===0&&(delete this.tileKeysBySourceTileUrl_[a],delete this.sourceTiles_[a]))}}getTile(e,t,n,i,o){const a=[e,t,n];let s=this.getTileCoordForTileUrlFunction(a,o);const l=this.getTileGrid().getExtent(),c=this.projection,u=this.getTileGridForProjection(o);if(s&&l){const p=u.getTileCoordExtent(s);ui(p,-u.getResolution(e),p),zo(l,!o||!c||$t(o,c)?p:Di(p,o,c))||(s=null)}let d=!0;if(s!==null){const p=this.tileGrid,f=u.getResolution(e);let y=f;o&&c&&!$t(o,c)&&(y=f/c.getMetersPerUnit()/o.getMetersPerUnit());const m=p.getZForResolution(y,1),b=u.getTileCoordExtent(s);ui(b,-f,b),p.forEachTileCoord(!o||!c||$t(o,c)?b:Di(b,o,c),m,k=>{d=d&&!this.tileUrlFunction(k,i,c)})}const h=new Zx(a,d?at.EMPTY:at.IDLE,s,this.getSourceTiles.bind(this,i,o),this.removeSourceTiles.bind(this));return h.key=this.getKey(),h}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const i=this.projection;if(i!==null&&!$t(i,e))return ic(e);const o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(u,d){return o.getOrigin(d)}),l=a.map(function(u,d){return o.getTileSize(d)}),c=jm+1;for(let u=a.length;u<c;++u)a.push(a[u-1]/2),s.push(s[u-1]),l.push(l[u-1]);n=new io({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:l}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=oi(i.getTileSize(e),this.tmpSize);return[Math.round(o[0]*t),Math.round(o[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function t1(r,e){r.setLoader(function(t,n,i){u0(e,r.getFormat(),t,n,i,r.onLoad.bind(r),r.onError.bind(r))})}var p5=8,g5={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},f5={"*":{type:"source"}},m5=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],y5={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},v5={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},k5={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},b5={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},x5={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},w5={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},_5={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},T5=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],C5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},E5={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},M5={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},S5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},L5={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},I5={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},A5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},P5={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},N5={type:"array",value:"*"},D5={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},O5={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},R5={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},F5={type:"array",value:"*",minimum:1},j5={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},q5={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},z5={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},$5={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},U5=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],G5={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},B5={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},V5={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},H5={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Z5={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Y5={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},W5={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},K5={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Q5={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},X5={"*":{type:"string"}},J5={$version:p5,$root:g5,sources:f5,source:m5,source_vector:y5,source_raster:v5,source_raster_dem:k5,source_geojson:b5,source_video:x5,source_image:w5,layer:_5,layout:T5,layout_background:C5,layout_fill:E5,layout_circle:M5,layout_heatmap:S5,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:L5,layout_symbol:I5,layout_raster:A5,layout_hillshade:P5,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:N5,filter_operator:D5,geometry_type:O5,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:R5,expression:F5,light:j5,sky:q5,terrain:z5,projection:$5,paint:U5,paint_fill:G5,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:B5,paint_circle:V5,paint_heatmap:H5,paint_symbol:Z5,paint_raster:Y5,paint_hillshade:W5,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:K5,transition:Q5,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:X5};const e3=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function t3(r,e){const t={};for(const n in r)n!=="ref"&&(t[n]=r[n]);return e3.forEach(n=>{n in e&&(t[n]=e[n])}),t}function r1(r){r=r.slice();const e=Object.create(null);for(let t=0;t<r.length;t++)e[r[t].id]=r[t];for(let t=0;t<r.length;t++)"ref"in r[t]&&(r[t]=t3(r[t],e[r[t].ref]));return r}let rn=class extends Error{constructor(e,t){super(t),this.message=t,this.key=e}};class jh{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new jh(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const hc={kind:"null"},Q={kind:"number"},Oe={kind:"string"},Ae={kind:"boolean"},un={kind:"color"},pc={kind:"projectionDefinition"},Fi={kind:"object"},Ie={kind:"value"},r3={kind:"error"},gc={kind:"collator"},fc={kind:"formatted"},mc={kind:"padding"},$a={kind:"colorArray"},yc={kind:"numberArray"},ls={kind:"resolvedImage"},vc={kind:"variableAnchorOffsetCollection"};function vr(r,e){return{kind:"array",itemType:r,N:e}}function ht(r){if(r.kind==="array"){const e=ht(r.itemType);return typeof r.N=="number"?`array<${e}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${e}>`}else return r.kind}const n3=[hc,Q,Oe,Ae,un,pc,fc,Fi,vr(Ie),mc,yc,$a,ls,vc];function Ua(r,e){if(e.kind==="error")return null;if(r.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Ua(r.itemType,e.itemType))&&(typeof r.N!="number"||r.N===e.N))return null}else{if(r.kind===e.kind)return null;if(r.kind==="value"){for(const t of n3)if(!Ua(t,e))return null}}return`Expected ${ht(r)} but found ${ht(e)} instead.`}function qh(r,e){return e.some(t=>t.kind===r.kind)}function ji(r,e){return e.some(t=>t==="null"?r===null:t==="array"?Array.isArray(r):t==="object"?r&&!Array.isArray(r)&&typeof r=="object":t===typeof r)}function Kn(r,e){return r.kind==="array"&&e.kind==="array"?r.itemType.kind===e.itemType.kind&&typeof r.N=="number":r.kind===e.kind}const n1=.96422,i1=1,o1=.82521,a1=4/29,So=6/29,s1=3*So*So,i3=So*So*So,o3=Math.PI/180,a3=180/Math.PI;function l1(r){return r=r%360,r<0&&(r+=360),r}function c1([r,e,t,n]){r=uu(r),e=uu(e),t=uu(t);let i,o;const a=du((.2225045*r+.7168786*e+.0606169*t)/i1);r===e&&e===t?i=o=a:(i=du((.4360747*r+.3850649*e+.1430804*t)/n1),o=du((.0139322*r+.0971045*e+.7141733*t)/o1));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),n]}function uu(r){return r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function du(r){return r>i3?Math.pow(r,1/3):r/s1+a1}function u1([r,e,t,n]){let i=(r+16)/116,o=isNaN(e)?i:i+e/500,a=isNaN(t)?i:i-t/200;return i=i1*pu(i),o=n1*pu(o),a=o1*pu(a),[hu(3.1338561*o-1.6168667*i-.4906146*a),hu(-.9787684*o+1.9161415*i+.033454*a),hu(.0719453*o-.2289914*i+1.4052427*a),n]}function hu(r){return r=r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055,r<0?0:r>1?1:r}function pu(r){return r>So?r*r*r:s1*(r-a1)}function s3(r){const[e,t,n,i]=c1(r),o=Math.sqrt(t*t+n*n);return[Math.round(o*1e4)?l1(Math.atan2(n,t)*a3):NaN,o,e,i]}function l3([r,e,t,n]){return r=isNaN(r)?0:r*o3,u1([t,Math.cos(r)*e,Math.sin(r)*e,n])}function c3([r,e,t,n]){r=l1(r),e/=100,t/=100;function i(o){const a=(o+r/30)%12,s=e*Math.min(t,1-t);return t-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),n]}const u3=Object.hasOwn||function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};function d1(r,e){return u3(r,e)?r[e]:void 0}function d3(r){if(r=r.toLowerCase().trim(),r==="transparent")return[0,0,0,0];const e=d1(h3,r);if(e){const[i,o,a]=e;return[i/255,o/255,a/255,1]}if(r.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(r)){const i=r.length<6?1:2;let o=1;return[Os(r.slice(o,o+=i)),Os(r.slice(o,o+=i)),Os(r.slice(o,o+=i)),Os(r.slice(o,o+i)||"ff")]}if(r.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=r.match(i);if(o){const[a,s,l,c,u,d,h,p,f,y,m,b]=o,k=[c||" ",h||" ",y].join("");if(k==="  "||k==="  /"||k===",,"||k===",,,"){const C=[l,d,f].join(""),T=C==="%%%"?100:C===""?255:0;if(T){const E=[fo(+s/T,0,1),fo(+u/T,0,1),fo(+p/T,0,1),m?Hg(+m,b):1];if(Zg(E))return E}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,n=r.match(t);if(n){const[i,o,a,s,l,c,u,d,h]=n,p=[a||" ",l||" ",u].join("");if(p==="  "||p==="  /"||p===",,"||p===",,,"){const f=[+o,fo(+s,0,100),fo(+c,0,100),d?Hg(+d,h):1];if(Zg(f))return c3(f)}}}function Os(r){return parseInt(r.padEnd(2,r),16)/255}function Hg(r,e){return fo(e?r/100:r,0,1)}function fo(r,e,t){return Math.min(Math.max(e,r),t)}function Zg(r){return!r.some(Number.isNaN)}const h3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function qi(r,e,t){return r+t*(e-r)}function Ga(r,e,t){return r.map((n,i)=>qi(n,e[i],t))}let pt=class mo{constructor(e,t,n,i=1,o=!0){this.r=e,this.g=t,this.b=n,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof mo)return e;if(typeof e!="string")return;const t=d3(e);if(t)return new mo(...t,!1)}get rgb(){const{r:e,g:t,b:n,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[e/o,t/o,n/o,i])}get hcl(){return this.overwriteGetter("hcl",s3(this.rgb))}get lab(){return this.overwriteGetter("lab",c1(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return`rgba(${[e,t,n].map(o=>Math.round(o*255)).join(",")},${i})`}static interpolate(e,t,n,i="rgb"){switch(i){case"rgb":{const[o,a,s,l]=Ga(e.rgb,t.rgb,n);return new mo(o,a,s,l,!1)}case"hcl":{const[o,a,s,l]=e.hcl,[c,u,d,h]=t.hcl;let p,f;if(!isNaN(o)&&!isNaN(c)){let C=c-o;c>o&&C>180?C-=360:c<o&&o-c>180&&(C+=360),p=o+n*C}else isNaN(o)?isNaN(c)?p=NaN:(p=c,(s===1||s===0)&&(f=u)):(p=o,(d===1||d===0)&&(f=a));const[y,m,b,k]=l3([p,f??qi(a,u,n),qi(s,d,n),qi(l,h,n)]);return new mo(y,m,b,k,!1)}case"lab":{const[o,a,s,l]=u1(Ga(e.lab,t.lab,n));return new mo(o,a,s,l,!1)}}}};pt.black=new pt(0,0,0,1);pt.white=new pt(1,1,1,1);pt.transparent=new pt(0,0,0,0);pt.red=new pt(1,0,0,1);class zh{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const p3=["bottom","center","top"];class kd{constructor(e,t,n,i,o,a){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=o,this.verticalAlign=a}}let cs=class ol{constructor(e){this.sections=e}static fromString(e){return new ol([new kd(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof ol?e:ol.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}};class qr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof qr)return e;if(typeof e=="number")return new qr([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new qr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new qr(Ga(e.values,t.values,n))}}class zr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof zr)return e;if(typeof e=="number")return new zr([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new zr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new zr(Ga(e.values,t.values,n))}}let di=class ya{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof ya)return e;if(typeof e=="string"){const n=pt.parse(e);return n?new ya([n]):void 0}if(!Array.isArray(e))return;const t=[];for(const n of e){if(typeof n!="string")return;const i=pt.parse(n);if(!i)return;t.push(i)}return new ya(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,i="rgb"){const o=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let a=0;a<e.values.length;a++)o.push(pt.interpolate(e.values[a],t.values[a],n,i));return new ya(o)}},mt=class extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}};const g3=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);let Jo=class al{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof al)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if(typeof n!="string"||!g3.has(n)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new al(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const i=e.values,o=t.values;if(i.length!==o.length)throw new mt(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const a=[];for(let s=0;s<i.length;s+=2){if(i[s]!==o[s])throw new mt(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${i[s]}, to[${s}]: ${o[s]}`);a.push(i[s]);const[l,c]=i[s+1],[u,d]=o[s+1];a.push([qi(l,u,n),qi(c,d,n)])}return new al(a)}};class ki{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new ki({name:e,available:!1}):null}}let us=class yo{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new yo(e,t,n)}static parse(e){if(e instanceof yo)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new yo(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new yo(e.from,e.to,e.transition);if(typeof e=="string")return new yo(e,e,1)}};function h1(r,e,t,n){return typeof r=="number"&&r>=0&&r<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[r,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[r,e,t,n]:[r,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ba(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof us||r instanceof pt||r instanceof zh||r instanceof cs||r instanceof qr||r instanceof zr||r instanceof di||r instanceof Jo||r instanceof ki)return!0;if(Array.isArray(r)){for(const e of r)if(!Ba(e))return!1;return!0}else if(typeof r=="object"){for(const e in r)if(!Ba(r[e]))return!1;return!0}else return!1}function St(r){if(r===null)return hc;if(typeof r=="string")return Oe;if(typeof r=="boolean")return Ae;if(typeof r=="number")return Q;if(r instanceof pt)return un;if(r instanceof us)return pc;if(r instanceof zh)return gc;if(r instanceof cs)return fc;if(r instanceof qr)return mc;if(r instanceof zr)return yc;if(r instanceof di)return $a;if(r instanceof Jo)return vc;if(r instanceof ki)return ls;if(Array.isArray(r)){const e=r.length;let t;for(const n of r){const i=St(n);if(!t)t=i;else{if(t===i)continue;t=Ie;break}}return vr(t||Ie,e)}else return Fi}function ba(r){const e=typeof r;return r===null?"":e==="string"||e==="number"||e==="boolean"?String(r):r instanceof pt||r instanceof us||r instanceof cs||r instanceof qr||r instanceof zr||r instanceof di||r instanceof Jo||r instanceof ki?r.toString():JSON.stringify(r)}class Ro{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Ba(e[1]))return t.error("invalid value");const n=e[1];let i=St(n);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new Ro(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Rs={string:Oe,number:Q,boolean:Ae,object:Fi};let En=class p1{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,i;const o=e[0];if(o==="array"){let s;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in Rs)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);s=Rs[c],n++}else s=Ie;let l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);l=e[2],n++}i=vr(s,l)}else{if(!Rs[o])throw new Error(`Types doesn't contain name = ${o}`);i=Rs[o]}const a=[];for(;n<e.length;n++){const s=t.parse(e[n],n,Ie);if(!s)return null;a.push(s)}return new p1(i,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(Ua(this.type,St(n))){if(t===this.args.length-1)throw new mt(`Expected value to be of type ${ht(this.type)}, but found ${ht(St(n))} instead.`)}else return n}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};const Yg={"to-boolean":Ae,"to-color":un,"to-number":Q,"to-string":Oe};class si{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!Yg[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=Yg[n],o=[];for(let a=1;a<e.length;a++){const s=t.parse(e[a],a,Ie);if(!s)return null;o.push(s)}return new si(i,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof pt)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=h1(t[0],t[1],t[2],t[3]),!n))return new pt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new mt(n||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=qr.parse(t);if(i)return i}throw new mt(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=zr.parse(t);if(i)return i}throw new mt(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=di.parse(t);if(i)return i}throw new mt(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=Jo.parse(t);if(i)return i}throw new mt(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new mt(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return cs.fromString(ba(this.args[0].evaluate(e)));case"resolvedImage":return ki.fromString(ba(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return ba(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const f3=["Unknown","Point","LineString","Polygon"];class g1{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?f3[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=pt.parse(e),this._parseColorCache.set(e,t)),t}}class kc{constructor(e,t,n=[],i,o=new jh,a=[]){this.registry=e,this.path=n,this.key=n.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=t}parse(e,t,n,i,o={}){return t?this.concat(t,n,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(i,o,a){return a==="assert"?new En(o,[i]):a==="coerce"?new si(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(e,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,l=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&l.kind==="value")a=n(a,s,t.typeAnnotation||"assert");else if(s.kind==="projectionDefinition"&&["string","array"].includes(l.kind)||["color","formatted","resolvedImage"].includes(s.kind)&&["value","string"].includes(l.kind)||["padding","numberArray"].includes(s.kind)&&["value","number","array"].includes(l.kind)||s.kind==="colorArray"&&["value","string","array"].includes(l.kind)||s.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(l.kind))a=n(a,s,t.typeAnnotation||"coerce");else if(this.checkSubtype(s,l))return null}if(!(a instanceof Ro)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new g1;try{a=new Ro(a.type,a.evaluate(s))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i=typeof e=="number"?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new kc(this.registry,this._isConstant,i,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new rn(n,e))}checkSubtype(e,t){const n=Ua(e,t);return n&&this.error(n),n}}class bc{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let o=1;o<e.length-1;o+=2){const a=e[o];if(typeof a!="string")return t.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=t.parse(e[o+1],o+1);if(!s)return null;n.push([a,s])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new bc(n,i):null}outputDefined(){return this.result.outputDefined()}}class xc{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new xc(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class $h{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Q),i=t.parse(e[2],2,vr(t.expectedType||Ie));if(!n||!i)return null;const o=i.type;return new $h(o.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new mt(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new mt(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new mt(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Uh{constructor(e,t){this.type=Ae,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ie),i=t.parse(e[2],2,Ie);return!n||!i?null:qh(n.type,[Ae,Oe,Q,hc,Ie])?new Uh(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ht(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!ji(t,["boolean","string","number","null"]))throw new mt(`Expected first argument to be of type boolean, string, number or null, but found ${ht(St(t))} instead.`);if(!ji(n,["string","array"]))throw new mt(`Expected second argument to be of type array or string, but found ${ht(St(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Sl{constructor(e,t,n){this.type=Q,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ie),i=t.parse(e[2],2,Ie);if(!n||!i)return null;if(!qh(n.type,[Ae,Oe,Q,hc,Ie]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ht(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Q);return o?new Sl(n,i,o):null}else return new Sl(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!ji(t,["boolean","string","number","null"]))throw new mt(`Expected first argument to be of type boolean, string, number or null, but found ${ht(St(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),ji(n,["string"])){const o=n.indexOf(t,i);return o===-1?-1:[...n.slice(0,o)].length}else{if(ji(n,["array"]))return n.indexOf(t,i);throw new mt(`Expected second argument to be of type array or string, but found ${ht(St(n))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Gh{constructor(e,t,n,i,o,a){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=o,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},a=[];for(let c=2;c<e.length-1;c+=2){let u=e[c];const d=e[c+1];Array.isArray(u)||(u=[u]);const h=t.concat(c);if(u.length===0)return h.error("Expected at least one branch label.");for(const f of u){if(typeof f!="number"&&typeof f!="string")return h.error("Branch labels must be numbers or strings.");if(typeof f=="number"&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof f=="number"&&Math.floor(f)!==f)return h.error("Numeric branch labels must be integer values.");if(!n)n=St(f);else if(h.checkSubtype(n,St(f)))return null;if(typeof o[String(f)]<"u")return h.error("Branch labels must be unique.");o[String(f)]=a.length}const p=t.parse(d,c,i);if(!p)return null;i=i||p.type,a.push(p)}const s=t.parse(e[1],1,Ie);if(!s)return null;const l=t.parse(e[e.length-1],e.length-1,i);return!l||s.type.kind!=="value"&&t.concat(1).checkSubtype(n,s.type)?null:new Gh(n,i,s,o,a,l)}evaluate(e){const t=this.input.evaluate(e);return(St(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class Bh{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const i=[];for(let a=1;a<e.length-1;a+=2){const s=t.parse(e[a],a,Ae);if(!s)return null;const l=t.parse(e[a+1],a+1,n);if(!l)return null;i.push([s,l]),n=n||l.type}const o=t.parse(e[e.length-1],e.length-1,n);if(!o)return null;if(!n)throw new Error("Can't infer output type");return new Bh(n,i,o)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class Ll{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ie),i=t.parse(e[2],2,Q);if(!n||!i)return null;if(!qh(n.type,[vr(Ie),Oe,Ie]))return t.error(`Expected first argument to be of type array or string, but found ${ht(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Q);return o?new Ll(n.type,n,i,o):null}else return new Ll(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),ji(t,["string"]))return[...t].slice(n,i).join("");if(ji(t,["array"]))return t.slice(n,i);throw new mt(`Expected first argument to be of type array or string, but found ${ht(St(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function f1(r,e){const t=r.length-1;let n=0,i=t,o=0,a,s;for(;n<=i;)if(o=Math.floor((n+i)/2),a=r[o],s=r[o+1],a<=e){if(o===t||e<s)return o;n=o+1}else if(a>e)i=o-1;else throw new mt("Input is not a number.");return 0}class wc{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of n)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Q);if(!n)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let a=1;a<e.length;a+=2){const s=a===1?-1/0:e[a],l=e[a+1],c=a,u=a+1;if(typeof s!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const d=t.parse(l,u,o);if(!d)return null;o=o||d.type,i.push([s,d])}return new wc(o,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=f1(t,i);return n[a].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function m3(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gu,Wg;function y3(){if(Wg)return gu;Wg=1,gu=r;function r(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}return r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var o=this.sampleCurveX(n)-e;if(Math.abs(o)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n=n-o/a}var s=0,l=1;for(n=e,i=0;i<20&&(o=this.sampleCurveX(n),!(Math.abs(o-e)<t));i++)e>o?s=n:l=n,n=(l-s)*.5+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},gu}var v3=y3(),k3=m3(v3);class dn{constructor(e,t,n,i,o){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(e,t,n,i){let o=0;if(e.name==="exponential")o=fu(t,e.base,n,i);else if(e.name==="linear")o=fu(t,1,n,i);else if(e.name==="cubic-bezier"){const a=e.controlPoints;o=new k3(a[0],a[1],a[2],a[3]).solve(fu(t,1,n,i))}return o}static parse(e,t){let[n,i,o,...a]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const c=i[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:c}}else if(i[0]==="cubic-bezier"){const c=i.slice(1);if(c.length!==4||c.some(u=>typeof u!="number"||u<0||u>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Q),!o)return null;const s=[];let l=null;(n==="interpolate-hcl"||n==="interpolate-lab")&&t.expectedType!=$a?l=un:t.expectedType&&t.expectedType.kind!=="value"&&(l=t.expectedType);for(let c=0;c<a.length;c+=2){const u=a[c],d=a[c+1],h=c+3,p=c+4;if(typeof u!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(s.length&&s[s.length-1][0]>=u)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const f=t.parse(d,p,l);if(!f)return null;l=l||f.type,s.push([u,f])}return!Kn(l,Q)&&!Kn(l,pc)&&!Kn(l,un)&&!Kn(l,mc)&&!Kn(l,yc)&&!Kn(l,$a)&&!Kn(l,vc)&&!Kn(l,vr(Q))?t.error(`Type ${ht(l)} is not interpolatable.`):new dn(l,n,i,o,s)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=f1(t,i),s=t[a],l=t[a+1],c=dn.interpolationFactor(this.interpolation,i,s,l),u=n[a].evaluate(e),d=n[a+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return qi(u,d,c);case"color":return pt.interpolate(u,d,c);case"padding":return qr.interpolate(u,d,c);case"colorArray":return di.interpolate(u,d,c);case"numberArray":return zr.interpolate(u,d,c);case"variableAnchorOffsetCollection":return Jo.interpolate(u,d,c);case"array":return Ga(u,d,c);case"projectionDefinition":return us.interpolate(u,d,c)}case"interpolate-hcl":switch(this.type.kind){case"color":return pt.interpolate(u,d,c,"hcl");case"colorArray":return di.interpolate(u,d,c,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return pt.interpolate(u,d,c,"lab");case"colorArray":return di.interpolate(u,d,c,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function fu(r,e,t,n){const i=n-t,o=r-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class Va{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const i=t.expectedType;i&&i.kind!=="value"&&(n=i);const o=[];for(const a of e.slice(1)){const s=t.parse(a,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,o.push(s)}if(!n)throw new Error("No output type");return i&&o.some(a=>Ua(i,a.type))?new Va(Ie,o):new Va(n,o)}evaluate(e){let t=null,n=0,i;for(const o of this.args)if(n++,t=o.evaluate(e),t&&t instanceof ki&&!t.available&&(i||(i=t.name),t=null,n===this.args.length&&(t=i)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function Kg(r,e){return r==="=="||r==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function b3(r,e,t){return e===t}function x3(r,e,t){return e!==t}function w3(r,e,t){return e<t}function _3(r,e,t){return e>t}function T3(r,e,t){return e<=t}function C3(r,e,t){return e>=t}function m1(r,e,t,n){return n.compare(e,t)===0}function E3(r,e,t,n){return!m1(r,e,t,n)}function M3(r,e,t,n){return n.compare(e,t)<0}function S3(r,e,t,n){return n.compare(e,t)>0}function L3(r,e,t,n){return n.compare(e,t)<=0}function I3(r,e,t,n){return n.compare(e,t)>=0}function ea(r,e,t){const n=r!=="=="&&r!=="!=";return class y1{constructor(o,a,s){this.type=Ae,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let l=a.parse(o[1],1,Ie);if(!l)return null;if(!Kg(s,l.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${ht(l.type)}'.`);let c=a.parse(o[2],2,Ie);if(!c)return null;if(!Kg(s,c.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${ht(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${ht(l.type)}' and '${ht(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new En(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new En(l.type,[c])));let u=null;if(o.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(u=a.parse(o[3],3,gc),!u)return null}return new y1(l,c,u)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){const l=St(a),c=St(s);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new mt(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=St(a),c=St(s);if(l.kind!=="string"||c.kind!=="string")return e(o,a,s)}return this.collator?t(o,a,s,this.collator.evaluate(o)):e(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const A3=ea("==",b3,m1),P3=ea("!=",x3,E3),N3=ea("<",w3,M3),D3=ea(">",_3,S3),O3=ea("<=",T3,L3),R3=ea(">=",C3,I3);class _c{constructor(e,t,n){this.type=gc,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,Ae);if(!i)return null;const o=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,Ae);if(!o)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,Oe),!a)?null:new _c(i,o,a)}evaluate(e){return new zh(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class Vh{constructor(e,t,n,i,o){this.type=Oe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Q);if(!n)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,Oe),!o))return null;let a=null;if(i.currency&&(a=t.parse(i.currency,1,Oe),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,Q),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,Q),!l)?null:new Vh(n,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Hh{constructor(e){this.type=fc,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=e.length-1;++a){const s=e[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let l=null;if(s["font-scale"]&&(l=t.parse(s["font-scale"],1,Q),!l))return null;let c=null;if(s["text-font"]&&(c=t.parse(s["text-font"],1,vr(Oe)),!c))return null;let u=null;if(s["text-color"]&&(u=t.parse(s["text-color"],1,un),!u))return null;let d=null;if(s["vertical-align"]){if(typeof s["vertical-align"]=="string"&&!p3.includes(s["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${s["vertical-align"]}' instead.`);if(d=t.parse(s["vertical-align"],1,Oe),!d)return null}const h=i[i.length-1];h.scale=l,h.font=c,h.textColor=u,h.verticalAlign=d}else{const l=t.parse(e[a],1,Ie);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:l,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Hh(i)}evaluate(e){const t=n=>{const i=n.content.evaluate(e);return St(i)===ls?new kd("",i,null,null,null,n.verticalAlign?n.verticalAlign.evaluate(e):null):new kd(ba(i),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null,n.verticalAlign?n.verticalAlign.evaluate(e):null)};return new cs(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class Zh{constructor(e){this.type=ls,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Oe);return n?new Zh(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=ki.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class Yh{constructor(e){this.type=Q,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${ht(n.type)} instead.`):new Yh(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new mt(`Expected value to be of type string or array, but found ${ht(St(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const hn=8192;function F3(r,e){const t=j3(r[0]),n=z3(r[1]),i=Math.pow(2,e.z);return[Math.round(t*i*hn),Math.round(n*i*hn)]}function Wh(r,e){const t=Math.pow(2,e.z),n=(r[0]/hn+e.x)/t,i=(r[1]/hn+e.y)/t;return[q3(n),$3(i)]}function j3(r){return(180+r)/360}function q3(r){return r*360-180}function z3(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function $3(r){return 360/Math.PI*Math.atan(Math.exp((180-r*360)*Math.PI/180))-90}function ds(r,e){r[0]=Math.min(r[0],e[0]),r[1]=Math.min(r[1],e[1]),r[2]=Math.max(r[2],e[0]),r[3]=Math.max(r[3],e[1])}function Ha(r,e){return!(r[0]<=e[0]||r[2]>=e[2]||r[1]<=e[1]||r[3]>=e[3])}function U3(r,e,t){return e[1]>r[1]!=t[1]>r[1]&&r[0]<(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1])+e[0]}function G3(r,e,t){const n=r[0]-e[0],i=r[1]-e[1],o=r[0]-t[0],a=r[1]-t[1];return n*a-o*i===0&&n*o<=0&&i*a<=0}function Tc(r,e,t,n){const i=[e[0]-r[0],e[1]-r[1]],o=[n[0]-t[0],n[1]-t[1]];return Z3(o,i)===0?!1:!!(Qg(r,e,t,n)&&Qg(t,n,r,e))}function B3(r,e,t){for(const n of t)for(let i=0;i<n.length-1;++i)if(Tc(r,e,n[i],n[i+1]))return!0;return!1}function ta(r,e,t=!1){let n=!1;for(const i of e)for(let o=0;o<i.length-1;o++){if(G3(r,i[o],i[o+1]))return t;U3(r,i[o],i[o+1])&&(n=!n)}return n}function V3(r,e){for(const t of e)if(ta(r,t))return!0;return!1}function v1(r,e){for(const t of r)if(!ta(t,e))return!1;for(let t=0;t<r.length-1;++t)if(B3(r[t],r[t+1],e))return!1;return!0}function H3(r,e){for(const t of e)if(v1(r,t))return!0;return!1}function Z3(r,e){return r[0]*e[1]-r[1]*e[0]}function Qg(r,e,t,n){const i=r[0]-t[0],o=r[1]-t[1],a=e[0]-t[0],s=e[1]-t[1],l=n[0]-t[0],c=n[1]-t[1],u=i*c-l*o,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function Kh(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=[];for(let a=0;a<r[i].length;a++){const s=F3(r[i][a],t);ds(e,s),o.push(s)}n.push(o)}return n}function k1(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=Kh(r[i],e,t);n.push(o)}return n}function b1(r,e,t,n){if(r[0]<t[0]||r[0]>t[2]){const i=n*.5;let o=r[0]-t[0]>i?-n:t[0]-r[0]>i?n:0;o===0&&(o=r[0]-t[2]>i?-n:t[2]-r[0]>i?n:0),r[0]+=o}ds(e,r)}function Y3(r){r[0]=r[1]=1/0,r[2]=r[3]=-1/0}function Xg(r,e,t,n){const i=Math.pow(2,n.z)*hn,o=[n.x*hn,n.y*hn],a=[];for(const s of r)for(const l of s){const c=[l.x+o[0],l.y+o[1]];b1(c,e,t,i),a.push(c)}return a}function Jg(r,e,t,n){const i=Math.pow(2,n.z)*hn,o=[n.x*hn,n.y*hn],a=[];for(const s of r){const l=[];for(const c of s){const u=[c.x+o[0],c.y+o[1]];ds(e,u),l.push(u)}a.push(l)}if(e[2]-e[0]<=i/2){Y3(e);for(const s of a)for(const l of s)b1(l,e,t,i)}return a}function W3(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Kh(e.coordinates,n,i),a=Xg(r.geometry(),t,n,i);if(!Ha(t,n))return!1;for(const s of a)if(!ta(s,o))return!1}if(e.type==="MultiPolygon"){const o=k1(e.coordinates,n,i),a=Xg(r.geometry(),t,n,i);if(!Ha(t,n))return!1;for(const s of a)if(!V3(s,o))return!1}return!0}function K3(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Kh(e.coordinates,n,i),a=Jg(r.geometry(),t,n,i);if(!Ha(t,n))return!1;for(const s of a)if(!v1(s,o))return!1}if(e.type==="MultiPolygon"){const o=k1(e.coordinates,n,i),a=Jg(r.geometry(),t,n,i);if(!Ha(t,n))return!1;for(const s of a)if(!H3(s,o))return!1}return!0}class zi{constructor(e,t){this.type=Ae,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ba(e[1])){const n=e[1];if(n.type==="FeatureCollection"){const i=[];for(const o of n.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new zi(n,o)}}else if(n.type==="Feature"){const i=n.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new zi(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new zi(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return W3(e,this.geometries);if(e.geometryType()==="LineString")return K3(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class x1{constructor(e=[],t=(n,i)=>n<i?-1:n>i?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const o=e-1>>1,a=t[o];if(n(i,a)>=0)break;t[e]=a,e=o}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,o=t[e];for(;e<i;){let a=(e<<1)+1;const s=a+1;if(s<this.length&&n(t[s],t[a])<0&&(a=s),n(t[a],o)>=0)break;t[e]=t[a],e=a}t[e]=o}}function Q3(r,e){if(r.length<=1)return[r];const t=[];let n,i;for(const o of r){const a=X3(o);a!==0&&(o.area=Math.abs(a),i===void 0&&(i=a<0),i===a<0?(n&&t.push(n),n=[o]):n.push(o))}return n&&t.push(n),t}function X3(r){let e=0;for(let t=0,n=r.length,i=n-1,o,a;t<n;i=t++)o=r[t],a=r[i],e+=(a.x-o.x)*(o.y+a.y);return e}const J3=6378.137,ef=1/298.257223563,tf=ef*(2-ef),rf=Math.PI/180;class Qh{constructor(e){const t=rf*J3*1e3,n=Math.cos(e*rf),i=1/(1-tf*(1-n*n)),o=Math.sqrt(i);this.kx=t*o*n,this.ky=t*o*i*(1-tf)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+i*i)}pointOnLine(e,t){let n=1/0,i,o,a,s;for(let l=0;l<e.length-1;l++){let c=e[l][0],u=e[l][1],d=this.wrap(e[l+1][0]-c)*this.kx,h=(e[l+1][1]-u)*this.ky,p=0;(d!==0||h!==0)&&(p=(this.wrap(t[0]-c)*this.kx*d+(t[1]-u)*this.ky*h)/(d*d+h*h),p>1?(c=e[l+1][0],u=e[l+1][1]):p>0&&(c+=d/this.kx*p,u+=h/this.ky*p)),d=this.wrap(t[0]-c)*this.kx,h=(t[1]-u)*this.ky;const f=d*d+h*h;f<n&&(n=f,i=c,o=u,a=l,s=p)}return{point:[i,o],index:a,t:Math.max(0,Math.min(1,s))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const bd=100,xd=50;function w1(r,e){return e[0]-r[0]}function Il(r){return r[1]-r[0]+1}function Rn(r,e){return r[1]>=r[0]&&r[1]<e}function wd(r,e){if(r[0]>r[1])return[null,null];const t=Il(r);if(e){if(t===2)return[r,null];const i=Math.floor(t/2);return[[r[0],r[0]+i],[r[0]+i,r[1]]]}if(t===1)return[r,null];const n=Math.floor(t/2)-1;return[[r[0],r[0]+n],[r[0]+n+1,r[1]]]}function _d(r,e){if(!Rn(e,r.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let n=e[0];n<=e[1];++n)ds(t,r[n]);return t}function Td(r){const e=[1/0,1/0,-1/0,-1/0];for(const t of r)for(const n of t)ds(e,n);return e}function nf(r){return r[0]!==-1/0&&r[1]!==-1/0&&r[2]!==1/0&&r[3]!==1/0}function Xh(r,e,t){if(!nf(r)||!nf(e))return NaN;let n=0,i=0;return r[2]<e[0]&&(n=e[0]-r[2]),r[0]>e[2]&&(n=r[0]-e[2]),r[1]>e[3]&&(i=r[1]-e[3]),r[3]<e[1]&&(i=e[1]-r[3]),t.distance([0,0],[n,i])}function Ai(r,e,t){const n=t.pointOnLine(e,r);return t.distance(r,n.point)}function Jh(r,e,t,n,i){const o=Math.min(Ai(r,[t,n],i),Ai(e,[t,n],i)),a=Math.min(Ai(t,[r,e],i),Ai(n,[r,e],i));return Math.min(o,a)}function eT(r,e,t,n,i){if(!(Rn(e,r.length)&&Rn(n,t.length)))return 1/0;let o=1/0;for(let a=e[0];a<e[1];++a){const s=r[a],l=r[a+1];for(let c=n[0];c<n[1];++c){const u=t[c],d=t[c+1];if(Tc(s,l,u,d))return 0;o=Math.min(o,Jh(s,l,u,d,i))}}return o}function tT(r,e,t,n,i){if(!(Rn(e,r.length)&&Rn(n,t.length)))return NaN;let o=1/0;for(let a=e[0];a<=e[1];++a)for(let s=n[0];s<=n[1];++s)if(o=Math.min(o,i.distance(r[a],t[s])),o===0)return o;return o}function rT(r,e,t){if(ta(r,e,!0))return 0;let n=1/0;for(const i of e){const o=i[0],a=i[i.length-1];if(o!==a&&(n=Math.min(n,Ai(r,[a,o],t)),n===0))return n;const s=t.pointOnLine(i,r);if(n=Math.min(n,t.distance(r,s.point)),n===0)return n}return n}function nT(r,e,t,n){if(!Rn(e,r.length))return NaN;for(let o=e[0];o<=e[1];++o)if(ta(r[o],t,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const a=r[o],s=r[o+1];for(const l of t)for(let c=0,u=l.length,d=u-1;c<u;d=c++){const h=l[d],p=l[c];if(Tc(a,s,h,p))return 0;i=Math.min(i,Jh(a,s,h,p,n))}}return i}function of(r,e){for(const t of r)for(const n of t)if(ta(n,e,!0))return!0;return!1}function iT(r,e,t,n=1/0){const i=Td(r),o=Td(e);if(n!==1/0&&Xh(i,o,t)>=n)return n;if(Ha(i,o)){if(of(r,e))return 0}else if(of(e,r))return 0;let a=1/0;for(const s of r)for(let l=0,c=s.length,u=c-1;l<c;u=l++){const d=s[u],h=s[l];for(const p of e)for(let f=0,y=p.length,m=y-1;f<y;m=f++){const b=p[m],k=p[f];if(Tc(d,h,b,k))return 0;a=Math.min(a,Jh(d,h,b,k,t))}}return a}function af(r,e,t,n,i,o){if(!o)return;const a=Xh(_d(n,o),i,t);a<e&&r.push([a,o,[0,0]])}function Fs(r,e,t,n,i,o,a){if(!o||!a)return;const s=Xh(_d(n,o),_d(i,a),t);s<e&&r.push([s,o,a])}function Al(r,e,t,n,i=1/0){let o=Math.min(n.distance(r[0],t[0][0]),i);if(o===0)return o;const a=new x1([[0,[0,r.length-1],[0,0]]],w1),s=Td(t);for(;a.length>0;){const l=a.pop();if(l[0]>=o)continue;const c=l[1],u=e?xd:bd;if(Il(c)<=u){if(!Rn(c,r.length))return NaN;if(e){const d=nT(r,c,t,n);if(isNaN(d)||d===0)return d;o=Math.min(o,d)}else for(let d=c[0];d<=c[1];++d){const h=rT(r[d],t,n);if(o=Math.min(o,h),o===0)return 0}}else{const d=wd(c,e);af(a,o,n,r,s,d[0]),af(a,o,n,r,s,d[1])}}return o}function Pl(r,e,t,n,i,o=1/0){let a=Math.min(o,i.distance(r[0],t[0]));if(a===0)return a;const s=new x1([[0,[0,r.length-1],[0,t.length-1]]],w1);for(;s.length>0;){const l=s.pop();if(l[0]>=a)continue;const c=l[1],u=l[2],d=e?xd:bd,h=n?xd:bd;if(Il(c)<=d&&Il(u)<=h){if(!Rn(c,r.length)&&Rn(u,t.length))return NaN;let p;if(e&&n)p=eT(r,c,t,u,i),a=Math.min(a,p);else if(e&&!n){const f=r.slice(c[0],c[1]+1);for(let y=u[0];y<=u[1];++y)if(p=Ai(t[y],f,i),a=Math.min(a,p),a===0)return a}else if(!e&&n){const f=t.slice(u[0],u[1]+1);for(let y=c[0];y<=c[1];++y)if(p=Ai(r[y],f,i),a=Math.min(a,p),a===0)return a}else p=tT(r,c,t,u,i),a=Math.min(a,p)}else{const p=wd(c,e),f=wd(u,n);Fs(s,a,i,r,t,p[0],f[0]),Fs(s,a,i,r,t,p[0],f[1]),Fs(s,a,i,r,t,p[1],f[0]),Fs(s,a,i,r,t,p[1],f[1])}}return a}function oT(r,e){const t=r.geometry(),n=t.flat().map(a=>Wh([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new Qh(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Pl(n,!1,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Pl(n,!1,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Al(n,!1,a.coordinates,i,o));break}if(o===0)return o}return o}function aT(r,e){const t=r.geometry(),n=t.flat().map(a=>Wh([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new Qh(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Pl(n,!0,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Pl(n,!0,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Al(n,!0,a.coordinates,i,o));break}if(o===0)return o}return o}function sT(r,e){const t=r.geometry();if(t.length===0||t[0].length===0)return NaN;const n=Q3(t).map(a=>a.map(s=>s.map(l=>Wh([l.x,l.y],r.canonical)))),i=new Qh(n[0][0][0][1]);let o=1/0;for(const a of e)for(const s of n){switch(a.type){case"Point":o=Math.min(o,Al([a.coordinates],!1,s,i,o));break;case"LineString":o=Math.min(o,Al(a.coordinates,!0,s,i,o));break;case"Polygon":o=Math.min(o,iT(s,a.coordinates,i,o));break}if(o===0)return o}return o}function mu(r){return r.type==="MultiPolygon"?r.coordinates.map(e=>({type:"Polygon",coordinates:e})):r.type==="MultiLineString"?r.coordinates.map(e=>({type:"LineString",coordinates:e})):r.type==="MultiPoint"?r.coordinates.map(e=>({type:"Point",coordinates:e})):[r]}class $i{constructor(e,t){this.type=Q,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ba(e[1])){const n=e[1];if(n.type==="FeatureCollection")return new $i(n,n.features.map(i=>mu(i.geometry)).flat());if(n.type==="Feature")return new $i(n,mu(n.geometry));if("type"in n&&"coordinates"in n)return new $i(n,mu(n))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return oT(e,this.geometries);if(e.geometryType()==="LineString")return aT(e,this.geometries);if(e.geometryType()==="Polygon")return sT(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class hs{constructor(e){this.type=Ie,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return n==null?t.error("Global state property must be defined."):typeof n!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new hs(n)}evaluate(e){var t;const n=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!n||Object.keys(n).length===0?null:d1(n,this.key)}eachChild(){}outputDefined(){return!1}}const ep={"==":A3,"!=":P3,">":D3,"<":N3,">=":R3,"<=":O3,array:En,at:$h,boolean:En,case:Bh,coalesce:Va,collator:_c,format:Hh,image:Zh,in:Uh,"index-of":Sl,interpolate:dn,"interpolate-hcl":dn,"interpolate-lab":dn,length:Yh,let:bc,literal:Ro,match:Gh,number:En,"number-format":Vh,object:En,slice:Ll,step:wc,string:En,"to-boolean":si,"to-color":si,"to-number":si,"to-string":si,var:xc,within:zi,distance:$i,"global-state":hs};class $r{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=$r.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let l=null;for(const[c,u]of s){l=new kc(t.registry,Nl,t.path,null,t.scope);const d=[];let h=!1;for(let p=1;p<e.length;p++){const f=e[p],y=Array.isArray(c)?c[p-1]:c.type,m=l.parse(f,1+d.length,y);if(!m){h=!0;break}d.push(m)}if(!h){if(Array.isArray(c)&&c.length!==d.length){l.error(`Expected ${c.length} arguments, but found ${d.length} instead.`);continue}for(let p=0;p<d.length;p++){const f=Array.isArray(c)?c[p]:c.type,y=d[p];l.concat(p+1).checkSubtype(f,y.type)}if(l.errors.length===0)return new $r(n,o,u,d)}}if(s.length===1)t.errors.push(...l.errors);else{const c=(s.length?s:a).map(([d])=>cT(d)).join(" | "),u=[];for(let d=1;d<e.length;d++){const h=t.parse(e[d],1+u.length);if(!h)return null;u.push(ht(h.type))}t.error(`Expected arguments of type ${c}, but found (${u.join(", ")}) instead.`)}return null}static register(e,t){$r.definitions=t;for(const n in t)e[n]=$r}}function sf(r,[e,t,n,i]){e=e.evaluate(r),t=t.evaluate(r),n=n.evaluate(r);const o=i?i.evaluate(r):1,a=h1(e,t,n,o);if(a)throw new mt(a);return new pt(e/255,t/255,n/255,o,!1)}function lf(r,e){return r in e}function yu(r,e){const t=e[r];return typeof t>"u"?null:t}function lT(r,e,t,n){for(;t<=n;){const i=t+n>>1;if(e[i]===r)return!0;e[i]>r?n=i-1:t=i+1}return!1}function wi(r){return{type:r}}$r.register(ep,{error:[r3,[Oe],(r,[e])=>{throw new mt(e.evaluate(r))}],typeof:[Oe,[Ie],(r,[e])=>ht(St(e.evaluate(r)))],"to-rgba":[vr(Q,4),[un],(r,[e])=>{const[t,n,i,o]=e.evaluate(r).rgb;return[t*255,n*255,i*255,o]}],rgb:[un,[Q,Q,Q],sf],rgba:[un,[Q,Q,Q,Q],sf],has:{type:Ae,overloads:[[[Oe],(r,[e])=>lf(e.evaluate(r),r.properties())],[[Oe,Fi],(r,[e,t])=>lf(e.evaluate(r),t.evaluate(r))]]},get:{type:Ie,overloads:[[[Oe],(r,[e])=>yu(e.evaluate(r),r.properties())],[[Oe,Fi],(r,[e,t])=>yu(e.evaluate(r),t.evaluate(r))]]},"feature-state":[Ie,[Oe],(r,[e])=>yu(e.evaluate(r),r.featureState||{})],properties:[Fi,[],r=>r.properties()],"geometry-type":[Oe,[],r=>r.geometryType()],id:[Ie,[],r=>r.id()],zoom:[Q,[],r=>r.globals.zoom],"heatmap-density":[Q,[],r=>r.globals.heatmapDensity||0],elevation:[Q,[],r=>r.globals.elevation||0],"line-progress":[Q,[],r=>r.globals.lineProgress||0],accumulated:[Ie,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Q,wi(Q),(r,e)=>{let t=0;for(const n of e)t+=n.evaluate(r);return t}],"*":[Q,wi(Q),(r,e)=>{let t=1;for(const n of e)t*=n.evaluate(r);return t}],"-":{type:Q,overloads:[[[Q,Q],(r,[e,t])=>e.evaluate(r)-t.evaluate(r)],[[Q],(r,[e])=>-e.evaluate(r)]]},"/":[Q,[Q,Q],(r,[e,t])=>e.evaluate(r)/t.evaluate(r)],"%":[Q,[Q,Q],(r,[e,t])=>e.evaluate(r)%t.evaluate(r)],ln2:[Q,[],()=>Math.LN2],pi:[Q,[],()=>Math.PI],e:[Q,[],()=>Math.E],"^":[Q,[Q,Q],(r,[e,t])=>Math.pow(e.evaluate(r),t.evaluate(r))],sqrt:[Q,[Q],(r,[e])=>Math.sqrt(e.evaluate(r))],log10:[Q,[Q],(r,[e])=>Math.log(e.evaluate(r))/Math.LN10],ln:[Q,[Q],(r,[e])=>Math.log(e.evaluate(r))],log2:[Q,[Q],(r,[e])=>Math.log(e.evaluate(r))/Math.LN2],sin:[Q,[Q],(r,[e])=>Math.sin(e.evaluate(r))],cos:[Q,[Q],(r,[e])=>Math.cos(e.evaluate(r))],tan:[Q,[Q],(r,[e])=>Math.tan(e.evaluate(r))],asin:[Q,[Q],(r,[e])=>Math.asin(e.evaluate(r))],acos:[Q,[Q],(r,[e])=>Math.acos(e.evaluate(r))],atan:[Q,[Q],(r,[e])=>Math.atan(e.evaluate(r))],min:[Q,wi(Q),(r,e)=>Math.min(...e.map(t=>t.evaluate(r)))],max:[Q,wi(Q),(r,e)=>Math.max(...e.map(t=>t.evaluate(r)))],abs:[Q,[Q],(r,[e])=>Math.abs(e.evaluate(r))],round:[Q,[Q],(r,[e])=>{const t=e.evaluate(r);return t<0?-Math.round(-t):Math.round(t)}],floor:[Q,[Q],(r,[e])=>Math.floor(e.evaluate(r))],ceil:[Q,[Q],(r,[e])=>Math.ceil(e.evaluate(r))],"filter-==":[Ae,[Oe,Ie],(r,[e,t])=>r.properties()[e.value]===t.value],"filter-id-==":[Ae,[Ie],(r,[e])=>r.id()===e.value],"filter-type-==":[Ae,[Oe],(r,[e])=>r.geometryType()===e.value],"filter-<":[Ae,[Oe,Ie],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Ae,[Ie],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[Ae,[Oe,Ie],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>i}],"filter-id->":[Ae,[Ie],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[Ae,[Oe,Ie],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Ae,[Ie],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[Ae,[Oe,Ie],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Ae,[Ie],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[Ae,[Ie],(r,[e])=>e.value in r.properties()],"filter-has-id":[Ae,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Ae,[vr(Oe)],(r,[e])=>e.value.indexOf(r.geometryType())>=0],"filter-id-in":[Ae,[vr(Ie)],(r,[e])=>e.value.indexOf(r.id())>=0],"filter-in-small":[Ae,[Oe,vr(Ie)],(r,[e,t])=>t.value.indexOf(r.properties()[e.value])>=0],"filter-in-large":[Ae,[Oe,vr(Ie)],(r,[e,t])=>lT(r.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Ae,overloads:[[[Ae,Ae],(r,[e,t])=>e.evaluate(r)&&t.evaluate(r)],[wi(Ae),(r,e)=>{for(const t of e)if(!t.evaluate(r))return!1;return!0}]]},any:{type:Ae,overloads:[[[Ae,Ae],(r,[e,t])=>e.evaluate(r)||t.evaluate(r)],[wi(Ae),(r,e)=>{for(const t of e)if(t.evaluate(r))return!0;return!1}]]},"!":[Ae,[Ae],(r,[e])=>!e.evaluate(r)],"is-supported-script":[Ae,[Oe],(r,[e])=>{const t=r.globals&&r.globals.isSupportedScript;return t?t(e.evaluate(r)):!0}],upcase:[Oe,[Oe],(r,[e])=>e.evaluate(r).toUpperCase()],downcase:[Oe,[Oe],(r,[e])=>e.evaluate(r).toLowerCase()],concat:[Oe,wi(Ie),(r,e)=>e.map(t=>ba(t.evaluate(r))).join("")],"resolved-locale":[Oe,[gc],(r,[e])=>e.evaluate(r).resolvedLocale()]});function cT(r){return Array.isArray(r)?`(${r.map(ht).join(", ")})`:`(${ht(r.type)}...)`}function Nl(r){if(r instanceof xc)return Nl(r.boundExpression);if(r instanceof $r&&r.name==="error"||r instanceof _c||r instanceof zi||r instanceof $i||r instanceof hs)return!1;const e=r instanceof si||r instanceof En;let t=!0;return r.eachChild(n=>{e?t=t&&Nl(n):t=t&&n instanceof Ro}),t?tp(r)&&np(r,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function tp(r){if(r instanceof $r&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof zi||r instanceof $i)return!1;let e=!0;return r.eachChild(t=>{e&&!tp(t)&&(e=!1)}),e}function rp(r){if(r instanceof $r&&r.name==="feature-state")return!1;let e=!0;return r.eachChild(t=>{e&&!rp(t)&&(e=!1)}),e}function np(r,e){if(r instanceof $r&&e.indexOf(r.name)>=0)return!1;let t=!0;return r.eachChild(n=>{t&&!np(n,e)&&(t=!1)}),t}function Cd(r){return{result:"success",value:r}}function vo(r){return{result:"error",value:r}}function uT(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function dT(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function hT(r){return!!r.expression&&r.expression.interpolated}function _1(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&St(r)===Fi}class pT{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new g1,this._defaultValue=t?yT(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,o,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new mt(`Expected value to be one of ${Object.keys(this._enumValues).map(l=>JSON.stringify(l)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}}function gT(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in ep}function T1(r,e){const t=new kc(ep,Nl,[],e?mT(e):void 0),n=t.parse(r,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?Cd(new pT(n,e)):vo(t.errors)}class cf{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!rp(t.expression),this.globalStateRefs=Cc(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}}class uf{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!rp(t.expression),this.globalStateRefs=Cc(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}interpolationFactor(e,t,n){return this.interpolationType?dn.interpolationFactor(this.interpolationType,e,t,n):0}}function fT(r,e){const t=T1(r,e);if(t.result==="error")return t;const n=t.value.expression,i=tp(n);if(!i&&!uT(e))return vo([new rn("","data expressions not supported")]);const o=np(n,["zoom"]);if(!o&&!dT(e))return vo([new rn("","zoom expressions not supported")]);const a=sl(n);if(!a&&!o)return vo([new rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof rn)return vo([a]);if(a instanceof dn&&!hT(e))return vo([new rn("",'"interpolate" expressions cannot be used with this property')]);if(!a)return Cd(i?new cf("constant",t.value):new cf("source",t.value));const s=a instanceof dn?a.interpolation:void 0;return Cd(i?new uf("camera",t.value,a.labels,s):new uf("composite",t.value,a.labels,s))}function sl(r){let e=null;if(r instanceof bc)e=sl(r.result);else if(r instanceof Va){for(const t of r.args)if(e=sl(t),e)break}else(r instanceof wc||r instanceof dn)&&r.input instanceof $r&&r.input.name==="zoom"&&(e=r);return e instanceof rn||r.eachChild(t=>{const n=sl(t);n instanceof rn?e=n:!e&&n?e=new rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new rn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function Cc(r,e=new Set){return r instanceof hs&&e.add(r.key),r.eachChild(t=>{Cc(t,e)}),e}function mT(r){const e={color:un,string:Oe,number:Q,enum:Oe,boolean:Ae,formatted:fc,padding:mc,numberArray:yc,colorArray:$a,projectionDefinition:pc,resolvedImage:ls,variableAnchorOffsetCollection:vc};return r.type==="array"?vr(e[r.value]||Ie,r.length):e[r.type]}function yT(r){if(r.type==="color"&&_1(r.default))return new pt(0,0,0,0);switch(r.type){case"color":return pt.parse(r.default)||null;case"padding":return qr.parse(r.default)||null;case"numberArray":return zr.parse(r.default)||null;case"colorArray":return di.parse(r.default)||null;case"variableAnchorOffsetCollection":return Jo.parse(r.default)||null;case"projectionDefinition":return us.parse(r.default)||null;default:return r.default===void 0?null:r.default}}function C1(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const e of r.slice(1))if(!C1(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const vT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function kT(r){if(r==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};C1(r)||(r=Dl(r));const e=T1(r,vT);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=E1(r);return{filter:(n,i,o)=>e.value.evaluate(n,i,{},o),needGeometry:t,getGlobalStateRefs:()=>Cc(e.value.expression)}}}function bT(r,e){return r<e?-1:r>e?1:0}function E1(r){if(!Array.isArray(r))return!1;if(r[0]==="within"||r[0]==="distance")return!0;for(let e=1;e<r.length;e++)if(E1(r[e]))return!0;return!1}function Dl(r){if(!r)return!0;const e=r[0];return r.length<=1?e!=="any":e==="=="?vu(r[1],r[2],"=="):e==="!="?js(vu(r[1],r[2],"==")):e==="<"||e===">"||e==="<="||e===">="?vu(r[1],r[2],e):e==="any"?xT(r.slice(1)):e==="all"?["all"].concat(r.slice(1).map(Dl)):e==="none"?["all"].concat(r.slice(1).map(Dl).map(js)):e==="in"?df(r[1],r.slice(2)):e==="!in"?js(df(r[1],r.slice(2))):e==="has"?hf(r[1]):e==="!has"?js(hf(r[1])):!0}function vu(r,e,t){switch(r){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,r,e]}}function xT(r){return["any"].concat(r.map(Dl))}function df(r,e){if(e.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",r,["literal",e.sort(bT)]]:["filter-in-small",r,["literal",e]]}}function hf(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function js(r){return["!",r]}function Za(r){return typeof r=="object"?["literal",r]:r}function wT(r,e){let t=r.stops;if(!t)return _T(r,e);const n=t&&typeof t[0][0]=="object",i=n||r.property!==void 0,o=n||!i;return t=t.map(a=>!i&&e.tokens&&typeof a[1]=="string"?[a[0],MT(a[1])]:[a[0],Za(a[1])]),n?TT(r,e,t):o?ET(r,e,t):Ed(r,e,t)}function _T(r,e){const t=["get",r.property];if(r.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,r.default];{const n=[e.type==="color"?"to-color":e.type,t,Za(r.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function ip(r){switch(r.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function TT(r,e,t){const n={},i={},o=[];for(let a=0;a<t.length;a++){const s=t[a],l=s[0].zoom;n[l]===void 0&&(n[l]={zoom:l,type:r.type,property:r.property,default:r.default},i[l]=[],o.push(l)),i[l].push([s[0].value,s[1]])}if(ap({},e)==="exponential"){const a=[ip(r),["linear"],["zoom"]];for(const s of o){const l=Ed(n[s],e,i[s]);Lo(a,s,l,!1)}return a}else{const a=["step",["zoom"]];for(const s of o){const l=Ed(n[s],e,i[s]);Lo(a,s,l,!0)}return op(a),a}}function CT(r,e){if(r!==void 0)return r;if(e!==void 0)return e}function pf(r,e){const t=Za(CT(r.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function Ed(r,e,t){const n=ap(r,e),i=["get",r.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const a of t)o.push(["==",i,a[0]],a[1]);return o.push(pf(r,e)),o}else if(n==="categorical"){const o=["match",i];for(const a of t)Lo(o,a[0],a[1],!1);return o.push(pf(r,e)),o}else if(n==="interval"){const o=["step",["number",i]];for(const a of t)Lo(o,a[0],a[1],!0);return op(o),r.default===void 0?o:["case",["==",["typeof",i],"number"],o,Za(r.default)]}else if(n==="exponential"){const o=r.base!==void 0?r.base:1,a=[ip(r),o===1?["linear"]:["exponential",o],["number",i]];for(const s of t)Lo(a,s[0],s[1],!1);return r.default===void 0?a:["case",["==",["typeof",i],"number"],a,Za(r.default)]}else throw new Error(`Unknown property function type ${n}`)}function ET(r,e,t,n=["zoom"]){const i=ap(r,e);let o,a=!1;if(i==="interval")o=["step",n],a=!0;else if(i==="exponential"){const s=r.base!==void 0?r.base:1;o=[ip(r),s===1?["linear"]:["exponential",s],n]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of t)Lo(o,s[0],s[1],a);return op(o),o}function op(r){r[0]==="step"&&r.length===3&&(r.push(0),r.push(r[3]))}function Lo(r,e,t,n){r.length>3&&e===r[r.length-2]||(n&&r.length===2||r.push(e),r.push(t))}function ap(r,e){return r.type?r.type:e.expression.interpolated?"exponential":"interval"}function MT(r){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let i=t.exec(r);i!==null;i=t.exec(r)){const o=r.slice(n,t.lastIndex-i[0].length);n=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return r;if(n<r.length)e.push(r.slice(n));else if(e.length===2)return["to-string",e[1]];return e}const ST=J5,LT={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},IT={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},AT=function(r,e){const t=fT(r,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},Md={},Ol={zoom:0};let qs,ku;function ge(r,e,t,n,i,o,a){const s=r.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});const l=o[s];if(!l[t]){let c=(r[e]||Md)[t];const u=ST[`${e}_${r.type}`][t];c===void 0&&(c=u.default);let d=gT(c);if(!d&&_1(c)&&(c=wT(c,u),d=!0),d){const h=AT(c,u);l[t]=h.evaluate.bind(h)}else u.type=="color"&&(c=pt.parse(c)),l[t]=function(){return c}}return Ol.zoom=n,l[t](Ol,i,a)}function gf(r,e,t,n,i){return ge(r,"layout",`${n}-allow-overlap`,e,t,i)?ge(r,"layout",`${n}-ignore-placement`,e,t,i)?"none":"obstacle":"declutter"}function PT(r,e,t,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),r in i||(i[r]=kT(e).filter),Ol.zoom=n,i[r](Ol,t)}function Jn(r,e){if(r){if(r.a===0||e===0)return;const t=r.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(r.r*255/t)+","+Math.round(r.g*255/t)+","+Math.round(r.b*255/t)+","+t*e+")"}return r}const NT=/\{[^{}}]*\}/g;function bu(r,e){return r.replace(NT,function(t){return e[t.slice(1,-1)]||""})}const DT={};function M1(r,e,t,n=cn,i=void 0,o=void 0,a=void 0,s=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");DT[jb(e,r)]=Array.from(arguments);let l,c,u;o&&a0(()=>o).then(async F=>{let se;if(typeof Image<"u"){const ne=new Image;if(typeof F=="string")ne.crossOrigin="anonymous",ne.src=F;else{let fe;F instanceof Request?fe=await fetch(F):F instanceof Response&&(fe=F);const U=await fe.blob();se=URL.createObjectURL(U),ne.src=se}ne.addEventListener("load",function fe(){ne.removeEventListener("load",fe),l=ne,c=[ne.width,ne.height],r.changed(),se&&URL.revokeObjectURL(se)}),ne.addEventListener("error",function fe(){URL.revokeObjectURL(se),ne.removeEventListener("error",fe)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const ne=self;ne.postMessage({action:"loadImage",src:F}),ne.addEventListener("message",function(fe){fe.data.action==="imageLoaded"&&fe.data.src===F&&(l=fe.data.image,c=[l.width,l.height])})}});const d=r1(e.layers),h={},p=[],f={},y={},m=Wm(e),b=qb(e);let k;for(let F=0,se=d.length;F<se;++F){const ne=d[F],fe=ne.id;if(typeof t=="string"&&ne.source==t||Array.isArray(t)&&t.indexOf(fe)!==-1){const U=ne["source-layer"];if(k){if(ne.source!==k)throw new Error(`Layer "${fe}" does not use source "${k}`)}else{k=ne.source;const te=e.sources[k];if(!te)throw new Error(`Source "${k}" is not defined`);const O=te.type;if(O!=="vector"&&O!=="geojson")throw new Error(`Source "${k}" is not of type "vector" or "geojson", but "${O}"`)}let j=h[U];j||(j=[],h[U]=j),j.push({layer:ne,index:F}),p.push(fe)}}const C=new Ir,T=new sn,E=[],R=function(F,se,ne){const fe=F.getProperties(),U=h[fe.layer];if(!U)return;let j=n.indexOf(se);j==-1&&(j=eh(se,n));const te=LT[F.getGeometry().getType()],O={id:F.getId(),properties:fe,type:te},q=r.get("mapbox-featurestate")[F.getId()];let ce=-1;for(let W=0,pe=U.length;W<pe;++W){const Ce=U[W],V=Ce.layer,_t=V.id;if(ne!==void 0&&ne!==_t)continue;const rt=V.layout||Md,Ct=V.paint||Md;if(rt.visibility==="none"||"minzoom"in V&&j<V.minzoom||"maxzoom"in V&&j>=V.maxzoom)continue;const ir=V.filter;if(!ir||PT(_t,ir,O,j,b)){let kt,bt,Qe,et,je,Y;const Cr=Ce.index;if(te==3&&(V.type=="fill"||V.type=="fill-extrusion"))if(bt=ge(V,"paint",V.type+"-opacity",j,O,m,q),V.type+"-pattern"in Ct){const J=ge(V,"paint",V.type+"-pattern",j,O,m,q);if(J){const ae=typeof J=="string"?bu(J,fe):J.toString();if(l&&i&&i[ae]){++ce,Y=E[ce],(!Y||!Y.getFill()||Y.getStroke()||Y.getText())&&(Y=new Pt({fill:new sn}),E[ce]=Y),Qe=Y.getFill(),Y.setZIndex(Cr);const de=ae+"."+bt;let ke=y[de];if(!ke){const le=i[ae],Te=zb(le.width,le.height),Le=Te.getContext("2d");Le.globalAlpha=bt,Le.drawImage(l,le.x,le.y,le.width,le.height,0,0,le.width,le.height),ke=Le.createPattern(Te,"repeat"),y[de]=ke}Qe.setColor(ke)}}}else kt=Jn(ge(V,"paint",V.type+"-color",j,O,m,q),bt),V.type+"-outline-color"in Ct&&(je=Jn(ge(V,"paint",V.type+"-outline-color",j,O,m,q),bt)),je||(je=kt),(kt||je)&&(++ce,Y=E[ce],(!Y||kt&&!Y.getFill()||!kt&&Y.getFill()||je&&!Y.getStroke()||!je&&Y.getStroke()||Y.getText())&&(Y=new Pt({fill:kt?new sn:void 0,stroke:je?new Ir:void 0}),E[ce]=Y),kt&&(Qe=Y.getFill(),Qe.setColor(kt)),je&&(et=Y.getStroke(),et.setColor(je),et.setWidth(.5)),Y.setZIndex(Cr));if(te!=1&&V.type=="line"){"line-pattern"in Ct?kt=void 0:kt=Jn(ge(V,"paint","line-color",j,O,m,q),ge(V,"paint","line-opacity",j,O,m,q));const J=ge(V,"paint","line-width",j,O,m,q);kt&&J>0&&(++ce,Y=E[ce],(!Y||!Y.getStroke()||Y.getFill()||Y.getText())&&(Y=new Pt({stroke:new Ir}),E[ce]=Y),et=Y.getStroke(),et.setLineCap(ge(V,"layout","line-cap",j,O,m,q)),et.setLineJoin(ge(V,"layout","line-join",j,O,m,q)),et.setMiterLimit(ge(V,"layout","line-miter-limit",j,O,m,q)),et.setColor(kt),et.setWidth(J),et.setLineDash(Ct["line-dasharray"]?ge(V,"paint","line-dasharray",j,O,m,q).map(function(ae){return ae*J}):null),Y.setZIndex(Cr))}let x=!1,w=null,S=0,$,P,z;if((te==1||te==2)&&"icon-image"in rt){const J=ge(V,"layout","icon-image",j,O,m,q);if(J){$=typeof J=="string"?bu(J,fe):J.toString();let ae;const de=s?s(r,$):void 0;if(l&&i&&i[$]||de){const ke=ge(V,"layout","icon-rotation-alignment",j,O,m,q);if(te==2){const le=F.getGeometry();if(le.getFlatMidpoint||le.getFlatMidpoints){const Te=le.getExtent();if(Math.sqrt(Math.max(Math.pow((Te[2]-Te[0])/se,2),Math.pow((Te[3]-Te[1])/se,2)))>150){const Le=le.getType()==="MultiLineString"?le.getFlatMidpoints():le.getFlatMidpoint();if(ku||(qs=[NaN,NaN],ku=new hr("Point",qs,[],2,{},void 0)),ae=ku,qs[0]=Le[0],qs[1]=Le[1],ge(V,"layout","symbol-placement",j,O,m,q)==="line"&&ke==="map"){const $e=le.getStride(),Ze=le.getFlatCoordinates();for(let gt=0,Ht=Ze.length-$e;gt<Ht;gt+=$e){const tt=Ze[gt],Fe=Ze[gt+1],Ot=Ze[gt+$e],At=Ze[gt+$e+1],Er=Math.min(tt,Ot),Rt=Math.max(tt,Ot),Yr=Le[0],ks=Le[1],oa=(At-Fe)*(Yr-tt)-(Ot-tt)*(ks-Fe);if(Math.abs(oa)<.001&&Yr<=Rt&&Yr>=Er){S=Math.atan2(Fe-At,Ot-tt);break}}}}}}if(te!==2||ae){const le=ge(V,"layout","icon-size",j,O,m,q),Te=Ct["icon-color"]!==void 0?ge(V,"paint","icon-color",j,O,m,q):null;if(!Te||Te.a!==0){const Le=ge(V,"paint","icon-halo-color",j,O,m,q),$e=ge(V,"paint","icon-halo-width",j,O,m,q);let Ze=`${$}.${le}.${$e}.${Le}`;if(Te!==null&&(Ze+=`.${Te}`),P=f[Ze],!P){const gt=gf(V,j,O,"icon",m);let Ht;"icon-offset"in rt&&(Ht=ge(V,"layout","icon-offset",j,O,m,q).slice(0),Ht[0]*=le,Ht[1]*=-le);let tt=Te?[Te.r*255,Te.g*255,Te.b*255,Te.a]:void 0;if(de){const Fe={color:tt,rotateWithView:ke==="map",displacement:Ht,declutterMode:gt,scale:le};typeof de=="string"?Fe.src=de:(Fe.img=de,Fe.imgSize=[de.width,de.height]),P=new gi(Fe)}else{const Fe=i[$];let Ot,At,Er;$e?Fe.sdf?(Ot=og(ag(l,Fe,Te||[0,0,0,1]),{x:0,y:0,width:Fe.width,height:Fe.height,pixelRatio:Fe.pixelRatio},$e,Le),tt=void 0):Ot=og(l,Fe,$e,Le):(Fe.sdf?(u||(u=ag(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1})),Ot=u):Ot=l,At=[Fe.width,Fe.height],Er=[Fe.x,Fe.y]),P=new gi({color:tt,img:Ot,imgSize:c,size:At,offset:Er,rotateWithView:ke==="map",scale:le/Fe.pixelRatio,displacement:Ht,declutterMode:gt})}f[Ze]=P}}P&&(++ce,Y=E[ce],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ce]=Y),Y.setGeometry(ae),P.setRotation(S+tu(ge(V,"layout","icon-rotate",j,O,m,q))),P.setOpacity(ge(V,"paint","icon-opacity",j,O,m,q)),P.setAnchor(IT[ge(V,"layout","icon-anchor",j,O,m,q)]),Y.setImage(P),w=Y.getText(),Y.setText(void 0),Y.setZIndex(Cr),x=!0,z=!1)}else z=!0}}}if(te==1&&V.type==="circle"){++ce,Y=E[ce],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ce]=Y);const J="circle-radius"in Ct?ge(V,"paint","circle-radius",j,O,m,q):5,ae=Jn(ge(V,"paint","circle-stroke-color",j,O,m,q),ge(V,"paint","circle-stroke-opacity",j,O,m,q)),de=ge(V,"paint","circle-translate",j,O,m,q),ke=Jn(ge(V,"paint","circle-color",j,O,m,q),ge(V,"paint","circle-opacity",j,O,m,q)),le=ge(V,"paint","circle-stroke-width",j,O,m,q),Te=J+"."+ae+"."+ke+"."+le+"."+de[0]+"."+de[1];P=f[Te],P||(P=new ah({radius:J,displacement:[de[0],-de[1]],stroke:ae&&le>0?new Ir({width:le,color:ae}):void 0,fill:ke?new sn({color:ke}):void 0,declutterMode:"none"}),f[Te]=P),Y.setImage(P),w=Y.getText(),Y.setText(void 0),Y.setGeometry(void 0),Y.setZIndex(Cr),x=!0}let H,K,Z,N,me,re;if("text-field"in rt){N=Math.round(ge(V,"layout","text-size",j,O,m,q));const J=ge(V,"layout","text-font",j,O,m,q);Z=ge(V,"layout","text-line-height",j,O,m,q),K=sg(a?a(J,e.metadata?e.metadata["ol:webfonts"]:void 0):J,N,Z),K.includes("sans-serif")||(K+=",sans-serif"),me=ge(V,"layout","text-letter-spacing",j,O,m,q),re=ge(V,"layout","text-max-width",j,O,m,q);const ae=ge(V,"layout","text-field",j,O,m,q);typeof ae=="object"&&ae.sections?ae.sections.length===1?H=ae.toString():H=ae.sections.reduce((de,ke,le)=>{const Te=ke.fontStack?ke.fontStack.split(","):J,Le=sg(a?a(Te):Te,N*(ke.scale||1),Z);let $e=ke.text;if($e===`
`)return de.push(`
`,""),de;if(te==2)return de.push(lg($e,me),Le),de;$e=cg($e,Le,re,me).split(`
`);for(let Ze=0,gt=$e.length;Ze<gt;++Ze)Ze>0&&de.push(`
`,""),de.push($e[Ze],Le);return de},[]):H=bu(ae,fe).trim(),bt=ge(V,"paint","text-opacity",j,O,m,q)}if(H&&bt&&!z){x||(++ce,Y=E[ce],(!Y||!Y.getText()||Y.getFill()||Y.getStroke())&&(Y=new Pt,E[ce]=Y),Y.setImage(void 0),Y.setGeometry(void 0));const J=gf(V,j,O,"text",m);Y.getText()||Y.setText(w),w=Y.getText(),(!w||"getDeclutterMode"in w&&w.getDeclutterMode()!==J)&&(w=new il({padding:[2,2,2,2],declutterMode:J}),Y.setText(w));const ae=ge(V,"layout","text-transform",j,O,m,q);ae=="uppercase"?H=Array.isArray(H)?H.map((Rt,Yr)=>Yr%2?Rt:Rt.toUpperCase()):H.toUpperCase():ae=="lowercase"&&(H=Array.isArray(H)?H.map((Rt,Yr)=>Yr%2?Rt:Rt.toLowerCase()):H.toLowerCase());const de=Array.isArray(H)?H:te==2?lg(H,me):cg(H,K,re,me);if(w.setText(de),w.setFont(K),w.setRotation(tu(ge(V,"layout","text-rotate",j,O,m,q))),typeof w.setKeepUpright=="function"){const Rt=ge(V,"layout","text-keep-upright",j,O,m,q);w.setKeepUpright(Rt)}const ke=ge(V,"layout","text-anchor",j,O,m,q),le=x||te==1?"point":ge(V,"layout","symbol-placement",j,O,m,q);let Te;if(le==="line-center"?(w.setPlacement("line"),Te="center"):w.setPlacement(le),le==="line"&&typeof w.setRepeat=="function"){const Rt=ge(V,"layout","symbol-spacing",j,O,m,q);w.setRepeat(Rt*2)}w.setOverflow(le==="point");let Le=ge(V,"paint","text-halo-width",j,O,m,q);const $e=ge(V,"layout","text-offset",j,O,m,q),Ze=ge(V,"paint","text-translate",j,O,m,q);let gt=0,Ht=0;if(le=="point"){Te="center",ke.indexOf("left")!==-1?(Te="left",Ht=Le):ke.indexOf("right")!==-1&&(Te="right",Ht=-Le);const Rt=ge(V,"layout","text-rotation-alignment",j,O,m,q);w.setRotateWithView(Rt=="map")}else w.setMaxAngle(tu(ge(V,"layout","text-max-angle",j,O,m,q))*H.length/de.length),w.setRotateWithView(!1);w.setTextAlign(Te);let tt="middle";ke.indexOf("bottom")==0?(tt="bottom",gt=-Le-.5*(Z-1)*N):ke.indexOf("top")==0&&(tt="top",gt=Le+.5*(Z-1)*N),w.setTextBaseline(tt);const Fe=ge(V,"layout","text-justify",j,O,m,q);w.setJustify(Fe==="auto"?void 0:Fe),w.setOffsetX($e[0]*N+Ht+Ze[0]),w.setOffsetY($e[1]*N+gt+Ze[1]),T.setColor(Jn(ge(V,"paint","text-color",j,O,m,q),bt)),w.setFill(T);const Ot=Jn(ge(V,"paint","text-halo-color",j,O,m,q),bt);if(Ot&&Le>0){C.setColor(Ot),Le*=2;const Rt=.5*N;C.setWidth(Le<=Rt?Le:Rt),w.setStroke(C)}else w.setStroke(void 0);const At=ge(V,"layout","text-padding",j,O,m,q),Er=w.getPadding();At!==Er[0]&&(Er[0]=At,Er[1]=At,Er[2]=At,Er[3]=At),Y.setZIndex(Cr)}}}if(ce>-1)return E.length=ce+1,E};return r.setStyle(R),r.set("mapbox-source",k),r.set("mapbox-layers",p),r.set("mapbox-featurestate",r.get("mapbox-featurestate")||{}),R}function S1(r){return function(e){const t=e.buffers,n=e.meta,i=e.imageOps,o=e.width,a=e.height,s=t.length,l=t[0].byteLength;if(i){const h=new Array(s);for(let p=0;p<s;++p)h[p]=new ImageData(new Uint8ClampedArray(t[p]),o,a);return r(h,n).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(s),d=new Array(s);for(let h=0;h<s;++h)u[h]=new Uint8ClampedArray(t[h]),d[h]=[0,0,0,0];for(let h=0;h<l;h+=4){for(let f=0;f<s;++f){const y=u[f];d[f][0]=y[h],d[f][1]=y[h+1],d[f][2]=y[h+2],d[f][3]=y[h+3]}const p=r(d,n);c[h]=p[0],c[h+1]=p[1],c[h+2]=p[2],c[h+3]=p[3]}return c.buffer}}function OT(r,e){const t=Object.keys(r.lib||{}).map(function(i){return"const "+i+" = "+r.lib[i].toString()+";"}).concat(["const __minion__ = ("+S1.toString()+")(",r.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(t.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(t,{type:"text/javascript"})));return n.addEventListener("message",e),n}function RT(r,e){const t=S1(r.operation);let n=!1;return{postMessage:function(i){setTimeout(function(){n||e({data:{buffer:t(i),meta:i.meta}})},0)},terminate:function(){n=!0}}}class FT extends lh{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const n=new Array(t);if(t)for(let i=0;i<t;++i)n[i]=OT(e,this.onWorkerMessage_.bind(this,i));else n[0]=RT(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,i=e.inputs.map(function(l){return l.data.buffer}),o=this.workers_.length;if(this.running_=o,o===1){this.workers_[0].postMessage({buffers:i,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},i);return}const a=e.inputs[0].data.length,s=4*Math.ceil(a/4/o);for(let l=0;l<o;++l){const c=l*s,u=[];for(let d=0,h=i.length;d<h;++d)u.push(i[d].slice(c,c+s));this.workers_[l].postMessage({buffers:u,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},u)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,i;if(t===1)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),i=this.dataLookup_[0].meta;else{const o=e.inputs[0].data.length;n=new Uint8ClampedArray(o),i=new Array(t);const a=4*Math.ceil(o/4/t);for(let s=0;s<t;++s){const l=this.dataLookup_[s].buffer,c=s*a;n.set(new Uint8ClampedArray(l),c),i[s]=this.dataLookup_[s].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),i),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const ff={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class mf extends Nr{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class L1 extends sc{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=zT(e.sources);const t=this.changed.bind(this);for(let n=0,i=this.layers_.length;n<i;++n)this.layers_[n].addEventListener(Ne.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new C0(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Na(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:qT(this.layers_),pixelRatio:1,pixelToCoordinateTransform:Na(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:Ge(this),renderTargets:{}},this.setAttributions(function(n){const i=[];for(let o=0,a=e.sources.length;o<a;++o){const s=e.sources[o],l=s instanceof Yo?s:s.getSource();if(!l)continue;const c=l.getAttributions()?.(n);typeof c=="string"?i.push(c):c!==void 0&&i.push(...c)}return i}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new FT({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);const o=Gn(e);i.size[0]=Math.ceil(Jt(e)/t),i.size[1]=Math.ceil(Dn(e)/t),i.extent=[o[0]-i.size[0]*t/2,o[1]-i.size[1]*t/2,o[0]+i.size[0]*t/2,o[1]+i.size[1]*t/2],i.time=Date.now();const a=i.viewState;return a.center=o,a.projection=n,a.resolution=t,i}allSourcesReady_(){let e=!0,t;for(let n=0,i=this.layers_.length;n<i;++n)if(t=this.layers_[n].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,n,i){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const o=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=o,this.renderedImageCanvas_){const a=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();(t!==a||!Vi(o.extent,s))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),o.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let o=0;o<t;++o){e.layerIndex=o,e.renderTargets={};const a=jT(this.layers_[o],e);if(a)n[o]=a;else return}const i={};this.dispatchEvent(new mf(ff.BEFOREOPERATIONS,e,i)),this.processor_.process(n,i,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,i){if(t||!n)return;const o=e.extent,a=e.viewState.resolution;if(a!==this.requestedFrameState_.viewState.resolution||!Vi(o,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{const l=Math.round(Jt(o)/a),c=Math.round(Dn(o)/a);s=Ra(l,c),this.renderedImageCanvas_=new Cx(o,a,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new mf(ff.AFTEROPERATIONS,e,i))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,i=this.layers_.length;n<i&&(t=this.layers_[n].getSource().getResolutions(e),!t);++n);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}L1.prototype.dispose;let _i=null;function jT(r,e){const t=r.getRenderer();if(!t)throw new Error("Unsupported layer type: "+r);if(!t.prepareFrame(e))return null;const n=e.size[0],i=e.size[1];if(n===0||i===0)return null;const o=t.renderFrame(e,null);let a;if(o instanceof HTMLCanvasElement)a=o;else{if(o&&(a=o.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+a);if(a.width===n&&a.height===i)return a.getContext("2d").getImageData(0,0,n,i)}if(!_i)_i=Ra(n,i,void 0,{willReadFrequently:!0});else{const s=_i.canvas;s.width!==n||s.height!==i?_i=Ra(n,i,void 0,{willReadFrequently:!0}):_i.clearRect(0,0,n,i)}return _i.drawImage(a,0,0,n,i),_i.getImageData(0,0,n,i)}function qT(r){return r.map(function(e){return e.getLayerState()})}function zT(r){const e=r.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=$T(r[n]);return t}function $T(r){let e;return r instanceof Yo?r instanceof D0?e=new no({source:r}):r instanceof sc&&(e=new as({source:r})):e=r,e}function UT(r,e,t,n){const i=document.createElement("script"),o="olc_"+Ge(e);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=r+(r.includes("?")?"&":"?")+"callback="+o;const s=setTimeout(function(){a(),t&&t()},1e4);window[o]=function(l){clearTimeout(s),a(),e(l)},document.head.appendChild(i)}class I1 extends ac{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:ve("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)UT(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let n;try{n=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=ve("EPSG:4326"),n=this.getProjection();let i;if(e.bounds!==void 0){const c=Vb(t,n);i=Hb(e.bounds,c)}const o=ss(n),a=e.minzoom||0,s=e.maxzoom||22,l=Ih({extent:o,maxZoom:s,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=Ah(e.tiles,l),e.attribution&&!this.getAttributions()){const c=i!==void 0?i:o;this.setAttributions(function(u){return zo(c,u.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}function GT(r,e){const t=r[0],n=t.width,i=t.height,o=t.data,a=new Uint8ClampedArray(o.length),s=e.resolution*2,l=n-1,c=i-1,u=[0,0,0,0],d=2*Math.PI,h=Math.PI/2,p=Math.PI*e.sunEl/180,f=Math.PI*e.sunAz/180,y=Math.cos(p),m=Math.sin(p),b=e.highlightColor,k=e.shadowColor,C=e.accentColor,T=e.encoding;let E,R,F,se,ne,fe,U,j,te,O,q,ce,W,pe,Ce,V,_t,rt,Ct,ir,kt,bt;function Qe(et,je="mapbox"){if(je==="mapbox")return(et[0]*256*256+et[1]*256+et[2])*.1-1e4;if(je==="terrarium")return et[0]*256+et[1]+et[2]/256-32768}for(R=0;R<=c;++R)for(ne=R===0?0:R-1,fe=R===c?c:R+1,E=0;E<=l;++E)F=E===0?0:E-1,se=E===l?l:E+1,U=(R*n+F)*4,u[0]=o[U],u[1]=o[U+1],u[2]=o[U+2],u[3]=o[U+3],j=e.vert*Qe(u,T),U=(R*n+se)*4,u[0]=o[U],u[1]=o[U+1],u[2]=o[U+2],u[3]=o[U+3],te=e.vert*Qe(u,T),O=(te-j)/s,U=(ne*n+E)*4,u[0]=o[U],u[1]=o[U+1],u[2]=o[U+2],u[3]=o[U+3],j=e.vert*Qe(u,T),U=(fe*n+E)*4,u[0]=o[U],u[1]=o[U+1],u[2]=o[U+2],u[3]=o[U+3],te=e.vert*Qe(u,T),q=(te-j)/s,W=Math.atan2(q,-O),W<0?W=h-W:W>h?W=d-W+h:W=h-W,ce=Math.atan(Math.sqrt(O*O+q*q)),bt=m*Math.cos(ce)+y*Math.sin(ce)*Math.cos(f-W),pe=Math.cos(ce),Ce=255*bt,Ct=Math.min(Math.max(2*e.sunEl,0),1),ir=1.875-e.opacity*1.75,kt=e.opacity!==.5?h*((Math.pow(ir,ce)-1)/(Math.pow(ir,h)-1)):ce,_t={r:(1-pe)*C.r*Ct*255,g:(1-pe)*C.g*Ct*255,b:(1-pe)*C.b*Ct*255,a:(1-pe)*C.a*Ct*255},V=Math.abs(((W+f)/Math.PI+.5)%2-1),rt={r:(b.r*(1-V)+k.r*V)*Ce,g:(b.g*(1-V)+k.g*V)*Ce,b:(b.b*(1-V)+k.b*V)*Ce,a:(b.a*(1-V)+k.a*V)*Ce},U=(R*n+E)*4,a[U]=_t.r*(1-V)+rt.r,a[U+1]=_t.g*(1-V)+rt.g,a[U+2]=_t.b*(1-V)+rt.b,a[U+3]=o[U+3]*e.opacity*Ct*Math.sin(kt);return new ImageData(a,n,i)}function BT(r,e=512){return r.getExtent()?Ih({extent:r.getExtent(),tileSize:e,maxZoom:22}).getResolutions():cn}function A1(r,e){return e.accessToken||(e=Object.assign({},e),new URL(r).searchParams.forEach((t,n)=>{e.accessToken=t,e.accessTokenParam=n})),e}function VT(r,e,t="",n={},i=void 0){let o,a,s,l,c=!0;return typeof t!="string"&&!Array.isArray(t)?(s=t,l=s.source||s.layers,n=s):l=t,typeof n=="string"?(o=n,s={}):(o=n.styleUrl,s=n),s.updateSource===!1&&(c=!1),i||(i=s.resolutions),!o&&typeof e=="string"&&!e.trim().startsWith("{")&&(o=e),o&&(o=o.startsWith("data:")?location.href:Qu(o,s.accessToken),s=A1(o,s)),new Promise(function(u,d){Ym(e,s).then(function(h){if(h.version!=8)return d(new Error("glStyle version 8 required."));if(!(r instanceof ur||r instanceof In))return d(new Error("Can only apply to VectorLayer or VectorTileLayer"));const p=r instanceof In?"vector":"geojson";if(l?Array.isArray(l)?a=h.layers.find(function(T){return T.id===l[0]}).source:a=l:(a=Object.keys(h.sources).find(function(T){return h.sources[T].type===p}),l=a),!a)return d(new Error(`No ${p} source found in the glStyle.`));function f(){if(!c)return Promise.resolve();if(r instanceof In)return D1(h.sources[a],o,s).then(function(F){const se=r.getSource();se?F!==se&&(se.setTileUrlFunction(F.getTileUrlFunction()),typeof se.setUrls=="function"&&typeof F.getUrls=="function"&&se.setUrls(F.getUrls()),se.format_||(se.format_=F.format_),se.getAttributions()||se.setAttributions(F.getAttributions()),se.getTileLoadFunction()===t1&&se.setTileLoadFunction(F.getTileLoadFunction()),$t(se.getProjection(),F.getProjection())&&(se.tileGrid=F.getTileGrid())):r.setSource(F);const ne=r.getSource().getTileGrid();!isFinite(r.getMaxResolution())&&!isFinite(r.getMinZoom())&&ne.getMinZoom()>0&&r.setMaxResolution(ma(Math.max(0,ne.getMinZoom()-1e-12),ne.getResolutions()))});const T=h.sources[a];let E=r.getSource();(!E||E.get("mapbox-source")!==T)&&(E=F1(T,o,s));const R=r.getSource();return R?E!==R&&(R.getAttributions()||R.setAttributions(E.getAttributions()),R.format_||(R.format_=E.getFormat()),R.url_=E.getUrl()):r.setSource(E),Promise.resolve()}let y,m,b,k;function C(){if(!k&&(!h.sprite||m)){if(s.projection&&!i){const T=ve(s.projection).getUnits();T!=="m"&&(i=cn.map(E=>E/Da[T]))}k=M1(r,h,l,i,m,b,(T,E=s.webfonts)=>Bb(T,E),s.getImage),r.getStyle()?f().then(u).catch(d):d(new Error(`Nothing to show for source [${a}]`))}else k?(r.setStyle(k),f().then(u).catch(d)):d(new Error("Something went wrong trying to apply style."))}if(h.sprite){const T=new URL(Ub(h.sprite,s.accessToken,o||location.href));y=window.devicePixelRatio>=1.5?.5:1;const E=y==.5?"@2x":"";let R=T.origin+T.pathname+E+".json"+T.search;new Promise(function(F,se){yl("Sprite",R,s).then(F).catch(function(ne){R=T.origin+T.pathname+".json"+T.search,yl("Sprite",R,s).then(F).catch(se)})}).then(function(F){if(F===void 0&&d(new Error("No sprites found.")),m=F,b=T.origin+T.pathname+E+".png"+T.search,s.transformRequest){const se=s.transformRequest(b,"SpriteImage")||b;(se instanceof Request||se instanceof Promise)&&(b=se)}C()}).catch(function(F){d(new Error(`Sprites cannot be loaded: ${R}: ${F.message}`))})}else C()}).catch(d)})}const ni={};function P1(r,e){let t;return r.some(function(n){if(n.id==e)return t=n.source,!0}),t}function HT(r,e){const t=r.bounds;if(t){const n=Xu([t[0],t[1]],e),i=Xu([t[2],t[3]],e);return[n[0],n[1],i[0],i[1]]}return ve(e).getExtent()}function N1(r,e,t){const n=new I1({tileJSON:e,tileSize:r.tileSize||e.tileSize||512}),i=n.getTileJSON(),o=n.getTileGrid(),a=ve(t.projection||"EPSG:3857"),s=HT(i,a),l=a.getExtent(),c=i.minzoom||0,u=i.maxzoom||22,d={attributions:n.getAttributions(),projection:a,tileGrid:new io({origin:l?ml(l):o.getOrigin(0),extent:s||o.getExtent(),minZoom:c,resolutions:BT(a,e.tileSize).slice(0,u+1),tileSize:o.getTileSize(0)})};return Array.isArray(i.tiles)?d.urls=i.tiles:d.url=i.tiles,d}function ZT(r,e,t,n){const i={id:r.id,type:r.type},o=r.layout||{},a=r.paint||{};i.paint=a;const s=eh(e,t.resolutions||cn);let l;const c=ge(i,"paint","background-color",s,ni,n);return a["background-opacity"]!==void 0&&(l=ge(i,"paint","background-opacity",s,ni,n)),o.visibility=="none"?void 0:Jn(c,l)}function YT(r,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new Go({source:new Yo({}),render(i){const o=ZT(r,i.viewState.resolution,e,t);return n.style.backgroundColor=o,n}})}function D1(r,e,t){return new Promise(function(n,i){Km(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=N1(r,o,t);s.tileLoadFunction=a,s.format=new Oh,n(new dc(s))}).catch(i)})}function WT(r,e,t){const n=new In({declutter:!0,visible:!1});return D1(r,e,t).then(function(i){i.set("mapbox-source",r),n.setSource(i)}).catch(function(i){n.setSource(void 0)}),n}function O1(r){return`{bbox-${(r?r.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function KT(r,e,t){return new Promise(function(n,i){Km(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=new I1({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:o});s.tileGrid=N1(r,o,t).tileGrid,t.projection&&(s.projection=ve(t.projection));const l=s.getTileUrlFunction();a&&s.setTileLoadFunction(a),s.setTileUrlFunction(function(c,u,d){const h=O1(d);let p=l(c,u,d);if(p.indexOf(h)!=-1){const f=s.getTileGrid().getTileCoordExtent(c);p=p.replace(h,f.toString())}return p}),s.set("mapbox-source",r),n(s)}).catch(function(o){i(o)})})}function R1(r,e,t){const n=new no;return KT(r,e,t).then(function(i){n.setSource(i)}).catch(function(){n.setSource(void 0)}),n}function QT(r,e,t){const n=R1(r,e,t);return new as({source:new L1({operationType:"image",operation:GT,sources:[n]})})}function F1(r,e,t){const n=t.projection?new qa({dataProjection:t.projection}):new qa,i=r.data,o={};if(typeof i=="string"){const[s]=Gb(i,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(s)){const c=(d,h,p)=>{const f=O1(p);return s.replace(f,`${d.join(",")}`)},u=new cr({attributions:r.attribution,format:n,loader:(d,h,p,f,y)=>{const m=typeof c=="function"?c(d,h,p):c;yl("GeoJSON",m,t).then(b=>{const k=u.getFormat().readFeatures(b,{featureProjection:p});u.addFeatures(k),f(k)}).catch(b=>{u.removeLoadedExtent(d),y()})},strategy:Eo});return u.set("mapbox-source",r),u}const l=new cr({attributions:r.attribution,format:n,url:s,loader:(c,u,d,h,p)=>{yl("GeoJSON",s,t).then(f=>{const y=l.getFormat().readFeatures(f,{featureProjection:d});l.addFeatures(y),h(y)}).catch(f=>{l.removeLoadedExtent(c),p()})}});return l}o.features=n.readFeatures(i,{featureProjection:"EPSG:3857"});const a=new cr(Object.assign({attributions:r.attribution,format:n},o));return a.set("mapbox-source",r),a}function XT(r,e,t){return new ur({declutter:!0,source:F1(r,e,t),visible:!1})}function JT(r,e,t){let n=null;return function(i){r.paint&&"raster-opacity"in r.paint&&i.frameState.viewState.zoom!==n&&(n=i.frameState.viewState.zoom,delete t[r.id],e4(r,e,n,t))}}function e4(r,e,t,n){const i=ge(r,"paint","raster-opacity",t,ni,n);e.setOpacity(i)}function t4(r,e){function t(){const n=e.get("mapbox-style");if(!n)return;const i=r1(n.layers),o=r.get("mapbox-layers"),a=i.filter(function(s){return o.includes(s.id)}).some(function(s){return!s.layout||!s.layout.visibility||s.layout.visibility==="visible"});r.get("visible")!==a&&r.setVisible(a)}r.on("change",t),t()}function r4(r,e,t,n){const i=Wm(r),o=r.layers,a=t.type,s=t.source||P1(o,t.ref),l=r.sources[s];let c;if(a=="background")c=YT(t,n,i);else if(l.type=="vector")c=WT(l,e,n);else if(l.type=="raster")c=R1(l,e,n),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",JT(t,c,i));else if(l.type=="geojson")c=XT(l,e,n);else if(l.type=="raster-dem"&&t.type=="hillshade"){const d=QT(l,e,n);c=d,d.getSource().on("beforeoperations",function(h){const p=h.data;p.resolution=$b(n.projection||"EPSG:3857",h.resolution,Gn(h.extent),"m");const f=eh(h.resolution,n.resolutions||cn);p.encoding=l.encoding,p.vert=5*ge(t,"paint","hillshade-exaggeration",f,ni,i),p.sunAz=ge(t,"paint","hillshade-illumination-direction",f,ni,i),p.sunEl=35,p.opacity=.3,p.highlightColor=ge(t,"paint","hillshade-highlight-color",f,ni,i),p.shadowColor=ge(t,"paint","hillshade-shadow-color",f,ni,i),p.accentColor=ge(t,"paint","hillshade-accent-color",f,ni,i)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const u=s;return c&&c.set("mapbox-source",u),c}function yf(r,e,t,n){const i=[];let o=null;if(e instanceof fi){if(o=e.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const d=n.projection?ve(n.projection):o.getProjection();o=new Cn(Object.assign(o.getProperties(),{maxResolution:cn[0]/Da[d.getUnits()],projection:n.projection||o.getProjection()})),e.setView(o)}"center"in r&&!o.getCenter()&&o.setCenter(Xu(r.center,o.getProjection())),"zoom"in r&&o.getZoom()===void 0&&o.setResolution(cn[0]/Da[o.getProjection().getUnits()]/Math.pow(2,r.zoom)),(!o.getCenter()||o.getZoom()===void 0)&&o.fit(o.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",r),e.set("mapbox-metadata",{styleUrl:t,options:n});const a=r.layers;let s=[],l,c,u;for(let d=0,h=a.length;d<h;++d){const p=a[d],f=p.type;if(f=="heatmap"){console.debug(`layers[${d}].type "${f}" not supported`);continue}else u=p.source||P1(a,p.ref),(!u||u!=c)&&(s.length&&(i.push(vf(l,s,r,t,e,n)),s=[]),l=r4(r,t,p,n),l instanceof ur||l instanceof In||(s=[]),c=l.get("mapbox-source")),s.push(p.id)}return i.push(vf(l,s,r,t,e,n)),Promise.all(i)}function n4(r,e,t={}){let n,i;if(typeof r=="string"||r instanceof HTMLElement?i=new fi({target:r}):i=r,typeof e=="string"){const o=e.startsWith("data:")?location.href:Qu(e,t.accessToken);t=A1(o,t),n=new Promise(function(a,s){Ym(e,t).then(function(l){yf(l,i,o,t).then(function(){a(i)}).catch(s)}).catch(function(l){s(new Error(`Could not load ${e}: ${l.message}`))})})}else n=new Promise(function(o,a){yf(e,i,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:Qu(t.styleUrl,t.accessToken),t).then(function(){o(i)}).catch(a)});return n}function vf(r,e,t,n,i,o={}){let a=24,s=0;const l=t.layers;for(let c=0,u=l.length;c<u;++c){const d=l[c];e.indexOf(d.id)!==-1&&(a=Math.min("minzoom"in d?d.minzoom:0,a),s=Math.max("maxzoom"in d?d.maxzoom:24,s))}return new Promise(function(c,u){const d=function(){const p=r.getSource();if(!p||p.getState()==="error"){u(new Error("Error accessing data for source "+r.get("mapbox-source")));return}if("getTileGrid"in p){const f=p.getTileGrid();if(f){const y=f.getMinZoom();(a>0||y>0)&&r.setMaxResolution(Math.min(ma(Math.max(0,a-1e-12),cn),ma(Math.max(0,y-1e-12),f.getResolutions()))),s<24&&r.setMinResolution(ma(s,cn))}}else a>0&&r.setMaxResolution(ma(Math.max(0,a-1e-12),cn));p instanceof cr||p instanceof dc?VT(r,t,e,Object.assign({styleUrl:n},o)).then(function(){t4(r,i),c()}).catch(u):c()};r.set("mapbox-layers",e);const h=i.getLayers();h.getArray().indexOf(r)===-1&&h.push(r),r.getSource()?d():r.once("change:source",d)})}const i4="EPSG:3857";function j1(r={}){const e=r.epsg?r.epsg:Tr.epsg,t=r.extent?r.extent:ss(e),n=r.tileSize?r.tileSize:512,i=r.resolutions?r.resolutions:Tr.options.map(a=>a.resolution),o={extent:t,resolutions:i,minZoom:r.minZoom,tileSize:new Array(2).fill(n)};return r.origins?o.origins=r.origins:o.origin=r.origin?r.origin:[o.extent[0],o.extent[3]],new io(o)}function o4(r={}){const e=[r.extent,r.tileSize,r.resolutions,r.origin,r.origins,r.minZoom],t=r.epsg?r.epsg.toUpperCase():r.epsg;return!e.every(n=>typeof n>"u")||t!==i4}function Sd(r,e={}){e.epsg=e.epsg?e.epsg:Tr.epsg;const t={projection:e.epsg,format:new Oh,url:r,tileSize:e.tileSize,zDirection:e.zDirection,minZoom:e.minZoom,maxZoom:e.maxZoom};return o4(e)&&(t.tileGrid=j1(e)),new dc(t)}function a4(r={},{layerParams:e={},options:t={}}={}){if([r.id,r.name,r.url].some(o=>typeof o>"u")){console.error(`Cancelled creation of layer "${r.id}"(${r.name}) because of missing required parameters`);return}let n,i;return e.renderer==="webgl"?(i=Sd(r.url,{...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing}),n=Kl({extent:i.getTileGrid().getExtent(),...r,...e,source:i}),n):(i=Sd(r.url,r),n=new In(Object.assign({id:r.id,name:r.name,attribution:r.olAttribution,extent:i.getTileGrid().getExtent(),minZoom:r.minZoom,maxZoom:r.maxZoom,source:i,declutter:!0},e)),t.style&&r.renderer!=="webgl"&&n.setStyle(t.style),n)}function s4(r,e,{options:t={}}={},n){Object.keys(e.sources).forEach(i=>{const o=i;if(e.sources[i].type!=="vector"&&e.sources[i].type!=="geojson"){const a=r.get("map");n4(a,n)}else M1(r,e,t.sourceId?t.sourceId:o,t.resolutions,t.spriteData,t.spriteImageUrl,t.getFonts)})}const l4=Object.freeze(Object.defineProperty({__proto__:null,createLayer:a4,createLayerSource:Sd,createTileGrid:j1,setStyle:s4},Symbol.toStringTag,{value:"Module"}));function c4(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.statusText}`,t,n)}function u4(r){if(typeof r!="object"||r===null||!Array.isArray(r.links))return!1;for(let e=0;e<r.links.length;e++)if(typeof r.links[e]=="object"&&r.links[e]!==null&&typeof r.links[e].href=="string"&&r.links[e].rel==="next"&&r.links[e].type==="application/geo+json")return r.links[e].href;return!1}function q1(r,e,{onErrorFn:t,success:n,failure:i},o,a=[]){fetch(r,{headers:{Accept:"application/geo+json"},method:"GET"}).then(s=>c4(s,t,o,i)).then(s=>s.json()).then(s=>{const l=u4(s);if(s.features.forEach(c=>a.push(c)),typeof l=="string"){q1(l,e,{onErrorFn:Mo,success:n,failure:i},o,a);return}s.features=a,s.numberReturned=s.numberMatched,cc(e,e.getFormat().readFeatures(s),t,n,i,o)}).catch(s=>{t(s,o,i)})}function sp(r,e){const t=e?.bbox||r.bbox,n=r.url;let i=typeof t=="string"&&t.length?t:null,o=null;return o=new URL(n),typeof r.collection=="string"&&(o.pathname.endsWith("/")?o.pathname+="collections/"+r.collection+"/items":o.pathname+="/collections/"+r.collection+"/items"),typeof r.limit=="number"&&o.searchParams.set("limit",r.limit),Array.isArray(t)&&t.length===4&&(i=t.join(",")),i&&(o.searchParams.set("bbox",t),typeof r.bboxCrs=="string"&&r.bboxCrs!==""&&o.searchParams.set("bbox-crs",r.bboxCrs)),typeof r.crs=="string"&&o.searchParams.set("crs",r.crs),typeof r.datetime=="string"&&r.datetime!==""&&o.searchParams.set("datetime",r.datetime),typeof r.params=="object"&&Object.keys(r.params).length&&Object.entries(r.params).forEach(([a,s])=>{o.searchParams.set(a,s)}),o}function d4(r,e){const t=new qa;let n=null;function i(o,a,s,l,c){if(e.doNotLoadInitially){cc(n,[],Mo,l,c,e);return}const u=e.loadingStrategy===Eo?o:e.loadingParams.bbox,d=sp(r,{...e.loadingParams,bbox:u});q1(d,n,{onErrorFn:Mo,success:l,failure:c},e)}return n=Rh(i,e.loadingStrategy,t),e.beforeLoading&&n.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?Fh(n,r.clusterDistance,e.clusterGeometryFunction):n}function Ld(r,e={}){e.loadingStrategy||(e.loadingStrategy=Eo);const t=d4(r,e);return r.renderer==="webgl"&&t.once("featuresloadend",n=>{Oo(n?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}),t}function h4(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=Ld({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Kl({...r,...e,source:i}),n):(i=Ld(r,t),n=new ur(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function p4(r,e){const t=sp(r,r.version);fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const g4={createLayer:h4,createLayerSource:Ld,createUrl:sp,loadFeaturesManually:p4};function f4({backgroundImage:r,target:e}={}){const t=document.getElementById(e||Tr.target);if(t){const n=`url(${typeof r=="string"?r:Tr.backgroundImage})`;t.style.backgroundImage=n}}function m4({url:r,typ:e,capabilitiesUrl:t,...n}){const i=[];if(t)i.push(t);else if(e==="OAF")i.push(r);else if(e==="Entities3D")n.entities.forEach(o=>o.url?i.push(o.url):null);else if(e==="TileSet3D"||e==="Terrain3D")i.push(r);else if(e==="GeoJSON"){if(!r&&n.features)return Promise.resolve(200);r&&i.push(r)}else if(e==="VectorTile")i.push(r.replaceAll(/\{[xyz]\}/ig,"0"));else if(e==="WMTS"){const o=(r?[r]:n.urls).map(a=>a.replace(/\{Style\}/ig,n.style).replace(/\{TileMatrixSet\}/ig,n.tileMatrixSet).replaceAll(/\{(TileMatrix|TileRow|TileCol)\}/ig,"0"));i.push(...o)}else r&&i.push(`${r}?service=${e}&request=GetCapabilities`);return i.length?Promise.allSettled(i.map(o=>new Promise(a=>fetch(o,{method:"HEAD"}).then(({status:s})=>a(s)).catch(()=>a(900))))).then(o=>Math.max(...o.map(({value:a})=>a))):Promise.resolve(null)}const y4=`@charset "UTF-8";html{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;scroll-behavior:smooth;-webkit-text-size-adjust:100%;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body,[data-kern-theme=dark],.kern-dark,[data-kern-theme=light],.kern-light{background-color:var(--kern-color-layout-background-default)}body:has(.kern-dialog[open]){overflow:hidden}*:not(i){font-family:var(--kern-typography-font-family-default)}area[href]:not([tabindex="-1"]):focus,iframe:not([tabindex="-1"]):focus,[tabindex]:not([tabindex="-1"]):focus,[contentEditable=true]:not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}area[href]:not([tabindex="-1"]):focus:focus-visible,iframe:not([tabindex="-1"]):focus:focus-visible,[tabindex]:not([tabindex="-1"]):focus:focus-visible,[contentEditable=true]:not([tabindex="-1"]):focus:focus-visible{outline:0}.kern-sr-only{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only:not(caption){position:absolute!important}.kern-sr-only-mobile{display:inline}@media (max-width: 767px){.kern-sr-only-mobile{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only-mobile:not(caption){position:absolute!important}}.kern-error{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;gap:var(--kern-metric-space-small, 8px);align-items:flex-start;align-self:stretch}.kern-error .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09);margin:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-number{display:flex;width:28px;min-width:28px;height:28px;padding:2px 0;justify-content:center;align-items:center;border-radius:var(--kern-metric-border-radius-circle, 50%);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-layout-text-default, #171A2B);color:var(--kern-color-layout-text-default, #171A2B)}.kern-icon{display:inline-block;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--small{width:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-icon--default{width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--large{width:var(--kern-metric-dimension-large, 32px);min-width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-icon--x-large{width:var(--kern-metric-dimension-x-large, 48px);min-width:var(--kern-metric-dimension-x-large, 48px);height:var(--kern-metric-dimension-x-large, 48px);min-height:var(--kern-metric-dimension-x-large, 48px)}.kern-icon--add{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--add{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-down{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-down{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-up{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-up{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-forward{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-forward{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-back{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-back{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--autorenew{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--autorenew{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--calendar-today{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--calendar-today{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--check{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--check{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--checklist{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--checklist{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--close{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--close{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--content-copy{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--content-copy{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--danger{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--delete{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--delete{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--download{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--download{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--draft{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--draft{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--drive-folder-upload{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--drive-folder-upload{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--easy-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--easy-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--edit{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--edit{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--home{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--home{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--help{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--help{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--info{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--logout{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--logout{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--mail{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--mail{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--more-vert{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--more-vert{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--open-in-new{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--open-in-new{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--question-mark{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--question-mark{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--search{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--search{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--sign-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--sign-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--success{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility-off{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility-off{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--warning{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--brightness-medium{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--brightness-medium{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--light-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--light-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--dark-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--dark-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;border-radius:var(--kern-metric-border-radius-none, 0px);border-top:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3)}.kern-accordion+.kern-accordion{margin-top:calc(var(--kern-metric-border-width-light) * -1)}.kern-accordion[open]>summary:after{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion[open]>summary:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header{display:flex;justify-content:space-between;align-items:center;gap:var(--kern-metric-space-small, 8px);flex:1 0 0;padding:var(--kern-metric-space-default, 16px) var(--kern-metric-space-x-small, 4px);list-style-type:none}.kern-accordion__header::-webkit-details-marker,.kern-accordion__header::marker{display:none}.kern-accordion__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-accordion__header:not([tabindex="-1"]):focus-visible{position:relative;z-index:1;outline-color:transparent;box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-accordion__header:not([tabindex="-1"]):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-accordion__header .kern-title{color:var(--kern-color-action-default, #1A3DA5);flex:1;overflow-wrap:break-word}.kern-accordion__body{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-small, 4px)}.kern-alert{border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-default, 2px) solid transparent}.kern-alert--info{border-color:var(--kern-color-feedback-info, #006490);background-color:var(--kern-color-feedback-info-background, #E0F4FC)}.kern-alert--info .kern-icon--info{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-alert--info .kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--success{border-color:var(--kern-color-feedback-success, #006B51);background-color:var(--kern-color-feedback-success-background, #DEF6ED)}.kern-alert--success .kern-icon--success{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-alert--success .kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--warning{border-color:var(--kern-color-feedback-warning, #8A4F00);background-color:var(--kern-color-feedback-warning-background, #FFEFD0)}.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--danger{border-color:var(--kern-color-feedback-danger, #BD0F09);background-color:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert__header{display:flex;padding:var(--kern-metric-space-default, 16px);align-items:center}.kern-alert__header .kern-icon{width:var(--kern-component-alert-icon-size, 32px);min-width:var(--kern-component-alert-icon-size, 32px);height:var(--kern-component-alert-icon-size, 32px);min-height:var(--kern-component-alert-icon-size, 32px)}.kern-alert .kern-title{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}.kern-alert__body{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-large, 24px);background:var(--kern-color-layout-background-default, #FFF);display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px)}.kern-badge{display:inline-flex;align-items:center;padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-2x-small, 2px) var(--kern-component-badge-space-left, 12px);border-radius:var(--kern-metric-border-radius-default, 4px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-badge .kern-label{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px)}.kern-badge .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px)}.kern-badge--info{background:var(--kern-color-feedback-info-background, #E0F4FC);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-info, #006490)}.kern-badge--info .kern-icon{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-badge--info .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--success{background:var(--kern-color-feedback-success-background, #DEF6ED);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-success, #006B51)}.kern-badge--success .kern-icon{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-badge--success .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--warning{background:var(--kern-color-feedback-warning-background, #FFEFD0);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-warning, #8A4F00)}.kern-badge--warning .kern-icon{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-badge--warning .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--danger{background:var(--kern-color-feedback-danger-background, #FEECE8);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-danger, #BD0F09)}.kern-badge--danger .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-badge--danger .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn{display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);position:relative}.kern-btn:has(.kern-sr-only){width:var(--kern-metric-dimension-x-large, 48px)}@media (max-width: 767px){.kern-btn:has(.kern-sr-only-mobile){width:var(--kern-metric-dimension-x-large, 48px)}}.kern-btn .kern-label{padding:var(--kern-metric-space-small, 8px)}.kern-btn:not(:disabled):hover,.kern-btn:not([aria-disabled=true]):hover{cursor:pointer}.kern-btn:not([disabled]):not([tabindex="-1"]):focus,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-btn:not([disabled]):not([tabindex="-1"]):focus:focus-visible,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-btn:disabled,.kern-btn[disabled],.kern-btn[aria-disabled=true]{cursor:not-allowed!important}.kern-btn--block{width:100%}.kern-btn--primary{background:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--primary{border:3px solid transparent}}.kern-btn--primary .kern-label{color:var(--kern-color-action-on-default, #FFF)}.kern-btn--primary>.kern-icon{background-color:var(--kern-color-action-on-default, #FFF)}@media (forced-colors: active){.kern-btn--primary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--primary:not(:disabled):hover,.kern-btn--primary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-shade-hover)}.kern-btn--primary:active{background:var(--kern-color-action-state-indicator-shade-active)}.kern-btn--primary:disabled,.kern-btn--primary[disabled],.kern-btn--primary[aria-disabled=true]{background:var(--action-default, #1A3DA5);opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--secondary{border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);background:transparent}.kern-btn--secondary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--secondary:not(:disabled):hover,.kern-btn--secondary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--secondary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--secondary:disabled,.kern-btn--secondary[disabled],.kern-btn--secondary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}@media (forced-colors: active){.kern-btn--secondary{border:1px solid transparent!important}}.kern-btn--tertiary{background:transparent}.kern-btn--tertiary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--tertiary:not(:disabled):hover,.kern-btn--tertiary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--tertiary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--tertiary:disabled,.kern-btn--tertiary[disabled],.kern-btn--tertiary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--tertiary .kern-label{text-decoration:underline}.kern-btn--tertiary:hover .kern-label{text-decoration-thickness:var(--kern-3, 3px)}.kern-btn--tertiary:hover:disabled .kern-label,.kern-btn--tertiary:hover[disabled] .kern-label,.kern-btn--tertiary:hover[aria-disabled=true] .kern-label{text-decoration-thickness:var(--kern-metric-border-width-light, 1px)}.kern-btn--tertiary:has(.kern-icon) .kern-label{text-decoration:none}.kern-card{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex-shrink:0;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);height:100%}.kern-card--hug,.kern-card--hug .kern-card__container{height:auto}.kern-card__media{display:flex;padding:0px var(--kern-metric-space-none, 0px);justify-content:center;align-items:center;align-self:stretch}.kern-card__media *{width:100%;overflow:hidden;border-top-left-radius:var(--kern-metric-border-radius-default, 4px);border-top-right-radius:var(--kern-metric-border-radius-default, 4px)}.kern-card__container{display:flex;padding:var(--kern-metric-space-large, 24px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;height:100%}.kern-card__header{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-card__body{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px);align-self:stretch;flex:1 1 auto}.kern-card__footer{display:flex;flex-direction:row;flex-wrap:wrap;padding-top:var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch}.kern-card__footer .kern-btn{flex:1 1 0;min-width:fit-content}.kern-card--active,.kern-card--interactive{position:relative}.kern-card--active .kern-link--stretched,.kern-card--interactive .kern-link--stretched{color:var(--kern-color-action-default, #1A3DA5);letter-spacing:var(--kern-metric-space-none, 0px);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-2, 2px);text-underline-position:from-font}.kern-card--active .kern-link--stretched:after,.kern-card--interactive .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-card--active .kern-link--stretched:hover,.kern-card--interactive .kern-link--stretched:hover{text-decoration-thickness:3px}.kern-card--active .kern-link--stretched:hover:after,.kern-card--interactive .kern-link--stretched:hover:after{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-card--active .kern-link--stretched:active:after,.kern-card--interactive .kern-link--stretched:active:after{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-card--active .kern-link--stretched:focus-visible,.kern-card--interactive .kern-link--stretched:focus-visible{outline-color:transparent}.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-card--small .kern-card__container{padding:var(--kern-metric-space-default, 16px);gap:var(--kern-metric-space-small, 8px)}.kern-card--small .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--large .kern-card__container{padding:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-large, 24px)}.kern-card--large .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-form-check{display:grid;grid-template-columns:var(--kern-metric-dimension-large, 32px) auto;align-items:start;padding-right:var(--kern-metric-space-default, 16px)}.kern-form-check__radio,.kern-form-check__checkbox{width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);margin:var(--kern-metric-space-none, 0px);-webkit-appearance:none;-moz-appearance:none;appearance:none}.kern-form-check__radio:hover,.kern-form-check__checkbox:hover{border:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-default, 2px);outline:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:focus:hover,.kern-form-check__radio:focus-visible:hover,.kern-form-check__checkbox:focus:hover,.kern-form-check__checkbox:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-bold, 4px);outline-color:transparent;border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:checked:focus:hover,.kern-form-check__radio:checked:focus-visible:hover,.kern-form-check__checkbox:checked:focus:hover,.kern-form-check__checkbox:checked:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09);outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09)!important;outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio[disabled],.kern-form-check__radio[aria-disabled=true],.kern-form-check__checkbox[disabled],.kern-form-check__checkbox[aria-disabled=true]{outline:0;opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-check__radio[disabled]:checked,.kern-form-check__radio[aria-disabled=true]:checked,.kern-form-check__checkbox[disabled]:checked,.kern-form-check__checkbox[aria-disabled=true]:checked{outline:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio[disabled]:hover,.kern-form-check__radio[aria-disabled=true]:hover,.kern-form-check__checkbox[disabled]:hover,.kern-form-check__checkbox[aria-disabled=true]:hover{cursor:default}.kern-form-check__radio[disabled]~.kern-label,.kern-form-check__radio[aria-disabled=true]~.kern-label,.kern-form-check__checkbox[disabled]~.kern-label,.kern-form-check__checkbox[aria-disabled=true]~.kern-label{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:default}.kern-form-check .kern-label{font-weight:var(--kern-typography-font-weight-regular, 400);padding-top:var(--kern-metric-space-x-small, 4px);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-check .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-check .kern-error{grid-column:span 2;padding-top:var(--kern-metric-space-small, 8px)}.kern-form-check .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-check--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #bd0f09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check--error .kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #bd0f09)!important;outline-color:var(--kern-color-feedback-danger, #bd0f09)!important;background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-check--error .kern-form-check__radio:before{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-check__checkbox{border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-form-check__checkbox:before{content:""}.kern-form-check__checkbox:focus:before,.kern-form-check__checkbox:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox:checked:before{display:block;position:relative;left:var(--kern-3, 3px);top:var(--kern-8, 8px);transform:rotate(47deg) translate(-50%,-50%);background-color:transparent;border-width:var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-space-none, 0px);border-color:var(--kern-color-form-input-border, #171A2B);border-style:solid;height:var(--kern-metric-dimension-x-small, 16px);width:var(--kern-metric-dimension-2x-small, 8px);margin:4px}.kern-form-check__checkbox:checked:hover:before{margin:var(--kern-metric-space-2x-small, 2px)}.kern-form-check__checkbox:checked:focus:before,.kern-form-check__checkbox:checked:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-dialog{max-width:var(--kern-small, 768px);border-radius:var(--kern-metric-border-radius-large, 8px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);padding:var(--kern-metric-space-none, 0px)}.kern-dialog__header{display:flex;justify-content:space-between;min-height:var(--kern-metric-dimension-3x-large, 64px);padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-large, 32px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog .kern-title{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex:1 0 0}.kern-dialog__body{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog__footer{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);padding:var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px);border-top:1px solid var(--kern-color-layout-border, #A5AAC3)}@media (max-width: 576px){.kern-dialog__footer{flex-direction:column}}.kern-dialog__footer .kern-btn{flex-grow:1;align-self:stretch}.kern-dialog__footer .kern-btn+.kern-btn{margin-left:var(--kern-metric-space-none, 0px)}.kern-dialog::backdrop{background:var(--kern-color-layout-background-overlay)}@media (max-width: 768px){.kern-dialog{overflow-y:auto;min-width:100%;max-width:100%;margin-bottom:var(--kern-metric-space-none, 0px);border-radius:var(--border-radius-large, 8px) var(--kern-metric-border-radius-large, 8px) var(--kern-metric-border-radius-none, 0px) var(--kern-metric-border-radius-none, 0px)}}.kern-description-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-description-list p{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}.kern-description-list--col .kern-description-list-item{gap:var(--kern-metric-border-width-none, 0px)}.kern-description-list--col .kern-description-list-item__key,.kern-description-list--col .kern-description-list-item__value{width:100%;max-width:100%}.kern-description-list-item{display:flex;padding:var(--kern-metric-space-none, 0px);align-items:flex-start;align-content:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;flex-wrap:wrap;flex-direction:column;word-break:break-word}@media (min-width: 768px){.kern-description-list-item{flex-direction:row;gap:var(--kern-metric-space-x-large, 32px)}}.kern-description-list-item__key{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);font-weight:var(--kern-typography-font-weight-semi-bold, 600)}@media (min-width: 768px){.kern-description-list-item__key{width:30%;max-width:var(--kern-component-description-list-term-max-width, 352px)}}.kern-description-list-item__value{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-description-list-item__value ul{list-style:none;padding-left:var(--kern-metric-border-width-none, 0px)}@media (min-width: 768px){.kern-description-list-item__value{width:calc(70% - var(--kern-metric-space-x-large, 32px))}}.kern-divider{border:var(--kern-metric-border-radius-none, 0px);margin:var(--kern-metric-space-none, 0px);height:var(--kern-metric-border-width-light, 1px);background-color:var(--kern-color-layout-border, #A5AAC3)}@media (forced-colors: active){.kern-divider{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown{position:relative}.kern-dropdown[open] .kern-dropdown__header:before{content:"";width:100vw;height:100vh;position:fixed;top:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);cursor:auto}.kern-dropdown__header{cursor:pointer;list-style-type:none;display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-dropdown__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__header .kern-label{color:var(--kern-color-action-default, #1A3DA5);padding:var(--kern-metric-space-small, 8px)}.kern-dropdown__body{display:flex;z-index:99;position:absolute;left:0;flex-direction:column;border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);margin:2px;white-space:nowrap;background:var(--kern-color-layout-background-default);border-radius:var(--kern-metric-border-radius-default)}.kern-dropdown__body .kern-list{padding:0}.kern-dropdown__body .kern-list li{margin-bottom:var(--kern-metric-space-none, 0px);padding:.25rem 1rem .25rem 0;list-style:none;position:relative}.kern-dropdown__body .kern-list li:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__body .kern-list li .kern-link{text-decoration:none}.kern-dropdown__body .kern-list li:has(input:checked):before{content:"";-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5);position:absolute;top:8px;left:8px;width:24px;height:24px}@media (forced-colors: active){.kern-dropdown__body .kern-list li:has(input:checked):before{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__body .kern-list li label{width:100%;display:block;padding-left:2.5rem;color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__body .kern-list li label input{all:unset}.kern-fieldset{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px)}.kern-fieldset--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-fieldset legend{float:left}.kern-fieldset legend.kern-label{margin-bottom:var(--kern-metric-space-small, 8px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-fieldset:has(.kern-hint) legend.kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-fieldset .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-fieldset .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-fieldset .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-fieldset__body{width:100%;display:flex;flex-direction:column;gap:var(--kern-metric-space-default, 16px)}.kern-fieldset__body--horizontal{flex-direction:row;flex-wrap:wrap}.kern-fieldset .kern-error{margin-top:var(--kern-metric-space-small, 8px)}.kern-fieldset .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input .kern-label{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-input .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-input:has(.kern-hint) .kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-form-input .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input__input{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);height:var(--kern-metric-dimension-x-large, 48px);align-items:center;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border:none;border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);-webkit-box-orient:vertical;-webkit-line-clamp:1;line-clamp:1;text-overflow:ellipsis}@media (forced-colors: active){.kern-form-input__input{border:1px solid transparent!important}}.kern-form-input__input:hover{border-width:var(--kern-metric-border-width-bold, 4px);padding-top:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);border:none;padding-bottom:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border-radius:var(--kern-metric-border-radius-none, 0px);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:inherit;cursor:not-allowed}@media (forced-colors: active){.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border:1px solid transparent!important}}.kern-form-input__input[readonly]:hover,.kern-form-input__input[readonly=readonly]:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly]:focus,.kern-form-input__input[readonly=readonly]:focus{border-radius:var(--kern-metric-border-radius-small, 2px);padding-top:var(--kern-metric-border-width-light, 1px);border-width:var(--kern-metric-border-width-none, 0)}.kern-form-input__input[disabled],.kern-form-input__input[disabled=disabled],.kern-form-input__input[aria-disabled=true]{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:not-allowed}.kern-form-input__input[disabled]:hover,.kern-form-input__input[disabled=disabled]:hover,.kern-form-input__input[aria-disabled=true]:hover{border-width:var(--kern-metric-border-width-default, 2px);padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input--error{border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8)}@media (forced-colors: active){.kern-form-input__input--error{border:1px solid transparent!important}}.kern-form-input__input--error:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8);border:none}.kern-form-input__input--width-2{max-width:var(--kern-metric-dimension-2x-large)}.kern-form-input__input--width-4{max-width:var(--kern-metric-dimension-4x-large)}.kern-form-input input[type=file].kern-form-input__input{order:4;display:flex;padding:var(--kern-metric-space-large, 24px);gap:16px var(--kern-metric-space-default, 16px);align-items:flex-start;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);border:none;height:inherit}.kern-form-input input[type=file].kern-form-input__input:hover{outline:none;box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171A2B);cursor:pointer}@media (forced-colors: active){.kern-form-input input[type=file].kern-form-input__input:hover{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-layout-background-inverted);outline-offset:-4px}}.kern-form-input input[type=file].kern-form-input__input:focus{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B)}.kern-form-input input[type=file].kern-form-input__input:focus:hover{box-shadow:none}.kern-form-input input[type=file].kern-form-input__input[disabled],.kern-form-input input[type=file].kern-form-input__input[disabled=disabled],.kern-form-input input[type=file].kern-form-input__input[aria-disabled=true]{outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);box-shadow:none;cursor:not-allowed}.kern-form-input input[type=file].kern-form-input__input::file-selector-button{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);margin-right:var(--kern-metric-space-default, 16px);min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);color:var(--kern-color-action-default, #1A3DA5);background:#1a3da500}.kern-form-input .kern-error{order:5;margin-top:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-input--error input[type=file].kern-form-input__input,.kern-form-input--error .kern-form-input__input[type=file]{outline-color:var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:hover,.kern-form-input--error .kern-form-input__input[type=file]:hover{background:var(--kern-color-feedback-danger-background, #FEECE8);box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:focus,.kern-form-input--error .kern-form-input__input[type=file]:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09)}textarea{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px)!important;min-height:var(--kern-metric-dimension-5x-large, 96px)}textarea.kern-form-input__input:hover{padding-top:var(--kern-metric-space-none, 0px)}input[type=checkbox],input[type=color],input[type=file],input[type=radio],input[type=range],input[type=file]::-webkit-file-upload-button,label,option,select{cursor:pointer}.kern-kopfzeile{background:var(--kern-color-layout-background-hued, #F7F7F9);padding:var(--kern-component-kopfzeile-padding, 5px) var(--kern-metric-space-none, 0px)}@media (forced-colors: active){.kern-kopfzeile{border-bottom:1px solid transparent}}.kern-kopfzeile__content{display:flex;padding:var(--kern-1, 1px) var(--kern-metric-space-none, 0px);align-items:center;gap:var(--kern-metric-space-small, 8px)}.kern-kopfzeile__flagge{display:flex;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-small, 20px);padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-none, 0px)}.kern-kopfzeile__flagge svg{vertical-align:baseline;outline:var(--kern-1, 1px) solid #FFFFFF}.kern-kopfzeile__label{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-component-kopfzeile-font-family, "Fira Sans");font-style:normal;font-weight:400;font-size:var(--kern-component-kopfzeile-font-size, 16px);line-height:var(--kern-component-kopfzeile-line-height, 20px)}@media only screen and (max-width: 768px){.kern-kopfzeile__flagge{width:var(--kern-18, 18px);height:var(--kern-16, 16px)}.kern-kopfzeile__label{font-size:var(--kern-14, 14px);line-height:var(--kern-16, 16px)}.kern-kopfzeile .kern-container,.kern-kopfzeile .kern-container-fluid{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}}.kern-loader{display:none;box-sizing:border-box;border-width:10px;border-style:solid;border-color:var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader);width:var(--kern-metric-dimension-5x-large, 96px);height:var(--kern-metric-dimension-5x-large, 96px);border-radius:50%;animation:rotation 1.5s linear infinite;position:relative}@media (forced-colors: active){.kern-loader{border-color:var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-inverted);forced-color-adjust:none;outline-color:transparent;box-shadow:0 0 0 1px var(--kern-color-layout-background-inverted),inset 0 0 0 1px var(--kern-color-layout-background-inverted)}}.kern-loader:before,.kern-loader:after{content:"";height:var(--semantic-size-xs, 10px);background:var(--kern-color-feedback-loader);position:absolute}.kern-loader:before{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);top:var(--kern-metric-space-2x-small, 2px);transform:rotate(-45deg)}.kern-loader:after{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);bottom:var(--kern-metric-space-2x-small, 2px);transform:rotate(45deg)}.kern-loader--visible{display:block}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.kern-progress{display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-progress progress[value]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;width:100%;height:var(--kern-metric-dimension-2x-small, 8px);border-radius:var(--kern-metric-border-radius-small, 2px);background:var(--kern-color-feedback-loader-background, #DFE1EA);color:var(--kern-color-feedback-loader)}.kern-progress progress[value]::-webkit-progress-bar{background:var(--kern-color-feedback-loader-background, #DFE1EA);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}@media (forced-colors: active){.kern-progress progress[value]{background-color:var(--kern-color-layout-background-default);border:1px solid var(--kern-color-layout-background-inverted);color:var(--kern-color-layout-background-inverted);forced-color-adjust:none}.kern-progress progress[value]::-webkit-progress-bar{background-color:var(--kern-color-layout-background-default)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-layout-background-inverted)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-layout-background-inverted)}}.kern-form-check__radio{display:flex;border-radius:100%}.kern-form-check__radio:before{border-radius:100%;content:"";margin:auto}.kern-form-check__radio:checked:before{background-color:var(--kern-color-form-input-border, #171A2B);height:var(--kern-12, 12px);width:var(--kern-12, 12px)}.kern-form-check__radio--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-input:has(select[disabled]),.kern-form-input:has(select[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(select[disabled]) .kern-label,.kern-form-input:has(select[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input__select-wrapper:has(.kern-form-input__select--error){border-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):after{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):hover{border-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper{position:relative;display:flex;height:var(--kern-metric-dimension-x-large, 48px);gap:var(--kern-metric-space-none, 0px);align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9)}@media (forced-colors: active){.kern-form-input__select-wrapper{border:1px solid transparent!important}}.kern-form-input__select-wrapper:has(select[disabled]),.kern-form-input__select-wrapper:has(select[aria-disabled=true]){opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-input__select-wrapper:hover{border-bottom:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-space-small, 8px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}@media (forced-colors: active){.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus) .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:hover:has(select[disabled]),.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(select[disabled]) .kern-form-input__select,.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]) .kern-form-input__select{padding:var(--kern-metric-space-small, 6px) var(--kern-metric-space-default, 16px) var(--kern-4, 4px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:after{content:" ";display:inline-block;position:absolute;right:var(--kern-metric-dimension-x-small, 16px);top:var(--kern-metric-dimension-default, 24px);transform:translateY(-50%);pointer-events:none;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default)}@media (forced-colors: active){.kern-form-input__select-wrapper:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-form-input__select{background-color:transparent;box-sizing:border-box;width:100%;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;overflow:hidden;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);border:none}.kern-form-input__select--error:focus{outline-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select option{margin:40px;background:var(--kern-color-form-input-background, #f7f7f9)}.kern-form-input__select[disabled],.kern-form-input__select[disabled=disabled],.kern-form-input__select[aria-disabled=true]{opacity:.7;cursor:not-allowed}.kern-summary-group__header{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;padding:var(--kern-metric-baseline-heading-medium-padding-top, 8px) var(--kern-metric-space-none, 0px) calc(var(--kern-metric-baseline-heading-medium-padding-bottom, 8px) + var(--kern-metric-space-default, 16px)) var(--kern-metric-space-none, 0px);margin-top:var(--kern-metric-space-x-large, 32px)}.kern-summary-group__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-summary__header{display:flex;padding:var(--kern-metric-space-default, 16px) var(--skern-pace-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-self:stretch}.kern-summary__header .kern-number{margin-top:var(--kern-metric-space-x-small, 4px)}.kern-summary .kern-title{font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-summary__body{display:flex;padding:var(--kern-metric-space-default, 16px);flex-direction:column;gap:var(--kern-metric-space-x-large, 32px);border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #f7f7f9)}@media (forced-colors: active){.kern-summary__body{border:1px solid transparent!important}}.kern-table{width:100%;border-spacing:var(--kern-metric-space-none, 0px);border-collapse:collapse}.kern-table--small .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-table--small .kern-table__header,.kern-table--small .kern-table__cell{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-small-padding-top, 7px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-small-padding-bottom, 1px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table--small .kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__header,.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__cell{background-color:var(--kern-color-layout-background-hued, #F7F7F9)}.kern-table .kern-title{display:table-caption;text-align:left}.kern-table__header,.kern-table__cell{text-align:left;vertical-align:top;box-shadow:inset 0 -1px 0 0 var(--kern-color-layout-border, #A5AAC3);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-default-padding-top, 6px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-default-padding-bottom, 2px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table__header--numeric,.kern-table__cell--numeric{text-align:right}@media (forced-colors: active){.kern-table__header,.kern-table__cell{border-bottom:1px solid transparent}}.kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table__footer{box-shadow:inset 0 1px 0 0 var(--kern-color-layout-border, #A5AAC3)}.kern-table__footer .kern-table__cell{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}.kern-task-list{display:block}.kern-task-list-group{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header{display:flex;padding-bottom:var(--kern-metric-space-default, 16px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;margin-top:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-task-list__header .kern-heading{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-task-list__list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px);align-self:stretch;list-style:none}.kern-task-list__item{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex:1 0 0;justify-content:space-between;position:relative;border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #F7F7F9)}@media (forced-colors: active){.kern-task-list__item{border:1px solid transparent!important}}.kern-task-list__item .kern-number{margin-top:var(--kern-12, 12px)}.kern-task-list__item:has(.kern-link){color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item:has(.kern-link) .kern-number{color:var(--kern-color-action-default, #1A3DA5);border-color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible{outline-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}.kern-task-list__item:has(.kern-link--stretched:hover){background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-task-list__item:has(.kern-link--stretched:active){background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-task-list__title{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex-grow:1;flex-wrap:wrap}@media all and (min-width: 768px){.kern-task-list__title{flex-wrap:nowrap}}.kern-task-list__title .kern-link:visited{color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__title .kern-link,.kern-task-list__title .kern-body{flex-grow:1}.kern-task-list__status{text-align:right;white-space:nowrap}.kern-body{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-body--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--bold{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-body--muted{color:var(--kern-color-layout-text-muted, #404565)}.kern-hint{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-layout-text-muted, #404565)}.kern-heading-display{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-display-padding-top, 12px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-display-padding-bottom, 12px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-2x-large, 48px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-2x-large, 56px)}.kern-heading-x-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-x-large-padding-top, 9px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-x-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-x-large, 32px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-x-large, 40px)}.kern-heading-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-heading-medium{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-heading-small{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-label{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-label--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-label--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-link{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font;display:inline-flex;align-items:flex-start;gap:var(--kern-metric-space-x-small, 4px)}.kern-link .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:has(.kern-icon){text-decoration:none}.kern-link:has(.kern-icon):active,.kern-link:has(.kern-icon):hover{text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-3, 3px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font}.kern-link:hover{text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active{color:var(--kern-color-action-default, #1A3DA5);text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:visited{color:var(--kern-color-action-visited, #75009E)}.kern-link:visited .kern-icon{background-color:var(--kern-color-action-visited, #75009E)}.kern-link--small{gap:var(--kern-metric-space-2x-small, 2px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-link--small .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-link:not(.kern-link--stretched):focus-visible{position:relative;z-index:1;outline-color:transparent;border-radius:var(--kern-metric-border-radius-small, .125rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-link:not(.kern-link--stretched):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}a.kern-btn{text-decoration:none}.kern-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;list-style:none;display:flex;flex-direction:column;gap:var(--kern-metric-space-none, 0);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding-left:var(--kern-metric-space-none, 0)}.kern-list--small{font-size:var(--kern-typography-font-size-static-small, 16px);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px)}.kern-list--small .kern-link{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-list--small .kern-link .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-list--large{font-size:var(--kern-typography-font-size-static-large, 21px);line-height:var(--kern-typography-line-height-static-large, 32px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px)}.kern-list--bullet{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:disc}.kern-list--number{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:decimal}.kern-list--horizontal{flex-direction:row;gap:var(--kern-metric-space-none, 0) var(--kern-metric-space-default, 16px);flex-wrap:wrap}.kern-subline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-subline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-subline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-preline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-preline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-preline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-title{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-default-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-default-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-title--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-title--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-container-fluid,.kern-container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;box-sizing:border-box}[class^=kern-col],[class*=kern-col]{padding:1rem;box-sizing:border-box}.kern-container{max-width:1600px}.kern-row{display:flex;flex-wrap:wrap;margin-left:-1rem;margin-right:-1rem;box-sizing:border-box}.kern-row>*{flex-shrink:0;width:100%;max-width:100%}.kern-col{flex:1 0 0%}.kern-align-items-start{align-items:flex-start!important}.kern-align-items-center{align-items:center!important}.kern-align-items-end{align-items:flex-end!important}.kern-align-self-start{align-self:flex-start!important}.kern-align-self-center{align-self:center!important}.kern-align-self-end{align-self:flex-end!important}.kern-justify-content-start{justify-content:flex-start!important}.kern-justify-content-center{justify-content:center!important}.kern-justify-content-end{justify-content:flex-end!important}.kern-justify-content-around{justify-content:space-around!important}.kern-justify-content-between{justify-content:space-between!important}.kern-justify-content-evenly{justify-content:space-evenly!important}.kern-col-1{flex:0 0 auto;width:8.3333333333%}.kern-col-offset-1{margin-left:8.3333333333%}.kern-col-2{flex:0 0 auto;width:16.6666666667%}.kern-col-offset-2{margin-left:16.6666666667%}.kern-col-3{flex:0 0 auto;width:25%}.kern-col-offset-3{margin-left:25%}.kern-col-4{flex:0 0 auto;width:33.3333333333%}.kern-col-offset-4{margin-left:33.3333333333%}.kern-col-5{flex:0 0 auto;width:41.6666666667%}.kern-col-offset-5{margin-left:41.6666666667%}.kern-col-6{flex:0 0 auto;width:50%}.kern-col-offset-6{margin-left:50%}.kern-col-7{flex:0 0 auto;width:58.3333333333%}.kern-col-offset-7{margin-left:58.3333333333%}.kern-col-8{flex:0 0 auto;width:66.6666666667%}.kern-col-offset-8{margin-left:66.6666666667%}.kern-col-9{flex:0 0 auto;width:75%}.kern-col-offset-9{margin-left:75%}.kern-col-10{flex:0 0 auto;width:83.3333333333%}.kern-col-offset-10{margin-left:83.3333333333%}.kern-col-11{flex:0 0 auto;width:91.6666666667%}.kern-col-offset-11{margin-left:91.6666666667%}.kern-col-12{flex:0 0 auto;width:100%}.kern-col-offset-12{margin-left:100%}@media (min-width: 576px){.kern-container{max-width:96%}.kern-col-sm-offset-0{margin-left:0}.kern-col-sm-1{width:8.3333333333%}.kern-col-sm-offset-1{margin-left:8.3333333333%}.kern-col-sm-2{width:16.6666666667%}.kern-col-sm-offset-2{margin-left:16.6666666667%}.kern-col-sm-3{width:25%}.kern-col-sm-offset-3{margin-left:25%}.kern-col-sm-4{width:33.3333333333%}.kern-col-sm-offset-4{margin-left:33.3333333333%}.kern-col-sm-5{width:41.6666666667%}.kern-col-sm-offset-5{margin-left:41.6666666667%}.kern-col-sm-6{width:50%}.kern-col-sm-offset-6{margin-left:50%}.kern-col-sm-7{width:58.3333333333%}.kern-col-sm-offset-7{margin-left:58.3333333333%}.kern-col-sm-8{width:66.6666666667%}.kern-col-sm-offset-8{margin-left:66.6666666667%}.kern-col-sm-9{width:75%}.kern-col-sm-offset-9{margin-left:75%}.kern-col-sm-10{width:83.3333333333%}.kern-col-sm-offset-10{margin-left:83.3333333333%}.kern-col-sm-11{width:91.6666666667%}.kern-col-sm-offset-11{margin-left:91.6666666667%}.kern-col-sm-12{width:100%}.kern-col-sm-offset-12{margin-left:100%}}@media (min-width: 768px){.kern-container{max-width:96%}.kern-col-md-offset-0{margin-left:0}.kern-col-md-1{width:8.3333333333%}.kern-col-md-offset-1{margin-left:8.3333333333%}.kern-col-md-2{width:16.6666666667%}.kern-col-md-offset-2{margin-left:16.6666666667%}.kern-col-md-3{width:25%}.kern-col-md-offset-3{margin-left:25%}.kern-col-md-4{width:33.3333333333%}.kern-col-md-offset-4{margin-left:33.3333333333%}.kern-col-md-5{width:41.6666666667%}.kern-col-md-offset-5{margin-left:41.6666666667%}.kern-col-md-6{width:50%}.kern-col-md-offset-6{margin-left:50%}.kern-col-md-7{width:58.3333333333%}.kern-col-md-offset-7{margin-left:58.3333333333%}.kern-col-md-8{width:66.6666666667%}.kern-col-md-offset-8{margin-left:66.6666666667%}.kern-col-md-9{width:75%}.kern-col-md-offset-9{margin-left:75%}.kern-col-md-10{width:83.3333333333%}.kern-col-md-offset-10{margin-left:83.3333333333%}.kern-col-md-11{width:91.6666666667%}.kern-col-md-offset-11{margin-left:91.6666666667%}.kern-col-md-12{width:100%}.kern-col-md-offset-12{margin-left:100%}}@media (min-width: 992px){.kern-container{max-width:96%}.kern-col-lg-offset-0{margin-left:0}.kern-col-lg-1{width:8.3333333333%}.kern-col-lg-offset-1{margin-left:8.3333333333%}.kern-col-lg-2{width:16.6666666667%}.kern-col-lg-offset-2{margin-left:16.6666666667%}.kern-col-lg-3{width:25%}.kern-col-lg-offset-3{margin-left:25%}.kern-col-lg-4{width:33.3333333333%}.kern-col-lg-offset-4{margin-left:33.3333333333%}.kern-col-lg-5{width:41.6666666667%}.kern-col-lg-offset-5{margin-left:41.6666666667%}.kern-col-lg-6{width:50%}.kern-col-lg-offset-6{margin-left:50%}.kern-col-lg-7{width:58.3333333333%}.kern-col-lg-offset-7{margin-left:58.3333333333%}.kern-col-lg-8{width:66.6666666667%}.kern-col-lg-offset-8{margin-left:66.6666666667%}.kern-col-lg-9{width:75%}.kern-col-lg-offset-9{margin-left:75%}.kern-col-lg-10{width:83.3333333333%}.kern-col-lg-offset-10{margin-left:83.3333333333%}.kern-col-lg-11{width:91.6666666667%}.kern-col-lg-offset-11{margin-left:91.6666666667%}.kern-col-lg-12{width:100%}.kern-col-lg-offset-12{margin-left:100%}}@media (min-width: 1200px){.kern-container{max-width:96%}.kern-col-xl-offset-0{margin-left:0}.kern-col-xl-1{width:8.3333333333%}.kern-col-xl-offset-1{margin-left:8.3333333333%}.kern-col-xl-2{width:16.6666666667%}.kern-col-xl-offset-2{margin-left:16.6666666667%}.kern-col-xl-3{width:25%}.kern-col-xl-offset-3{margin-left:25%}.kern-col-xl-4{width:33.3333333333%}.kern-col-xl-offset-4{margin-left:33.3333333333%}.kern-col-xl-5{width:41.6666666667%}.kern-col-xl-offset-5{margin-left:41.6666666667%}.kern-col-xl-6{width:50%}.kern-col-xl-offset-6{margin-left:50%}.kern-col-xl-7{width:58.3333333333%}.kern-col-xl-offset-7{margin-left:58.3333333333%}.kern-col-xl-8{width:66.6666666667%}.kern-col-xl-offset-8{margin-left:66.6666666667%}.kern-col-xl-9{width:75%}.kern-col-xl-offset-9{margin-left:75%}.kern-col-xl-10{width:83.3333333333%}.kern-col-xl-offset-10{margin-left:83.3333333333%}.kern-col-xl-11{width:91.6666666667%}.kern-col-xl-offset-11{margin-left:91.6666666667%}.kern-col-xl-12{width:100%}.kern-col-xl-offset-12{margin-left:100%}}@media (min-width: 1600px){.kern-container{max-width:1536px}.kern-col-xxl-offset-0{margin-left:0}.kern-col-xxl-1{width:8.3333333333%}.kern-col-xxl-offset-1{margin-left:8.3333333333%}.kern-col-xxl-2{width:16.6666666667%}.kern-col-xxl-offset-2{margin-left:16.6666666667%}.kern-col-xxl-3{width:25%}.kern-col-xxl-offset-3{margin-left:25%}.kern-col-xxl-4{width:33.3333333333%}.kern-col-xxl-offset-4{margin-left:33.3333333333%}.kern-col-xxl-5{width:41.6666666667%}.kern-col-xxl-offset-5{margin-left:41.6666666667%}.kern-col-xxl-6{width:50%}.kern-col-xxl-offset-6{margin-left:50%}.kern-col-xxl-7{width:58.3333333333%}.kern-col-xxl-offset-7{margin-left:58.3333333333%}.kern-col-xxl-8{width:66.6666666667%}.kern-col-xxl-offset-8{margin-left:66.6666666667%}.kern-col-xxl-9{width:75%}.kern-col-xxl-offset-9{margin-left:75%}.kern-col-xxl-10{width:83.3333333333%}.kern-col-xxl-offset-10{margin-left:83.3333333333%}.kern-col-xxl-11{width:91.6666666667%}.kern-col-xxl-offset-11{margin-left:91.6666666667%}.kern-col-xxl-12{width:100%}.kern-col-xxl-offset-12{margin-left:100%}}:root{--kern-darkblue-025-lightness: 97.29%;--kern-darkblue-025-chroma: .0081;--kern-darkblue-025-hue: 261.5;--kern-darkblue-050-lightness: 95.28%;--kern-darkblue-050-chroma: .0144;--kern-darkblue-050-hue: 267.3;--kern-darkblue-100-lightness: 90.65%;--kern-darkblue-100-chroma: .0284;--kern-darkblue-100-hue: 265.8;--kern-darkblue-150-lightness: 87.02%;--kern-darkblue-150-chroma: .0397;--kern-darkblue-150-hue: 264.3;--kern-darkblue-200-lightness: 82.15%;--kern-darkblue-200-chroma: .0557;--kern-darkblue-200-hue: 265.6;--kern-darkblue-250-lightness: 78.4%;--kern-darkblue-250-chroma: .0671;--kern-darkblue-250-hue: 265.4;--kern-darkblue-300-lightness: 73.65%;--kern-darkblue-300-chroma: .083;--kern-darkblue-300-hue: 265.2;--kern-darkblue-350-lightness: 69.99%;--kern-darkblue-350-chroma: .0926;--kern-darkblue-350-hue: 265;--kern-darkblue-400-lightness: 66.28%;--kern-darkblue-400-chroma: .1035;--kern-darkblue-400-hue: 264.7;--kern-darkblue-450-lightness: 61.27%;--kern-darkblue-450-chroma: .1195;--kern-darkblue-450-hue: 265.5;--kern-darkblue-500-lightness: 57.58%;--kern-darkblue-500-chroma: .1302;--kern-darkblue-500-hue: 265.1;--kern-darkblue-550-lightness: 52.55%;--kern-darkblue-550-chroma: .1462;--kern-darkblue-550-hue: 265.4;--kern-darkblue-600-lightness: 48.97%;--kern-darkblue-600-chroma: .1552;--kern-darkblue-600-hue: 264.9;--kern-darkblue-650-lightness: 45%;--kern-darkblue-650-chroma: .166;--kern-darkblue-650-hue: 265.1;--kern-darkblue-700-lightness: 40.4%;--kern-darkblue-700-chroma: .1713;--kern-darkblue-700-hue: 265.1;--kern-darkblue-750-lightness: 36.29%;--kern-darkblue-750-chroma: .1831;--kern-darkblue-750-hue: 265;--kern-darkblue-800-lightness: 32.18%;--kern-darkblue-800-chroma: .1841;--kern-darkblue-800-hue: 265;--kern-darkblue-850-lightness: 28.85%;--kern-darkblue-850-chroma: .1905;--kern-darkblue-850-hue: 264.9;--kern-darkblue-900-lightness: 24.13%;--kern-darkblue-900-chroma: .1635;--kern-darkblue-900-hue: 266.4;--kern-darkblue-950-lightness: 19.3%;--kern-darkblue-950-chroma: .1283;--kern-darkblue-950-hue: 268.4}:root{--kern-lightblue-025-lightness: 97.93%;--kern-lightblue-025-chroma: .0112;--kern-lightblue-025-hue: 225.1;--kern-lightblue-050-lightness: 95.27%;--kern-lightblue-050-chroma: .0248;--kern-lightblue-050-hue: 223.4;--kern-lightblue-100-lightness: 90.47%;--kern-lightblue-100-chroma: .0495;--kern-lightblue-100-hue: 225.8;--kern-lightblue-150-lightness: 86.16%;--kern-lightblue-150-chroma: .0716;--kern-lightblue-150-hue: 224.5;--kern-lightblue-200-lightness: 82.29%;--kern-lightblue-200-chroma: .0929;--kern-lightblue-200-hue: 223.5;--kern-lightblue-250-lightness: 77.87%;--kern-lightblue-250-chroma: .1157;--kern-lightblue-250-hue: 223.4;--kern-lightblue-300-lightness: 72.6%;--kern-lightblue-300-chroma: .1365;--kern-lightblue-300-hue: 224.1;--kern-lightblue-350-lightness: 69.31%;--kern-lightblue-350-chroma: .1331;--kern-lightblue-350-hue: 226.5;--kern-lightblue-400-lightness: 65.7%;--kern-lightblue-400-chroma: .126;--kern-lightblue-400-hue: 226.3;--kern-lightblue-450-lightness: 60.49%;--kern-lightblue-450-chroma: .1218;--kern-lightblue-450-hue: 230.9;--kern-lightblue-500-lightness: 56.36%;--kern-lightblue-500-chroma: .1102;--kern-lightblue-500-hue: 228.3;--kern-lightblue-550-lightness: 51.87%;--kern-lightblue-550-chroma: .1098;--kern-lightblue-550-hue: 234.8;--kern-lightblue-600-lightness: 47.63%;--kern-lightblue-600-chroma: .1034;--kern-lightblue-600-hue: 236.6;--kern-lightblue-650-lightness: 42.88%;--kern-lightblue-650-chroma: .0984;--kern-lightblue-650-hue: 240.1;--kern-lightblue-700-lightness: 39.45%;--kern-lightblue-700-chroma: .0961;--kern-lightblue-700-hue: 243.4;--kern-lightblue-750-lightness: 34.98%;--kern-lightblue-750-chroma: .0901;--kern-lightblue-750-hue: 246.1;--kern-lightblue-800-lightness: 31%;--kern-lightblue-800-chroma: .0905;--kern-lightblue-800-hue: 251.1;--kern-lightblue-850-lightness: 26.58%;--kern-lightblue-850-chroma: .0837;--kern-lightblue-850-hue: 253.7;--kern-lightblue-900-lightness: 22.62%;--kern-lightblue-900-chroma: .0845;--kern-lightblue-900-hue: 258.2;--kern-lightblue-950-lightness: 18.48%;--kern-lightblue-950-chroma: .0867;--kern-lightblue-950-hue: 262.2}:root{--kern-turquoise-025-lightness: 97.64%;--kern-turquoise-025-chroma: .0123;--kern-turquoise-025-hue: 172.2;--kern-turquoise-050-lightness: 95.45%;--kern-turquoise-050-chroma: .0269;--kern-turquoise-050-hue: 171.7;--kern-turquoise-100-lightness: 90.68%;--kern-turquoise-100-chroma: .0593;--kern-turquoise-100-hue: 170.5;--kern-turquoise-150-lightness: 85.52%;--kern-turquoise-150-chroma: .0888;--kern-turquoise-150-hue: 171;--kern-turquoise-200-lightness: 81.34%;--kern-turquoise-200-chroma: .1071;--kern-turquoise-200-hue: 170.7;--kern-turquoise-250-lightness: 77.21%;--kern-turquoise-250-chroma: .1209;--kern-turquoise-250-hue: 170.3;--kern-turquoise-300-lightness: 72.07%;--kern-turquoise-300-chroma: .1298;--kern-turquoise-300-hue: 170.4;--kern-turquoise-350-lightness: 68.64%;--kern-turquoise-350-chroma: .1341;--kern-turquoise-350-hue: 170;--kern-turquoise-400-lightness: 63.71%;--kern-turquoise-400-chroma: .1258;--kern-turquoise-400-hue: 170.2;--kern-turquoise-450-lightness: 59.21%;--kern-turquoise-450-chroma: .1187;--kern-turquoise-450-hue: 168.9;--kern-turquoise-500-lightness: 54.7%;--kern-turquoise-500-chroma: .1094;--kern-turquoise-500-hue: 169.1;--kern-turquoise-550-lightness: 51.64%;--kern-turquoise-550-chroma: .1031;--kern-turquoise-550-hue: 169.3;--kern-turquoise-600-lightness: 46.91%;--kern-turquoise-600-chroma: .0948;--kern-turquoise-600-hue: 168.1;--kern-turquoise-650-lightness: 42.12%;--kern-turquoise-650-chroma: .0848;--kern-turquoise-650-hue: 168.5;--kern-turquoise-700-lightness: 38.81%;--kern-turquoise-700-chroma: .079;--kern-turquoise-700-hue: 167.5;--kern-turquoise-750-lightness: 33.77%;--kern-turquoise-750-chroma: .0682;--kern-turquoise-750-hue: 168.2;--kern-turquoise-800-lightness: 30.31%;--kern-turquoise-800-chroma: .0608;--kern-turquoise-800-hue: 168.9;--kern-turquoise-850-lightness: 26.7%;--kern-turquoise-850-chroma: .0545;--kern-turquoise-850-hue: 167.3;--kern-turquoise-900-lightness: 21.11%;--kern-turquoise-900-chroma: .0425;--kern-turquoise-900-hue: 168.5;--kern-turquoise-950-lightness: 17.16%;--kern-turquoise-950-chroma: .0342;--kern-turquoise-950-hue: 169.5}:root{--kern-green-025-lightness: 97.95%;--kern-green-025-chroma: .0066;--kern-green-025-hue: 151.9;--kern-green-050-lightness: 95.9%;--kern-green-050-chroma: .0151;--kern-green-050-hue: 148.4;--kern-green-100-lightness: 90.51%;--kern-green-100-chroma: .0375;--kern-green-100-hue: 148.6;--kern-green-150-lightness: 86.51%;--kern-green-150-chroma: .0556;--kern-green-150-hue: 148.3;--kern-green-200-lightness: 81.85%;--kern-green-200-chroma: .074;--kern-green-200-hue: 149;--kern-green-250-lightness: 77.04%;--kern-green-250-chroma: .092;--kern-green-250-hue: 148.1;--kern-green-300-lightness: 72.45%;--kern-green-300-chroma: .1087;--kern-green-300-hue: 148.5;--kern-green-350-lightness: 68.55%;--kern-green-350-chroma: .1228;--kern-green-350-hue: 148.4;--kern-green-400-lightness: 63.71%;--kern-green-400-chroma: .1312;--kern-green-400-hue: 148.6;--kern-green-450-lightness: 59.26%;--kern-green-450-chroma: .1414;--kern-green-450-hue: 148.4;--kern-green-500-lightness: 54.55%;--kern-green-500-chroma: .1469;--kern-green-500-hue: 148.4;--kern-green-550-lightness: 50.64%;--kern-green-550-chroma: .1479;--kern-green-550-hue: 147.7;--kern-green-600-lightness: 45.99%;--kern-green-600-chroma: .1381;--kern-green-600-hue: 146.6;--kern-green-650-lightness: 42.82%;--kern-green-650-chroma: .1318;--kern-green-650-hue: 145.7;--kern-green-700-lightness: 38.01%;--kern-green-700-chroma: .118;--kern-green-700-hue: 145.4;--kern-green-750-lightness: 34.7%;--kern-green-750-chroma: .1103;--kern-green-750-hue: 144.6;--kern-green-800-lightness: 29.62%;--kern-green-800-chroma: .095;--kern-green-800-hue: 144.4;--kern-green-850-lightness: 26.11%;--kern-green-850-chroma: .0844;--kern-green-850-hue: 144.1;--kern-green-900-lightness: 20.63%;--kern-green-900-chroma: .0664;--kern-green-900-hue: 144.2;--kern-green-950-lightness: 16.76%;--kern-green-950-chroma: .0542;--kern-green-950-hue: 144.1}:root{--kern-limette-025-lightness: 97.02%;--kern-limette-025-chroma: .0694;--kern-limette-025-hue: 120.6;--kern-limette-050-lightness: 95.09%;--kern-limette-050-chroma: .1155;--kern-limette-050-hue: 120.8;--kern-limette-100-lightness: 90.24%;--kern-limette-100-chroma: .1656;--kern-limette-100-hue: 120.8;--kern-limette-150-lightness: 86.02%;--kern-limette-150-chroma: .1845;--kern-limette-150-hue: 121.2;--kern-limette-200-lightness: 81.36%;--kern-limette-200-chroma: .1887;--kern-limette-200-hue: 120.7;--kern-limette-250-lightness: 77.69%;--kern-limette-250-chroma: .1864;--kern-limette-250-hue: 121;--kern-limette-300-lightness: 73.21%;--kern-limette-300-chroma: .1755;--kern-limette-300-hue: 120.9;--kern-limette-350-lightness: 68.65%;--kern-limette-350-chroma: .1645;--kern-limette-350-hue: 120.9;--kern-limette-400-lightness: 65.38%;--kern-limette-400-chroma: .1582;--kern-limette-400-hue: 121.8;--kern-limette-450-lightness: 60.7%;--kern-limette-450-chroma: .1467;--kern-limette-450-hue: 121.7;--kern-limette-500-lightness: 55.93%;--kern-limette-500-chroma: .135;--kern-limette-500-hue: 121.6;--kern-limette-550-lightness: 51.06%;--kern-limette-550-chroma: .1231;--kern-limette-550-hue: 121.4;--kern-limette-600-lightness: 47.75%;--kern-limette-600-chroma: .115;--kern-limette-600-hue: 121.3;--kern-limette-650-lightness: 42.55%;--kern-limette-650-chroma: .1032;--kern-limette-650-hue: 122;--kern-limette-700-lightness: 39.09%;--kern-limette-700-chroma: .0946;--kern-limette-700-hue: 121.8;--kern-limette-750-lightness: 35.55%;--kern-limette-750-chroma: .0858;--kern-limette-750-hue: 121.6;--kern-limette-800-lightness: 30%;--kern-limette-800-chroma: .0727;--kern-limette-800-hue: 121.9;--kern-limette-850-lightness: 26.21%;--kern-limette-850-chroma: .0631;--kern-limette-850-hue: 121.3;--kern-limette-900-lightness: 22.14%;--kern-limette-900-chroma: .0541;--kern-limette-900-hue: 122.7;--kern-limette-950-lightness: 18.08%;--kern-limette-950-chroma: .0434;--kern-limette-950-hue: 121.1}:root{--kern-yellow-025-lightness: 97.15%;--kern-yellow-025-chroma: .1207;--kern-yellow-025-hue: 106.7;--kern-yellow-050-lightness: 94.9%;--kern-yellow-050-chroma: .1515;--kern-yellow-050-hue: 104.1;--kern-yellow-100-lightness: 90.5%;--kern-yellow-100-chroma: .1776;--kern-yellow-100-hue: 98.18;--kern-yellow-150-lightness: 86.85%;--kern-yellow-150-chroma: .1781;--kern-yellow-150-hue: 94.26;--kern-yellow-200-lightness: 82.83%;--kern-yellow-200-chroma: .1699;--kern-yellow-200-hue: 94.33;--kern-yellow-250-lightness: 78.01%;--kern-yellow-250-chroma: .1597;--kern-yellow-250-hue: 92.52;--kern-yellow-300-lightness: 73.93%;--kern-yellow-300-chroma: .1513;--kern-yellow-300-hue: 92.61;--kern-yellow-350-lightness: 69.79%;--kern-yellow-350-chroma: .1428;--kern-yellow-350-hue: 92.72;--kern-yellow-400-lightness: 65.58%;--kern-yellow-400-chroma: .1343;--kern-yellow-400-hue: 92.85;--kern-yellow-450-lightness: 61.31%;--kern-yellow-450-chroma: .1255;--kern-yellow-450-hue: 92.99;--kern-yellow-500-lightness: 56.96%;--kern-yellow-500-chroma: .1166;--kern-yellow-500-hue: 93.17;--kern-yellow-550-lightness: 52.05%;--kern-yellow-550-chroma: .1064;--kern-yellow-550-hue: 91.55;--kern-yellow-600-lightness: 47.57%;--kern-yellow-600-chroma: .0973;--kern-yellow-600-hue: 91.85;--kern-yellow-650-lightness: 44.52%;--kern-yellow-650-chroma: .0911;--kern-yellow-650-hue: 92.09;--kern-yellow-700-lightness: 39.84%;--kern-yellow-700-chroma: .0815;--kern-yellow-700-hue: 92.54;--kern-yellow-750-lightness: 34.74%;--kern-yellow-750-chroma: .071;--kern-yellow-750-hue: 91.44;--kern-yellow-800-lightness: 31.21%;--kern-yellow-800-chroma: .0638;--kern-yellow-800-hue: 90.35;--kern-yellow-850-lightness: 25.99%;--kern-yellow-850-chroma: .0531;--kern-yellow-850-hue: 90.14;--kern-yellow-900-lightness: 22.55%;--kern-yellow-900-chroma: .0461;--kern-yellow-900-hue: 91.64;--kern-yellow-950-lightness: 18.61%;--kern-yellow-950-chroma: .038;--kern-yellow-950-hue: 89.88}:root{--kern-orange-025-lightness: 98%;--kern-orange-025-chroma: .0188;--kern-orange-025-hue: 81.5;--kern-orange-050-lightness: 95.85%;--kern-orange-050-chroma: .0433;--kern-orange-050-hue: 84.57;--kern-orange-100-lightness: 91.5%;--kern-orange-100-chroma: .0891;--kern-orange-100-hue: 84.2;--kern-orange-150-lightness: 87.38%;--kern-orange-150-chroma: .1245;--kern-orange-150-hue: 81.4;--kern-orange-200-lightness: 83.3%;--kern-orange-200-chroma: .1517;--kern-orange-200-hue: 77.01;--kern-orange-250-lightness: 79.67%;--kern-orange-250-chroma: .1689;--kern-orange-250-hue: 71.24;--kern-orange-300-lightness: 74.41%;--kern-orange-300-chroma: .1646;--kern-orange-300-hue: 66.86;--kern-orange-350-lightness: 70.85%;--kern-orange-350-chroma: .1565;--kern-orange-350-hue: 67.04;--kern-orange-400-lightness: 66.63%;--kern-orange-400-chroma: .1493;--kern-orange-400-hue: 65.13;--kern-orange-450-lightness: 61.81%;--kern-orange-450-chroma: .1382;--kern-orange-450-hue: 65.47;--kern-orange-500-lightness: 57.6%;--kern-orange-500-chroma: .1306;--kern-orange-500-hue: 63.7;--kern-orange-550-lightness: 52.64%;--kern-orange-550-chroma: .1189;--kern-orange-550-hue: 64.21;--kern-orange-600-lightness: 48.42%;--kern-orange-600-chroma: .1108;--kern-orange-600-hue: 62.67;--kern-orange-650-lightness: 44.59%;--kern-orange-650-chroma: .1015;--kern-orange-650-hue: 63.27;--kern-orange-700-lightness: 40.32%;--kern-orange-700-chroma: .0927;--kern-orange-700-hue: 62.06;--kern-orange-750-lightness: 36.35%;--kern-orange-750-chroma: .0829;--kern-orange-750-hue: 63.06;--kern-orange-800-lightness: 32.01%;--kern-orange-800-chroma: .0733;--kern-orange-800-hue: 62.53;--kern-orange-850-lightness: 27.62%;--kern-orange-850-chroma: .0632;--kern-orange-850-hue: 62.68;--kern-orange-900-lightness: 22.99%;--kern-orange-900-chroma: .0528;--kern-orange-900-hue: 62.35;--kern-orange-950-lightness: 18.36%;--kern-orange-950-chroma: .0413;--kern-orange-950-hue: 64.82}:root{--kern-red-025-lightness: 98.03%;--kern-red-025-chroma: .0083;--kern-red-025-hue: 25.06;--kern-red-050-lightness: 95.36%;--kern-red-050-chroma: .0217;--kern-red-050-hue: 32.68;--kern-red-100-lightness: 91.24%;--kern-red-100-chroma: .0436;--kern-red-100-hue: 28.25;--kern-red-150-lightness: 87.71%;--kern-red-150-chroma: .0621;--kern-red-150-hue: 29.89;--kern-red-200-lightness: 83.28%;--kern-red-200-chroma: .0854;--kern-red-200-hue: 30.18;--kern-red-250-lightness: 79.59%;--kern-red-250-chroma: .1043;--kern-red-250-hue: 29.15;--kern-red-300-lightness: 75.15%;--kern-red-300-chroma: .1265;--kern-red-300-hue: 28.4;--kern-red-350-lightness: 71.18%;--kern-red-350-chroma: .143;--kern-red-350-hue: 28.92;--kern-red-400-lightness: 67.04%;--kern-red-400-chroma: .1611;--kern-red-400-hue: 28.5;--kern-red-450-lightness: 63.35%;--kern-red-450-chroma: .1717;--kern-red-450-hue: 29.1;--kern-red-500-lightness: 58.93%;--kern-red-500-chroma: .1871;--kern-red-500-hue: 29.12;--kern-red-550-lightness: 54.9%;--kern-red-550-chroma: .1972;--kern-red-550-hue: 29.28;--kern-red-600-lightness: 50.78%;--kern-red-600-chroma: .202;--kern-red-600-hue: 29.22;--kern-red-650-lightness: 46%;--kern-red-650-chroma: .1888;--kern-red-650-hue: 29.23;--kern-red-700-lightness: 41.84%;--kern-red-700-chroma: .1717;--kern-red-700-hue: 29.23;--kern-red-750-lightness: 37.56%;--kern-red-750-chroma: .1541;--kern-red-750-hue: 29.23;--kern-red-800-lightness: 32.04%;--kern-red-800-chroma: .1315;--kern-red-800-hue: 29.23;--kern-red-850-lightness: 28.62%;--kern-red-850-chroma: .1174;--kern-red-850-hue: 29.23;--kern-red-900-lightness: 23.88%;--kern-red-900-chroma: .098;--kern-red-900-hue: 29.23;--kern-red-950-lightness: 18.89%;--kern-red-950-chroma: .0775;--kern-red-950-hue: 29.23}:root{--kern-violet-025-lightness: 97.97%;--kern-violet-025-chroma: .0094;--kern-violet-025-hue: 311;--kern-violet-050-lightness: 95.12%;--kern-violet-050-chroma: .0215;--kern-violet-050-hue: 312.8;--kern-violet-100-lightness: 91.07%;--kern-violet-100-chroma: .0444;--kern-violet-100-hue: 314;--kern-violet-150-lightness: 88%;--kern-violet-150-chroma: .0602;--kern-violet-150-hue: 313.2;--kern-violet-200-lightness: 83.03%;--kern-violet-200-chroma: .0861;--kern-violet-200-hue: 313;--kern-violet-250-lightness: 79.26%;--kern-violet-250-chroma: .106;--kern-violet-250-hue: 313.5;--kern-violet-300-lightness: 75.52%;--kern-violet-300-chroma: .123;--kern-violet-300-hue: 313.3;--kern-violet-350-lightness: 71.06%;--kern-violet-350-chroma: .1442;--kern-violet-350-hue: 313.8;--kern-violet-400-lightness: 67.51%;--kern-violet-400-chroma: .1583;--kern-violet-400-hue: 313.6;--kern-violet-450-lightness: 63.1%;--kern-violet-450-chroma: .1778;--kern-violet-450-hue: 313.2;--kern-violet-500-lightness: 59.14%;--kern-violet-500-chroma: .1931;--kern-violet-500-hue: 313.6;--kern-violet-550-lightness: 55.43%;--kern-violet-550-chroma: .2052;--kern-violet-550-hue: 313.9;--kern-violet-600-lightness: 50.94%;--kern-violet-600-chroma: .2144;--kern-violet-600-hue: 313.2;--kern-violet-650-lightness: 47.11%;--kern-violet-650-chroma: .2224;--kern-violet-650-hue: 313.7;--kern-violet-700-lightness: 42.44%;--kern-violet-700-chroma: .2119;--kern-violet-700-hue: 312.4;--kern-violet-750-lightness: 38.09%;--kern-violet-750-chroma: .1911;--kern-violet-750-hue: 311.5;--kern-violet-800-lightness: 32.98%;--kern-violet-800-chroma: .1651;--kern-violet-800-hue: 311.9;--kern-violet-850-lightness: 28.25%;--kern-violet-850-chroma: .1427;--kern-violet-850-hue: 310.2;--kern-violet-900-lightness: 23.95%;--kern-violet-900-chroma: .1205;--kern-violet-900-hue: 311;--kern-violet-950-lightness: 19.14%;--kern-violet-950-chroma: .0967;--kern-violet-950-hue: 310.2}:root{--kern-neutral-025-lightness: 97.46%;--kern-neutral-025-chroma: .0028;--kern-neutral-025-hue: 286.3;--kern-neutral-050-lightness: 95.79%;--kern-neutral-050-chroma: .0053;--kern-neutral-050-hue: 275;--kern-neutral-100-lightness: 91.42%;--kern-neutral-100-chroma: .012;--kern-neutral-100-hue: 276;--kern-neutral-150-lightness: 87.05%;--kern-neutral-150-chroma: .0183;--kern-neutral-150-hue: 275.9;--kern-neutral-200-lightness: 82.73%;--kern-neutral-200-chroma: .0236;--kern-neutral-200-hue: 275.8;--kern-neutral-250-lightness: 78.2%;--kern-neutral-250-chroma: .0305;--kern-neutral-250-hue: 276.7;--kern-neutral-300-lightness: 74.59%;--kern-neutral-300-chroma: .0358;--kern-neutral-300-hue: 276.5;--kern-neutral-350-lightness: 70.15%;--kern-neutral-350-chroma: .042;--kern-neutral-350-hue: 275.3;--kern-neutral-400-lightness: 65.51%;--kern-neutral-400-chroma: .0464;--kern-neutral-400-hue: 278.2;--kern-neutral-450-lightness: 61.18%;--kern-neutral-450-chroma: .0496;--kern-neutral-450-hue: 277;--kern-neutral-500-lightness: 56.84%;--kern-neutral-500-chroma: .0521;--kern-neutral-500-hue: 275.8;--kern-neutral-550-lightness: 52.32%;--kern-neutral-550-chroma: .054;--kern-neutral-550-hue: 276.6;--kern-neutral-600-lightness: 48.66%;--kern-neutral-600-chroma: .0561;--kern-neutral-600-hue: 276.4;--kern-neutral-650-lightness: 44.06%;--kern-neutral-650-chroma: .0569;--kern-neutral-650-hue: 277.1;--kern-neutral-700-lightness: 39.76%;--kern-neutral-700-chroma: .0529;--kern-neutral-700-hue: 277;--kern-neutral-750-lightness: 35.13%;--kern-neutral-750-chroma: .0511;--kern-neutral-750-hue: 277.7;--kern-neutral-800-lightness: 30.72%;--kern-neutral-800-chroma: .0459;--kern-neutral-800-hue: 276.7;--kern-neutral-850-lightness: 27%;--kern-neutral-850-chroma: .0409;--kern-neutral-850-hue: 277.5;--kern-neutral-900-lightness: 22.43%;--kern-neutral-900-chroma: .0333;--kern-neutral-900-hue: 275.7;--kern-neutral-950-lightness: 18.2%;--kern-neutral-950-chroma: .0301;--kern-neutral-950-hue: 277.2}:root{--kern-black-lightness: 0%;--kern-black-chroma: 0;--kern-black-hue: 0;--kern-white-lightness: 100%;--kern-white-chroma: 0;--kern-white-hue: 0}:root{--kern-typography-font-family-fira-sans: "Fira Sans", sans-serif;--kern-typography-font-family-fira-mono: "Fira Mono", monospace;--kern-font-size-12: .75rem;--kern-font-size-16: 1rem;--kern-font-size-18: 1.125rem;--kern-font-size-20: 1.25rem;--kern-font-size-21: 1.3125rem;--kern-font-size-24: 1.5rem;--kern-font-size-26: 1.625rem;--kern-font-size-32: 2rem;--kern-font-size-40: 2.5rem;--kern-font-size-48: 3rem;--kern-font-size-56: 3.5rem;--kern-font-size-72: 4.5rem;--kern-font-size-80: 5rem}:root{--kern-0: 0rem;--kern-1: .0625rem;--kern-2: .125rem;--kern-3: .1875rem;--kern-4: .25rem;--kern-5: .3125rem;--kern-6: .375rem;--kern-7: .4375rem;--kern-8: .5rem;--kern-9: .5625rem;--kern-10: .625rem;--kern-14: .875rem;--kern-12: .75rem;--kern-16: 1rem;--kern-18: 1.125rem;--kern-20: 1.25rem;--kern-24: 1.5rem;--kern-32: 2rem;--kern-40: 2.5rem;--kern-48: 3rem;--kern-56: 3.5rem;--kern-64: 4rem;--kern-80: 5rem;--kern-96: 6rem;--kern-128: 8rem;--kern-160: 10rem;--kern-192: 12rem;--kern-224: 14rem;--kern-240: 15rem;--kern-256: 16rem;--kern-352: 22rem;--kern-360: 22.5rem;--kern-384: 24rem;--kern-480: 30rem;--kern-512: 32rem;--kern-736: 46rem;--kern-768: 48rem;--kern-992: 62rem;--kern-1024: 64rem;--kern-1140: 71.25rem;--kern-1248: 78rem;--kern-1280: 80rem;--kern-1504: 94rem;--kern-1536: 96rem;--kern-1600: 100rem;--kern-1920: 120rem}:root{--kern-metric-border-width-none: var(--kern-0);--kern-metric-border-width-light: var(--kern-1);--kern-metric-border-width-default: var(--kern-2);--kern-metric-border-width-bold: var(--kern-4);--kern-metric-border-width-heavy: var(--kern-8);--kern-metric-border-radius-none: var(--kern-0);--kern-metric-border-radius-small: var(--kern-2);--kern-metric-border-radius-default: var(--kern-4);--kern-metric-border-radius-large: var(--kern-8);--kern-metric-border-radius-circle: 50%;--kern-component-badge-space-left: var(--kern-12);--kern-component-description-list-term-max-width: var(--kern-352);--kern-component-alert-icon-size: var(--kern-32);--kern-component-kopfzeile-font-family: "Fira Sans", "Fira Sans Regular", "Noto Sans", "Noto Sans Regular", "SF Pro Text", "Segoe UI", SegoeUI, Roboto, Arial, Helvetica, sans-serif;--kern-component-kopfzeile-font-size: var(--kern-font-size-14);--kern-component-kopfzeile-line-height: var(--kern-font-size-16);--kern-component-kopfzeile-padding: var(--kern-7);--kern-metric-dimension-2x-small: var(--kern-8);--kern-metric-dimension-x-small: var(--kern-16);--kern-metric-dimension-small: var(--kern-20);--kern-metric-dimension-default: var(--kern-24);--kern-metric-dimension-large: var(--kern-32);--kern-metric-dimension-x-large: var(--kern-48);--kern-metric-dimension-2x-large: var(--kern-56);--kern-metric-dimension-3x-large: var(--kern-64);--kern-metric-dimension-4x-large: var(--kern-80);--kern-metric-dimension-5x-large: var(--kern-96);--kern-metric-dimension-media-small: var(--kern-96);--kern-metric-dimension-media-default: var(--kern-160);--kern-metric-dimension-media-large: var(--kern-240);--kern-metric-screen-size: var(--kern-360);--kern-metric-space-none: var(--kern-0);--kern-metric-space-2x-small: var(--kern-2);--kern-metric-space-x-small: var(--kern-4);--kern-metric-space-small: var(--kern-8);--kern-metric-space-default: var(--kern-16);--kern-metric-space-large: var(--kern-24);--kern-metric-space-x-large: var(--kern-32);--kern-typography-font-family-default: var(--kern-typography-font-family-fira-sans);--kern-typography-line-height-static-medium: var(--kern-font-size-24);--kern-typography-line-height-static-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-24);--kern-typography-line-height-adaptive-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-56);--kern-typography-font-size-static-small: var(--kern-font-size-16);--kern-typography-font-size-static-medium: var(--kern-font-size-18);--kern-typography-font-size-static-large: var(--kern-font-size-21);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-21);--kern-typography-font-size-adaptive-large: var(--kern-font-size-26);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-48);--kern-metric-baseline-body-default-padding-top: var(--kern-6);--kern-metric-baseline-body-default-padding-bottom: var(--kern-2);--kern-metric-baseline-body-large-padding-top: var(--kern-1);--kern-metric-baseline-body-large-padding-bottom: var(--kern-7);--kern-metric-baseline-body-small-padding-top: var(--kern-7);--kern-metric-baseline-body-small-padding-bottom: var(--kern-1);--kern-metric-baseline-heading-display-padding-top: var(--kern-12);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-large-padding-top: var(--kern-7);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-9);--kern-metric-baseline-heading-medium-padding-top: var(--kern-5);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-3);--kern-metric-baseline-heading-small-padding-top: var(--kern-6);--kern-metric-baseline-heading-small-padding-bottom: var(--kern-2);--kern-metric-baseline-title-large-padding-top: var(--kern-7);--kern-metric-baseline-title-large-padding-bottom: var(--kern-9);--kern-metric-baseline-title-default-padding-top: var(--kern-5);--kern-metric-baseline-title-default-padding-bottom: var(--kern-3);--kern-metric-baseline-title-small-padding-top: var(--kern-6);--kern-metric-baseline-title-small-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-large-padding-top: var(--kern-1);--kern-metric-baseline-preline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-preline-default-padding-top: var(--kern-6);--kern-metric-baseline-preline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-small-padding-top: var(--kern-7);--kern-metric-baseline-preline-small-padding-bottom: var(--kern-1);--kern-metric-baseline-subline-large-padding-top: var(--kern-1);--kern-metric-baseline-subline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-subline-default-padding-top: var(--kern-6);--kern-metric-baseline-subline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-subline-small-padding-top: var(--kern-7);--kern-metric-baseline-subline-small-padding-bottom: var(--kern-9);--kern-metric-baseline-label-large-padding-top: var(--kern-1);--kern-metric-baseline-label-large-padding-bottom: var(--kern-7);--kern-metric-baseline-label-default-padding-top: var(--kern-6);--kern-metric-baseline-label-default-padding-bottom: var(--kern-2);--kern-metric-baseline-label-small-padding-top: var(--kern-7);--kern-metric-baseline-label-small-padding-bottom: var(--kern-1);--kern-typography-font-weight-regular: 400;--kern-typography-font-weight-medium: 500;--kern-typography-font-weight-semi-bold: 600}@media (min-width: 768px){:root{--kern-component-kopfzeile-padding: var(--kern-7);--kern-component-alert-icon-size: var(--kern-40);--kern-component-kopfzeile-font-size: var(--kern-font-size-16);--kern-component-kopfzeile-line-height: var(--kern-font-size-20);--kern-component-kopfzeile-padding: var(--kern-5);--kern-metric-dimension-media-small: var(--kern-128);--kern-metric-dimension-media-default: var(--kern-192);--kern-metric-dimension-media-large: var(--kern-360);--kern-metric-screen-size: var(--kern-1920);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-32);--kern-typography-line-height-adaptive-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-56);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-80);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-24);--kern-typography-font-size-adaptive-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-48);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-72);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-medium-padding-top: var(--kern-8);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-8);--kern-metric-baseline-heading-display-padding-top: var(--kern-16);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-16);--kern-metric-baseline-title-large-padding-top: var(--kern-9);--kern-metric-baseline-title-large-padding-bottom: var(--kern-7);--kern-metric-baseline-title-default-padding-top: var(--kern-8);--kern-metric-baseline-title-default-padding-bottom: var(--kern-8)}}@media (prefers-color-scheme: dark){:root{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}@media (prefers-color-scheme: light){:root{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}[data-kern-theme=light],.kern-light{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}[data-kern-theme=dark],.kern-dark{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}
`,z1=new CSSStyleSheet;z1.replaceSync(`@layer kern-ux-icons {
	
		.kern-icon-fill--layers {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE1MS0zODZxLTEyLTguOTQtMTEuNS0yMy40N1QxNTIuMDgtNDMzcTguMy02IDE4LjExLTYgOS44MSAwIDE3LjgxIDZsMjkyIDIyNyAyOTItMjI3cTguMzItNiAxOC4xNi02dDE4LjA5IDUuOTdxMTIgOC45NSAxMi4zOCAyMy40OVE4MjEtMzk1IDgwOS0zODZMNTE3LTE1OXEtMTYuNSAxMy0zNi43NSAxM1Q0NDMtMTU5TDE1MS0zODZabTI5MiA3NUwxODEtNTE1cS0yMy0xNy44OC0yMy00Ni45NFQxODEtNjA5bDI2Mi0yMDRxMTYuNS0xMyAzNi43NS0xM1Q1MTctODEzbDI2MiAyMDRxMjMgMTcuODggMjMgNDYuOTRUNzc5LTUxNUw1MTctMzExcS0xNi41IDEzLTM2Ljc1IDEzVDQ0My0zMTFaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--filter-alt {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ0MC0xNjBxLTE3IDAtMjguNS0xMS41VDQwMC0yMDB2LTI0MEwxNjEtNzQ1cS0xNC0xNy00LTM2dDMxLTE5aDU4NHEyMSAwIDMxIDE5dC00IDM2TDU2MC00NDB2MjQwcTAgMTctMTEuNSAyOC41VDUyMC0xNjBoLTgwWm00MC0yNzYgMjQwLTMwNEgyNDBsMjQwIDMwNFptMCAwWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen-exit {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTI1My0yNTNIMTUwcS0xMi43NSAwLTIxLjM3LTguNjgtOC42My04LjY3LTguNjMtMjEuNSAwLTEyLjgyIDguNjMtMjEuMzIgOC42Mi04LjUgMjEuMzctOC41aDEzM3ExMi43NSAwIDIxLjM4IDguNjJRMzEzLTI5NS43NSAzMTMtMjgzdjEzM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMDNabTQ1NCAwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTY2NC4yNS0zMTMgNjc3LTMxM2gxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUg3MDdaTTI1My03MDd2LTEwM3EwLTEyLjc1IDguNjgtMjEuMzggOC42Ny04LjYyIDIxLjUtOC42MiAxMi44MiAwIDIxLjMyIDguNjIgOC41IDguNjMgOC41IDIxLjM4djEzM3EwIDEyLjc1LTguNjIgMjEuMzdRMjk1Ljc1LTY0NyAyODMtNjQ3SDE1MHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMDNabTQ1NCAwaDEwM3ExMi43NSAwIDIxLjM4IDguNjggOC42MiA4LjY3IDguNjIgMjEuNSAwIDEyLjgyLTguNjIgMjEuMzItOC42MyA4LjUtMjEuMzggOC41SDY3N3EtMTIuNzUgMC0yMS4zNy04LjYzUTY0Ny02NjQuMjUgNjQ3LTY3N3YtMTMzcTAtMTIuNzUgOC42OC0yMS4zOCA4LjY3LTguNjIgMjEuNS04LjYyIDEyLjgyIDAgMjEuMzIgOC42MiA4LjUgOC42MyA4LjUgMjEuMzh2MTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--home {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIyMC0xODBoMTUwdi0yMjBxMC0xMi43NSA4LjYzLTIxLjM4UTM4Ny4yNS00MzAgNDAwLTQzMGgxNjBxMTIuNzUgMCAyMS4zOCA4LjYyUTU5MC00MTIuNzUgNTkwLTQwMHYyMjBoMTUwdi0zOTBMNDgwLTc2NSAyMjAtNTcwdjM5MFptLTYwIDB2LTM5MHEwLTE0LjI1IDYuMzgtMjcgNi4zNy0xMi43NSAxNy42Mi0yMWwyNjAtMTk1cTE1LjY4LTEyIDM1Ljg0LTEyUTUwMC04MjUgNTE2LTgxM2wyNjAgMTk1cTExLjI1IDguMjUgMTcuNjMgMjEgNi4zNyAxMi43NSA2LjM3IDI3djM5MHEwIDI0Ljc1LTE3LjYyIDQyLjM3UTc2NC43NS0xMjAgNzQwLTEyMEg1NjBxLTEyLjc1IDAtMjEuMzctOC42M1E1MzAtMTM3LjI1IDUzMC0xNTB2LTIyMEg0MzB2MjIwcTAgMTIuNzUtOC42MiAyMS4zN1E0MTIuNzUtMTIwIDQwMC0xMjBIMjIwcS0yNC43NSAwLTQyLjM3LTE3LjYzUTE2MC0xNTUuMjUgMTYwLTE4MFptMzIwLTI5M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--search {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTM3OC0zMjlxLTEwOC4xNiAwLTE4My4wOC03NVExMjAtNDc5IDEyMC01ODV0NzUtMTgxcTc1LTc1IDE4MS41LTc1dDE4MSA3NVE2MzItNjkxIDYzMi01ODQuODUgNjMyLTU0MiA2MTgtNTAycS0xNCA0MC00MiA3NWwyNDIgMjQwcTkgOC41NiA5IDIxLjc4VDgxOC0xNDNxLTkgOS0yMi4yMiA5LTEzLjIyIDAtMjEuNzgtOUw1MzMtMzg0cS0zMCAyNi02OS45NiA0MC41UTQyMy4wOC0zMjkgMzc4LTMyOVptLTEtNjBxODEuMjUgMCAxMzguMTMtNTcuNVE1NzItNTA0IDU3Mi01ODV0LTU2Ljg3LTEzOC41UTQ1OC4yNS03ODEgMzc3LTc4MXEtODIuMDggMC0xMzkuNTQgNTcuNVExODAtNjY2IDE4MC01ODV0NTcuNDYgMTM4LjVRMjk0LjkyLTM4OSAzNzctMzg5WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--search {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTM3OC0zMjlxLTEwOC4xNiAwLTE4My4wOC03NVExMjAtNDc5IDEyMC01ODV0NzUtMTgxcTc1LTc1IDE4MS41LTc1dDE4MSA3NVE2MzItNjkxIDYzMi01ODQuODUgNjMyLTU0MiA2MTgtNTAycS0xNCA0MC00MiA3NWwyNDIgMjQwcTkgOC41NiA5IDIxLjc4VDgxOC0xNDNxLTkgOS0yMi4yMiA5LTEzLjIyIDAtMjEuNzgtOUw1MzMtMzg0cS0zMCAyNi02OS45NiA0MC41UTQyMy4wOC0zMjkgMzc4LTMyOVptLTEtNjBxODEuMjUgMCAxMzguMTMtNTcuNVE1NzItNTA0IDU3Mi01ODV0LTU2Ljg3LTEzOC41UTQ1OC4yNS03ODEgMzc3LTc4MXEtODIuMDggMC0xMzkuNTQgNTcuNVExODAtNjY2IDE4MC01ODV0NTcuNDYgMTM4LjVRMjk0LjkyLTM4OSAzNzctMzg5WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWm0xMzIgMTc5IDE5Mi01MDMtNTAyIDE5MiAyMjQgODYgODYgMjI1Wm0tODYtMjI1WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me-disabled {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTUyMC0xMzcgNDEzLTQxMyAxMzctNTIwcS0xMC00LTE0LjUtMTJ0LTQuNS0xN3EwLTkgNC41LTE2dDE0LjUtMTFsMjAwLTc1LTE5OC0xOThxLTktOS05LTIxLjV0OS0yMS41cTktOSAyMS41LTl0MjEuNSA5bDcxMCA3MTBxOSA5IDkgMjF0LTkgMjFxLTkgOS0yMS41IDl0LTIxLjUtOUw2NTEtMzM3bC03NSAyMDBxLTQgMTAtMTEgMTQuNXQtMTYgNC41cS05IDAtMTctNC41VDUyMC0xMzdabTI5MC02NzNxNiA2IDguNSAxNC41VDgxNy03NzhMNzE1LTUwN3EtNiAxNi0yMi41IDE5LjVUNjY0LTQ5NnEtNy03LTguNS0xNnQxLjUtMTdsODAtMjA4LTIwOCA4MHEtOCAzLTE3IDEuNXQtMTYtOC41cS0xMi0xMi04LjUtMjguNVQ1MDctNzE1bDI3MS0xMDJxOS00IDE3LjUtMS41VDgxMC04MTBaTTU0NS0yMzRsNTgtMTUxLTIxOC0yMTgtMTUwIDU4IDIyNCA4NiA4NiAyMjVabTM1LTM0NlptLTg2IDg2WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--draw {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0xMjBxLTEzIDAtMjEuNS04LjVUMTYwLTE1MHYtNzNxMC0xMiA1LTIzLjV0MTMtMTkuNWw1NTMtNTUzcTExLTExIDIyLjUtMTZ0MjQuNS01cTEyIDAgMjMuNSA1dDIyLjUgMTZsMzUgMzVxMTEgMTAgMTYgMjEuNXQ1IDI0LjVxMCAxMi01IDI0dC0xNiAyM0wzMDYtMTM4cS04IDgtMTkuNSAxM3QtMjMuNSA1aC03M1ptNTYzLTU0OSA2OC02OC00NC00NC02OCA2OCA0NCA0NFpNNTYwLTEyMHE3OCAwIDEzOS0zNi41VDc2MC0yNjBxMC0zNi0yNC02NnQtNzQtNTJxLTExLTUtMjMuNS00VDYxOS0zNzBxLTcgMTEtNC41IDI0dDEzLjUgMThxMzMgMTUgNTIuNSAzMi41VDcwMC0yNjBxMCAzMi00MC41IDU2VDU2MC0xODBxLTEyIDAtMjEgOC41dC05IDIxLjVxMCAxMiA5IDIxdDIxIDlaTTM3MC03MTlxMCAyMC0xOSAzNXQtODUgMzlxLTk0IDM0LTEyMCA2MnQtMjYgNjNxMCAzOCAyNyA2MXQ2MCAzNXExMiA1IDIzLS41dDE1LTE3LjVxNC0xMi0xLTIyLjVUMjI3LTQ4MHEtMjMtOS0zNS0xOXQtMTItMjFxMC0xNiAyMS41LTMwLjVUMjkwLTU5MHE4My0zMSAxMTEuNS01OS41VDQzMC03MTlxMC01Ni00MS04OC41VDI4MC04NDBxLTQyIDAtNzYgMTQuNVQxNTMtNzg5cS04IDktNy41IDIxdDExLjUgMjBxMTAgOCAyMi41IDYuNVQyMDAtNzUxcTE1LTE1IDM0LTIydDQ2LTdxNDYgMCA2OCAxOHQyMiA0M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--all-inclusive {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIxMi0yNjBxLTkwIDAtMTUxLTY1LjVUMC00ODJxMC05MCA2MS41LTE1NFQyMTItNzAwcTM2IDAgNjkuNSAxMnQ1OS41IDM3bDkzIDkwLTQyIDQyLTg5LTg3cS0xOC0xOC00MS41LTI2dC00OS41LThxLTY0IDAtMTA4IDQ2LjVUNjAtNDgycTAgNjYgNDMuNSAxMTRUMjEyLTMyMHEyNSAwIDQ4LjUtOHQ0Mi41LTI1bDMxNi0yOThxMjYtMjUgNTkuNS0zN3Q2OC41LTEycTkwIDAgMTUxLjUgNjRUOTYwLTQ4MnEwIDkxLTYxLjUgMTU2LjVUNzQ3LTI2MHEtMzUgMC02OS0xMS41VDYxOS0zMDhsLTkxLTkwIDQyLTQyIDg3IDg3cTE3IDE3IDQxIDI1dDQ5IDhxNjUgMCAxMDktNDh0NDQtMTE0cTAtNjUtNDQuNS0xMTEuNVQ3NDctNjQwcS0yNSAwLTQ4LjUgOVQ2NTctNjA1TDM0MS0zMDdxLTI2IDI0LTYwIDM1LjVUMjEyLTI2MFoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--history {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ3Ny0xMjBxLTE0MiAwLTI0My41LTk1LjVUMTIxLTQ1MXEtMS0xMiA3LjUtMjF0MjEuNS05cTEyIDAgMjAuNSA4LjVUMTgxLTQ1MXExMSAxMTUgOTUgMTkzdDIwMSA3OHExMjcgMCAyMTUtODl0ODgtMjE2cTAtMTI0LTg5LTIwOS41VDQ3Ny03ODBxLTY4IDAtMTI3LjUgMzFUMjQ2LTY2N2g3NXExMyAwIDIxLjUgOC41VDM1MS02MzdxMCAxMy04LjUgMjEuNVQzMjEtNjA3SDE3MnEtMTMgMC0yMS41LTguNVQxNDItNjM3di0xNDhxMC0xMyA4LjUtMjEuNVQxNzItODE1cTEzIDAgMjEuNSA4LjVUMjAyLTc4NXY3NnE1Mi02MSAxMjMuNS05NlQ0NzctODQwcTc1IDAgMTQxIDI4dDExNS41IDc2LjVRNzgzLTY4NyA4MTEuNS02MjJUODQwLTQ4MnEwIDc1LTI4LjUgMTQxdC03OCAxMTVRNjg0LTE3NyA2MTgtMTQ4LjVUNDc3LTEyMFptMzQtMzc0IDExNSAxMTNxOSA5IDkgMjEuNXQtOSAyMS41cS05IDktMjEgOXQtMjEtOUw0NjAtNDYwcS01LTUtNy0xMC41dC0yLTExLjV2LTE3MXEwLTEzIDguNS0yMS41VDQ4MS02ODNxMTMgMCAyMS41IDguNVQ1MTEtNjUzdjE1OVoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--timeline {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTEwOS45MS0yNDBRODEtMjQwIDYwLjUtMjYwLjU5IDQwLTI4MS4xOCA0MC0zMTAuMDl0MjAuNDktNDkuNDFxMjAuNS0yMC41IDQ5LjI4LTIwLjUgNS4yMyAwIDEwLjIzLjV0MTMgMi41bDIwMC0yMDBxLTItOC0yLjUtMTN0LS41LTEwLjIzcTAtMjguNzggMjAuNTktNDkuMjhRMzcxLjE4LTY3MCA0MDAuMDktNjcwdDQ5LjQxIDIwLjYzcTIwLjUgMjAuNjQgMjAuNSA0OS42MSAwIDEuNzYtMyAyMi43NmwxMTAgMTEwcTgtMiAxMy0yLjV0MTAtLjVxNSAwIDEwIC41dDEzIDIuNWwxNjAtMTYwcS0yLTgtMi41LTEzdC0uNS0xMC4yM3EwLTI4Ljc4IDIwLjU5LTQ5LjI4UTgyMS4xOC03MjAgODUwLjA5LTcyMHQ0OS40MSAyMC41OXEyMC41IDIwLjU5IDIwLjUgNDkuNXQtMjAuNDkgNDkuNDFxLTIwLjUgMjAuNS00OS4yOCAyMC41LTUuMjMgMC0xMC4yMy0uNXQtMTMtMi41TDY2Ny00MjNxMiA4IDIuNSAxM3QuNSAxMC4yM3EwIDI4Ljc4LTIwLjU5IDQ5LjI4UTYyOC44Mi0zMzAgNTk5LjkxLTMzMHQtNDkuNDEtMjAuNDlxLTIwLjUtMjAuNS0yMC41LTQ5LjI4IDAtNS4yMy41LTEwLjIzdDIuNS0xM0w0MjMtNTMzcS04IDItMTMgMi41dC0xMC4yNS41cS0xLjc1IDAtMjIuNzUtM0wxNzctMzMzcTIgOCAyLjUgMTN0LjUgMTAuMjNxMCAyOC43OC0yMC41OSA0OS4yOFExMzguODItMjQwIDEwOS45MS0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--calendar-month {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC04MHEtMjQgMC00Mi0xOHQtMTgtNDJ2LTYyMHEwLTI0IDE4LTQydDQyLTE4aDY1di0yOHEwLTEzLjYgOS4yLTIyLjggOS4yLTkuMiAyMi44LTkuMiAxNC4wMiAwIDIzLjUxIDkuMlEzMTAtODYxLjYgMzEwLTg0OHYyOGgzNDB2LTI4cTAtMTMuNiA5LjItMjIuOCA5LjItOS4yIDIyLjgtOS4yIDE0LjAzIDAgMjMuNTEgOS4yUTcxNS04NjEuNiA3MTUtODQ4djI4aDY1cTI0IDAgNDIgMTh0MTggNDJ2NjIwcTAgMjQtMTggNDJ0LTQyIDE4SDE4MFptMC02MGg2MDB2LTQzMEgxODB2NDMwWm0wLTQ5MGg2MDB2LTEzMEgxODB2MTMwWm0wIDB2LTEzMCAxMzBabTMwMCAyMzBxLTE3IDAtMjguNS0xMS41VDQ0MC00NDBxMC0xNyAxMS41LTI4LjVUNDgwLTQ4MHExNyAwIDI4LjUgMTEuNVQ1MjAtNDQwcTAgMTctMTEuNSAyOC41VDQ4MC00MDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTQ0MHEwLTE3IDExLjUtMjguNVQzMjAtNDgwcTE3IDAgMjguNSAxMS41VDM2MC00NDBxMCAxNy0xMS41IDI4LjVUMzIwLTQwMFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC00NDBxMC0xNyAxMS41LTI4LjVUNjQwLTQ4MHExNyAwIDI4LjUgMTEuNVQ2ODAtNDQwcTAgMTctMTEuNSAyOC41VDY0MC00MDBaTTQ4MC0yNDBxLTE3IDAtMjguNS0xMS41VDQ0MC0yODBxMC0xNyAxMS41LTI4LjVUNDgwLTMyMHExNyAwIDI4LjUgMTEuNVQ1MjAtMjgwcTAgMTctMTEuNSAyOC41VDQ4MC0yNDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTI4MHEwLTE3IDExLjUtMjguNVQzMjAtMzIwcTE3IDAgMjguNSAxMS41VDM2MC0yODBxMCAxNy0xMS41IDI4LjVUMzIwLTI0MFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC0yODBxMC0xNyAxMS41LTI4LjVUNjQwLTMyMHExNyAwIDI4LjUgMTEuNVQ2ODAtMjgwcTAgMTctMTEuNSAyOC41VDY0MC0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--settings {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQyMS04MHEtMTQgMC0yNS05dC0xMy0yM2wtMTUtOTRxLTE5LTctNDAtMTl0LTM3LTI1bC04NiA0MHEtMTQgNi0yOCAxLjVUMTU1LTIyNkw5Ny0zMzBxLTgtMTMtNC41LTI3dDE1LjUtMjNsODAtNTlxLTItOS0yLjUtMjAuNVQxODUtNDgwcTAtOSAuNS0yMC41VDE4OC01MjFsLTgwLTU5cS0xMi05LTE1LjUtMjN0NC41LTI3bDU4LTEwNHE4LTEzIDIyLTE3LjV0MjggMS41bDg2IDQwcTE2LTEzIDM3LTI1dDQwLTE4bDE1LTk1cTItMTQgMTMtMjN0MjUtOWgxMThxMTQgMCAyNSA5dDEzIDIzbDE1IDk0cTE5IDcgNDAuNSAxOC41VDY2OS03MTBsODYtNDBxMTQtNiAyNy41LTEuNVQ4MDQtNzM0bDU5IDEwNHE4IDEzIDQuNSAyNy41VDg1Mi01ODBsLTgwIDU3cTIgMTAgMi41IDIxLjV0LjUgMjEuNXEwIDEwLS41IDIxdC0yLjUgMjFsODAgNThxMTIgOCAxNS41IDIyLjVUODYzLTMzMGwtNTggMTA0cS04IDEzLTIyIDE3LjV0LTI4LTEuNWwtODYtNDBxLTE2IDEzLTM2LjUgMjUuNVQ1OTItMjA2bC0xNSA5NHEtMiAxNC0xMyAyM3QtMjUgOUg0MjFabTU5LTI3MHE1NCAwIDkyLTM4dDM4LTkycTAtNTQtMzgtOTJ0LTkyLTM4cS01NCAwLTkyIDM4dC0zOCA5MnEwIDU0IDM4IDkydDkyIDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--deselect {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTgyMi01MCA1ODYtMjg1SDM0NXEtMjQuNzUgMC00Mi4zNy0xNy42M1EyODUtMzIwLjI1IDI4NS0zNDV2LTI0MUw1OS04MTJxLTktOC41LTktMjEuMjVUNTguNjEtODU1cTkuMzktOSAyMS44Ni05IDEyLjQ2IDAgMjEuNTMgOUw4NjUtOTJxOSA5IDkgMjF0LTkgMjEuMzlRODU2LTQxIDg0My41LTQxVDgyMi01MFpNNTI2LTM0NSAzNDUtNTI2djE4MWgxODFabTE0OS0yMi02MC02MHYtMTg4SDQyN2wtNjAtNjBoMjQ4cTI0Ljc1IDAgNDIuMzggMTcuNjJRNjc1LTYzOS43NSA2NzUtNjE1djI0OFpNMzE0LjgyLTc4MHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--keyboard-arrow-up {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC01NTQgMzA0LTM3OHEtOSA5LTIxIDguNXQtMjEtOS41cS05LTktOS0yMS41dDktMjEuNWwxOTctMTk3cTktOSAyMS05dDIxIDlsMTk4IDE5OHE5IDkgOSAyMXQtOSAyMXEtOSA5LTIxLjUgOXQtMjEuNS05TDQ4MC01NTRaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--keyboard-arrow-down {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC0zNTZxLTYgMC0xMS0ydC0xMC03TDI2MS01NjNxLTktOS04LjUtMjEuNVQyNjItNjA2cTktOSAyMS41LTl0MjEuNSA5bDE3NSAxNzYgMTc2LTE3NnE5LTkgMjEtOC41dDIxIDkuNXE5IDkgOSAyMS41dC05IDIxLjVMNTAxLTM2NXEtNSA1LTEwIDd0LTExIDJaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--drag-handle {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0zOTBxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoNTgwcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTkwWm0wLTEyMHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWg1ODBxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxOTBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--arrow-back {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0ibTI3NC00NTAgMjI3IDIyN3E5IDkgOSAyMXQtOSAyMXEtOSA5LTIxIDl0LTIxLTlMMTgxLTQ1OXEtNS01LTctMTB0LTItMTFxMC02IDItMTF0Ny0xMGwyNzgtMjc4cTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMMjc0LTUxMGg0OTZxMTMgMCAyMS41IDguNVQ4MDAtNDgwcTAgMTMtOC41IDIxLjVUNzcwLTQ1MEgyNzRaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--info {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4My4xOC0yODBxMTIuODIgMCAyMS4zMi04LjYzIDguNS04LjYyIDguNS0yMS4zN3YtMTgwcTAtMTIuNzUtOC42OC0yMS4zOC04LjY3LTguNjItMjEuNS04LjYyLTEyLjgyIDAtMjEuMzIgOC42Mi04LjUgOC42My04LjUgMjEuMzh2MTgwcTAgMTIuNzUgOC42OCAyMS4zNyA4LjY3IDguNjMgMjEuNSA4LjYzWm0tMy4yLTMxNHExNC4wMiAwIDIzLjUyLTkuMlQ1MTMtNjI2cTAtMTQuNDUtOS40OC0yNC4yMi05LjQ4LTkuNzgtMjMuNS05Ljc4dC0yMy41MiA5Ljc4UTQ0Ny02NDAuNDUgNDQ3LTYyNnEwIDEzLjYgOS40OCAyMi44IDkuNDggOS4yIDIzLjUgOS4yWm0uMjkgNTE0cS04Mi43NCAwLTE1NS41LTMxLjVRMjUyLTE0MyAxOTcuNS0xOTcuNXQtODYtMTI3LjM0UTgwLTM5Ny42OCA4MC00ODAuNXQzMS41LTE1NS42NlExNDMtNzA5IDE5Ny41LTc2M3QxMjcuMzQtODUuNVEzOTcuNjgtODgwIDQ4MC41LTg4MHQxNTUuNjYgMzEuNVE3MDktODE3IDc2My03NjN0ODUuNSAxMjdRODgwLTU2MyA4ODAtNDgwLjI3cTAgODIuNzQtMzEuNSAxNTUuNVE4MTctMjUyIDc2My0xOTcuNjhxLTU0IDU0LjMxLTEyNyA4NlE1NjMtODAgNDgwLjI3LTgwWm0uMjMtNjBRNjIyLTE0MCA3MjEtMjM5LjV0OTktMjQxUTgyMC02MjIgNzIxLjE5LTcyMVQ0ODAtODIwcS0xNDEgMC0yNDAuNSA5OC44MVQxNDAtNDgwcTAgMTQxIDk5LjUgMjQwLjV0MjQxIDk5LjVabS0uNS0zNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	
}`);function $1(r,e=[]){return Object.entries(r).flatMap(([t,n])=>{const i=[...e,t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase())];return typeof n=="string"?[[`kern-${i.join("-")}`,n]]:$1(n,i)})}function v4(r){const e=new CSSStyleSheet,t=$1(r);return e.replaceSync(`
		@layer kern-ux-theme {
			:host {
				${t.map(([n,i])=>`--${n}: ${i} !important;`).join(`
`)}
			}
		}
	`),e}function k4(r,e={}){r.adoptedStyleSheets.push(z1);const t=new CSSStyleSheet;t.replaceSync(`
		@layer kern-ux {
			${y4.replaceAll(":root",":host")}
		}
	`),r.adoptedStyleSheets.push(t),typeof e.typography?.font?.family?.default<"u"&&Promise.resolve({});const n=v4(e);r.adoptedStyleSheets.push(n)}const b4=r=>({...r,layers:r.layers.map(e=>typeof e.minZoom<"u"?{...e,minZoom:e.minZoom-1}:e)}),x4={class:"kern-label kern-sr-only"},kf=.1,w4=Ee({__name:"MoveHandle.ce",setup(r){let e=0,t=0,n=null,i=!1;const o=He(),a=qm(),{deviceIsHorizontal:s}=ct(o),{actionButton:l,closeLabel:c,closeIcon:u,component:d,top:h}=ct(a),p=pi("handleElement"),f=Me(!1),y=Me(Number.MAX_SAFE_INTEGER),m=X(()=>i?{move:"touchmove",end:"touchend"}:{move:"mousemove",end:"mouseup"});Wi(()=>{const{clientHeight:te}=o.shadowRoot.host;h.value===null&&(h.value=te*.55);const O=p.value;O.style.position="fixed",O.style.width="100%",O.style["z-index"]=1,O.style.left="0",O.style.top=`${k(h.value,te,y.value)}px`,n=new ResizeObserver(j),n.observe(O),O.focus(),j()}),Zl(()=>{n!==null&&(n.disconnect(),n=null),h.value=null}),yt(s,te=>{te||j()}),yt(f,te=>{const{move:O,end:q}=m.value;if(te){p.value.classList.add("polar-move-handle-is-moving"),document.addEventListener(O,E),document.addEventListener(q,R,{once:!0});return}p.value.classList.remove("polar-move-handle-is-moving"),document.removeEventListener(O,E),document.removeEventListener(q,R)}),yt(y,(te,O)=>{te<O&&(ne(),fe(0))});function b(te){a.closeFunction(te),a.$reset()}function k(te,O,q){let ce=te;return O-ce<O*kf&&(ce=O-O*kf),O-ce>O*q&&(ce=O-O*q),h.value=ce,ce}function C(te){(te==="ArrowUp"||te==="ArrowDown")&&(ne(),fe(te==="ArrowUp"?-5:5))}function T(te){i=!1,U(te)}function E(te){const O=te instanceof MouseEvent?te.clientX:te.touches[0].clientX,q=te instanceof MouseEvent?te.clientY:te.touches[0].clientY,ce=q-e;(O<0||O>window.innerWidth||q<0||q>window.innerHeight)&&(f.value=!1),fe(ce)}function R(){f.value=!1}function F(te){i=!0,U(te)}function se(te){e=te instanceof MouseEvent?te.clientY:te.touches[0].clientY}function ne(){t=p.value.offsetTop}function fe(te){p.value.style.top=`${k(Math.round(t+te),o.shadowRoot.host.clientHeight,y.value)}px`}function U(te){se(te),ne(),f.value=!0}function j(){y.value=p.value.clientHeight/o.shadowRoot.host.clientHeight}return(te,O)=>(I(),ee("div",{id:"polar-move-handle",ref_key:"handleElement",ref:p,tabindex:"0",onKeydown:O[1]||(O[1]=ar(q=>C(q.key),["stop"])),onMousedown:ar(T,["stop"]),onTouchstart:ar(F,["stop"])},[O[2]||(O[2]=oe("span",{class:"kern-icon kern-icon--drag-handle","aria-hidden":"true"},null,-1)),oe("div",{class:it(["polar-move-handle-actions",{"polar-move-handle-has-action-button":M(l)!==null}])},[M(l)?(I(),xe(Ft(M(l)),{key:0})):Ke("",!0),oe("button",{class:"kern-btn kern-btn--tertiary",onClick:O[0]||(O[0]=q=>b(!0))},[oe("span",{class:it(`kern-icon ${M(u)}`),"aria-hidden":"true"},null,2),oe("span",x4,ze(M(c)),1)])],2),(I(),xe(Ft(M(d))))],544))}}),_4="#polar-move-handle{&[data-v-e0291d1d]{position:static;height:auto;width:auto;display:flex;flex-direction:column;align-items:center;background:var(--kern-color-layout-background-default);cursor:ns-resize;box-shadow:#0000004d 0 19px 38px,#00000038 0 15px 12px}&[data-v-e0291d1d]:focus{outline:solid var(--kern-color-action-default)}}.polar-move-handle-actions[data-v-e0291d1d]{display:flex;justify-content:flex-end;width:100%;padding:0 var(--kern-metric-space-small)}.polar-move-handle-has-action-button[data-v-e0291d1d]{justify-content:space-between}.polar-move-handle-is-moving[data-v-e0291d1d]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none!important;user-select:none}[data-v-e0291d1d] .kern-card{box-shadow:none!important;width:100%;border:none}",T4=Be(w4,[["styles",[_4]],["__scopeId","data-v-e0291d1d"]]);function C4(r){return Array.isArray(r.layers)?r.layers:typeof r.layerConf>"u"||r.layerConf===Tr.layerConf?Tr.layers:[]}let E4=0;const M4={wms:Ew,wmts:M_,wfs:a5,geojson:h5,vectortile:l4,oaf:g4},bf=fi.prototype.addLayer;function U1(r){return r.getLayers?r.getLayers().getArray().map(e=>U1(e)).flat(1):[r]}function xf(r,e){U1(r).forEach(t=>{const n=t.getSource?.();n?(n.on?.("tileloaderror",e),n.on?.("imageloaderror",e),n.on?.("featuresloaderror",e),n.on?.("error",e)):console.error("Could not register error callback on layer:",t)})}function S4(r,e){const t=e?.visibility??e?.layerParams?.visibility??!0,n=e?.transparency??e?.layerParams?.transparency??0,i={...e?.layerParams||{},visibility:t,transparency:n},o=typeof e?.errorCallback=="function"?e?.errorCallback:console.error;let a,s;if(typeof r=="string"){const l=yi.getLayerWhere({id:r});return l?(s=M4[l.typ.toLowerCase()],s?(a=s.createLayer(l,{layerParams:i},{map:this}),a.setVisible(typeof t=="boolean"?t:!0),a.setOpacity(typeof n=="number"?(100-n)/100:1),xf(a,o),bf.call(this,a),a):(console.error("Layer with id '"+r+"' has unknown type '"+l.typ+"'. No layer added to map."),null)):(console.error("Layer with id '"+r+"' not found. No layer added to map."),null)}return xf(r,o),bf.call(this,r)}fi.prototype.addLayer=S4;function L4(r=Tr,{mapParams:e,callback:t,errorCallback:n}={}){tw.registerProjections(r.namedProjections),f4(r),$m(r.gazetteerUrl);const i=Object.assign({},{dragPan:!1,altShiftDragRotate:!1,pinchRotate:!1},r.mapInteractions?.interactionModes),o=new fi(Object.assign({target:r.target||Tr.target,interactions:Eh(i).extend([new Tl({condition:function(a){return a.originalEvent.shiftKey?!1:!a.originalEvent.pointerType||a.originalEvent.pointerType==="mouse"||r.mapInteractions?.interactionModes?.twoFingerPan&&this.getPointerCount()===2||!r.mapInteractions?.interactionModes?.twoFingerPan}})]),controls:[],view:Wx(r),keyboardEventTarget:r.mapInteractions?.keyboardEventTarget?document:!1},e));return o.set("mapMode","2D"),o.set("id",`map2D_${E4++}`),yi.initializeLayerList(r.layerConf,(a,s)=>(C4(r).forEach(l=>{o.addLayer(l.id,{layerParams:l,errorCallback:n})}),typeof t=="function"?t(a,s):null)),o}let zs,G1;function Id(){if(zs===void 0){const r=document.createElement("canvas");r.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; image-rendering: pixelated;");const e=r.style.imageRendering;zs=!!e,zs&&(G1=e)}return zs}function I4(){return Id(),G1||""}function ll(r){return r.get("olcs_projection")||r.getProjection()}let A4=0;function dt(r){return r.olcs_uid||(r.olcs_uid=++A4)}function xu(r){const e=r;return e.readyPromise||(e.ready!==void 0?e.ready?Promise.resolve(r):new Promise((n,i)=>{const o=setInterval(()=>{e.ready&&(clearInterval(o),n(r))},20)}):Promise.reject("Not a readyable object"))}function P4(r){const e=r.load||Jl,t=r.imageExtent,n=r.crossOrigin??null;return()=>{const i=new Image;return i.crossOrigin=n,r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy),e(i,r.url).then(o=>{const a=Jt(t)/o.width,s=Dn(t)/o.height;return{image:o,extent:t,resolution:a!==s?[a,s]:s,pixelRatio:1}})}}class B1 extends sc{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,n=e.imageLoadFunction!==void 0?e.imageLoadFunction:O0;super({attributions:e.attributions,interpolate:e.interpolate,projection:ve(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new Ql(this.imageExtent_,void 0,1,P4({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,referrerPolicy:e.referrerPolicy,load:(i,o)=>(this.image.setImage(i),n(this.image,o),Jl(i))})),this.image.addEventListener(Ne.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,n,i){return zo(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}function V1(){const r=document.createElement("canvas");return r.width=1,r.height=1,r}class N4{source_;projection_;fallbackProj_;map_;shouldRequestNextLevel;emptyCanvas_=V1();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_;ready_;rectangle_;get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;proxy;get _ready(){return this.ready_}get tileWidth(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[0]:t}return 256}get tileHeight(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[1]:t}return 256}get maximumLevel(){const e=this.source_.getTileGrid();return e?e.getMaxZoom():18}get minimumLevel(){return 0}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e,t,n){this.source_=t,this.projection_=null,this.ready_=!1,this.fallbackProj_=n||null,this.tilingScheme_=new Cesium.WebMercatorTilingScheme,this.rectangle_=null,this.map_=e,this.shouldRequestNextLevel=!1;const i=this.source_.get("olcs_proxy");i&&(typeof i=="function"?this.proxy={getURL:i}:typeof i=="string"&&(this.proxy=new Cesium.DefaultProxy(i))),this.source_.on("change",o=>{this.handleSourceChanged_()}),this.handleSourceChanged_()}handleSourceChanged_(){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=ll(this.source_)||this.fallbackProj_;const e={numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1};if(this.source_.getTileGrid()!==null&&this.source_.getTileGrid().forEachTileCoord(this.projection_.getExtent(),0,([t,n,i])=>{e.numberOfLevelZeroTilesX=n+1,e.numberOfLevelZeroTilesY=i+1}),this.projection_.getCode()==="EPSG:4326")this.shouldRequestNextLevel=e.numberOfLevelZeroTilesX===1&&e.numberOfLevelZeroTilesY===1,this.tilingScheme_=new Cesium.GeographicTilingScheme(e);else if(this.projection_.getCode()==="EPSG:3857")this.shouldRequestNextLevel=!1,this.tilingScheme_=new Cesium.WebMercatorTilingScheme(e);else return;this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(e,t,n){const i=this.source_.getAttributions();if(!i)return[];const o=this.map_.getView().calculateExtent(this.map_.getSize()),a=this.map_.getView().getCenter(),s=this.shouldRequestNextLevel?n+1:n;return Z1(i,s,a,o)}requestImage(e,t,n,i){const o=this.source_.getTileUrlFunction();if(o&&this.projection_){const a=this.shouldRequestNextLevel?n+1:n;let s=o.call(this.source_,[a,e,t],1,this.projection_);return this.proxy&&(s=this.proxy.getURL(s)),s?Cesium.ImageryProvider.loadImage(this,s):this.emptyCanvasPromise_}else return this.emptyCanvasPromise_}}const D4=new Oh({featureClass:hr}),O4=[new Pt({stroke:new Ir({color:"blue",width:2})})];class R4{urls;emptyCanvas_=V1();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_=new Cesium.WebMercatorTilingScheme;ready_=!0;rectangle_;tileRectangle_;tileWidth=256;tileHeight=256;maximumLevel=20;minimumLevel_=0;get minimumLevel(){return this.minimumLevel_}featureCache;tileCache;tileFunction_;styleFunction_;projection_=ve("EPSG:3857");get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;getTileCredits(e,t,n){return[]}proxy;get _ready(){return this.ready_}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e){this.urls=e.urls,this.rectangle_=e.rectangle||this.tilingScheme.rectangle,this.credit=e.credit,this.styleFunction_=e.styleFunction||(()=>O4),this.tileRectangle_=new Cesium.Rectangle;const t=e.cacheSize!==void 0?e.cacheSize:50;this.tileCache=new ig(t),this.featureCache=e.featureCache||new ig(t),this.minimumLevel_=e.minimumLevel||0;const n=ic(this.projection_);this.tileFunction_=Ah(this.urls,n)}getTileFeatures(e,t,n){const i=this.getCacheKey_(e,t,n);let o;if(this.featureCache.containsKey(i)&&(o=this.featureCache.get(i)),!o){const a=this.getUrl_(e,t,n);if(o=fetch(a).then(s=>s.ok?s:Promise.reject(s)).then(s=>s.arrayBuffer()).then(s=>this.readFeaturesFromBuffer(s)),this.featureCache.set(i,o),this.featureCache.getCount()>2*this.featureCache.highWaterMark)for(;this.featureCache.canExpireCache();)this.featureCache.pop()}return o}readFeaturesFromBuffer(e){const t=D4.readFeatures(e),n=this.tileWidth/4096;return t.forEach(i=>{const o=i.getFlatCoordinates();for(let a=0;a<o.length;++a)o[a]*=n}),t}getUrl_(e,t,n){return this.tileFunction_([e,t,n],1,this.projection_)}getCacheKey_(e,t,n){return`${e}_${t}_${n}`}requestImage(e,t,n,i){if(n<this.minimumLevel_)return this.emptyCanvasPromise_;try{const o=this.getCacheKey_(n,e,t);let a;if(this.tileCache.containsKey(o)&&(a=this.tileCache.get(o)),!a&&(a=this.getTileFeatures(n,e,t).then(s=>{this.tilingScheme.tileXYToNativeRectangle(e,t,n,this.tileRectangle_);const l=(this.tileRectangle_.east-this.tileRectangle_.west)/this.tileWidth;return this.rasterizeFeatures(s,this.styleFunction_,l)}),this.tileCache.set(o,a),this.tileCache.getCount()>2*this.tileCache.highWaterMark))for(;this.tileCache.canExpireCache();)this.tileCache.pop();return a}catch(o){console.trace(o),this.errorEvent.raiseEvent("could not render pbf to tile",o)}}rasterizeFeatures(e,t,n){const i=document.createElement("canvas"),o=Tx(i.getContext("2d"),{size:[this.tileWidth,this.tileHeight]});return e.forEach(a=>{const s=t(a,n);s&&(Array.isArray(s)?s.forEach(l=>{o.setStyle(l),o.drawGeometry(a)}):(o.setStyle(s),o.drawGeometry(a)))}),i}}function F4(r,e){const t=r.camera.getPickRay(e);return r.globe.pick(t,r)||r.camera.pickEllipsoid(e)}function j4(r){const e=r.canvas,t=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return F4(r,t)}function lp(r,e){if(r&&e){const t=Di(r,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(t[0],t[1],t[2],t[3])}else return null}function q4(r,e,t,n){const i=e.get("olcs_skip");if(i)return null;let o=null;if(e instanceof Nh&&e.getUrl()){const a={olcs_proxy:e.get("olcs_proxy"),olcs_extent:e.get("olcs_extent"),olcs_projection:e.get("olcs_projection"),"olcs.imagesource":e},s=e.getImageLoadFunction(),l=e.get("olcs_tileLoadFunction")||function(c,u){s(c,u)};e=new Ph({url:e.getUrl(),attributions:e.getAttributions(),projection:e.getProjection(),tileLoadFunction:l,params:e.getParams()}),e.setProperties(a)}if(e instanceof ac){let a=ll(e);if(a||(a=t),_f(a))o=new N4(r,e,t);else return null}else if(e instanceof B1){let a=ll(e);if(a||(a=t),_f(a)){const s=Cesium.Rectangle.fromDegrees(e.getImageExtent()[0],e.getImageExtent()[1],e.getImageExtent()[2],e.getImageExtent()[3],new Cesium.Rectangle);o=new Cesium.SingleTileImageryProvider({url:e.getUrl(),rectangle:s})}else return null}else if(e instanceof dc&&n instanceof In){let a=ll(e);if(a||(a=t),i===!1){const s=a.getCode().split(":")[1],l=e.urls.map(y=>y.replace(s,"3857")),c=n.getExtent(),u=lp(c,a),d=e.get("olcs_minimumLevel"),h=e.getAttributions(),p=n.getStyleFunction();let f;if(c&&h){const y=Gn(c);f=Z1(h,0,y,c)[0]}return o=new R4({credit:f,rectangle:u,minimumLevel:d,styleFunction:p,urls:l}),o}return null}else return null;return o}function H1(r,e,t){if(!(e instanceof no)&&!(e instanceof as)&&!(e instanceof In))return null;const n=e.getSource();if(!n)return null;let i=n.get("olcs_provider");if(i||(i=q4(r,n,t,e)),!i)return null;const o={},a=e.get("olcs_extent")||e.getExtent();return a&&(o.rectangle=lp(a,t)),new Cesium.ImageryLayer(i,o)}function Rl(r,e){let t=1,n=!0;[r.layer].concat(r.parents).forEach(i=>{const o=i.getOpacity();o!==void 0&&(t*=o);const a=i.getVisible();a!==void 0&&(n=n&&a)}),e.alpha=t,e.show=n}function _o(r){const e=r;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])}function wu(r){console.assert(r!==null);const e=_o,t=[];for(let n=0;n<r.length;++n)t.push(e(r[n]));return t}function $s(r,e){console.assert(e);const t=ve("EPSG:4326"),n=ve(e);if(n.getCode()!==t.getCode()){const i=r.getProperties();r=r.clone(),r.transform(n,t),r.setProperties(i)}return r}function wf(r){if(r=r||"black",Array.isArray(r))return new Cesium.Color(Cesium.Color.byteToFloat(r[0]),Cesium.Color.byteToFloat(r[1]),Cesium.Color.byteToFloat(r[2]),r[3]);if(typeof r=="string")return Cesium.Color.fromCssColorString(r);if(r instanceof CanvasPattern||r instanceof CanvasGradient){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=e.height=256,t.fillStyle=r,t.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")}function _f(r){const e=r.getCode()==="EPSG:3857",t=r.getCode()==="EPSG:4326";return e||t}function Z1(r,e,t,n){if(!r)return[];let i=r({viewState:{zoom:e,center:t,projection:void 0,resolution:void 0,rotation:void 0},extent:n});return Array.isArray(i)||(i=[i]),i.map(o=>new Cesium.Credit(o,!0))}function z4(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=r*i.clientHeight,l=Math.cos(Math.abs(e));return s*a*l/2/Math.tan(o/2)}function $4(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=2*r*Math.tan(o/2),l=Math.cos(Math.abs(e));return s/a/l/i.clientHeight}class U4{ol3d;scene_;canvas_;_boundNotifyRepaintRequired;repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"];constructor(e){this.ol3d=e,this.scene_=e.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const e of this.repaintEventNames_)this.canvas_.addEventListener(e,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const e of this.repaintEventNames_)this.canvas_.removeEventListener(e,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.isDestroyed()||this.scene_.requestRender()}}function Us(r){return r*180/Math.PI}function ha(r){return r*Math.PI/180}function Gs(r,e,t){const n=t||r.length;if(e)for(let i=0;i<n;++i)e[i]=r[i];return r}class G4{scene_;cam_;map_;view_;viewListenKey_=null;toLonLat_=Gs;fromLonLat_=Gs;tilt_=0;distance_=0;lastCameraViewMatrix_=null;viewUpdateInProgress_=!1;constructor(e,t){this.scene_=e,this.cam_=e.camera,this.map_=t,this.map_.on("change:view",n=>{this.setView_(this.map_.getView())}),this.setView_(this.map_.getView())}destroy(){tn(this.viewListenKey_),this.viewListenKey_=null}setView_(e){if(tn(this.viewListenKey_),this.viewListenKey_=null,this.view_=e,e){const t=gl(e.getProjection(),"EPSG:4326"),n=gl("EPSG:4326",e.getProjection());console.assert(t&&n),this.toLonLat_=t,this.fromLonLat_=n,this.viewListenKey_=e.on("propertychange",i=>this.handleViewChangedEvent_()),this.readFromView()}else this.toLonLat_=Gs,this.fromLonLat_=Gs}handleViewChangedEvent_(){this.viewUpdateInProgress_||this.readFromView()}setHeading(e){this.view_&&this.view_.setRotation(e)}getHeading(){return this.view_?this.view_.getRotation()||0:void 0}setTilt(e){this.tilt_=e,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(e){this.distance_=e,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(e){this.view_&&this.view_.setCenter(e)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(e){if(!this.toLonLat_)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(ha(t[0]),ha(t[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(n)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),t=this.fromLonLat_([Us(e.longitude),Us(e.latitude)]);return console.assert(t),t}setAltitude(e){const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);t.height=e,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(t),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(!e)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(ha(t[0]),ha(t[1]));if(this.scene_.globe){const a=this.scene_.globe.getHeight(n);n.height=a||0}const i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(n),o={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:i,orientation:o}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(e==null)return;const t=this.toLonLat_(e);console.assert(t);const n=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(n||0,ha(t[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const e=Cesium.Ellipsoid.WGS84,t=this.scene_,n=j4(t);let i=n;if(!i){const a=t.globe,s=this.cam_.positionCartographic.clone(),l=a.getHeight(s);s.height=l||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(s)}this.distance_=Cesium.Cartesian3.distance(i,this.cam_.position);const o=e.cartesianToCartographic(i);if(this.view_.setCenter(this.fromLonLat_([Us(o.longitude),Us(o.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,o?o.latitude:0)),n){const a=this.cam_.position,s=new Cesium.Cartesian3;e.geocentricSurfaceNormal(n,s);const l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(a,n,l),Cesium.Cartesian3.normalize(l,l);const c=this.cam_.up,u=this.cam_.right,d=new Cesium.Cartesian3(-n.y,n.x,0),h=Cesium.Cartesian3.angleBetween(u,d),p=Cesium.Cartesian3.cross(n,c,new Cesium.Cartesian3).z;this.view_.setRotation(p<0?h:-h);const f=Math.acos(Cesium.Cartesian3.dot(s,l));this.tilt_=isNaN(f)?0:f}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;setTimeout(()=>this.viewUpdateInProgress_=!1,1e3)}checkCameraChange(e){const t=this.lastCameraViewMatrix_,n=this.cam_.viewMatrix;(!t||!Cesium.Matrix4.equalsEpsilon(t,n,1e-7))&&(this.lastCameraViewMatrix_=n.clone(),e!==!0&&this.updateView())}calcDistanceForResolution(e,t){return z4(e,t,this.scene_,this.view_.getProjection())}calcResolutionForDistance(e,t){return $4(e,t,this.scene_,this.view_.getProjection())}}class cp{map;view;scene;olLayers;mapLayerGroup;layerMap={};olLayerListenKeys={};olGroupListenKeys_={};constructor(e,t){this.map=e,this.view=e.getView(),this.scene=t,this.olLayers=e.getLayerGroup().getLayers(),this.mapLayerGroup=e.getLayerGroup()}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(e){const t=[{layer:e,parents:[]}];for(;t.length>0;){const n=t.splice(0,1)[0],i=n.layer,o=dt(i).toString();this.olLayerListenKeys[o]=[],console.assert(!this.layerMap[o]);let a=null;if(i instanceof fn)this.listenForGroupChanges_(i),i!==this.mapLayerGroup&&(a=this.createSingleLayerCounterparts(n)),a||i.getLayers().forEach(s=>{if(s){const l={layer:s,parents:i===this.mapLayerGroup?[]:[n.layer].concat(n.parents)};t.push(l)}});else if(a=this.createSingleLayerCounterparts(n),!a){const s=o,l=n,c=()=>{const u=this.createSingleLayerCounterparts(l);u&&(l.layer.un("change",c),this.addCesiumObjects_(u,s,l.layer),this.orderLayers())};this.olLayerListenKeys[o].push(l.layer.on("change",c))}a&&this.addCesiumObjects_(a,o,i)}this.orderLayers()}addCesiumObjects_(e,t,n){this.layerMap[t]=e,this.olLayerListenKeys[t].push(n.on("change:zIndex",()=>this.orderLayers())),e.forEach(i=>{this.addCesiumObject(i)})}removeAndDestroySingleLayer_(e){const t=dt(e).toString(),n=this.layerMap[t];return n&&(n.forEach(i=>{this.removeSingleCesiumObject(i,!1),this.destroyCesiumObject(i)}),this.olLayerListenKeys[t].forEach(tn),delete this.olLayerListenKeys[t]),delete this.layerMap[t],!!n}unlistenSingleGroup_(e){if(e===this.mapLayerGroup)return;const t=dt(e).toString();this.olGroupListenKeys_[t].forEach(n=>{tn(n)}),delete this.olGroupListenKeys_[t],delete this.layerMap[t]}removeLayer_(e){if(e){const t=[e];for(;t.length>0;){const n=t.splice(0,1)[0],i=this.removeAndDestroySingleLayer_(n);n instanceof fn&&(this.unlistenSingleGroup_(n),i||n.getLayers().forEach(o=>{t.push(o)}))}}}listenForGroupChanges_(e){const t=dt(e).toString();console.assert(this.olGroupListenKeys_[t]===void 0);const n=[];this.olGroupListenKeys_[t]=n;let i=[];const o=(function(){const a=e.getLayers();a&&(i=[a.on("add",s=>{this.addLayers_(s.element)}),a.on("remove",s=>{this.removeLayer_(s.element)})],n.push(...i))}).bind(this);o(),n.push(e.on("change:layers",a=>{i.forEach(s=>{const l=n.indexOf(s);l>=0&&n.splice(l,1),tn(s)}),o()}))}destroyAll(){this.removeAllCesiumObjects(!0);let e;for(e in this.olGroupListenKeys_)this.olGroupListenKeys_[e].forEach(tn);for(e in this.olLayerListenKeys)this.olLayerListenKeys[e].forEach(tn);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}}class B4 extends cp{cesiumLayers_;ourLayers_;constructor(e,t){super(e,t),this.cesiumLayers_=t.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers_.add(e),this.ourLayers_.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers_.remove(e,t),this.ourLayers_.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers_.length;++t)this.cesiumLayers_.remove(this.ourLayers_.get(t),e);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n=H1(this.map,e,t);return n?[n]:null}createSingleLayerCounterparts(e){const t=e.layer,n=dt(t).toString(),i=this.view.getProjection();console.assert(i);const o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];if([e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)Rl(e,o[l])}))}),t instanceof Kd){let s=t.getStyleFunction();a.push(t.on("change",()=>{const l=t.getStyleFunction();if(s!==l){s=l;for(let c=0;c<o.length;++c){const u=o[c];u._imageryCache&&(u._imageryCache={});const d=u.imageryProvider;d&&(d.tileCache?.clear(),d.styleFunction_=l)}this.scene.requestRender()}}))}for(let s=0;s<o.length;++s)Rl(e,o[s]);a.push(t.on("change:extent",s=>{for(let l=0;l<o.length;++l)this.cesiumLayers_.remove(o[l],!0),this.ourLayers_.remove(o[l],!1);delete this.layerMap[dt(t)],this.synchronize()})),a.push(t.on("change",s=>{for(let l=0;l<o.length;++l){const c=this.cesiumLayers_.indexOf(o[l]);c>=0&&(this.cesiumLayers_.remove(o[l],!1),this.cesiumLayers_.add(o[l],c))}})),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[dt(i)]=i.getZIndex()||0,i instanceof fn){const o=i.getLayers();o&&n.unshift(...o.getArray())}}e.sort((i,o)=>t[dt(i)]-t[dt(o)]),e.forEach(i=>{const o=dt(i).toString(),a=this.layerMap[o];a&&a.forEach(s=>{this.raiseToTop(s)})})}raiseToTop(e){this.cesiumLayers_.raiseToTop(e)}}class V4{olListenKeys=[];context;rootCollection_;constructor(e,t){const n=new Cesium.BillboardCollection({scene:t}),i=new Cesium.PrimitiveCollection;this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:e,billboards:n,featureToCesiumMap:{},primitives:i},this.rootCollection_.add(n),this.rootCollection_.add(i)}destroy(){this.olListenKeys.forEach(tn),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}}class H4{scene;boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this);defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10);constructor(e){this.scene=e,this.scene=e}onRemoveOrClearFeature_(e){const t=e.target;console.assert(t instanceof cr);const n=t.olcs_cancellers;if(n){const i=e.feature;if(i){const o=dt(i),a=n[o];a&&(a(),delete n[o])}else{for(const o in n)n.hasOwnProperty(o)&&n[o]();t.olcs_cancellers={}}}}setReferenceForPicking(e,t,n){n.olLayer=e,n.olFeature=t}createColoredPrimitive(e,t,n,i,o,a){const s=function(h,p){const f=new Cesium.GeometryInstance({geometry:h});return p&&!(p instanceof Cesium.ImageMaterialProperty)&&(f.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(p)}),f},l={flat:!0,renderState:{depthTest:{enabled:!0}}};a!==void 0&&(l.renderState.lineWidth=a);const c=s(i,o),u=this.getHeightReference(e,t,n);let d;if(u===Cesium.HeightReference.CLAMP_TO_GROUND){if(!("createShadowVolume"in c.geometry.constructor))return null;d=new Cesium.GroundPrimitive({geometryInstances:c})}else d=new Cesium.Primitive({geometryInstances:c});if(o instanceof Cesium.ImageMaterialProperty){const h=o.image.getValue().toDataURL();d.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:h}}})})}else d.appearance=new Cesium.MaterialAppearance({...l,material:new Cesium.Material({translucent:o.alpha!==1,fabric:{type:"Color",uniforms:{color:o}}})}),d instanceof Cesium.Primitive&&(t.get("olcs_shadows")||e.get("olcs_shadows"))&&(d.shadows=1);return this.setReferenceForPicking(e,t,d),d}extractColorFromOlStyle(e,t){const n=e.getFill()?.getColor(),i=e.getStroke()?e.getStroke().getColor():null;let o="black";i&&t?o=i:n&&(o=n);const a=wf(o);return"red"in a?a:Cesium.Color.BLACK}extractLineWidthFromOlStyle(e){const t=e.getStroke()?e.getStroke().getWidth():void 0;return t!==void 0?t:1}wrapFillAndOutlineGeometries(e,t,n,i,o,a){const s=this.extractColorFromOlStyle(a,!1),l=this.extractColorFromOlStyle(a,!0),c=new Cesium.PrimitiveCollection;if(a.getFill()){const u=this.createColoredPrimitive(e,t,n,i,s);console.assert(!!u),c.add(u)}if(a.getStroke()&&o){const u=this.extractLineWidthFromOlStyle(a),d=this.createColoredPrimitive(e,t,n,o,l,u);d&&c.add(d)}return c}addTextStyle(e,t,n,i,o){let a;if(o instanceof Cesium.PrimitiveCollection?a=o:(a=new Cesium.PrimitiveCollection,a.add(o)),!i.getText())return a;const s=i.getText(),l=this.olGeometry4326TextPartToCesium(e,t,n,s);return l&&a.add(l),a}csAddBillboard(e,t,n,i,o,a){t.eyeOffset||(t.eyeOffset=this.defaultBillboardEyeOffset_);const s=e.add(t);return this.setReferenceForPicking(n,i,s),s}olCircleGeometryToCesium(e,t,n,i,o){n=$s(n,i),console.assert(n.getType()=="Circle");const a=n.getCenter(),s=a.length==3?a[2]:0,l=a.slice();l[0]+=n.getRadius();const c=_o(a),u=_o(l),d=Cesium.Cartesian3.distance(c,u),h=new Cesium.CircleGeometry({center:c,radius:d,height:s});let p,f;if(this.getHeightReference(e,t,n)===Cesium.HeightReference.CLAMP_TO_GROUND){const m=this.extractLineWidthFromOlStyle(o);if(m){const b=kb(n.getCenter(),d),k=wu(b.getLinearRing(0).getCoordinates()),C=p=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:k,width:m})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),classificationType:Cesium.ClassificationType.TERRAIN});xu(p).then(()=>{this.setReferenceForPicking(e,t,C._primitive)})}}else f=new Cesium.CircleOutlineGeometry({center:c,radius:d,extrudedHeight:s,height:s});const y=this.wrapFillAndOutlineGeometries(e,t,n,h,f,o);return p&&y.add(p),this.addTextStyle(e,t,n,o,y)}olLineStringGeometryToCesium(e,t,n,i,o){n=$s(n,i),console.assert(n.getType()=="LineString");const a=wu(n.getCoordinates()),s=this.extractLineWidthFromOlStyle(o);let l;const c=this.getHeightReference(e,t,n),u=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)});if(c===Cesium.HeightReference.CLAMP_TO_GROUND){const d=new Cesium.GroundPolylineGeometry({positions:a,width:s}),h=l=new Cesium.GroundPolylinePrimitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})});xu(l).then(()=>{this.setReferenceForPicking(e,t,h._primitive)})}else{const d=new Cesium.PolylineGeometry({positions:a,width:s,vertexFormat:u.vertexFormat});l=new Cesium.Primitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})})}return this.setReferenceForPicking(e,t,l),this.addTextStyle(e,t,n,o,l)}olPolygonGeometryToCesium(e,t,n,i,o){n=$s(n,i),console.assert(n.getType()=="Polygon");const a=this.getHeightReference(e,t,n);let s,l,c;if(n.getCoordinates()[0].length==5&&t.get("olcs_polygon_kind")==="rectangle"){const d=n.getCoordinates()[0],h=Kt(d),p=Cesium.Rectangle.fromDegrees(h[0],h[1],h[2],h[3]);let f=0;if(d[0].length==3)for(let m=0;m<d.length;m++)f=Math.max(f,d[m][2]);const y=t.get("olcs_extruded_height");s=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:f,extrudedHeight:y}),l=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:f,extrudedHeight:y})}else{const d=n.getLinearRings(),h={positions:[],holes:[]},p=h;console.assert(d.length>0);for(let y=0;y<d.length;++y){const m=d[y].getCoordinates(),b=wu(m);console.assert(b&&b.length>0),y===0?h.positions=b:h.holes.push({positions:b,holes:[]})}const f=t.get("olcs_extruded_height");if(s=new Cesium.PolygonGeometry({polygonHierarchy:p,perPositionHeight:!0,extrudedHeight:f}),a===Cesium.HeightReference.CLAMP_TO_GROUND){const y=this.extractLineWidthFromOlStyle(o);if(y>0){const m=[h.positions];if(h.holes)for(let C=0;C<h.holes.length;++C)m.push(h.holes[C].positions);const b=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),k=[];for(const C of m){const T=new Cesium.GroundPolylineGeometry({positions:C,width:y});k.push(new Cesium.GeometryInstance({geometry:T}))}c=new Cesium.GroundPolylinePrimitive({appearance:b,geometryInstances:k}),xu(c).then(()=>{this.setReferenceForPicking(e,t,c._primitive)})}}else l=new Cesium.PolygonOutlineGeometry({polygonHierarchy:h,perPositionHeight:!0,extrudedHeight:f})}const u=this.wrapFillAndOutlineGeometries(e,t,n,s,l,o);return c&&u.add(c),this.addTextStyle(e,t,n,o,u)}getHeightReference(e,t,n){let i=n.get("altitudeMode");i===void 0&&(i=t.get("altitudeMode")),i===void 0&&(i=e.get("altitudeMode"));let o=Cesium.HeightReference.NONE;return i==="clampToGround"?o=Cesium.HeightReference.CLAMP_TO_GROUND:i==="relativeToGround"&&(o=Cesium.HeightReference.RELATIVE_TO_GROUND),o}createBillboardFromImage(e,t,n,i,o,a,s,l){a instanceof gi&&a.load();const c=a.getImage(1),u=function(h){return h.src!=""&&h.naturalHeight!=0&&h.naturalWidth!=0&&h.complete},d=(function(){if(!c||!(c instanceof HTMLCanvasElement||c instanceof Image||c instanceof HTMLImageElement))return;const h=n.getCoordinates(),p=_o(h);let f;const y=a.getOpacity();y!==void 0&&(f=new Cesium.Color(1,1,1,y));const m=a.getScale(),b=this.getHeightReference(e,t,n),k={image:c,color:f,scale:Array.isArray(m)?(m[0]+m[1])/2:m,heightReference:b,position:p};if(Object.assign(k,t.get("cesiumOptions")),a instanceof gi){const T=a.getAnchor();if(T){const E=Array.isArray(m)?m[0]:m,R=Array.isArray(m)?m[1]:m;k.pixelOffset=new Cesium.Cartesian2((c.width/2-T[0])*E,(c.height/2-T[1])*R)}}const C=this.csAddBillboard(s,k,e,t,n,o);l&&l(C)}).bind(this);if(c instanceof Image&&!u(c)){let h=!1;const p=e.getSource(),f=function(){h=!0};p.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let y=p.olcs_cancellers;y||(y=p.olcs_cancellers={});const m=dt(t);y[m]&&y[m](),y[m]=f;const b=function(){c.removeEventListener("load",b),!s.isDestroyed()&&!h&&d()};c.addEventListener("load",b)}else d()}olPointGeometryToCesium(e,t,n,i,o,a,s){console.assert(n.getType()=="Point"),n=$s(n,i);let l=null;const c=o.getImage();if(c){const u=n.get("olcs_model")||t.get("olcs_model");if(u){l=new Cesium.PrimitiveCollection;const d=u(),h=Object.assign({},{scene:this.scene},d.cesiumOptions);if("fromGltf"in Cesium.Model){const p=Cesium.Model.fromGltf(h);l.add(p)}else Cesium.Model.fromGltfAsync(h).then(p=>{l.add(p)});d.debugModelMatrix&&l.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:d.debugModelMatrix}))}else this.createBillboardFromImage(e,t,n,i,o,c,a,s)}return o.getText()?this.addTextStyle(e,t,n,o,l||new Cesium.Primitive):l}olMultiGeometryToCesium(e,t,n,i,o,a,s){switch(n.getType()){case"MultiPoint":{const l=n.getPoints();if(o.getText()){const c=new Cesium.PrimitiveCollection;return l.forEach(u=>{console.assert(u);const d=this.olPointGeometryToCesium(e,t,u,i,o,a,s);d&&c.add(d)}),c}else return l.forEach(c=>{console.assert(c),this.olPointGeometryToCesium(e,t,c,i,o,a,s)}),null}case"MultiLineString":{const l=n.getLineStrings(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olLineStringGeometryToCesium(e,t,u,i,o);c.add(d)}),c}case"MultiPolygon":{const l=n.getPolygons(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olPolygonGeometryToCesium(e,t,u,i,o);c.add(d)}),c}default:console.assert(!1,`Unhandled multi geometry type${n.getType()}`)}}olGeometry4326TextPartToCesium(e,t,n,i){const o=i.getText();if(!o)return null;const a=new Cesium.LabelCollection({scene:this.scene}),s=Gn(n.getExtent());if(n instanceof $o){const f=n.getFirstCoordinate();s[2]=f.length==3?f[2]:0}const l={position:_o(s)};l.text=Array.isArray(o)?o.join(" "):o,l.heightReference=this.getHeightReference(e,t,n);const c=i.getOffsetX(),u=i.getOffsetY();if(c!=0||u!=0){const f=new Cesium.Cartesian2(c,u);l.pixelOffset=f}l.font=i.getFont()||"10px sans-serif";let d;i.getFill()&&(l.fillColor=this.extractColorFromOlStyle(i,!1),d=Cesium.LabelStyle.FILL),i.getStroke()&&(l.outlineWidth=this.extractLineWidthFromOlStyle(i),l.outlineColor=this.extractColorFromOlStyle(i,!0),d=Cesium.LabelStyle.OUTLINE),i.getFill()&&i.getStroke()&&(d=Cesium.LabelStyle.FILL_AND_OUTLINE),l.style=d;let h;switch(i.getTextAlign()){case"left":h=Cesium.HorizontalOrigin.LEFT;break;case"right":h=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:h=Cesium.HorizontalOrigin.CENTER}if(l.horizontalOrigin=h,i.getTextBaseline()){let f;switch(i.getTextBaseline()){case"top":f=Cesium.VerticalOrigin.TOP;break;case"middle":f=Cesium.VerticalOrigin.CENTER;break;case"bottom":f=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":f=Cesium.VerticalOrigin.TOP;break;case"hanging":f=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${i.getTextBaseline()}`)}l.verticalOrigin=f}const p=a.add(l);return this.setReferenceForPicking(e,t,p),a}olStyleToCesium(e,t,n){const i=t.getFill(),o=t.getStroke();if(n&&!o||!n&&!i)return null;const a=n?o.getColor():i.getColor(),s=wf(a),l=o.getLineDash();return n&&l?Cesium.Material.fromType("PolylineDash",{dashPattern:Z4(l),color:s}):Cesium.Material.fromType("Color",{color:s})}computePlainStyle(e,t,n,i){const o=t.getStyleFunction();let a=null;return o&&(a=o(t,i)),!a&&n&&(a=n(t,i)),a?Array.isArray(a)?a:[a]:null}getGeometryFromFeature(e,t,n){if(n)return n;const i=e.get("olcs_3d_geometry");if(i&&i instanceof pl)return i;if(t){const o=t.getGeometryFunction()(e);if(o instanceof pl)return o}return e.getGeometry()}olFeatureToCesium(e,t,n,i,o){const a=this.getGeometryFromFeature(t,n,o);if(!a)return null;const s=i.projection,l=function(c){const u=i.featureToCesiumMap[dt(t)];u instanceof Array?u.push(c):i.featureToCesiumMap[dt(t)]=[c]};switch(a.getType()){case"GeometryCollection":const c=new Cesium.PrimitiveCollection;return a.getGeometriesArray().forEach(h=>{if(h){const p=this.olFeatureToCesium(e,t,n,i,h);p&&c.add(p)}}),c;case"Point":const u=i.billboards;return this.olPointGeometryToCesium(e,t,a,s,n,u,l)||null;case"Circle":return this.olCircleGeometryToCesium(e,t,a,s,n);case"LineString":return this.olLineStringGeometryToCesium(e,t,a,s,n);case"Polygon":return this.olPolygonGeometryToCesium(e,t,a,s,n);case"MultiPoint":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiLineString":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiPolygon":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${a.getType()}`)}}olVectorLayerToCesium(e,t,n){const i=t.getProjection(),o=t.getResolution();if(o===void 0||!i)throw console.assert(!1,"View not ready"),new Error("View not ready");let a=e.getSource();a instanceof os&&(a=a.getSource()),console.assert(a instanceof cr);const s=a.getFeatures(),l=new V4(i,this.scene),c=l.context;for(let u=0;u<s.length;++u){const d=s[u];if(!d)continue;const h=e.getStyleFunction(),p=this.computePlainStyle(e,d,h,o);if(!p||!p.length)continue;let f=null;for(let y=0;y<p.length;y++){const m=this.olFeatureToCesium(e,d,p[y],c);if(m){if(!f)f=m;else if(m){let b=0,k;for(;k=m.get(b);)f.add(k),b++}}}f&&(n[dt(d)]=f,l.getRootPrimitive().add(f))}return l}convert(e,t,n,i){const o=t.getProjection(),a=t.getResolution();if(a==null||!o)return null;const s=e.getStyleFunction(),l=this.computePlainStyle(e,n,s,a);if(!l||!l.length)return null;i.projection=o;let c=null;for(let u=0;u<l.length;u++){const d=this.olFeatureToCesium(e,n,l[u],i);if(!c)c=d;else if(d){let h=0,p;for(;p=d.get(h);)c.add(p),h++}}return c}}function Z4(r){r.length<2&&(r=[1,1]);const e=r.length%2===0?r:[...r,...r],t=e.reduce((i,o)=>i+o,0)/16;let n=e.map((i,o)=>{const a=o%2===0?"1":"0";let s=Math.round(i/t);return o===0&&s===0&&(s=1),a.repeat(s)}).join("");return n.length<16?n=n.padEnd(16,"0"):n.length>16&&(n=n.substring(0,16)),n[15]==="1"&&(n=n.substring(0,15)+"0"),console.assert(n.length===16),parseInt(n,2)}class Y1 extends cp{converter;csAllPrimitives_;constructor(e,t,n){super(e,t),this.converter=n||new H4(t),this.csAllPrimitives_=new Cesium.PrimitiveCollection,t.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(e){console.assert(e);const t=e.getRootPrimitive();t.counterpart=e,this.csAllPrimitives_.add(e.getRootPrimitive())}destroyCesiumObject(e){e.getRootPrimitive().destroy()}removeSingleCesiumObject(e,t){e.destroy(),this.csAllPrimitives_.destroyPrimitives=t,this.csAllPrimitives_.remove(e.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(e){if(this.csAllPrimitives_.destroyPrimitives=e,e)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(e,t){let n=!0;[e.layer].concat(e.parents).forEach(i=>{const o=i.getVisible();o!==void 0?n=n&&o:n=!1}),t.show=n}createSingleLayerCounterparts(e){const t=e.layer;if(!(t instanceof ur)||t instanceof In)return null;console.assert(t instanceof Go);let n=t.getSource();if(n instanceof os&&(n=n.getSource()),!n)return null;console.assert(n instanceof cr),console.assert(this.view);const i=this.view,o={},a=this.converter.olVectorLayerToCesium(t,i,o),s=a.getRootPrimitive(),l=a.olListenKeys;[e.layer].concat(e.parents).forEach(d=>{l.push(d.on("change:visible",()=>{this.updateLayerVisibility(e,s)}))}),this.updateLayerVisibility(e,s);const c=d=>{const h=a.context,p=this.converter.convert(t,i,d,h);p&&(o[dt(d)]=p,s.add(p))},u=d=>{const h=dt(d),p=a.context,f=p.featureToCesiumMap[h];f&&(delete p.featureToCesiumMap[h],f.forEach(m=>{m instanceof Cesium.Billboard&&p.billboards.remove(m)}));const y=o[h];delete o[h],y&&s.remove(y)};return l.push(n.on("addfeature",d=>{console.assert(d.feature),c(d.feature)})),l.push(n.on("removefeature",d=>{console.assert(d.feature),u(d.feature)})),l.push(n.on("changefeature",d=>{const h=d.feature;console.assert(h),u(h),c(h)})),a?[a]:null}}function Y4(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function W4(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function W1(r,e){const t=r.cloneNode();r.nodeName==="CANVAS"&&t.getContext("2d").drawImage(r,0,0),e&&e.appendChild(t),r.nodeType!==Node.TEXT_NODE&&t.addEventListener("click",i=>{r.dispatchEvent(new MouseEvent("click",i)),i.stopPropagation()});const n=r.childNodes;for(let i=0;i<n.length;i++)n[i]&&W1(n[i],t);return t}class K4 extends _x{scenePostRenderListenerRemover_=null;scene_;synchronizer_;parent_;positionWGS84_;observer_;attributeObserver_=[];listenerKeys_;constructor(e){const t=e.parent;super(t.getOptions()),this.scene_=e.scene,this.synchronizer_=e.synchronizer,this.parent_=t,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const n=i=>this.setPropertyFromEvent_(i);this.listenerKeys_.push(this.parent_.on("change:element",n)),this.listenerKeys_.push(this.parent_.on("change:offset",n)),this.listenerKeys_.push(this.parent_.on("change:position",n)),this.listenerKeys_.push(this.parent_.on("change:positioning",n)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged(),this.handlePositionChanged()}observeTarget_(e){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(e,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach(t=>{t.disconnect()}),this.attributeObserver_.length=0;for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(n.nodeType===1){const i=new MutationObserver(this.handleElementChanged.bind(this));i.observe(n,{attributes:!0,subtree:!0}),this.attributeObserver_.push(i)}}}}setPropertyFromEvent_(e){e.target&&e.key&&this.set(e.key,e.target.get(e.key))}getScene(){return this.scene_}handleMapChanged(){this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),Y4(this.element)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){if(!this.parent_)return;const e=this.getPosition();if(e){const t=this.parent_.getMap().getView().getProjection();this.positionWGS84_=On(e,t,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){W4(this.element);const e=this.getElement();if(e&&e.parentNode&&e.parentNode.childNodes)for(const t of Array.from(e.parentNode.childNodes)){const n=W1(t,null);this.element.appendChild(n)}e.parentNode&&this.observeTarget_(e.parentNode)}updatePixelPosition(){const e=this.positionWGS84_;if(!this.scene_||!e){this.setVisible(!1);return}let t=0;if(e.length===2){const c=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(e[0],e[1]));c&&this.scene_.globe.tilesLoaded&&(e[2]=c),c&&(t=c)}else t=e[2];const n=Cesium.Cartesian3.fromDegrees(e[0],e[1],t),i=this.scene_.camera,o=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(o,i.position).isPointVisible(n)){this.setVisible(!1);return}if(i.frustum.computeCullingVolume(i.position,i.direction,i.up).computeVisibility(new Cesium.BoundingSphere(n))!==1){this.setVisible(!1);return}this.setVisible(!0);const a=this.scene_.cartesianToCanvasCoordinates(n),s=[a.x,a.y],l=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(s,l)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),tn(this.listenerKeys_),this.listenerKeys_.splice(0),"removeNode"in this.element?this.element.removeNode(!0):this.element.remove(),this.element=null}}class K1{map;scene;overlayCollection_;overlayContainerStopEvent_;overlayContainer_;overlayMap_=new Map;overlayEvents=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];listenerKeys_=[];constructor(e,t){this.map=e,this.scene=t,this.map=e,this.overlayCollection_=this.map.getOverlays(),this.scene=t,this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.overlayEvents.forEach(n=>{this.overlayContainerStopEvent_.addEventListener(n,i=>i.stopPropagation())}),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_)}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.overlayCollection_.forEach(e=>{this.addOverlay(e)}),this.listenerKeys_.push(this.overlayCollection_.on("add",e=>this.addOverlay(e.element))),this.listenerKeys_.push(this.overlayCollection_.on("remove",e=>this.removeOverlay(e.element)))}addOverlay(e){if(!e)return;const t=new K4({scene:this.scene,synchronizer:this,parent:e});this.overlayMap_.set(dt(e),t)}removeOverlay(e){const t=dt(e),n=this.overlayMap_.get(t);n&&(n.destroy(),this.overlayMap_.delete(t))}destroyAll(){this.overlayMap_.forEach(e=>{e.destroy()}),this.overlayMap_.clear(),tn(this.listenerKeys_),this.listenerKeys_.length=0}}const _u={DONE:0,PENDING:1,FAILED:2};class up{autoRenderLoop_=null;map_;time_;to4326Transform_;resolutionScale_=1;canvasClientWidth_=0;canvasClientHeight_=0;resolutionScaleChanged_=!0;container_;isOverMap_;canvas_;enabled_=!1;pausedInteractions_=[];hiddenRootGroup_=null;scene_;camera_;globe_;dataSourceCollection_;dataSourceDisplay_;lastFrameTime_=0;renderId_;targetFrameRate_=Number.POSITIVE_INFINITY;blockCesiumRendering_=!1;warmingUp_=!1;trackedFeature_=null;trackedEntity_=null;entityView_=null;needTrackedEntityUpdate_=!1;boundingSphereScratch_=new Cesium.BoundingSphere;synchronizers_;refresh2DAfterCameraMoveEndOnly=!1;moveEndRemoveCallback_;constructor(e){this.map_=e.map,this.time_=e.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=gl(this.map_.getView().getProjection(),"EPSG:4326");const t="position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none;";this.container_=document.createElement("DIV");const n=document.createAttribute("style");n.value=`${t}visibility:hidden;`,this.container_.setAttributeNode(n);let i=e.target||this.map_.getViewport();if(typeof i=="string"&&(i=document.getElementById(i)),i.appendChild(this.container_),this.isOverMap_=!e.target,this.isOverMap_&&e.stopOpenLayersEventsPropagation){const c=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];for(let u=0,d=c.length;u<d;++u)this.container_.addEventListener(c[u],h=>h.stopPropagation())}this.canvas_=document.createElement("canvas");const o=document.createAttribute("style");o.value=t,this.canvas_.setAttributeNode(o),Id()&&(this.canvas_.style.imageRendering=I4()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_);const a=e.sceneOptions!==void 0?{...e.sceneOptions,canvas:this.canvas_,scene3DOnly:!0}:{canvas:this.canvas_,scene3DOnly:!0};this.scene_=new Cesium.Scene(a);const s=this.scene_.screenSpaceCameraController;Array.isArray(s.tiltEventTypes)?(s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT})):console.log("sscc is not an array"),s.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new G4(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const l=new Cesium.SingleTileImageryProvider({tileHeight:1,tileWidth:1,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(l,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_}),this.synchronizers_=e.createSynchronizers?e.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new B4(this.map_,this.scene_),new Y1(this.map_,this.scene_),new K1(this.map_,this.scene_)],this.handleResize_();for(let c=this.synchronizers_.length-1;c>=0;--c)this.synchronizers_[c].synchronize();new Cesium.EventHelper().add(this.scene_.postRender,up.prototype.updateTrackedEntity_,this),this.moveEndRemoveCallback_=this.scene_.camera.moveEnd.addEventListener(()=>{this.refresh2DAfterCameraMoveEndOnly&&this.camera_.checkCameraChange()})}destroy(){cancelAnimationFrame(this.renderId_),this.renderId_=void 0,this.synchronizers_.forEach(e=>e.destroyAll()),this.camera_.destroy(),this.scene_.destroy(),this.scene_._postRender=null,this.moveEndRemoveCallback_(),this.container_.remove()}render_(){this.renderId_!==void 0&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),(this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_&&(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(e){this.renderId_=void 0;const t=1e3/this.targetFrameRate_;if(e-this.lastFrameTime_<t){this.render_();return}this.lastFrameTime_=e;const n=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(n),this.entityView_){const i=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(i,!1,this.boundingSphereScratch_)===_u.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(n,this.boundingSphereScratch_))}this.scene_.render(n),this.refresh2DAfterCameraMoveEndOnly||this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const e=this.trackedEntity_,t=this.scene_,n=this.dataSourceDisplay_.getBoundingSphere(e,!1,this.boundingSphereScratch_);if(n===_u.PENDING)return;t.screenSpaceCameraController.enableTilt=!1;const i=n!==_u.FAILED?this.boundingSphereScratch_:void 0;i&&(i.radius=1),this.entityView_=new Cesium.EntityView(e,t,t.mapProjection.ellipsoid),this.entityView_.update(this.time_(),i),this.needTrackedEntityUpdate_=!1}handleResize_(){let e=this.canvas_.clientWidth,t=this.canvas_.clientHeight;if(e===0||t===0||e===this.canvasClientWidth_&&t===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let n=this.resolutionScale_;Id()||(n*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=e,this.canvasClientHeight_=t,e*=n,t*=n,this.canvas_.width=e,this.canvas_.height=t,this.scene_.camera.frustum.aspectRatio=e/t}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const e=this.map_.getView();return console.assert(e),e}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(e){if(this.enabled_===e)return;this.enabled_=e,this.container_.style.visibility=this.enabled_?"visible":"hidden";let t;if(this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){t=this.map_.getInteractions(),t.forEach((i,o,a)=>{this.pausedInteractions_.push(i)}),t.clear(),this.map_.addInteraction=i=>this.pausedInteractions_.push(i),this.map_.removeInteraction=i=>{let o=!1;return this.pausedInteractions_=this.pausedInteractions_.filter(a=>{const s=a!==i;return o||(o=s),s}),o?i:void 0};const n=this.map_.getLayerGroup();n.getVisible()&&(this.hiddenRootGroup_=n,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(t=this.map_.getInteractions(),this.pausedInteractions_.forEach(n=>{t.push(n)}),this.pausedInteractions_.length=0,this.map_.addInteraction=n=>this.map_.getInteractions().push(n),this.map_.removeInteraction=n=>this.map_.getInteractions().remove(n),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(e,t){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const n=this.globe_.ellipsoid,i=this.scene_.camera,o=n.cartesianToCartographic(i.position);o.height<e&&(o.height=e,i.position=n.cartographicToCartesian(o)),this.warmingUp_=!0,this.render_(),setTimeout(()=>{this.warmingUp_=!1},t)}setBlockCesiumRendering(e){this.blockCesiumRendering_!==e&&(this.blockCesiumRendering_=e,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new U4(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(e){e=Math.max(0,e),e!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,e),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(e){this.targetFrameRate_!==e&&(this.targetFrameRate_=e,this.render_())}setRefresh2DAfterCameraMoveEndOnly(e){this.refresh2DAfterCameraMoveEndOnly=e}throwOnUnitializedMap_(){const e=this.map_.getView(),t=e.getCenter();if(!e.isDef()||isNaN(t[0])||isNaN(t[1]))throw new Error(`The OpenLayers map is not properly initialized: ${t} / ${e.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(e){if(this.trackedFeature_!==e){const t=this.scene_;if(!e||!e.getGeometry()){this.needTrackedEntityUpdate_=!1,t.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,t.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=e,this.needTrackedEntityUpdate_=!0;const n=this.to4326Transform_,i=function(){const a=e.getGeometry();console.assert(a instanceof Vt);const s=a instanceof Vt?a.getCoordinates():[],l=n(s,void 0,s.length);return _o(l)},o={position:new Cesium.CallbackProperty((a,s)=>i(),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(o)}}}class Q4 extends K1{constructor(e,t){super(e,t)}addOverlays(){this.overlays_.forEach(e=>{e.getId()!==void 0&&this.addOverlay(e)})}}class X4 extends cp{constructor(e,t){super(e,t),this.cesiumLayers=t.imageryLayers,this.ourLayers=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers.add(e),this.ourLayers.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers.remove(e,t),this.ourLayers.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers.length;++t)this.cesiumLayers.remove(this.ourLayers.get(t),e);this.ourLayers.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n={show:!1};let i={},o={},a=null;if(!(e instanceof no)&&!(e instanceof as))return null;if(i=e.getSource(),i instanceof Ph)a=this.createProviderForTileWMS(i,t,e);else{if(i instanceof Nh)return o=this.createImageryLayerForImageWMS(e,t),o?[o]:null;if(i instanceof B1)a=this.createProviderForStaticImageSource(i);else if(i instanceof lc){if(typeof i.getUrls!="function"||!Array.isArray(i.getUrls()))return null;a=new Cesium.WebMapTileServiceImageryProvider({url:i.getUrls()[0],format:i.getFormat(),layer:i.getLayer(),style:i.getStyle(),tileMatrixSetID:i.getMatrixSet(),tileMatrixLabels:i.getTileGrid().getMatrixIds(),credit:i.getAttributions()})}else return console.warn("Sources other than TileImage are currently not supported."),null}return o=new Cesium.ImageryLayer(a,n),o?[o]:null}createProviderForTileWMS(e,t,n){const i=e.getParams(),o={url:e.getUrls()[0],parameters:i,layers:i.LAYERS,show:!1,tilingScheme:new Cesium.WebMercatorTilingScheme},a=e.getTileGrid();if(typeof i.CQL_FILTER>"u"&&delete i.CQL_FILTER,a){const s=n.getExtent();if(s&&t){o.rectangle=lp(s,t);const l=this.getMinMaxLevelFromTileGrid(a,s,t);o.tileWidth=a.getTileSize(0)[0],o.tileHeight=a.getTileSize(0)[1],o.minimumLevel=l[0],o.maximumLevel=l[1]}}return new Cesium.WebMapServiceImageryProvider(o)}createImageryLayerForImageWMS(e,t){return H1(this.map,e,t)}createProviderForStaticImageSource(e){const t=e.getImageExtent(),n={url:e.getUrl(),show:!1},i=Ur(e.getProjection().getCode(),"EPSG:4326",Xc(t)),o=Ur(e.getProjection().getCode(),"EPSG:4326",Jc(t));return n.rectangle=Cesium.Rectangle.fromDegrees(i[0],i[1],o[0],o[1]),new Cesium.SingleTileImageryProvider(n)}getExtentPoints(e,t){const n=Di(e,t,"EPSG:4326");return[Xc(n),rg(n),Jc(n),ml(n)].map(i=>Cesium.Cartographic.fromDegrees(i[0],i[1]))}getMinMaxLevelFromTileGrid(e,t,n){const i=[Xc(t),rg(t),Jc(t),ml(t)],o=e.getResolutions().slice(-1).pop(),a=i.map(p=>e.getTileCoordForCoordAndResolution(p,o)),s=Math.abs(a[0][1]-a[1][1]),l=Math.abs(a[0][2]-a[3][2]),c=this.getExtentPoints(t,n),u=new Cesium.GeographicTilingScheme({});let d=0,h=20;for(;d<h;){const p=c.map(y=>u.positionToTileXY(y,d)),f=[];if(f.push(Math.abs(p[0].x-p[1].x)),f.push(Math.abs(p[0].y-p[3].y)),f[0]>1||f[1]>1){d--;break}d++}for(;h>d;){const p=c.map(y=>u.positionToTileXY(y,h)),f=[];if(f.push(Math.abs(p[0].x-p[1].x)),f.push(Math.abs(p[0].y-p[3].y)),f[0]<s||f[1]<l){h++;break}h--}return[d,h]}createSingleLayerCounterparts(e){const t=e.layer,n=dt(t).toString(),i=this.view.getProjection(),o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];[e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)Rl(e,o[l])}))});for(let s=0;s<o.length;++s)Rl(e,o[s]);a.push(t.on("change:extent",function(){for(let s=0;s<o.length;++s)this.cesiumLayers.remove(o[s],!0),this.ourLayers.remove(o[s],!1);delete this.layerMap[dt(t)],this.synchronize()},this)),a.push(t.on("change",(function(){for(let s=0;s<o.length;++s){const l=this.cesiumLayers.indexOf(o[s]);l>=0&&(this.cesiumLayers.remove(o[s],!1),this.cesiumLayers.add(o[s],l))}}).bind(this))),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[dt(i)]=i.getZIndex(),i instanceof fn){const o=i.getLayers();o&&n.unshift(...o.getArray())}}d2(e,(i,o)=>t[dt(i)]-t[dt(o)]),e.forEach(function(i){const o=dt(i).toString(),a=this.layerMap[o];a&&a.forEach(this.raiseToTop,this)},this)}raiseToTop(e){this.cesiumLayers.raiseToTop(e)}}let J4=0;function Ya(r,e){if(!r||!e||typeof e!="object"){console.warn("setCesiumSceneParams: Invalid scene or params.");return}Object.entries(e).forEach(([t,n])=>{["0","1","2","heading","tilt","altitude","pitch"].includes(t)||(typeof n=="object"&&r[t]?Ya(r[t],n):r[t]=n)})}function Q1(r,e,t){if(!r||!e){console.warn("setCameraParameter: Missing parameters or map3D instance.");return}let n=e.getCesiumScene()?.camera;const i=parseFloat(r.heading??r.camera?.heading??0),o=parseFloat(r.pitch??r.camera?.pitch??0),a=parseFloat(r.roll??0),s=parseFloat(r.tilt??r.camera?.tilt??0),l=parseFloat(r.altitude??r.camera?.altitude??0);if(r.cameraPosition||r.camera?.cameraPosition){const c=r.cameraPosition??r.camera.cameraPosition,u=t.Cartesian3.fromDegrees(c[0],c[1],c[2]),d={heading:t.Math.toRadians(i),pitch:t.Math.toRadians(o),roll:t.Math.toRadians(a)};r.cameraPosition?n.setView({destination:u,orientation:d}):n.flyTo({destination:u,orientation:d});return}n=e.getCamera(),s&&n.setTilt(s),i&&n.setHeading(i),l&&n.setAltitude(l)}function X1(r){const e=new up({map:r.map2D,time:r?.shadowTime,stopOpenLayersEventsPropagation:!0,createSynchronizers:(t,n)=>[new X4(t,n),new Y1(t,n),new Q4(t,n)]});return e.id=`map3D_${J4++}`,e.mapMode="3D",Ya(e.getCesiumScene(),Tr.sceneOptions),r?.cesiumParameter&&(Ya(e.getCesiumScene(),r.cesiumParameter),Q1(r.cesiumParameter,e,Cesium)),e}function eC(r){const e=this.scene,t=e.camera.getPickRay(r.position),n=e.globe.pick(t,e),i=this.map3D.getOlView().getProjection();let o,a,s,l,c,u,d,h,p,f;if(n){if(document.querySelector(".nav li")?.classList.contains("open")&&document.querySelector(".nav li").classList.remove("open"),s=e.globe.ellipsoid.cartesianToCartographic(n),a=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)],o=e.globe.getHeight(s),o&&(a=a.concat([o])),l=Cesium.Cartesian3.distance(n,e.camera.position),c=this.map3D.getCamera().calcResolutionForDistance(l,s.latitude),u=On(a,ve("EPSG:4326"),i),d=null,e.pickPositionSupported){const y=e.pick(r.position);h=e.pickPosition(r.position),!h&&y?.primitive instanceof window.Cesium.Billboard&&(h=y.primitive?.position),h&&(p=e.globe.ellipsoid.cartesianToCartographic(h),d=On([Cesium.Math.toDegrees(p.longitude),Cesium.Math.toDegrees(p.latitude)],ve("EPSG:4326"),i),d.push(p.height))}f={map3D:this,position:r.position,pickedPosition:d,coordinate:u,latitude:a[0],longitude:a[1],resolution:c,originalEvent:r}}return this.callback(f)}function tC(r){let e;Cesium&&(e=new Cesium.ScreenSpaceEventHandler(r.scene.canvas),e.setInputAction(eC.bind(r),Cesium.ScreenSpaceEventType.LEFT_CLICK))}function rC(r,e,t){const n=r.camera;let i=Object.prototype.hasOwnProperty.call(t,"cameraParameter")?t.cameraParameter:{};return i=e?.altitude?Object.assign(i||{},{altitude:e?.altitude}):i,i=e?.heading?Object.assign(i||{},{heading:e?.heading}):i,i=e?.tilt?Object.assign(i||{},{tilt:e?.tilt}):i,Object.keys(i).length>0&&Ya(r,{camera:i}),n}const nC=Object.freeze(Object.defineProperty({__proto__:null,createMap:X1,handle3DEvents:tC,prepareCamera:rC,setCameraParameter:Q1,setCesiumSceneParams:Ya},Symbol.toStringTag,{value:"Module"})),iC={createMap:function(r,e="2D",t={}){return{"2D":L4,"3D":X1}[e](r,t)},olcsMap:nC},oC={map:iC};var Tf={exports:{}},Cf;function aC(){return Cf||(Cf=1,(function(r){(function(e,t,n,i){var o=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),s="function",l=Math.round,c=Math.abs,u=Date.now;function d(g,v,_){return setTimeout(C(g,_),v)}function h(g,v,_){return Array.isArray(g)?(p(g,_[v],_),!0):!1}function p(g,v,_){var L;if(g)if(g.forEach)g.forEach(v,_);else if(g.length!==i)for(L=0;L<g.length;)v.call(_,g[L],L,g),L++;else for(L in g)g.hasOwnProperty(L)&&v.call(_,g[L],L,g)}function f(g,v,_){var L="DEPRECATED METHOD: "+v+`
`+_+` AT 
`;return function(){var G=new Error("get-stack-trace"),ye=G&&G.stack?G.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",qe=e.console&&(e.console.warn||e.console.log);return qe&&qe.call(e.console,L,ye),g.apply(this,arguments)}}var y;typeof Object.assign!="function"?y=function(g){if(g===i||g===null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(g),_=1;_<arguments.length;_++){var L=arguments[_];if(L!==i&&L!==null)for(var G in L)L.hasOwnProperty(G)&&(v[G]=L[G])}return v}:y=Object.assign;var m=f(function(g,v,_){for(var L=Object.keys(v),G=0;G<L.length;)(!_||_&&g[L[G]]===i)&&(g[L[G]]=v[L[G]]),G++;return g},"extend","Use `assign`."),b=f(function(g,v){return m(g,v,!0)},"merge","Use `assign`.");function k(g,v,_){var L=v.prototype,G;G=g.prototype=Object.create(L),G.constructor=g,G._super=L,_&&y(G,_)}function C(g,v){return function(){return g.apply(v,arguments)}}function T(g,v){return typeof g==s?g.apply(v&&v[0]||i,v):g}function E(g,v){return g===i?v:g}function R(g,v,_){p(fe(v),function(L){g.addEventListener(L,_,!1)})}function F(g,v,_){p(fe(v),function(L){g.removeEventListener(L,_,!1)})}function se(g,v){for(;g;){if(g==v)return!0;g=g.parentNode}return!1}function ne(g,v){return g.indexOf(v)>-1}function fe(g){return g.trim().split(/\s+/g)}function U(g,v,_){if(g.indexOf&&!_)return g.indexOf(v);for(var L=0;L<g.length;){if(_&&g[L][_]==v||!_&&g[L]===v)return L;L++}return-1}function j(g){return Array.prototype.slice.call(g,0)}function te(g,v,_){for(var L=[],G=[],ye=0;ye<g.length;){var qe=g[ye][v];U(G,qe)<0&&L.push(g[ye]),G[ye]=qe,ye++}return L=L.sort(function(ft,Or){return ft[v]>Or[v]}),L}function O(g,v){for(var _,L,G=v[0].toUpperCase()+v.slice(1),ye=0;ye<o.length;){if(_=o[ye],L=_?_+G:v,L in g)return L;ye++}return i}var q=1;function ce(){return q++}function W(g){var v=g.ownerDocument||g;return v.defaultView||v.parentWindow||e}var pe=/mobile|tablet|ip(ad|hone|od)|android/i,Ce="ontouchstart"in e,V=O(e,"PointerEvent")!==i,_t=Ce&&pe.test(navigator.userAgent),rt="touch",Ct="pen",ir="mouse",kt="kinect",bt=25,Qe=1,et=2,je=4,Y=8,Cr=1,x=2,w=4,S=8,$=16,P=x|w,z=S|$,H=P|z,K=["x","y"],Z=["clientX","clientY"];function N(g,v){var _=this;this.manager=g,this.callback=v,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(L){T(g.options.enable,[g])&&_.handler(L)},this.init()}N.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(W(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(W(this.element),this.evWin,this.domHandler)}};function me(g){var v,_=g.options.inputClass;return _?v=_:V?v=oa:_t?v=bs:Ce?v=Bc:v=At,new v(g,re)}function re(g,v,_){var L=_.pointers.length,G=_.changedPointers.length,ye=v&Qe&&L-G===0,qe=v&(je|Y)&&L-G===0;_.isFirst=!!ye,_.isFinal=!!qe,ye&&(g.session={}),_.eventType=v,J(g,_),g.emit("hammer.input",_),g.recognize(_),g.session.prevInput=_}function J(g,v){var _=g.session,L=v.pointers,G=L.length;_.firstInput||(_.firstInput=ke(v)),G>1&&!_.firstMultiple?_.firstMultiple=ke(v):G===1&&(_.firstMultiple=!1);var ye=_.firstInput,qe=_.firstMultiple,ft=qe?qe.center:ye.center,Or=v.center=le(L);v.timeStamp=u(),v.deltaTime=v.timeStamp-ye.timeStamp,v.angle=Ze(ft,Or),v.distance=$e(ft,Or),ae(_,v),v.offsetDirection=Le(v.deltaX,v.deltaY);var fr=Te(v.deltaTime,v.deltaX,v.deltaY);v.overallVelocityX=fr.x,v.overallVelocityY=fr.y,v.overallVelocity=c(fr.x)>c(fr.y)?fr.x:fr.y,v.scale=qe?Ht(qe.pointers,L):1,v.rotation=qe?gt(qe.pointers,L):0,v.maxPointers=_.prevInput?v.pointers.length>_.prevInput.maxPointers?v.pointers.length:_.prevInput.maxPointers:v.pointers.length,de(_,v);var Kr=g.element;se(v.srcEvent.target,Kr)&&(Kr=v.srcEvent.target),v.target=Kr}function ae(g,v){var _=v.center,L=g.offsetDelta||{},G=g.prevDelta||{},ye=g.prevInput||{};(v.eventType===Qe||ye.eventType===je)&&(G=g.prevDelta={x:ye.deltaX||0,y:ye.deltaY||0},L=g.offsetDelta={x:_.x,y:_.y}),v.deltaX=G.x+(_.x-L.x),v.deltaY=G.y+(_.y-L.y)}function de(g,v){var _=g.lastInterval||v,L=v.timeStamp-_.timeStamp,G,ye,qe,ft;if(v.eventType!=Y&&(L>bt||_.velocity===i)){var Or=v.deltaX-_.deltaX,fr=v.deltaY-_.deltaY,Kr=Te(L,Or,fr);ye=Kr.x,qe=Kr.y,G=c(Kr.x)>c(Kr.y)?Kr.x:Kr.y,ft=Le(Or,fr),g.lastInterval=v}else G=_.velocity,ye=_.velocityX,qe=_.velocityY,ft=_.direction;v.velocity=G,v.velocityX=ye,v.velocityY=qe,v.direction=ft}function ke(g){for(var v=[],_=0;_<g.pointers.length;)v[_]={clientX:l(g.pointers[_].clientX),clientY:l(g.pointers[_].clientY)},_++;return{timeStamp:u(),pointers:v,center:le(v),deltaX:g.deltaX,deltaY:g.deltaY}}function le(g){var v=g.length;if(v===1)return{x:l(g[0].clientX),y:l(g[0].clientY)};for(var _=0,L=0,G=0;G<v;)_+=g[G].clientX,L+=g[G].clientY,G++;return{x:l(_/v),y:l(L/v)}}function Te(g,v,_){return{x:v/g||0,y:_/g||0}}function Le(g,v){return g===v?Cr:c(g)>=c(v)?g<0?x:w:v<0?S:$}function $e(g,v,_){_||(_=K);var L=v[_[0]]-g[_[0]],G=v[_[1]]-g[_[1]];return Math.sqrt(L*L+G*G)}function Ze(g,v,_){_||(_=K);var L=v[_[0]]-g[_[0]],G=v[_[1]]-g[_[1]];return Math.atan2(G,L)*180/Math.PI}function gt(g,v){return Ze(v[1],v[0],Z)+Ze(g[1],g[0],Z)}function Ht(g,v){return $e(v[0],v[1],Z)/$e(g[0],g[1],Z)}var tt={mousedown:Qe,mousemove:et,mouseup:je},Fe="mousedown",Ot="mousemove mouseup";function At(){this.evEl=Fe,this.evWin=Ot,this.pressed=!1,N.apply(this,arguments)}k(At,N,{handler:function(g){var v=tt[g.type];v&Qe&&g.button===0&&(this.pressed=!0),v&et&&g.which!==1&&(v=je),this.pressed&&(v&je&&(this.pressed=!1),this.callback(this.manager,v,{pointers:[g],changedPointers:[g],pointerType:ir,srcEvent:g}))}});var Er={pointerdown:Qe,pointermove:et,pointerup:je,pointercancel:Y,pointerout:Y},Rt={2:rt,3:Ct,4:ir,5:kt},Yr="pointerdown",ks="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Yr="MSPointerDown",ks="MSPointerMove MSPointerUp MSPointerCancel");function oa(){this.evEl=Yr,this.evWin=ks,N.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k(oa,N,{handler:function(g){var v=this.store,_=!1,L=g.type.toLowerCase().replace("ms",""),G=Er[L],ye=Rt[g.pointerType]||g.pointerType,qe=ye==rt,ft=U(v,g.pointerId,"pointerId");G&Qe&&(g.button===0||qe)?ft<0&&(v.push(g),ft=v.length-1):G&(je|Y)&&(_=!0),!(ft<0)&&(v[ft]=g,this.callback(this.manager,G,{pointers:v,changedPointers:[g],pointerType:ye,srcEvent:g}),_&&v.splice(ft,1))}});var Zv={touchstart:Qe,touchmove:et,touchend:je,touchcancel:Y},Yv="touchstart",Wv="touchstart touchmove touchend touchcancel";function zp(){this.evTarget=Yv,this.evWin=Wv,this.started=!1,N.apply(this,arguments)}k(zp,N,{handler:function(g){var v=Zv[g.type];if(v===Qe&&(this.started=!0),!!this.started){var _=Kv.call(this,g,v);v&(je|Y)&&_[0].length-_[1].length===0&&(this.started=!1),this.callback(this.manager,v,{pointers:_[0],changedPointers:_[1],pointerType:rt,srcEvent:g})}}});function Kv(g,v){var _=j(g.touches),L=j(g.changedTouches);return v&(je|Y)&&(_=te(_.concat(L),"identifier")),[_,L]}var Qv={touchstart:Qe,touchmove:et,touchend:je,touchcancel:Y},Xv="touchstart touchmove touchend touchcancel";function bs(){this.evTarget=Xv,this.targetIds={},N.apply(this,arguments)}k(bs,N,{handler:function(g){var v=Qv[g.type],_=Jv.call(this,g,v);_&&this.callback(this.manager,v,{pointers:_[0],changedPointers:_[1],pointerType:rt,srcEvent:g})}});function Jv(g,v){var _=j(g.touches),L=this.targetIds;if(v&(Qe|et)&&_.length===1)return L[_[0].identifier]=!0,[_,_];var G,ye,qe=j(g.changedTouches),ft=[],Or=this.target;if(ye=_.filter(function(fr){return se(fr.target,Or)}),v===Qe)for(G=0;G<ye.length;)L[ye[G].identifier]=!0,G++;for(G=0;G<qe.length;)L[qe[G].identifier]&&ft.push(qe[G]),v&(je|Y)&&delete L[qe[G].identifier],G++;if(ft.length)return[te(ye.concat(ft),"identifier"),ft]}var ek=2500,$p=25;function Bc(){N.apply(this,arguments);var g=C(this.handler,this);this.touch=new bs(this.manager,g),this.mouse=new At(this.manager,g),this.primaryTouch=null,this.lastTouches=[]}k(Bc,N,{handler:function(g,v,_){var L=_.pointerType==rt,G=_.pointerType==ir;if(!(G&&_.sourceCapabilities&&_.sourceCapabilities.firesTouchEvents)){if(L)tk.call(this,v,_);else if(G&&rk.call(this,_))return;this.callback(g,v,_)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function tk(g,v){g&Qe?(this.primaryTouch=v.changedPointers[0].identifier,Up.call(this,v)):g&(je|Y)&&Up.call(this,v)}function Up(g){var v=g.changedPointers[0];if(v.identifier===this.primaryTouch){var _={x:v.clientX,y:v.clientY};this.lastTouches.push(_);var L=this.lastTouches,G=function(){var ye=L.indexOf(_);ye>-1&&L.splice(ye,1)};setTimeout(G,ek)}}function rk(g){for(var v=g.srcEvent.clientX,_=g.srcEvent.clientY,L=0;L<this.lastTouches.length;L++){var G=this.lastTouches[L],ye=Math.abs(v-G.x),qe=Math.abs(_-G.y);if(ye<=$p&&qe<=$p)return!0}return!1}var Gp=O(a.style,"touchAction"),Bp=Gp!==i,Vp="compute",Hp="auto",Vc="manipulation",bi="none",aa="pan-x",sa="pan-y",xs=ik();function Hc(g,v){this.manager=g,this.set(v)}Hc.prototype={set:function(g){g==Vp&&(g=this.compute()),Bp&&this.manager.element.style&&xs[g]&&(this.manager.element.style[Gp]=g),this.actions=g.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var g=[];return p(this.manager.recognizers,function(v){T(v.options.enable,[v])&&(g=g.concat(v.getTouchAction()))}),nk(g.join(" "))},preventDefaults:function(g){var v=g.srcEvent,_=g.offsetDirection;if(this.manager.session.prevented){v.preventDefault();return}var L=this.actions,G=ne(L,bi)&&!xs[bi],ye=ne(L,sa)&&!xs[sa],qe=ne(L,aa)&&!xs[aa];if(G){var ft=g.pointers.length===1,Or=g.distance<2,fr=g.deltaTime<250;if(ft&&Or&&fr)return}if(!(qe&&ye)&&(G||ye&&_&P||qe&&_&z))return this.preventSrc(v)},preventSrc:function(g){this.manager.session.prevented=!0,g.preventDefault()}};function nk(g){if(ne(g,bi))return bi;var v=ne(g,aa),_=ne(g,sa);return v&&_?bi:v||_?v?aa:sa:ne(g,Vc)?Vc:Hp}function ik(){if(!Bp)return!1;var g={},v=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(_){g[_]=v?e.CSS.supports("touch-action",_):!0}),g}var ws=1,Mr=2,oo=4,Vn=8,vn=Vn,la=16,Wr=32;function kn(g){this.options=y({},this.defaults,g||{}),this.id=ce(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=ws,this.simultaneous={},this.requireFail=[]}kn.prototype={defaults:{},set:function(g){return y(this.options,g),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(g){if(h(g,"recognizeWith",this))return this;var v=this.simultaneous;return g=_s(g,this),v[g.id]||(v[g.id]=g,g.recognizeWith(this)),this},dropRecognizeWith:function(g){return h(g,"dropRecognizeWith",this)?this:(g=_s(g,this),delete this.simultaneous[g.id],this)},requireFailure:function(g){if(h(g,"requireFailure",this))return this;var v=this.requireFail;return g=_s(g,this),U(v,g)===-1&&(v.push(g),g.requireFailure(this)),this},dropRequireFailure:function(g){if(h(g,"dropRequireFailure",this))return this;g=_s(g,this);var v=U(this.requireFail,g);return v>-1&&this.requireFail.splice(v,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(g){return!!this.simultaneous[g.id]},emit:function(g){var v=this,_=this.state;function L(G){v.manager.emit(G,g)}_<Vn&&L(v.options.event+Zp(_)),L(v.options.event),g.additionalEvent&&L(g.additionalEvent),_>=Vn&&L(v.options.event+Zp(_))},tryEmit:function(g){if(this.canEmit())return this.emit(g);this.state=Wr},canEmit:function(){for(var g=0;g<this.requireFail.length;){if(!(this.requireFail[g].state&(Wr|ws)))return!1;g++}return!0},recognize:function(g){var v=y({},g);if(!T(this.options.enable,[this,v])){this.reset(),this.state=Wr;return}this.state&(vn|la|Wr)&&(this.state=ws),this.state=this.process(v),this.state&(Mr|oo|Vn|la)&&this.tryEmit(v)},process:function(g){},getTouchAction:function(){},reset:function(){}};function Zp(g){return g&la?"cancel":g&Vn?"end":g&oo?"move":g&Mr?"start":""}function Yp(g){return g==$?"down":g==S?"up":g==x?"left":g==w?"right":""}function _s(g,v){var _=v.manager;return _?_.get(g):g}function Dr(){kn.apply(this,arguments)}k(Dr,kn,{defaults:{pointers:1},attrTest:function(g){var v=this.options.pointers;return v===0||g.pointers.length===v},process:function(g){var v=this.state,_=g.eventType,L=v&(Mr|oo),G=this.attrTest(g);return L&&(_&Y||!G)?v|la:L||G?_&je?v|Vn:v&Mr?v|oo:Mr:Wr}});function Ts(){Dr.apply(this,arguments),this.pX=null,this.pY=null}k(Ts,Dr,{defaults:{event:"pan",threshold:10,pointers:1,direction:H},getTouchAction:function(){var g=this.options.direction,v=[];return g&P&&v.push(sa),g&z&&v.push(aa),v},directionTest:function(g){var v=this.options,_=!0,L=g.distance,G=g.direction,ye=g.deltaX,qe=g.deltaY;return G&v.direction||(v.direction&P?(G=ye===0?Cr:ye<0?x:w,_=ye!=this.pX,L=Math.abs(g.deltaX)):(G=qe===0?Cr:qe<0?S:$,_=qe!=this.pY,L=Math.abs(g.deltaY))),g.direction=G,_&&L>v.threshold&&G&v.direction},attrTest:function(g){return Dr.prototype.attrTest.call(this,g)&&(this.state&Mr||!(this.state&Mr)&&this.directionTest(g))},emit:function(g){this.pX=g.deltaX,this.pY=g.deltaY;var v=Yp(g.direction);v&&(g.additionalEvent=this.options.event+v),this._super.emit.call(this,g)}});function Zc(){Dr.apply(this,arguments)}k(Zc,Dr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.scale-1)>this.options.threshold||this.state&Mr)},emit:function(g){if(g.scale!==1){var v=g.scale<1?"in":"out";g.additionalEvent=this.options.event+v}this._super.emit.call(this,g)}});function Yc(){kn.apply(this,arguments),this._timer=null,this._input=null}k(Yc,kn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Hp]},process:function(g){var v=this.options,_=g.pointers.length===v.pointers,L=g.distance<v.threshold,G=g.deltaTime>v.time;if(this._input=g,!L||!_||g.eventType&(je|Y)&&!G)this.reset();else if(g.eventType&Qe)this.reset(),this._timer=d(function(){this.state=vn,this.tryEmit()},v.time,this);else if(g.eventType&je)return vn;return Wr},reset:function(){clearTimeout(this._timer)},emit:function(g){this.state===vn&&(g&&g.eventType&je?this.manager.emit(this.options.event+"up",g):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Wc(){Dr.apply(this,arguments)}k(Wc,Dr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bi]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.rotation)>this.options.threshold||this.state&Mr)}});function Kc(){Dr.apply(this,arguments)}k(Kc,Dr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:P|z,pointers:1},getTouchAction:function(){return Ts.prototype.getTouchAction.call(this)},attrTest:function(g){var v=this.options.direction,_;return v&(P|z)?_=g.overallVelocity:v&P?_=g.overallVelocityX:v&z&&(_=g.overallVelocityY),this._super.attrTest.call(this,g)&&v&g.offsetDirection&&g.distance>this.options.threshold&&g.maxPointers==this.options.pointers&&c(_)>this.options.velocity&&g.eventType&je},emit:function(g){var v=Yp(g.offsetDirection);v&&this.manager.emit(this.options.event+v,g),this.manager.emit(this.options.event,g)}});function Cs(){kn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}k(Cs,kn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Vc]},process:function(g){var v=this.options,_=g.pointers.length===v.pointers,L=g.distance<v.threshold,G=g.deltaTime<v.time;if(this.reset(),g.eventType&Qe&&this.count===0)return this.failTimeout();if(L&&G&&_){if(g.eventType!=je)return this.failTimeout();var ye=this.pTime?g.timeStamp-this.pTime<v.interval:!0,qe=!this.pCenter||$e(this.pCenter,g.center)<v.posThreshold;this.pTime=g.timeStamp,this.pCenter=g.center,!qe||!ye?this.count=1:this.count+=1,this._input=g;var ft=this.count%v.taps;if(ft===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=vn,this.tryEmit()},v.interval,this),Mr):vn}return Wr},failTimeout:function(){return this._timer=d(function(){this.state=Wr},this.options.interval,this),Wr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Hn(g,v){return v=v||{},v.recognizers=E(v.recognizers,Hn.defaults.preset),new Qc(g,v)}Hn.VERSION="2.0.7",Hn.defaults={domEvents:!1,touchAction:Vp,enable:!0,inputTarget:null,inputClass:null,preset:[[Wc,{enable:!1}],[Zc,{enable:!1},["rotate"]],[Kc,{direction:P}],[Ts,{direction:P},["swipe"]],[Cs],[Cs,{event:"doubletap",taps:2},["tap"]],[Yc]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ok=1,Wp=2;function Qc(g,v){this.options=y({},Hn.defaults,v||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=me(this),this.touchAction=new Hc(this,this.options.touchAction),Kp(this,!0),p(this.options.recognizers,function(_){var L=this.add(new _[0](_[1]));_[2]&&L.recognizeWith(_[2]),_[3]&&L.requireFailure(_[3])},this)}Qc.prototype={set:function(g){return y(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},stop:function(g){this.session.stopped=g?Wp:ok},recognize:function(g){var v=this.session;if(!v.stopped){this.touchAction.preventDefaults(g);var _,L=this.recognizers,G=v.curRecognizer;(!G||G&&G.state&vn)&&(G=v.curRecognizer=null);for(var ye=0;ye<L.length;)_=L[ye],v.stopped!==Wp&&(!G||_==G||_.canRecognizeWith(G))?_.recognize(g):_.reset(),!G&&_.state&(Mr|oo|Vn)&&(G=v.curRecognizer=_),ye++}},get:function(g){if(g instanceof kn)return g;for(var v=this.recognizers,_=0;_<v.length;_++)if(v[_].options.event==g)return v[_];return null},add:function(g){if(h(g,"add",this))return this;var v=this.get(g.options.event);return v&&this.remove(v),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},remove:function(g){if(h(g,"remove",this))return this;if(g=this.get(g),g){var v=this.recognizers,_=U(v,g);_!==-1&&(v.splice(_,1),this.touchAction.update())}return this},on:function(g,v){if(g!==i&&v!==i){var _=this.handlers;return p(fe(g),function(L){_[L]=_[L]||[],_[L].push(v)}),this}},off:function(g,v){if(g!==i){var _=this.handlers;return p(fe(g),function(L){v?_[L]&&_[L].splice(U(_[L],v),1):delete _[L]}),this}},emit:function(g,v){this.options.domEvents&&ak(g,v);var _=this.handlers[g]&&this.handlers[g].slice();if(!(!_||!_.length)){v.type=g,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var L=0;L<_.length;)_[L](v),L++}},destroy:function(){this.element&&Kp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Kp(g,v){var _=g.element;if(_.style){var L;p(g.options.cssProps,function(G,ye){L=O(_.style,ye),v?(g.oldCssProps[L]=_.style[L],_.style[L]=G):_.style[L]=g.oldCssProps[L]||""}),v||(g.oldCssProps={})}}function ak(g,v){var _=t.createEvent("Event");_.initEvent(g,!0,!0),_.gesture=v,v.target.dispatchEvent(_)}y(Hn,{INPUT_START:Qe,INPUT_MOVE:et,INPUT_END:je,INPUT_CANCEL:Y,STATE_POSSIBLE:ws,STATE_BEGAN:Mr,STATE_CHANGED:oo,STATE_ENDED:Vn,STATE_RECOGNIZED:vn,STATE_CANCELLED:la,STATE_FAILED:Wr,DIRECTION_NONE:Cr,DIRECTION_LEFT:x,DIRECTION_RIGHT:w,DIRECTION_UP:S,DIRECTION_DOWN:$,DIRECTION_HORIZONTAL:P,DIRECTION_VERTICAL:z,DIRECTION_ALL:H,Manager:Qc,Input:N,TouchAction:Hc,TouchInput:bs,MouseInput:At,PointerEventInput:oa,TouchMouseInput:Bc,SingleTouchInput:zp,Recognizer:kn,AttrRecognizer:Dr,Tap:Cs,Pan:Ts,Swipe:Kc,Pinch:Zc,Rotate:Wc,Press:Yc,on:R,off:F,each:p,merge:b,extend:m,assign:y,inherit:k,bindFn:C,prefixed:O});var sk=typeof e<"u"?e:typeof self<"u"?self:{};sk.Hammer=Hn,r.exports?r.exports=Hn:e[n]=Hn})(window,document,"Hammer")})(Tf)),Tf.exports}var sC=aC();const lC=p2(sC);function Tu(r){const e=Me(r()),t=()=>{e.value=r()};return Wi(()=>{Fr.on("languageChanged",t)}),pk(()=>{Fr.off("languageChanged",t)}),e}function cC(r,e){r.layers.map(({id:t})=>({id:t,service:e.find(({id:n})=>n===t)})).filter(t=>t.service?!0:(console.warn(`@polar/polar(core/utils/checkServiceAvailability:26:6)
`,`Service with id "${t.id}" not found in service register.`),!1)).map(({service:t})=>({ping:m4(t),serviceId:t.id,serviceName:t.name})).forEach(({ping:t,serviceId:n,serviceName:i})=>{t.then(o=>{o!==200&&(td("warning",()=>Tt(a=>a.error.serviceUnavailable,{ns:"core",serviceId:n,serviceName:i})),console.error(`@polar/polar(core/utils/checkServiceAvailability:54:7)
`,`Ping to "${n}" returned "${o}".`))}).catch(o=>{console.error(`@polar/polar(core/utils/checkServiceAvailability:58:6)
`,o)})})}function uC(r,e){return r?[new Tl,new dd]:[new Tl({condition:function(){return e?this.getPointerCount()>1:!0}}),new dd({condition:xx})]}function Ef(r){const e=r.originalEvent.composedPath()[0],{tagName:t}=e;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.isContentEditable}const dC=()=>[new E0({condition:Ef}),new M0({condition:Ef})];function hC(r,e,t){if(e.get("features"))return e;const n=r.getLayers().getArray().find(o=>o.get("id")===e.get(t));if(!(n instanceof ur))throw new Error(`@polar/lib-get-cluster: The layer with the id ${t} either does not exist or is not a VectorLayer.`);const i=n.getSource().getFeatures().find(o=>o.get("features").includes(e));if(!(i instanceof jt))throw new Error("@polar/lib-get-cluster: No cluster could be found for the given feature.");return i.set("features",[...i.get("features").filter(o=>o!==e),e]),i.set(t,e.get(t),!0),i}class ra{constructor(e,t,n){this.feature=e,this.style=t,this.isClustered=n,this.attributes={},this.legendInfos=[],this.styleMultiGeomOnlyWithRule=!1,this.nullStyle=!1}setFeature(e){this.feature=e}setStyle(e){this.style=e}getStyle(){return this.style}overwriteStyling(e){e?(this.nullStyle=!1,Object.keys(e).forEach(t=>{const n=e[t];this.attributes[t]=n})):this.nullStyle=!0}setIsClustered(e){this.isClustered=e}getLegendInfos(){return this.legendInfos}createLegendId(e,t){const n=t?.conditions?t.conditions:null;return encodeURIComponent(e+JSON.stringify(n))}createLegendLabel(e,t){if(t?.attributes?.legendValue)return t.attributes.legendValue.toString();if(e?.conditions){let n="";return e.conditions?.properties&&(n=Object.values(e.conditions.properties).join(", ")),e.conditions?.sequence&&Array.isArray(e.conditions.sequence)&&e.conditions.sequence.every(i=>typeof i=="number")&&e.conditions.sequence.length===2&&e.conditions.sequence[1]>=e.conditions.sequence[0]&&(n=n+" ("+e.conditions.sequence.join("-")+")"),n}return null}addLegendInfo(e,t,n){const{legendInfos:i}=t,o=this.createLegendId(e,n);i.some(a=>a.id===o)||this.legendInfos.push({id:o,geometryType:e,styleObject:t.attributes.type==="NOMINAL"?{attributes:t.attributes,style:t.style}:t.attributes,label:this.createLegendLabel(n,t)})}prepareField(e,t){const n=t.startsWith("@");let i=t;return n?(i=sb(e,i),typeof i>"u"&&(i="undefined")):i=Object.prototype.hasOwnProperty.call(e,t)?e[t]:"undefined",i}}const Mf={draw:[{type:"line",parameters:[[1,-.5],[-.5,1]]},{type:"line",parameters:[[1.5,0],[0,1.5]]}]},Sf={draw:[{type:"line",parameters:[[0,-.25],[.75,.5],[0,1.25]]}]},pC={diagonal:Mf,"zig-line":Sf,"diagonal-right":{...Mf,rotate:90},"zig-line-horizontal":{...Sf,rotate:90},rectangle:{draw:[{type:"rect",parameters:[[.125,.125,.25,.25],[.625,.625,.25,.25]]}]},triangle:{draw:[{type:"line",parameters:[[.25,0],[.5,.5],[0,.5],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,1],[.5,1],[.75,.5]]}]},diamond:{draw:[{type:"line",parameters:[[.25,0],[.5,.25],[.25,.5],[0,.25],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,.75],[.75,1],[.5,.75],[.75,.5]]}]},circle:{draw:[{type:"arc",parameters:[.25,.25,({size:r,lineWidth:e})=>(r-2*e)/4]},{type:"arc",parameters:[.75,.75,({size:r,lineWidth:e})=>(r-2*e)/4]}]}};function Cu(r){return e=>e*r}function gC(r,e,{type:t,parameters:n}){const i=Cu(e);if(r.beginPath(),t==="rect")n.forEach(o=>r.rect(...o.map(i)));else if(t==="line"){const[o,...a]=n;r.moveTo(...o.map(i)),a.forEach(s=>r.lineTo(...s.map(i)))}else if(t==="arc"){const[o,a,s,l,c,u]=n,d=typeof s=="function"?s({size:e,lineWidth:r.lineWidth}):s;r.arc(Cu(e)(o),Cu(e)(a),d,l||0,c||2*Math.PI,u||!1)}else{console.error(`polygonStyleHatches: Unknown segment type "${t}". Skipping segment.`);return}r.stroke()}function fC(r,e,t=90){const n=.5*e;r.translate(n,n),r.rotate(t*Math.PI/180),r.translate(-n,-n)}function mC(r,e,t){const n=typeof t=="string"?pC[t]:t;if(n){const{draw:i,rotate:o}=n;o&&fC(r,e,o),i&&i.forEach(a=>gC(r,e,a))}else console.error(`polygonStyleHatches: Unknown polygon style "${t}". Skipping hatching.`)}class Ad extends ra{constructor(){super(),this.attributes={...Hi.polygon}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.attributes.polygonFillColor,t=this.attributes.polygonFillHatch;return new Pt({stroke:new Ir({lineCap:this.attributes.polygonStrokeCap,lineJoin:this.attributes.polygonStrokeJoin,lineDash:this.attributes.polygonStrokeDash,lineDashOffset:this.attributes.polygonStrokeDashOffset,miterLimit:this.attributes.polygonStrokeMiterLimit,color:this.attributes.polygonStrokeColor,width:this.attributes.polygonStrokeWidth}),fill:new sn({color:t?this.getPolygonFillHatch(t).getContext("2d").fillStyle:e})})}getPolygonFillHatch({pattern:e="diagonal",size:t=30,lineWidth:n=10,backgroundColor:i=[0,0,0,1],patternColor:o=[255,255,255,1]}){const a=document.createElement("canvas"),s=a.getContext("2d");return a.width=t,a.height=t,s.fillStyle=`rgba(${i.join(",")})`,s.fillRect(0,0,a.width,a.height),s.lineWidth=n,s.strokeStyle=`rgba(${o.join(",")})`,mC(s,t,e),s.fillStyle=s.createPattern(a,"repeat"),a}getPolygonFillHatchLegendDataUrl(e){const t=this.getPolygonFillHatch(e.polygonFillHatch),n=kr(e.polygonStrokeColor,"hex"),i=parseInt(e.polygonStrokeWidth,10),o=e.polygonStrokeColor[3].toString()||0,a=document.createElement("canvas"),s=a.getContext("2d"),l=i/2,c=i*2;return a.width=t.width+c,a.height=t.height+c,s.drawImage(t,i,i),s.lineCap="round",s.lineJoin="round",s.strokeStyle=n,s.lineWidth=i,s.globalAlpha=o,s.strokeRect(l,l,a.width-i,a.height-i),a.toDataURL()}}const yC=new Ad,J1="data:image/svg+xml,",ey=r=>typeof r=="string"?"":`<defs>
    <pattern id="img" patternUnits="userSpaceOnUse" x="0" y="0" width="${r.size||30}" height="${r.size||30}">
      <image href="${yC.getPolygonFillHatch(r).toDataURL()}" width="${r.size||30}" height="${r.size||30}"/>
    </pattern>
  </defs>`,vC=({fill:r,size:e,stroke:t,strokeWidth:n})=>`${J1}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>DB6C494E-88E8-49F1-89CE-97CBEC3A5240</title>
  ${ey(r)}
  <path
    d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"
    stroke="${t}"
    stroke-width="${n}"
    fill="${typeof r=="string"?r:"url(#img)"}"
    fill-rule="nonzero"
  />
</svg>
`)}`,kC=({fill:r,clusterSize:e,stroke:t,strokeWidth:n})=>`${J1}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>0A6F4952-4A5A-4E86-88E4-4B3D2EA1E3DF</title>
  ${ey(r)}
  <g stroke="${t}" stroke-width="${n}" fill="${typeof r=="string"?r:"url(#img)"}" fill-rule="nonzero">
    <path d="M22.584 1C15.101 1 9 7.101 9 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C36.168 7.054 30.068 1 22.584 1z"/>
    <path d="M18.584 1C11.101 1 5 7.101 5 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C32.168 7.054 26.068 1 18.584 1z"/>
    <path d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"/>
  </g>
</svg>
`)}`,bC=[.5,1],xC=r=>{const e=new Map,t=new Map;return(n,i)=>{const o=i?t:e;if(o.has(n))return o.get(n);const a=r(n,i);return o.set(n,a),o.size>1e3&&console.warn(`@polar/polar(core/utils/markers:86:4)
`,"1000+ styles have been created. This is possibly a memory leak. Please mind that the methods exported by this module are memoized. You *may* be calling the methods with constantly newly generated objects, or maybe there's just a lot of styles."),a}},wC=(r,e=!1)=>new Pt({image:new gi({src:(e?kC:vC)(r),anchor:bC})}),Fl=xC(wC),Ec=[26,36],Mc=[40,36],Sc="#FFFFFF",Lc="2",_C={clusterSize:Mc,fill:"#005CA9",size:Ec,stroke:Sc,strokeWidth:Lc},TC={clusterSize:Mc,fill:"#7B1045",size:Ec,stroke:Sc,strokeWidth:Lc},CC={clusterSize:Mc,fill:"#679100",size:Ec,stroke:Sc,strokeWidth:Lc},EC={clusterSize:Mc,fill:"#333333",size:Ec,stroke:Sc,strokeWidth:Lc};let dp=[],Pd=0;function Wa(r){return dp.find(e=>e.id===r)}function hp(r){return dp.some(({id:e})=>e===r.get("id"))}function MC(r,e){return r.getLayers().getArray().find(t=>t.get("id")===e)}function SC(r,e){const t=e.get("features"),n=Pa();t.forEach(i=>Am(n,i.getGeometry()?.getExtent()||[])),r.getView().fit(n,{duration:400,padding:[80,30,80,30]})}function Nd(r,e,t=!1){const n=is();if(n.selected?.setStyle(void 0),n.selected=null,e===null)return;const i=e.get("_polarLayerId"),o=typeof MC(r,i)?.getSource().getDistance=="function"?hC(r,e,"_polarLayerId"):e;o.setStyle(Fl(Wa(e.get("_polarLayerId")).selectionStyle,o.get("features")?.length>1)),n.selected=Pi(o),t&&Bo().centerOnFeature(n.selected)}function pp(r,e){if(e.get("_polarLayerId"))return;const t=r.getLayers().getArray().find(n=>{if(n instanceof ur){let i=n;for(;i instanceof ur||i instanceof os;)if(i=i.getSource(),i.hasFeature(e))return!0;return i.hasFeature(e)}return!1})?.get("id");t&&e.set("_polarLayerId",t,!0)}function LC(r){const e=is(),t=e.configuration;t&&(dp=t.layers.map(n=>vt({defaultStyle:_C,hoverStyle:TC,selectionStyle:CC,unselectableStyle:EC,isSelectable:()=>!0},n)),Pd=r.getView().getZoom(),r.getLayers().getArray().filter(hp).forEach(n=>{const i=n.getSource();i!==null&&(i.geometryFunction=a=>f2(a)?a.getGeometry():null);const o=Wa(n.get("id"));n.setStyle(a=>Fl(o.isSelectable(a)?o.defaultStyle:o.unselectableStyle,a.get("features")?.length>1))}),yt(()=>e.hovered,n=>{if(n!==null&&n!==nn(e.selected)&&(e.hovered?.setStyle(void 0),e.hovered=null),n!==null&&n!==nn(e.selected)){e.hovered=Pi(n);const i=e.hovered.get("features")?.length>1,o=Fl(Wa(n.get("_polarLayerId")).hoverStyle,i);e.hovered.setStyle(o)}}),r.on("moveend",IC),r.on("pointermove",AC),r.on("click",PC),r.on("singleclick",NC))}let ty=null;function IC({map:r}){const e=is(),t=r.getView().getZoom();if(t!==Pd&&(Pd=t,e.selected)){const n=e.selected.get("features")?.[0]||e.selected;pp(r,n),Nd(r,n)}}function AC({map:r,pixel:e}){const t=is(),n=r.getFeaturesAtPixel(e,{layerFilter:hp})[0];if(n===nn(t.selected)||n instanceof hr||(nn(t.hovered)!==null&&nn(t.hovered)!==nn(t.selected)&&(t.hovered?.setStyle(void 0),t.hovered=null),!n))return;pp(r,n);const i=Wa(n.get("_polarLayerId"));if(!i.isSelectable(n))return;const o=n.get("features")?.length>1;n.setStyle(Fl(i.hoverStyle,o)),t.hovered=Pi(n)}function PC(r){const e=is(),t=r.map;e.selected!==null&&Nd(t,null);const n=t.getFeaturesAtPixel(r.pixel,{layerFilter:hp})[0];if(!n||n instanceof hr||(pp(t,n),!Wa(n.get("_polarLayerId")).isSelectable(n)))return;const i=n.get("features")?.length>1;ty=r,r.stopPropagation();const o=t.getView().getZoom()!==t.getView().getMaxZoom();if(e.clusterClickZoom&&i&&o){SC(t,n);return}if(e.hovered?.setStyle(void 0),e.hovered=null,Nd(t,n,!0),e.callOnMapSelect){const a=Bo(),{action:s,payload:l,pluginName:c}=e.callOnMapSelect;if(!c){a[s](l);return}const u=Jd().getPluginStore(c);if(!u){console.error(`@polar/polar(core/utils/map/setupMarkers:335:4)
`,`Plugin ${c} does not exist or is not configured or has no store module. Action ${s} could not be called.`);return}u[s](l)}}function NC(r){r.originalEvent===ty?.originalEvent&&r.stopPropagation()}function ry(r,e){if(typeof r=="object"){const{value:t,isDegree:n}=r;if(Hm(t)&&e!==void 0){const i=parseInt(Zm(e,t),10);return n?i*Math.PI/180:i}return n?parseInt(t,10)*Math.PI/180:parseInt(t,10)}return 0}function Dd(r,e,t){const n=t&&e.get("features")?.length>1,i=n?r.clusterImageName:r.imageName,o=n?r.clusterImageOffsetY:r.imageOffsetX,a=n?r.clusterImageOffsetX:r.imageOffsetY,s=n?r.clusterImageScale:r.imageScale,l=r.imagePath;let c={},u=i;return!i.startsWith("https:")&&!i.startsWith("<svg")&&(u=l+i),c={crossOrigin:"anonymous",src:u.startsWith("<svg")?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u):u,scale:s,anchor:[parseFloat(o),parseFloat(a)]},n||(c.anchorXUnits=r.imageOffsetXUnit,c.anchorYUnits=r.imageOffsetYUnit,c.rotation=e?ry(r.rotation,e.getProperties()):0),new Pt({image:new gi(c)})}function ny(r){return new Pt({image:new gi({crossOrigin:"anonymous",src:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)})})}function DC(r,e,t){const n=t&&e.get("features")?.length>1,i=parseFloat(n?r.clusterCircleRadius:r.circleRadius,10),o=n?kr(r.clusterCircleFillColor,"rgb"):kr(r.circleFillColor,"rgb"),a=n?kr(r.clusterCircleStrokeColor,"rgb"):kr(r.circleStrokeColor,"rgb"),s=parseFloat(n?r.clusterCircleStrokeWidth:r.circleStrokeWidth,10);return new Pt({image:new ah({radius:i,fill:new sn({color:o}),stroke:new Ir({color:a,width:s})}),zIndex:-1})}function OC(r){const e=parseFloat(r.rsRadius,10),t=parseFloat(r.rsRadius2,10),n=parseFloat(r.rsPoints,10),i=parseFloat(r.rsAngle,10),o=ry(r.rotation),a=r.rsScale,s=kr(r.rsFillColor,"rgb"),l=kr(r.rsStrokeColor,"rgb"),c=parseFloat(r.rsStrokeWidth,10);return new Pt({image:new l2({radius:e,radius2:t,points:n,scale:a,rotation:o,angle:i,fill:new sn({color:s}),stroke:new Ir({color:l,width:c})})})}function RC(r,e,t,n){let i=n*2;return r*e+t>=i&&(i=i+r*e+t),i}function FC(r,e,t,n){let i;return t>=0?i=r/2-e-t*n:t<0?i=r/2+e-t*n:i=0,i}function jC(r,e,t,n,i,o,a,s){let l="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return l=l+"<line x1='"+r/2+"' y1='"+r/2+"' x2='"+r/2+"' y2='"+e+"' stroke='"+o+"' stroke-width='"+a+"' />",l=l+"<circle cx='"+r/2+"' cy='"+r/2+"' r='"+s+"' stroke='"+n+"' stroke-width='"+i+"' fill='"+t+"' />",l=l+"</svg>",l}function qC(r,e){const t=parseFloat(e.circleBarScalingFactor),n=parseFloat(e.circleBarRadius,10),i=parseFloat(e.circleBarLineStroke,10),o=kr(e.circleBarCircleFillColor,"hex"),a=kr(e.circleBarCircleStrokeColor,"hex"),s=e.circleBarCircleStrokeWidth,l=kr(e.circleBarLineStrokeColor,"hex"),c=r.getProperties(),u=Ka.prototype.prepareField(c,e.scalingAttribute),d=u==="undefined"?void 0:u,h=d!==void 0&&d.indexOf(" ")!==-1?d.split(" ")[0]:d,p=RC(h,t,i,n),f=FC(p,n,h,t);return Ka.prototype.setSize(p),jC(p,f,o,a,s,l,i,n)}function zC(r,e){const t=e.scalingShape.toUpperCase(),n=t==="CIRCLE_BAR"?qC(r,e):"";return ny(n)}function $C(r,e,t,n,i){const o=r/2;let a="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return a=a+"<circle cx='"+o+"' cy='"+o+"' r='"+e+"' stroke='"+t+"' stroke-width='"+n+"' fill='"+t+"' fill-opacity='"+i+"'/>",a}function UC(r,e){const t=r===void 0||Object.keys(r).length===0?{empty:0}:r;let n=e;return n===void 0||(n=n.split(" | "),n.forEach(function(i){Object.prototype.hasOwnProperty.call(t,i)?t[i]=t[i]+1:t.empty=t.empty+1})),t}function GC(r){const e={};let t;if(r!==void 0)for(t in r)e[t]=0;return e.empty=0,e}function BC(r,e,t,n,i){const o=Math.PI/180,a=n/2,s=r===0&&e===360,l=s?e/2:e,c=s?0:i,u=(r+c/2)*o,d=(l-c/2)*o,h=a+Math.cos(u)*t,p=a-Math.sin(u)*t,f=a+Math.cos(d)*t,y=a-Math.sin(d)*t;return s?["M",h,p,"A",t,t,0,0,0,f,y,"A",t,t,0,0,0,h,p].join(" "):["M",h,p,"A",t,t,0,0,0,f,y].join(" ")}function VC(r,e,t,n){return r+"<path fill='none' stroke-width='"+e+"' stroke='"+t+"' d='"+n+"'/>"}function HC(r,e){const t=parseFloat(e.circleSegmentsRadius,10),n=parseFloat(e.circleSegmentsStrokeWidth,10),i=e.circleSegmentsBackgroundColor,o=Array.isArray(i)&&i[i.length-1],a=kr(e.circleSegmentsBackgroundColor,"hex"),s=kr(e.scalingValueDefaultColor,"hex"),l=e.scalingValues,c=GC(l),u=r.get(e.scalingAttribute),d=UC(c,u),h=Object.values(d).reduce(function(se,ne){return se+ne},0),p=h>=0?360/h:360,f=parseFloat(e.circleSegmentsGap,10);let y=10,m=0,b=p,k,C,T,E,R,F;(t+n)*2>=y&&(y=y+(t+n)*2),Ka.prototype.setSize(y),k=$C(y,t,a,n,o);for(R in d)for(F=d[R],l!==void 0&&R!=="empty"?T=kr(l[R],"hex"):T=s,E=0;E<F;E++)C=BC(m,b,t,y,f),k=VC(k,n,T,C),m=m+p,b=b+p;return k=k+"</svg>",k}function ZC(r,e,t){const n=Array.isArray(e.get("features"))?e.get("features")[0]:e,i=r.scalingShape.toUpperCase(),o=r.imageName;let a,s,l;return i==="CIRCLESEGMENTS"&&(a=HC(n,r),s=ny(a),s.type="CIRCLESEGMENTS",s.scalingAttribute=n.get(r.scalingAttribute)),o!==t&&(l=Dd(r,e),l.type="imageStyle",s=[s,l]),s}class Ka extends ra{constructor(){super(),this.attributes={...Hi.point}}initialize(e,t,n,i){i!==void 0?this.setImagePath(i):console.warn("wfsImgPath at Config.js is not defined"),this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered;let t=this.attributes.type.toLowerCase();return e&&this.feature.get("features")?.length>1&&(t=this.attributes.clusterType.toLowerCase()),t==="icon"?Dd(this.attributes,this.feature,e):t==="circle"?DC(this.attributes,this.feature,e):t==="nominal"?e?Dd(this.attributes,this.feature,e):ZC(this.attributes,this.feature,Hi.point.imageName):t==="interval"?zC(this.feature,this.attributes):t==="regularshape"?OC(this.attributes):new Pt}setCircleSegmentsBackgroundColor(e){this.attributes.circleSegmentsBackgroundColor=e}setSize(e){this.size=e}getSize(){return this.size}setImagePath(e){this.attributes.imagePath=e}}class YC extends ra{constructor(){super(),this.attributes={...Hi.text}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered,t=this.feature,n=this.attributes.labelField;return e&&t.get("features")?.length>1&&this.attributes.clusterTextType!=="none"?this.createClusteredTextStyle():n?this.createLabeledTextStyle():new il}getRotationValue(e,t){if(typeof e=="object"){const{value:n,isDegree:i}=e;if(Hm(n)&&t!==void 0){const o=parseInt(Zm(t,n),10);return i?o*Math.PI/180:o}return i?parseInt(n,10)*Math.PI/180:parseInt(n,10)}return 0}createClusteredTextStyle(){const e=this.feature;let t;return this.attributes.clusterTextType==="counter"?t=e.get("features").length.toString():this.attributes.clusterTextType==="text"&&typeof this.attributes.clusterText=="string"?t=this.attributes.clusterText:t="undefined",new il({text:t,textAlign:this.attributes.clusterTextAlign,offsetX:this.attributes.clusterTextOffsetX,offsetY:this.attributes.clusterTextOffsetY,font:this.attributes.clusterTextFont,scale:this.attributes.clusterTextScale,fill:new sn({color:this.attributes.clusterTextFillColor}),stroke:new Ir({color:this.attributes.clusterTextStrokeColor,width:this.attributes.clusterTextStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,e.getProperties())})}createLabeledTextStyle(){const e=this.feature,t=e.getProperties(),n=this.attributes.textSuffix;let i=Rb(t,this.attributes.labelField,!1)??"";return n!==""&&(i=i+" "+n),new il({text:i.toString(),textAlign:this.attributes.textAlign,offsetX:this.attributes.textOffsetX,offsetY:this.attributes.textOffsetY,font:this.attributes.textFont,scale:this.attributes.textScale,fill:new sn({color:this.attributes.textFillColor}),stroke:new Ir({color:this.attributes.textStrokeColor,width:this.attributes.textStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,t)})}}class Lf extends ra{constructor(){super(),this.attributes={...Hi.line}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){return this.nullStyle?null:new Pt({stroke:new Ir({lineCap:this.attributes.lineStrokeCap,lineJoin:this.attributes.lineStrokeJoin,lineDash:this.attributes.lineStrokeDash,lineDashOffset:this.attributes.lineStrokeDashOffset,miterLimit:this.attributes.lineStrokeMiterLimit,color:this.attributes.lineStrokeColor,width:this.attributes.lineStrokeWidth})})}}class If extends ra{constructor(){super(),this.attributes={...Hi.circle}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=new sn({color:this.attributes.circleFillColor}),t=new Ir({color:this.attributes.circleStrokeColor,width:this.attributes.circleStrokeWidth});return new Pt({image:new ah({fill:e,stroke:t,radius:0}),fill:e,stroke:t})}}class WC extends ra{constructor(){super(),this.attributes={...Hi.point},this.conditions=[]}initialize(e){this.overwriteStyling(e.style),this.setConditions(e.conditions),this.setStyle(this.createStyle())}createStyle(){return this.createCondition(this.attributes.conditions,this.style)}createCondition(e,t){const n=t?.color||this.attributes.color,i=[];let o;return e&&Object.keys(e).length>0?(Object.keys(e).forEach(a=>{const s=e[a];i.push([a,s])}),o=[this.createCesiumConditionForRule(i),n]):o=["true",n],o}createCesiumConditionForRule(e){let t=[],n="";return e.forEach(i=>{const o="${"+i[0]+"}";let a=i[1],s,l;Array.isArray(a)?(s=a[0],l=a[1],n="("+o+" > "+s+" && "+o+" <= "+l+")"):(typeof a=="string"&&(a="'"+a+"'"),n="("+o+" === "+a+")"),t.push(n)}),t="("+t.join(" && ")+")",t}setConditions(e){this.attributes.conditions=e}}const xa=[];let Od=0;function wa(r){return r==="MultiPoint"||r==="MultiLineString"||r==="MultiPolygon"||r==="GeometryCollection"||r==="cesium"}function Io(r,e,t,n,i){const o=t?.style,a=o?o.legendValue:null;let s,l=null;if(e&&(e.legendValue=a||null),r==="Point")s=new Ka(e,o,n),n&&(l=new Ka(e,o,!1));else if(r==="LineString")s=new Lf(e,o,n),n&&(l=new Lf(e,o,!1));else if(r==="Polygon")s=new Ad(e,o,n),n&&(l=new Ad(e,o,!1));else{if(r==="cesium")return s=new WC(t),s.initialize(t),s.addLegendInfo("cesium",s,t),s.legendValue=a,s;if(r==="Circle")s=new If(e,o,n),n&&(l=new If(e,o,!1));else return r==="LinearRing"?(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Pt):(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Pt)}return l!==null&&(l.initialize(e,o,!1,i),l.legendValue=a),s.initialize(e,o,n,i),s.addLegendInfo(r,l===null?s:l,t),s.legendValue=a,s}function Rd(r,e,t,n,i){const o=[];let a=[];if(typeof e=="object")r==="MultiPoint"?a=e.getGeometry().getPoints():r==="MultiLineString"?a=e.getGeometry().getLineStrings():r==="MultiPolygon"?a=e.getGeometry().getPolygons():r==="GeometryCollection"&&(a=e.getGeometry().getGeometries()),a.forEach((s,l)=>{const c=s.getType(),u=t?Db(t,l):void 0,d=Io(c,e,u,n,i);wa(c)?console.warn("Multi encapsulated multiGeometries are not supported."):(!d.styleMultiGeomOnlyWithRule||u)&&(d.getStyle()?.setGeometry(s),o.push(d))});else if(r==="cesium")t.forEach(s=>{const l=Io(r,e,s,n,i);o.push(l)});else{const s=Io(r,e,t,n,i);s.getStyle()?.setGeometry(r),o.push(s)}return o}function iy(r,e,t,n){const i=r?r.getGeometry().getType():"cesium";return!wa(i)&&Object.prototype.hasOwnProperty.call(e,0)&&Object.prototype.hasOwnProperty.call(e[0],"style")?Io(i,r,e[0],t,n):wa(i)&&e.length>0&&e.every(o=>o?.style)?Rd(i,r,e,t,n):(console.warn("No valid styling rule found. Falling back to defaults"),wa(i)?Rd(i,r,void 0,t,n):Io(i,r,void 0,t,n))}function Fd(r,e,t){const n=new YC(r,e,t);return n.initialize(r,e,t),n.getStyle()}function Af(r,e){let t=xa.find(n=>n.id===r);if(t||(t={id:r,legendInformation:[]},xa.push(t)),r==="default"&&t.legendInformation!==e)t.legendInformation=e,Od=e.length;else if(!t.legendInformation.find(n=>n.label===e[0].label)){t.legendInformation.push(e[0]);const n=new CustomEvent("legendCaptured"),i=this||globalThis;n.id=t.id,i instanceof EventTarget&&typeof i.dispatchEvent=="function"&&i.dispatchEvent(n)}}function KC(r,e,t,n){const i=Nb(r,e),o=Array.isArray(i)&&i.length>0?i[0].style:null,a=o?.labelField,s=iy(e,i,t,n),l=Array.isArray(s)?s[0].legendInfos:s.legendInfos;let c=null;if(Array.isArray(s)?(c=[],s.forEach(u=>{u.getStyle()!==null&&c.push(u.getStyle())})):c=s.getStyle(),Array.isArray(s)&&s.length>1)for(const u in s)Af(r.styleId,s[u].legendInfos);else Af(r.styleId,l);return c!==null&&(t||a)&&(Array.isArray(c)?c[0].setText(Fd(e,o,t)):c.setText(Fd(e,o,t))),(e?.getGeometry().getType()==="Point"||e?.getGeometry().getType()==="MultiPoint")&&e.setStyle(c),c}async function QC(r){return new Promise(function(e){const t=xa.find(n=>n.id===r);t&&(r.id!=="default"||t.legendInformation.length===Od)&&e(t),(this||globalThis)&&(this||globalThis).addEventListener("legendCaptured",n=>{n.id===r&&n.id!=="default"?e(xa.find(i=>i.id===n.id)):t&&t.legendInformation.length===Od&&e(xa.find(i=>i.id===n.id))},!1)})}const XC={isMultiGeometry:wa,getSimpleGeometryStyle:Io,getMultiGeometryStyle:Rd,getGeometryStyle:iy,getLabelStyle:Fd,createStyle:KC,returnLegendByStyleId:QC},JC=()=>{};async function eE(r,e,t){if(e.featureStyles&&Array.isArray(t)){await tg.initializeStyleList({},{styleConf:e.featureStyles},e.layers.map(i=>{const o=t.find(a=>a.id===i.id);return o?{...i,typ:o.typ}:i}),[],JC);const n=e.markers?e.markers.layers.map(({id:i})=>i):[];r.getLayers().getArray().filter(i=>typeof i.get("styleId")=="string"&&!n.includes(i.get("id"))).forEach(i=>{const o=tg.returnStyleObject(i.get("styleId"));o&&i.setStyle(a=>XC.createStyle(o,a,a.get("features")!==void 0,""))})}}let Eu=[];function Pf(r,e,t){for(const n of Eu)r.removeInteraction(n);Eu=uC(e,t);for(const n of Eu)r.addInteraction(n)}const tE={key:0,class:"polar-map-overlay"},rE=Ee({__name:"PolarMapOverlay.ce",setup(r,{expose:e}){const t=Me(""),n=Me(null),i=Me(null),o=Me(null);function a(){n.value&&n.value(),t.value="",i.value&&i.value(),o.value&&clearTimeout(o.value)}function s(l,c=null,u=2e3){n.value=yt(l,d=>{t.value=d},{immediate:!0}),c&&(i.value=yt(c,d=>{d||a()},{immediate:!0})),u>0&&(o.value=setTimeout(a,u))}return e({show:s,hide:a}),(l,c)=>(I(),xe(gk,{name:"fade"},{default:tr(()=>[t.value?(I(),ee("div",tE,ze(t.value),1)):Ke("",!0)]),_:1}))}}),nE=".polar-map-overlay[data-v-e3473669]{position:absolute;display:flex;justify-content:center;align-items:center;width:inherit;height:inherit;z-index:42;font-size:var(--kern-typography-font-size-static-large);text-align:center;color:#fff;background-color:#00000073;pointer-events:none}.fade-enter-active[data-v-e3473669],.fade-leave-active[data-v-e3473669]{transition:opacity .5s}.fade-enter[data-v-e3473669],.fade-leave-to[data-v-e3473669]{opacity:0}",iE=Be(rE,[["styles",[nE]],["__scopeId","data-v-e3473669"]]),oE=["aria-label"],aE=Ee({__name:"PolarMap.ce",setup(r){const e=Bo(),{hasWindowSize:t,hasSmallDisplay:n,center:i,zoom:o}=ct(e),a=pi("polar-map-container"),s=pi("polar-map-overlay");function l(){i.value=e.map.getView().getCenter()||i.value,o.value=e.map.getView().getZoom()||o.value}function c(){e.map=oC.map.createMap({target:a.value,extent:void 0,...e.configuration,layerConf:e.serviceRegister},"2D",{mapParams:{interactions:Eh({altShiftDragRotate:!1,pinchRotate:!1,dragPan:!1,mouseWheelZoom:!1,keyboard:!1})}}),e.map.on("moveend",l),Pf(e.map,t.value,n.value),dC().forEach(m=>{e.map.addInteraction(m)}),y()}yt(t,m=>{Pf(e.map,m,n.value)}),yt(i,m=>{e.map.getView().animate({center:m,duration:400,easing:Ji})}),yt(o,m=>{e.map.getView().setZoom(m)});const u=navigator.userAgent.indexOf("Mac")!==-1,d=Tu(()=>Tt(m=>m.overlay.noCommandOnZoom,{ns:"core"})),h=Tu(()=>Tt(m=>m.overlay.noControlOnZoom,{ns:"core"}));function p(m){if(t.value||!s.value)return;const b=X(()=>!t.value);u&&!m.metaKey?s.value.show(d,b):!u&&!m.ctrlKey&&s.value.show(h,b)}Wi(async()=>{c(),e.configuration.checkServiceAvailability&&cC(e.configuration,e.serviceRegister),e.configuration.markers&&LC(e.map),await eE(e.map,e.configuration,e.serviceRegister)});const f=Tu(()=>Tt(m=>m.overlay.oneFingerPan,{ns:"core"}));function y(){!t.value&&a.value&&e.hasSmallDisplay&&new lC(a.value).on("pan",m=>{s.value&&m.maxPointers===1&&e.map.getInteractions().getArray().some(b=>b.get("_isPolarDragLikeInteraction"))&&s.value.show(f)})}return yt(t,y),(m,b)=>(I(),ee(lt,null,[Pr(iE,{ref:"polar-map-overlay"},null,512),oe("div",{ref:"polar-map-container",class:"polar-map",tabindex:"0",role:"region","aria-label":m.$t(k=>k.canvas.label,{ns:"core"}),onWheel:p},null,40,oE)],64))}}),sE=':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}',lE=".polar-map[data-v-abb3f9c5]{width:100%;height:100%}",cE=Be(aE,[["styles",[sE,lE]],["__scopeId","data-v-abb3f9c5"]]);var oy=(r=>(r.TOP_LEFT="top-left top left layout-region",r.TOP_MIDDLE="top-mid mid top layout-region",r.TOP_RIGHT="top-right top right layout-region",r.MIDDLE_LEFT="mid-left mid left layout-region",r.MIDDLE_MIDDLE="mid-mid mid layout-region",r.MIDDLE_RIGHT="mid-right mid right layout-region",r.BOTTOM_LEFT="bottom-left bottom left layout-region",r.BOTTOM_MIDDLE="bottom-mid mid bottom layout-region",r.BOTTOM_RIGHT="bottom-right bottom right layout-region",r))(oy||{});const uE=Ee({__name:"NineLayout.ce",setup(r){const e=Object.entries(oy),t=Bo(),{hasWindowSize:n}=ct(t),i=Jd(),o=X(()=>e.reduce((a,[s])=>({...a,[s]:i.plugins.filter(({id:l,independent:c,options:u})=>{if(u?.displayComponent&&!u.layoutTag)return console.warn(`@polar/polar(core/components/layouts/NineLayout.ce.vue?vue&type=script&setup=true&lang:30:7)
`,`@polar/polar(core/components/layouts/NineLayout.ce:38:7)
`,`Component of plugin "${l}" was registered as visible ('displayComponent' had a truthy value), but no 'layoutTag' was associated. This may be an error in configuration and will lead to the component not being visible in the UI.`),!1;const d=typeof u?.displayComponent=="boolean"?u.displayComponent:!1;return typeof c=="boolean"?d&&c:d}).filter(({options:l})=>l?.layoutTag===s)}),{}));return(a,s)=>(I(!0),ee(lt,null,Lt(M(e),([l,c],u)=>(I(),ee("div",{key:u,class:it([{[c]:!0,"has-window-size":M(n)},"layout-region"])},[(I(!0),ee(lt,null,Lt(o.value[l],(d,h)=>(I(),xe(Ft(d.component),{key:`${u}-${h}`}))),128))],2))),128))}}),dE=".layout-region{&[data-v-bf916003]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;max-width:100%}&[data-v-bf916003]>*{pointer-events:all}&.has-window-size[data-v-bf916003]{max-height:100%}&.mid[data-v-bf916003]{inset:33%}&.left[data-v-bf916003]{left:0;right:auto;align-items:flex-start}&.right[data-v-bf916003]{right:0;left:66%;align-items:flex-end}&.top[data-v-bf916003]{top:0;justify-content:flex-start}&.bottom[data-v-bf916003]{bottom:0;justify-content:flex-end}}",hE=Be(uE,[["styles",[dE]],["__scopeId","data-v-bf916003"]]),pE=Ee({__name:"StandardLayout.ce",setup(r){const e=Jd(),t=X(()=>e.plugins.filter(({component:n,independent:i})=>n&&(typeof i=="boolean"?i:!0)));return(n,i)=>(I(!0),ee(lt,null,Lt(t.value,({component:o,id:a},s)=>(I(),ee("div",{key:`${a}-${s}`,class:"layout"},[(I(),xe(Ft(o)))]))),128))}}),gE=".layout[data-v-14621b9a]{pointer-events:all}",fE=Be(pE,[["styles",[gE]],["__scopeId","data-v-14621b9a"]]),mE=Ee({__name:"PolarUI.ce",setup(r){const e=Bo(),{hasWindowSize:t}=ct(e),n=X(()=>e.layout==="standard"?fE:e.layout==="nineRegions"?hE:e.layout);return(i,o)=>(I(),ee("div",{class:it(["polar-ui",{"polar-shadow":!M(t)}])},[(I(),xe(Ft(n.value)))],2))}}),yE='.polar-ui[data-v-94b8d84c]{position:absolute;inset:0;pointer-events:none;width:100%;height:100%}.polar-shadow{&[data-v-94b8d84c]:before{content:"";position:absolute;box-shadow:inset 0 1px 1px #35395680,inset 0 1px 2px #35395680,inset 0 1px 6px #6e759780;inset:0;z-index:1;border-radius:var(--kern-metric-border-radius-large);pointer-events:none}}',vE=Be(mE,[["styles",[yE]],["__scopeId","data-v-94b8d84c"]]),kE=["lang","data-kern-theme"],bE=Ee({inheritAttrs:!1,__name:"PolarContainer.ce",props:{mapConfiguration:{type:Object},serviceRegister:{type:Array}},setup(r,{expose:e}){uk(h=>({v62ab46c2:M(n).configuration.theme?.brandColor?.l,v62ab46d4:M(n).configuration.theme?.brandColor?.c,v62ab46ca:M(n).configuration.theme?.brandColor?.h}));const t=r;e();const n=Bo(),{hasSmallWidth:i,hasWindowSize:o,language:a}=ct(n);n.configuration=vt(n.configuration,b4(t.mapConfiguration)),n.configuration.colorScheme&&(n.colorScheme=n.configuration.colorScheme),n.configuration.oidcToken&&(n.oidcToken=n.configuration.oidcToken),n.configuration.locales&&n.configuration.locales.forEach(h=>{Object.entries(h.resources).forEach(([p,f])=>{Fr.addResourceBundle(h.type,p,f,!0,!0)})}),n.configuration.language&&Fr.changeLanguage(n.configuration.language).catch(h=>{console.error(`@polar/polar(core/components/PolarContainer.ce.vue?vue&type=script&setup=true&lang:85:4)
`,`@polar/polar(core/components/PolarContainer.ce:84:4)
`,"Failed to set initial language:",h)}),n.serviceRegister=t.serviceRegister,n.language=Fr.language,Fr.on("languageChanged",h=>{n.language=h}),yt(()=>n.language,async h=>{Fr.language!==h&&await Fr.changeLanguage(h)});const s=pi("polar-wrapper");let l=null;const{isActive:c}=ct(qm()),u=Me(0);yt(c,()=>u.value+=1);function d(){n.clientHeight=s.value.clientHeight,n.clientWidth=s.value.clientWidth}return Wi(()=>{n.lightElement=dk(),n.shadowRoot=hk(),k4(n.shadowRoot,n.configuration.theme?.kern||{}),n.setup(),l=new ResizeObserver(d),l.observe(s.value),d(),n.lightElement.store=He()}),Zl(()=>{l instanceof ResizeObserver&&(l.unobserve(s.value),l=null),n.teardown()}),(h,p)=>(I(),ee("div",{ref:"polar-wrapper",class:"polar-wrapper",lang:M(a),"data-kern-theme":M(n).colorScheme},[Pr(cE),Pr(vE),M(c)&&M(o)&&M(i)?(I(),xe(T4,{key:u.value})):Ke("",!0)],8,kE))}}),xE=":host{--brand-color-l: var(--v62ab46c2);--brand-color-c: var(--v62ab46d4);--brand-color-h: var(--v62ab46ca);--polar-shadow-color: 0deg 0% 63%;--polar-shadow: 0 .5px .5px hsl(var(--polar-shadow-color) / .43), 0 1.5px 1.6px -1px hsl(var(--polar-shadow-color) / .4), 0 4px 4.2px -2px hsl(var(--polar-shadow-color) / .36), -.1px 10.1px 10.6px -3px hsl(var(--polar-shadow-color) / .32)}@layer polar-map{:host{display:block;width:100%;height:30em;border-radius:var(--kern-metric-border-radius-large);overflow:hidden;box-sizing:border-box}}",wE=".polar-wrapper[data-v-cf4d0708]{position:relative;height:100%;width:100%}",_E=Be(bE,[["styles",[xE,wE]],["__scopeId","data-v-cf4d0708"]]),{slice:TE,forEach:CE}=[];function EE(r){return CE.call(TE.call(arguments,1),e=>{if(e)for(const t in e)r[t]===void 0&&(r[t]=e[t])}),r}function ME(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(r))}const Nf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,SE=function(r,e){const t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${r}=${n}`;if(t.maxAge>0){const o=t.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(t.domain){if(!Nf.test(t.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${t.domain}`}if(t.path){if(!Nf.test(t.path))throw new TypeError("option path is invalid");i+=`; Path=${t.path}`}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t.partitioned&&(i+="; Partitioned"),i},Df={create(r,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=SE(r,e,i)},read(r){const e=`${r}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var LE={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return Df.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&Df.create(t,r,n,i,o)}},IE={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const a=i[o].indexOf("=");a>0&&i[o].substring(0,a)===e&&(t=i[o].substring(a+1))}}return t}},AE={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:t}=r,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(e){const a=o.split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(n=a[s].substring(l+1))}}if(n)return n;if(!n&&t>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let co=null;const Of=()=>{if(co!==null)return co;try{if(co=typeof window<"u"&&window.localStorage!==null,!co)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{co=!1}return co};var PE={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&Of())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:t}=e;t&&Of()&&window.localStorage.setItem(t,r)}};let uo=null;const Rf=()=>{if(uo!==null)return uo;try{if(uo=typeof window<"u"&&window.sessionStorage!==null,!uo)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{uo=!1}return uo};var NE={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&Rf())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:t}=e;t&&Rf()&&window.sessionStorage.setItem(t,r)}},DE={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},OE={name:"htmlTag",lookup(r){let{htmlTag:e}=r,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},RE={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},FE={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let ay=!1;try{document.cookie,ay=!0}catch{}const sy=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ay||sy.splice(1,1);const jE=()=>({order:sy,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class ly{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=EE(t,this.options||{},jE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(LE),this.addDetector(IE),this.addDetector(PE),this.addDetector(NE),this.addDetector(DE),this.addDetector(OE),this.addDetector(RE),this.addDetector(FE),this.addDetector(AE)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!ME(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}ly.type="languageDetector";const cy=Symbol();function qE(r,{i18next:e,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:n="{",slotEnd:i="}"}){const o=ck(new Date),a=()=>Yi(()=>{o.value=new Date}),s=()=>o.value;t.forEach(u=>{switch(u){case"added":case"removed":e.store?.on(u,a);break;default:e.on(u,a);break}}),r.component("i18next",UE);const l=()=>e.isInitialized;r.config.globalProperties.$t=Ff(e.t.bind(e),s,l);const c=new Proxy(e,{get(u,d){return s(),Reflect.get(u,d)}});r.config.globalProperties.$i18next=c,r.provide(cy,{i18next:c,slotPattern:$E(n,i),withAccessRecording(u,d){return Ff(u,s,d)}})}function Ff(r,e,t){return new Proxy(r,{apply:function(n,i,o){return e(),t()?Reflect.apply(n,i,o):""}})}function zE(){const r=ym(cy);if(!r)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return r}function $E(r,e){const t=`${r}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(t,"gi")}const UE=Ee({props:{translation:{type:String,required:!0}},setup(r,{slots:e}){const{slotPattern:t}=zE();return()=>{const n=r.translation,i=[];let o,a=0;for(;(o=t.exec(n))!==null;){i.push(n.substring(a,o.index));const s=e[o[1]];s?i.push(...s()):i.push(o[0]),a=t.lastIndex}return i.push(n.substring(a)),i}}}),GE={canvas:{label:"Kartenanwendung"},error:{serviceUnavailable:'Der Kartendienst "{{serviceName}}" (ID: {{serviceId}}) ist derzeit nicht verfgbar. Dies kann die Funktionalitt der Karte einschrnken.'},overlay:{noControlOnZoom:"Verwenden Sie Strg+Scrollen zum Zoomen der Karte",noCommandOnZoom:"Verwenden Sie Command  + Scrollen zum Zoomen der Karte",oneFingerPan:"Verwenden Sie mindestens zwei Finger zum Verschieben der Karte"}},BE={canvas:{label:"Map application"},error:{serviceUnavailable:`Service  "{{serviceName}}" (ID: {{serviceId}}) is unavailable. This may limit the map's functionality.`},overlay:{noControlOnZoom:"Use Ctrl+Mousewheel to zoom into the map",noCommandOnZoom:"Use Command  + Mousewheel to zoom into the map",oneFingerPan:"Use at least two fingers to pan the map"}},Mu=[{type:"de",resources:GE},{type:"en",resources:BE}],VE="core",HE={async install(r){r.use(qE,{i18next:Fr}),Fr.use(ly);try{await Fr.init({resources:Object.fromEntries(Mu.map(({type:e,resources:t})=>[e,{core:t}])),detection:{lookupQuerystring:"lng",order:["querystring","navigator","htmlTag"]},load:"languageOnly",fallbackLng:Mu[0]?.type,ns:[VE],supportedLngs:Mu.map(({type:e})=>e)}),console.info(`@polar/polar(core/vuePlugins/i18next:32:4)
`,"Successfully initialized i18next.")}catch(e){console.error(`@polar/polar(core/vuePlugins/i18next:34:4)
`,"Error while initializing:",e)}}};function ZE({store:r}){}function YE({pinia:r,store:e}){e._instance=r}const WE={install(r){const e=Jb();e.use(YE),e.use(ZE),r.use(e)}},uy=/{(?<key>[^=]+)=(?<value>[^}]+)}/gm;function KE(r,e){const t={},n=e.replaceAll(uy,(i,o,a)=>(t[o]=a,""));fetch(n,{method:"GET",headers:t}).then(i=>i.ok?i.blob():i.text().then(o=>{throw new Error(o)})).then(i=>{r.getImage().src=URL.createObjectURL(i)}).catch(i=>{console.error(`@polar/polar(core/monkeyHeaderLoader:32:4)
`,i)})}const QE=fi.prototype.addLayer;fi.prototype.addLayer=function(...r){QE.call(this,...r),fi.prototype.getLayers.call(this).getArray().forEach(e=>{if(!(e instanceof no))return;const t=e.getSource();t.urls?.some(n=>uy.test(n))&&typeof t.setTileLoadFunction=="function"&&(t.setTileLoadFunction(KE),e.setSource(t))})};async function XE(r){return await new Promise(e=>yi.initializeLayerList(r,e))}function JE(r,e){const t=document.createElement("polar-map");return t.mapConfiguration=r,t.serviceRegister=e,t}async function cN(r,e,t){customElements.get("polar-map")||rM(),typeof t=="string"&&(t=await XE(t));const n=JE(e,t),i=document.getElementById(r);if(!i)throw new Error(`Container with ID '${r}' not found`);return n.id=i.id,i.classList.forEach(o=>n.classList.add(o)),i.replaceWith(n),n}function uN(r,e){e.forEach(t=>{eM(r,t)})}function eM(r,e){r.store.addPlugin(e)}function dN(r,e){r.store.removePlugin(e)}function dy(r,e){return e==="core"?r.store:r.store.getPluginStore(e)}function hN(r,e,t,n,i){const o=dy(r,e);return yt(()=>o[t],n,{immediate:!0,...i})}function pN(r,e,t,n){const i=dy(r,e);i[t]=n}const tM=lk(_E,{configureApp(r){r.use(WE),r.use(HE)}});function rM(){customElements.define("polar-map",tM)}const nM={class:"kern-card kern-card--small",tabindex:"-1"},iM={class:"kern-card__container"},oM=Ee({__name:"PolarCard.ce",setup(r){return(e,t)=>(I(),ee("article",nM,[oe("div",iM,[Ki(e.$slots,"default",{},void 0,!0)])]))}}),aM=".kern-card{&[data-v-c47f4fca]{height:auto;min-width:25rem;border-radius:var(--kern-metric-border-radius-large);box-shadow:var(--polar-shadow)}.kern-card__container[data-v-c47f4fca]{padding:var(--kern-metric-space-small);padding-bottom:.625rem}}",Ic=Be(oM,[["styles",[aM]],["__scopeId","data-v-c47f4fca"]]),sM={class:"kern-form-input"},lM=["for"],cM=["id","aria-label","disabled","required","multiple","value"],uM={key:0,value:""},dM=["value","aria-label"],hM=Ee({__name:"PolarSelect.ce",props:{label:{default:"",type:String},ariaLabel:{default:void 0,type:String},defaultLabel:{default:"",type:String},value:{type:[String,Array]},options:{type:Array},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},small:{type:Boolean,default:!1},id:{default:"",type:String}},emits:["update:value"],setup(r,{emit:e}){const t=r,n=rs(),i=X(()=>t.id||n),o=e;function a(s){const l=s.target;if(t.multiple){const c=Array.from(l.selectedOptions).map(u=>u.value);o("update:value",c)}else o("update:value",l.value)}return(s,l)=>(I(),ee("div",sM,[r.label?(I(),ee("label",{key:0,class:"kern-label",for:i.value},ze(r.label),9,lM)):Ke("",!0),oe("div",{class:it(["kern-form-input__select-wrapper",r.small?"small":""])},[oe("select",{id:i.value,class:"kern-form-input__select","aria-label":r.ariaLabel,disabled:r.disabled,required:r.required,multiple:r.multiple,value:r.value,onChange:a},[r.defaultLabel?(I(),ee("option",uM,ze(r.defaultLabel),1)):Ke("",!0),(I(!0),ee(lt,null,Lt(r.options,({value:c,label:u,ariaLabel:d})=>(I(),ee("option",{key:c,value:c,"aria-label":d},ze(u),9,dM))),128))],40,cM)],2)]))}}),pM=".kern-form-input__select-wrapper.small{&[data-v-f13e0d28]{height:var(--kern-metric-dimension-default)}.kern-form-input__select[data-v-f13e0d28]{padding-top:0;padding-bottom:0}&[data-v-f13e0d28]:after{position:absolute;top:50%;transform:translateY(-50%)}&[data-v-f13e0d28]:hover:not(:focus-within):after{top:calc(50% + calc(calc(var(--kern-metric-border-width-bold) - var(--kern-metric-border-width-default)) / 2))}}",hy=Be(hM,[["styles",[pM]],["__scopeId","data-v-f13e0d28"]]);function py(r,e,{signal:t,edges:n}={}){let i,o=null;const a=n!=null&&n.includes("leading"),s=n==null||n.includes("trailing"),l=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},c=()=>{s&&l(),p()};let u=null;const d=()=>{u!=null&&clearTimeout(u),u=setTimeout(()=>{u=null,c()},e)},h=()=>{u!==null&&(clearTimeout(u),u=null)},p=()=>{h(),i=void 0,o=null},f=()=>{l()},y=function(...m){if(t?.aborted)return;i=this,o=m;const b=u==null;d(),a&&b&&l()};return y.schedule=d,y.cancel=p,y.flush=f,t?.addEventListener("abort",p,{once:!0}),y}function gM(r){const e=r.map(parseFloat),t=[];for(;e.length;)t.push(e.splice(0,2));return t}function fM(r,e,t={}){r.getView().fit(e,t)}function mM(r,e,t={}){let n;switch(e.geometry.type){case"Polygon":n=new Vr([gM(e.geometry.coordinates)]);break;case"Point":n=new Vt(e.geometry.coordinates.map(parseFloat));break;default:console.warn(`ZoomTo for type ${e.geometry.type} not implemented.`);return}fM(r,n,t)}const Xe={STREET:"street",DISTRICT:"district",PARCEL:"parcel",STREET_KEY:"streetKey",ADDRESS_AFFIXED:"addressAffixed",ADDRESS_UNAFFIXED:"addressUnaffixed",HOUSE_NUMBERS_FOR_STREET:"houseNumbersForStreet"};function gy(r){return Array.isArray(r)&&r.length===1?gy(r[0]):r}function jl(r,e){return Array.isArray(r)?r.map(t=>jl(t,e)).filter(t=>t)[0]:typeof r!="object"?null:typeof r[e]<"u"?r[e]:Object.keys(r).map(t=>jl(r[t],e)).filter(t=>t)[0]}function yM(r){const e={objectType:Object.keys(r)[0]};return Object.keys(r[e.objectType][0]).forEach(t=>{e[t]=gy(r[e.objectType][0][t])}),e}function vM(r){let e=[];return r.startsWith("POINT")&&(e=r.split(")")[0]?.split("(")[1]),e}function kM(r,e){const t={type:e,properties:yM(r)};let n=t.properties?.pos?vM(t.properties.pos):jl(t.properties,"pos")[0],i="",o="",a="";switch(e){case Xe.DISTRICT:t.name=t.properties.geographicIdentifier?._?t.properties.geographicIdentifier._:t.properties.geographicIdentifier;break;case Xe.STREET_KEY:case Xe.STREET:t.properties?.position_strassenachse&&(n=jl(t.properties?.position_strassenachse,"pos")[0]),t.name=Ms()?t.properties.geographicIdentifier._:t.properties.strassenname;break;case Xe.PARCEL:t.name=`${t.properties.gemarkung}/${t.properties.flurstuecksnummer}`;break;case Xe.HOUSE_NUMBERS_FOR_STREET:i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,t.properties.hausnummernzusatz&&(o=t.properties.hausnummernzusatz?._?t.properties.hausnummernzusatz._:t.properties.hausnummernzusatz),t.properties.hausnummerkomplett=`${i}${o}`,t.name=Ms()?t.properties.geographicIdentifier._:(t.properties?.geographicIdentifier?t.properties.geographicIdentifier._.split(t.properties.hausnummerkomplett)[0]:t.properties.strassenname+" ")+t.properties.hausnummerkomplett;break;case Xe.ADDRESS_AFFIXED:a=t.properties.strassenname?._?t.properties.strassenname._:t.properties.strassenname,i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,o=t.properties.hausnummernzusatz?._?t.properties.hausnummernzusatz._:t.properties.hausnummernzusatz,t.name=Ms()?t.properties.geographicIdentifier._:`${a} ${i}${o}`;break;case Xe.ADDRESS_UNAFFIXED:a=t.properties.strassenname?._?t.properties.strassenname._:t.properties.strassenname,i=t.properties.hausnummer?._?t.properties.hausnummer._:t.properties.hausnummer,t.name=Ms()?t.properties.geographicIdentifier._:(t.properties?.geographicIdentifier?t.properties.geographicIdentifier._.split(i)[0]:a+" ")+i;break;default:t.name=null,console.error(`Unknown type in searchAddress.parse: '${e}'. Could not set name.`);break}switch(e){case Xe.DISTRICT:case Xe.STREET_KEY:case Xe.STREET:case Xe.PARCEL:case Xe.HOUSE_NUMBERS_FOR_STREET:case Xe.ADDRESS_AFFIXED:case Xe.ADDRESS_UNAFFIXED:t.geometry={type:"Point",coordinates:n.split(" ")};break;default:t.geometry=null,console.error(`Unknown type in searchAddress.parse: '${e}'. Could not set geometry.`);break}return t}function fy(r,e){return new Promise((t,n)=>{fg.parseString(e,{tagNameProcessors:[fg.processors.stripPrefix]},(i,o)=>{if(i){n(i);return}try{const a=o.FeatureCollection?.member?o.FeatureCollection.member.map(s=>kM(s,r)).sort((s,l)=>s.name.localeCompare(l.name)):[];t(a)}catch(a){n(a)}})})}function bM(r){return Array.isArray(r)?r.map(encodeURIComponent):encodeURIComponent(r)}function xM(r,e,t=!0){return{[Xe.STREET]:n=>t?`&StoredQuery_ID=findeStrasse&strassenname=*${n}`:`&StoredQuery_ID=findeStrasse&strassenname=${n}`,[Xe.DISTRICT]:n=>`&StoredQuery_ID=findeStadtteil&stadtteilname=${n}`,[Xe.PARCEL]:n=>`&StoredQuery_ID=Flurstueck&gemarkung=${n[0]}&flurstuecksnummer=${n[1]}`,[Xe.STREET_KEY]:n=>`&StoredQuery_ID=findeStrassenSchluessel&strassenschluessel=${n}`,[Xe.ADDRESS_AFFIXED]:n=>`&StoredQuery_ID=AdresseMitZusatz&strassenname=${n[0]}&hausnummer=${n[1]}&zusatz=${n[2]}`,[Xe.ADDRESS_UNAFFIXED]:n=>`&StoredQuery_ID=AdresseOhneZusatz&strassenname=${n[0]}&hausnummer=${n[1]}`,[Xe.HOUSE_NUMBERS_FOR_STREET]:n=>`&StoredQuery_ID=HausnummernZuStrasse&strassenname=${n}`}[r](bM(e))}function my(r,e,t,n){return new Promise((i,o)=>{const a=Zb()+xM(r,e,n);fetch(a,{signal:t?.signal,timeout:6e3}).then(s=>i(s.text())).catch(s=>o(s))})}let _a=null;function To(r,e,t=(o,a)=>o.name.localeCompare(a.name),n=()=>!0,i){return new Promise((o,a)=>{my(r,e,_a,i).then(s=>{fy(r,s).then(l=>{o(l.filter(n).sort(t))})}).catch(s=>a(s))})}function wM(r,e,t){return new Promise((n,i)=>{my(Xe.STREET,r,_a,t).then(o=>fy(Xe.STREET,o)).then(o=>{const a=[],s=r.match(new RegExp("^(.+)[\\s,](\\d+|\\d.*)$"));for(let l=0;l<o.length;l++)a.push([o[l]]),e&&a.push(To(Xe.HOUSE_NUMBERS_FOR_STREET,o[l].name,void 0,void 0,t));return!o.length&&s?.length&&e&&a.push(To(Xe.HOUSE_NUMBERS_FOR_STREET,s[1],(l,c)=>parseInt(l.properties?.hausnummer,10)-parseInt(c.properties?.hausnummer,10),l=>l.properties?.hausnummerkomplett?.indexOf(s[2])===0,t)),Promise.all(a)}).then(o=>n([].concat(...o))).catch(o=>i(o))})}function jf(r,e,t=!1){return t&&_a!==null&&_a.abort(),_a=new AbortController,new Promise((n,i)=>{const{map:o,zoom:a=!1,zoomToParams:s,searchAddress:l=!1,searchStreets:c=!1,searchStreetBeforeWord:u=!0,searchDistricts:d=!1,searchParcels:h=!1,searchStreetKey:p=!1,minCharacters:f=3}=e,y=[];let{searchHouseNumbers:m=!1}=e;if(r.length<f){i({error:"Search string too short."});return}if(a&&!o&&console.warn("Instructed to zoom, but required map object was not given. Zooming will be skipped."),!c&&m&&(console.warn(`Search for '${r}' supposed to retrieve house numbers, but not streets. Invalid search configuration. House numbers will not be searched for as a result.`),m=!1),!(l||c||m||d||h||p)){i({error:`Search for '${r}' received no indication what to search for. Search is canceled.`});return}if(c&&y.push(wM(r,m,u)),l){let b=r.split(/(\d+)/).map(C=>C.trim()).filter(C=>C);if(b.length>3){const C=b[0],T=b[1],E=r.replace(b[0],"").replace(b[1],"").trim();b=[C,T,E]}const k=[!1,!1,Xe.ADDRESS_UNAFFIXED,Xe.ADDRESS_AFFIXED][b.length];k&&y.push(To(k,b))}if(d&&/^[a-z-]+$/i.test(r)&&y.push(To(Xe.DISTRICT,r)),p&&/^[a-z]{1}[0-9]{1,5}$/i.test(r)&&y.push(To(Xe.STREET_KEY,r)),h){let b;/^[0-9]{4}[\s|/][0-9]*$/.test(r)?b=r.split(/[\s|/]/):/^[0-9]{5,}$/.test(r)&&(b=[r.slice(0,4),r.slice(4)]),b&&y.push(To(Xe.PARCEL,b))}Promise.all(y).then(b=>{const k=[].concat(...b);if(a&&o&&k.length===1)try{mM(o,k[0],s)}catch(C){console.error("Zooming to element from gazetteer failed."),console.error(C)}n(k)}).catch(b=>i(b))})}const pr="addressSearch";function _M(r,e){const t=r.reduce((n,i)=>i.status==="fulfilled"?[...n,i.value]:n,[]);return e.signal.aborted||r.filter(({status:n})=>n==="rejected").forEach(({reason:n})=>{console.error(`@polar/polar(plugins/addressSearch/utils/getResultsFromPromises:20:4)
`,"An error occurred while sending a request: ",n)}),t}function yy(r){if(!r.ok)throw new Error(r.status===418?"The server refuses to brew coffee because it is, permanently, a teapot.":`The received status code ${r.status} indicates an error.`)}function TM(r,e){let t=`query=${r.replace(" ","+")}`;for(const[n,i]of Object.entries(e).filter(([o])=>o!=="filter"&&o!=="epsg"&&o!=="apiKey"&&o!=="accessToken"))t+=`&${n}=${i}`;return e.filter&&Object.keys(e.filter).length>0&&(t+="&filter=",t=Object.entries(e.filter).reduce((n,[i,o])=>`${n+i}:${o}&`,t).slice(0,-1)),t}async function CM(r,e,t,n){const i=`${e}?`+TM(t,n),o={signal:r};n.accessToken?o.headers={Authorization:`Bearer ${n.accessToken}`}:n.apiKey&&(o.headers={"X-Api-Key":n.apiKey});const a=await fetch(encodeURI(i),o);yy(a);const s=await a.json();return{...s,features:s.features.map(l=>vt(l,{geometry:vt(l.geometry,{coordinates:n.epsg==="EPSG:4326"?l.geometry.coordinates:On(l.geometry.coordinates,"EPSG:4326",n.epsg)}),title:l.properties.text}))}}async function EM(r,e,t,n){$m(e);try{const i=vt(n,{minCharacters:0});let o=await jf(t,vt(i,{searchStreetBeforeWord:!1}));return!o[0]&&(o=await jf(t,i),!o[0])?{type:"FeatureCollection",features:[]}:{type:"FeatureCollection",features:SM(o,n.epsg,MM(o[0].properties.position.Point[0].$.srsName))}}catch(i){throw console.error(`@polar/polar(lib/getFeatures/mpapi:50:3)
`,i),new Error("An error occurred while fetching the feature collection.")}}function MM(r){if(r.includes("::"))return`EPSG:${r.split("::")[1]}`;if(r.includes(":"))return r;throw console.error(`@polar/polar(lib/getFeatures/mpapi:63:2)
`,"Unknown formatting of projection:",r),Error("Unknown formatting of projection: "+r)}const SM=(r,e,t)=>r.map(n=>{const{name:i,geometry:o}=n;return{type:"Feature",title:i,geometry:vt(o,{coordinates:t===e?o.coordinates.map(Number):On(o.coordinates.map(Number),t,e)}),properties:n.properties}}),LM=r=>r.replace(/\r?\n|\r/g,""),IM=({maxFeatures:r})=>`
<?xml version="1.0" encoding="UTF-8"?>
<wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"${r?` maxFeatures="${r}"`:""}>`,AM={wildCard:"*",singleChar:".",escapeChar:"!"},PM=({srsName:r,featurePrefix:e,typeName:t,xmlns:n})=>`
<wfs:Query typeName="${e}:${t}" xmlns:${e}="${n}"${r?` srsName="${r}"`:""}>
<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">`;function qf(r,e,{featurePrefix:t,useRightHandWildcard:n,likeFilterAttributes:i}){const o=vt(AM,i||{});return`
<ogc:PropertyIsLike${Object.entries(o).reduce((a,[s,l])=>`${a} ${s}="${l}"`,"")}>
<ogc:PropertyName>${t}:${r}</ogc:PropertyName>
<ogc:Literal>${e}${typeof n=="boolean"&&!n?"":Object.hasOwn(o,"wildCard")?o.wildCard:"*"}</ogc:Literal>
</ogc:PropertyIsLike>`}function NM(r,e){let t=PM(e);if(r.length>1)t+=`<ogc:And>${r.map(([n,i])=>qf(n,i,e)).join("")}</ogc:And>`;else if(r.length===1){const n=r[0];t+=qf(n[0],n[1],e)}return t+"</ogc:Filter></wfs:Query>"}const va=(r,e)=>LM(IM(e)+r.map(t=>NM(t,e)).join("")+"</wfs:GetFeature>");if(import.meta.vitest){const{expect:r,test:e}=import.meta.vitest,t={typeName:"TyPeNaMe",featurePrefix:"prefix",xmlns:"example.com",maxFeatures:999};e("creates an empty search for an empty input",()=>{r(va([],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"></wfs:GetFeature>')}),e("creates a one-query search for a single match",()=>{r(va([[["a","5"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query></wfs:GetFeature>')}),e("creates a one-query and-ed search for a single match with multiple fields",()=>{r(va([[["a","5"],["b","3"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:And><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:b</ogc:PropertyName><ogc:Literal>3*</ogc:Literal></ogc:PropertyIsLike></ogc:And></ogc:Filter></wfs:Query></wfs:GetFeature>')}),e("creates a multi-query search for a multiple matches",()=>{r(va([[["a","5"]],[["b","3"]]],t)).toEqual('<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.1.0" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" maxFeatures="999"><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:a</ogc:PropertyName><ogc:Literal>5*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query><wfs:Query typeName="prefix:TyPeNaMe" xmlns:prefix="example.com"><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:PropertyIsLike wildCard="*" singleChar="." escapeChar="!"><ogc:PropertyName>prefix:b</ogc:PropertyName><ogc:Literal>3*</ogc:Literal></ogc:PropertyIsLike></ogc:Filter></wfs:Query></wfs:GetFeature>')})}const Su={};function gp(r){if(Su[r])return Su[r];const e=Array.from(r.matchAll(/{{(.*?)}}/g)),t=[];let n=0;for(const i of e)n<i.index&&(t.push(r.substring(n,i.index)),n=i.index),t.push(i),n+=i[0].length;return Su[r]=t,t}const DM=(r,e)=>r.uninterpreted>e.uninterpreted?1:r.uninterpreted<e.uninterpreted?-1:r.index>e.index?1:r.index<e.index?-1:0,OM=(r,e,t)=>{const n=[...r.map((o,a)=>({match:o,uninterpreted:t[a],patternLengthDiff:(e[a].match(/{{/g)||[]).length-o.length,index:a}))].sort(DM).map(({match:o})=>o),i=[];return n.filter(o=>{if(o.length===0)return!1;const a=JSON.stringify(o);return i.includes(a)?!1:(i.push(a),!0)})},jd=(r,e,t)=>{if(!r)throw new Error('Parameter "patterns" is missing on wfs configuration for pattern-based search.');if(!e)throw new Error('Parameter "patternKeys" is missing on wfs configuration for pattern-based search.');const n=[],i=[];return r.forEach(o=>{const a=gp(o),s=[];let l=t;a.forEach(c=>{let u="";if(Array.isArray(c)){const d=c[1],h=e[d],p=l.match(new RegExp("^"+h));if(p!==null){const f=p[1];s.push([d,f.trim()]),u=p[0].trim()}}else u=c.trim();l.startsWith(u)&&(l=l.substring(u.length).trim())}),i.push(l.length),n.push(s)}),OM(n,r,i)};if(import.meta.vitest){const{expect:r,test:e}=import.meta.vitest,t=(o,a,s,l,c)=>{const u=[o,a];return u.index=s,u.input=l,u.groups=c,u},n=["{{gemarkung}} {{flur}} {{flstnrzae}}/{{flstnrnen}}, {{flstkennz}}","{{gemarkung}} {{flur}} {{flstnrzae}}, {{flstkennz}}","{{gemarkung}} {{flstnrzae}}/{{flstnrnen}}, {{flstkennz}}","{{gemarkung}} {{flstnrzae}}, {{flstkennz}}","{{flstkennz}}"],i={gemarkung:"([^0-9]+)",flur:"([0-9]+)",flstnrzae:"([0-9]+)",flstnrnen:"([0-9]+)",flstkennz:"([0-9_]+)"};e("getBlocks parts pattern strings to Block[][]",()=>{r(gp(n[0])).toEqual([t("{{gemarkung}}","gemarkung",0,n[0])," ",t("{{flur}}","flur",14,n[0])," ",t("{{flstnrzae}}","flstnrzae",23,n[0]),"/",t("{{flstnrnen}}","flstnrnen",37,n[0]),", ",t("{{flstkennz}}","flstkennz",52,n[0])])}),e("match builds full match groups",()=>{r(jd(n,i,"Musterhausen 12 3/4, 1234___")).toEqual([[["gemarkung","Musterhausen"],["flur","12"],["flstnrzae","3"],["flstnrnen","4"],["flstkennz","1234___"]],[["gemarkung","Musterhausen"],["flur","12"],["flstnrzae","3"]],[["gemarkung","Musterhausen"],["flstnrzae","12"],["flstnrnen","3"]],[["gemarkung","Musterhausen"],["flstnrzae","12"],["flstkennz","3"]]])}),e("match manages to decide the best fit",()=>{r(jd(n,i,"1234___")).toEqual([[["flur","1234"],["flstkennz","___"]],[["flstnrzae","1234"],["flstkennz","___"]],[["flstkennz","1234___"]]])})}function RM(r,e){return r.fillPercentage>e.fillPercentage?-1:r.fillPercentage<e.fillPercentage?1:r.keys.length>e.keys.length?-1:r.keys.length<e.keys.length?1:r.index>e.index?-1:r.index<e.index?1:0}function FM(r,e){const t=r.properties||{},n=[...e.map((i,o)=>{const a=gp(i).reduce((l,c)=>Array.isArray(c)?[...l,c[1]]:l,[]),s=a.reduce((l,c)=>typeof t[c]<"u"&&t[c]!==""?l+1:l,0);return{pattern:i,keys:a,index:o,fillPercentage:s/a.length}})].sort(RM)[0];return n.keys.reduce((i,o)=>i.replace(`{{${o}}}`,t[o]||""),n.pattern)}const zf=new bh,jM=new qa;async function qM(r,e,t,n){const i=[],o={type:"FeatureCollection",features:i},a=await r.text(),s=zf.readFeatures(a),{srsName:l}=zf.readFeatureCollectionMetadata(a);return s.forEach(c=>{const u=JSON.parse(jM.writeFeature(c));u.title="",e&&(t?u.title=FM(u,e):u.title=Array.isArray(e)?e.map(d=>u.properties[d]).join(" "):u.properties[e]),l&&(u.geometry=vt(u.geometry,{coordinates:On(u.geometry.coordinates,`EPSG:${l.split("::")[1]}`,n)})),i.push(u)}),o}async function zM(r,e,t,n){const{fieldName:i,patterns:o,patternKeys:a}=n;if(!i&&(!o||!a))throw new Error('Incomplete WFS search configuration. Either "fieldName" or "patterns" & "patternKeys" are required.');i&&o&&console.error(`@polar/polar(lib/getFeatures/wfs/index:22:3)
`,'Using both "fieldName" and "patterns" for WFS search. These are mutually exclusive. "patterns" will be ignored.');const s=i?[[[i,t]]]:jd(o,a,t),l=va(s,n),c=await fetch(encodeURI(e),{signal:r,method:"POST",body:l});return yy(c),qM(c,i||o,!i,n.epsg)}function $M(){const r={bkg:CM,mpapi:EM,wfs:zM};return{registerSearchMethods:e=>{Object.entries(e).forEach(([t,n])=>{if(r[t]){console.error(`@polar/polar(plugins/addressSearch/utils/methodContainer:16:6)
`,`Method "${t}" already exists. Please choose a different name. Overrides are not allowed.`);return}r[t]=n})},getSearchMethod:e=>{const t=r[e];if(t)return t;throw new Error(`The given type "${e}" does not define a valid searchMethod.`)}}}const Qn={ERROR:Symbol("error"),NO_SEARCH:Symbol("noSearch")},fp=Zr("plugins/addressSearch",()=>{const r=He(),e={label:"defaultLabel",hint:"",resultDisplayMode:"mixed",limitResults:Number.MAX_SAFE_INTEGER};let t=null,n,i;const o=Me(null),a=Me(""),s=Me(!1),l=Me(Qn.NO_SEARCH),c=Me("defaultGroup"),u=X(()=>d.value.afterResultComponent||null),d=X(()=>r.configuration.addressSearch),h=X({get:()=>a.value,set:W=>{W!==a.value&&(a.value=W,j())}}),p=X(()=>Array.isArray(l.value)&&l.value.length>0&&l.value.some(({features:{features:W}})=>Array.isArray(W)&&W.length>0)),f=X(()=>d.value.focusAfterSearch||!1),y=X(()=>W=>{const pe=d.value.groupProperties?.[W]||{};return W==="defaultGroup"?vt(e,pe):pe}),m=X(()=>Object.keys(R.value)),b=X(()=>Object.keys(R.value).map(W=>({groupId:W,text:y.value(W).label}))),k=X(()=>m.value.length>1),C=X(()=>s.value?Tt(W=>W.hint.loading,{ns:pr}):l.value===Qn.ERROR?Tt(W=>W.hint.error,{ns:pr}):h.value.length>0&&h.value.length<E.value?Tt(W=>W.hint.tooShort,{ns:pr,minLength:E.value}):l.value!==Qn.NO_SEARCH&&!p.value?Tt(W=>W.hint.noResults,{ns:pr}):se.value.hint||""),T=X(()=>se.value.limitResults||e.limitResults),E=X(()=>typeof d.value.minLength=="number"?d.value.minLength:3),R=X(()=>d.value.searchMethods.reduce((W,pe)=>{const Ce=pe.groupId||"defaultGroup";return W[Ce]?W[Ce].push(pe):W[Ce]=[pe],W},{})),F=X({get:()=>c.value,set:W=>{W!==c.value&&(c.value=W,l.value=Qn.NO_SEARCH,h.value.length>0&&O())}}),se=X(()=>y.value(F.value)),ne=X(()=>typeof d.value.waitMs=="number"?d.value.waitMs:300);function fe(){n=py(O,ne.value),i=$M(),F.value=m.value[0],d.value.customSearchMethods&&i.registerSearchMethods(d.value.customSearchMethods)}function U(){}function j(){t&&(t.abort(),t=null),n()}function te(){h.value="",l.value=Qn.NO_SEARCH,o.value=null}function O(){if(h.value.length<E.value)return l.value=Qn.NO_SEARCH,s.value=!1,Promise.resolve();s.value=!0,t=new AbortController;const W=t;return Promise.allSettled(d.value.searchMethods.map(async({categoryId:pe,groupId:Ce,queryParameters:V,type:_t,url:rt})=>{const Ct=await i.getSearchMethod(_t)(W.signal,rt,h.value,vt(V||{},{epsg:r.configuration.epsg})),ir=pe||"default",kt=d.value.categoryProperties?.[ir];return{categoryId:ir,categoryLabel:kt?Tt(kt.label):Tt(bt=>bt.defaultLabel,{ns:pr}),features:Ct,groupId:Ce||"defaultGroup"}})).then(pe=>l.value=_M(pe,W)).catch(pe=>{console.error(`@polar/polar(plugins/addressSearch/store:249:6)
`,"An error occurred while searching.",pe),l.value=Qn.ERROR}).finally(()=>{s.value=!1})}async function q(W,pe="never"){if(h.value=W,t&&(t.abort(),t=null),await O(),!Array.isArray(l.value))return;const Ce=l.value.find(({features:_t})=>_t.features.length);if(!Ce)return;const V=Ce.features.features;(pe==="first"&&V.length>=1||pe==="only"&&V.length===1)&&ce(V[0],Ce.categoryId)}function ce(W,pe="default"){const Ce=d.value.customSelectResult?.[pe];Ce?Ce(W,pe):(o.value=W,a.value=W.title,l.value=Qn.NO_SEARCH)}return{chosenAddress:o,inputValue:h,afterResultComponent:u,focusAfterSearch:f,groupSelectOptions:b,hasMultipleGroups:k,isLoading:s,searchResults:l,selectedGroupId:F,featuresAvailable:p,hint:C,limitResults:T,abortAndRequest:j,clear:te,search:q,selectResult:ce,setupPlugin:fe,teardownPlugin:U}});function vy(r,e,t){for(let n=0;n<r;n++){const i=e.getElementById(`polar-plugin-address-search-results-feature-${n}-0`);if(i){i.focus(),t?.preventDefault();break}}}function UM(r,e){const t=r.toLowerCase().indexOf(e.toLowerCase());return t===-1?r:r.substring(0,t)+"<strong>"+r.substring(t,t+e.length)+"</strong>"+r.substring(t+e.length)}const GM={key:0,id:"polar-plugin-address-search-result-wrapper",tabindex:"-1"},BM={key:0,class:"polar-plugin-address-search-category-label"},VM=["id","onClick","onKeydown"],HM={class:"span-sr-only"},ZM=["innerHTML"],YM=["onClick"],WM={class:"kern-label"},KM={key:2,class:"kern-divider","aria-hidden":"true"},QM=Ee({__name:"SearchResults.ce",setup(r){const e=He(),t=fp(),{afterResultComponent:n,featuresAvailable:i,inputValue:o,limitResults:a,searchResults:s,selectedGroupId:l}=ct(t);yt(l,()=>c.value=[]);const c=Me([]),u=X(()=>Array.isArray(t.searchResults)?structuredClone(nn(t.searchResults)).filter(y=>y.groupId===t.selectedGroupId).reduce((y,m)=>{const b=y.findIndex(k=>k.categoryId===m.categoryId);return b===-1?[...y,m]:(y[b].features.features=[...y[b].features.features,...m.features.features],y)},[]).map(y=>(d(y.categoryId)||(y.features.features=y.features.features.slice(0,a.value)),y)):[]);yt(u,()=>{t.focusAfterSearch&&Yi(()=>{vy(u.value.length,e.shadowRoot)})});function d(y){return c.value.includes(y)}function h(){e.shadowRoot.getElementById("polar-plugin-address-search-input")?.focus()}function p(y,m){const{target:b}=m;if(b===null){console.warn(`@polar/polar(plugins/addressSearch/components/SearchResults.ce.vue?vue&type=script&setup=true&lang:112:3)
`,`@polar/polar(plugins/addressSearch/components/SearchResults.ce:174:3)
`,"Could not focus any element.");return}const k=(e.shadowRoot?.getElementById("polar-plugin-address-search-result-wrapper")).querySelectorAll("li, button"),C=[...k].indexOf(b),T=k[(C+(y?1:-1))%k.length];if(T){T.focus();return}e.shadowRoot.getElementById("polar-plugin-address-search-input")?.focus()}function f(y){c.value=c.value.indexOf(y)===-1?[...c.value,y]:c.value.filter(m=>m!==y)}return(y,m)=>M(i)?(I(),ee("div",GM,[(I(!0),ee(lt,null,Lt(u.value,(b,k)=>(I(),ee(lt,{key:b.categoryId},[u.value.length>1?(I(),ee("h2",BM,ze(b.categoryLabel)+" "+ze(y.$t(C=>C.resultCount,{count:M(s)[k].features.features.length,ns:M(pr)})),1)):Ke("",!0),oe("ul",{class:it({"polar-plugin-address-search-list-without-label":u.value.length===1})},[(I(!0),ee(lt,null,Lt(b.features.features,(C,T)=>(I(),ee("li",{key:`result-${k}-${T}`,id:`polar-plugin-address-search-results-feature-${k}-${T}`,tabindex:"-1",onClick:E=>M(t).selectResult(C,b.categoryId),onKeydown:[Lr(ar(E=>M(t).selectResult(C,b.categoryId),["prevent","stop"]),["enter"]),m[0]||(m[0]=Lr(ar(E=>p(!0,E),["prevent","stop"]),["down"])),m[1]||(m[1]=Lr(ar(E=>p(!1,E),["prevent","stop"]),["up"])),Lr(ar(h,["prevent","stop"]),["escape"])]},[oe("span",HM,ze(C.title),1),oe("span",{"aria-hidden":"true",innerHTML:M(UM)(C.title,M(o))},null,8,ZM),M(n)?(I(),xe(Ft(M(n)),{key:0,feature:C},null,8,["feature"])):Ke("",!0)],40,VM))),128))],2),M(s)[k].features.features.length>M(a)?(I(),ee("button",{key:1,class:"kern-btn kern-btn--tertiary",onKeydown:[m[2]||(m[2]=Lr(ar(C=>p(!0,C),["prevent","stop"]),["down"])),m[3]||(m[3]=Lr(ar(C=>p(!1,C),["prevent","stop"]),["up"]))],onClick:C=>f(b.categoryId)},[oe("span",{class:it(`kern-icon ${d(b.categoryId)?"kern-icon--keyboard-arrow-up":"kern-icon--keyboard-arrow-down"}`),"aria-hidden":"true"},null,2),oe("span",WM,ze(y.$t(C=>C.resultList[d(b.categoryId)?"reduce":"extend"],{ns:M(pr)})),1)],40,YM)):Ke("",!0),k<u.value.length-1?(I(),ee("hr",KM)):Ke("",!0)],64))),128))])):Ke("",!0)}}),XM="#polar-plugin-address-search-result-wrapper{&[data-v-7246567e]{display:flex;flex-direction:column;gap:var(--kern-metric-space-2x-small);width:100%;padding-bottom:.625rem;overflow-y:auto}.polar-plugin-address-search-category-label[data-v-7246567e]{display:flex;align-items:center;min-height:var(--kern-metric-dimension-large);padding:0 var(--kern-metric-space-small);margin:0;font-size:calc(var(--kern-typography-font-size-static-small) * .875);font-weight:400;color:var(--kern-color-layout-text-muted)}.polar-plugin-address-search-list-without-label[data-v-7246567e]{margin-top:var(--kern-metric-space-x-small)}ul{&[data-v-7246567e]{margin:0;padding:0}li{&[data-v-7246567e]{display:flex;align-items:center;min-height:var(--kern-metric-dimension-x-large);padding:var(--kern-metric-space-none) var(--kern-metric-space-small);margin:var(--kern-metric-space-none) var(--kern-metric-space-small);border-radius:var(--kern-metric-border-radius-default);color:var(--kern-color-layout-text-default);transition:.3s cubic-bezier(.25,.8,.5,1)}&[data-v-7246567e]:hover,&[data-v-7246567e]:focus{background-color:var(--kern-color-layout-background-hued);cursor:pointer}}}button[data-v-7246567e]{margin:var(--kern-metric-space-none) var(--kern-metric-space-small)}}.span-sr-only[data-v-7246567e]{width:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}",JM=Be(QM,[["styles",[XM]],["__scopeId","data-v-7246567e"]]),eS={class:"kern-loader kern-loader--visible",role:"status"},tS={class:"kern-sr-only"},rS=Ee({__name:"SmallLoader.ce",setup(r){return(e,t)=>(I(),ee("div",eS,[oe("span",tS,ze(e.$t(n=>n.hint.loading,{ns:M(pr)})),1)]))}}),nS=".kern-loader{&[data-v-06c648df]{width:var(--kern-metric-dimension-large);height:var(--kern-metric-dimension-large);margin:var(--kern-metric-space-small)}&[data-v-06c648df]:before,&[data-v-06c648df]:after{display:none}}",iS=Be(rS,[["styles",[nS]],["__scopeId","data-v-06c648df"]]),oS={class:"polar-plugin-address-search-selection-wrapper"},aS={class:"polar-plugin-address-search-input-wrapper"},sS={id:"polar-plugin-address-search-input-description",class:"kern-sr-only"},lS=["aria-label","onKeydown"],cS={class:"kern-label kern-sr-only"},uS={class:"kern-sr-only","aria-live":"polite"},dS={key:2,class:"polar-plugin-address-search-hint"},hS=Ee({__name:"AddressSearch.ce",setup(r){const e=He(),t=fp(),{layout:n}=ct(e),{groupSelectOptions:i,hasMultipleGroups:o,hint:a,inputValue:s,isLoading:l,searchResults:c,selectedGroupId:u}=ct(t),d=X(()=>Tt(m=>m[i.value.find(({groupId:b})=>b===u.value)?.text||"defaultLabel"],{ns:pr})),h=X(()=>`${e.clientWidth*.75}px`),p=X(()=>n.value==="standard"?"0":"var(--kern-metric-space-small)");function f(){t.clear(),Yi(()=>{(e.shadowRoot?.getElementById("polar-plugin-address-search-input")).focus()})}function y(m){Array.isArray(t.searchResults)&&vy(t.searchResults.length,e.shadowRoot,m)}return(m,b)=>(I(),xe(Ic,{class:it({"has-hint":M(a).length>0,"polar-plugin-address-search-shown-results":Array.isArray(M(c))&&M(c).length,"kern-card-standard":M(n)==="standard"}),style:ci(`max-width: ${h.value}`)},{default:tr(()=>[oe("div",oS,[M(o)?(I(),xe(hy,{key:0,"aria-label":m.$t(k=>k.groupSelector,{ns:M(pr)}),options:M(i).map(({groupId:k,text:C})=>({value:k,label:m.$t(T=>T[C],{ns:M(pr)})})),value:M(u),"onUpdate:value":b[0]||(b[0]=k=>u.value=k)},null,8,["aria-label","options","value"])):Ke("",!0),oe("div",aS,[b[4]||(b[4]=oe("span",{class:"kern-icon kern-icon--search","aria-hidden":"true"},null,-1)),oe("span",sS,ze(m.$t(k=>k.aria.description,{ns:M(pr)})),1),Qi(oe("input",{id:"polar-plugin-address-search-input","onUpdate:modelValue":b[1]||(b[1]=k=>Zu(s)?s.value=k:null),class:"kern-form-input__input",type:"text","aria-label":d.value,"aria-describedby":"polar-plugin-address-search-input-description",onKeydown:[b[2]||(b[2]=Lr((...k)=>M(t).abortAndRequest&&M(t).abortAndRequest(...k),["enter"])),Lr(ar(y,["prevent","stop"]),["down"])]},null,40,lS),[[vm,M(s)]]),M(l)?(I(),xe(iS,{key:0,style:ci(`right: ${p.value}; top: ${p.value}`)},null,8,["style"])):Ke("",!0),M(s).length&&!M(l)?(I(),ee("button",{key:1,class:"kern-btn kern-btn--tertiary polar-plugin-address-search-input-button",style:ci(`right: ${p.value}; top: ${p.value}`),onClick:f},[b[3]||(b[3]=oe("span",{class:"kern-icon kern-icon--close","aria-hidden":"true"},null,-1)),oe("span",cS,ze(m.$t(k=>k.hint.clear,{ns:M(pr)})),1)],4)):Ke("",!0),oe("span",uS,ze(M(a)),1),M(a).length?(I(),ee("span",dS,ze(M(a)),1)):Ke("",!0)])]),Pr(JM)]),_:1},8,["class","style"]))}}),pS="#polar-plugin-address-search-icon-button[data-v-2b842cbb]{position:absolute;margin:var(--kern-metric-space-small)}.kern-card.polar-plugin-address-search-shown-results[data-v-2b842cbb] .kern-card__container{padding-bottom:0}.kern-card.has-hint[data-v-2b842cbb] .kern-card__container{padding-bottom:var(--kern-metric-space-small)}.kern-card.kern-card-standard[data-v-2b842cbb]{position:absolute;min-width:inherit;z-index:2}.kern-card{&[data-v-2b842cbb]{display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small);margin:var(--kern-metric-space-small);max-height:calc(calc(100% - var(--kern-metric-dimension-large)) - calc(2 * var(--kern-metric-space-small)));width:25rem;min-width:inherit}&[data-v-2b842cbb] .kern-card__container{flex:0 1 auto;overflow-y:auto}.polar-plugin-address-search-selection-wrapper{&[data-v-2b842cbb]{display:flex;flex-direction:row;align-items:center;width:100%;gap:var(--kern-metric-space-small)}&[data-v-2b842cbb] select{width:0}.polar-plugin-address-search-input-wrapper{&[data-v-2b842cbb]{display:grid;grid-template-columns:auto minmax(0,1fr);grid-template-rows:auto auto;align-items:center;width:100%;column-gap:var(--kern-metric-space-small)}.kern-icon--search[data-v-2b842cbb]{grid-column:1;grid-row:1;width:var(--kern-metric-dimension-large);height:var(--kern-metric-dimension-large)}#polar-plugin-address-search-input[data-v-2b842cbb]{grid-column:2;grid-row:1;border-radius:var(--kern-metric-border-radius-small);background:var(--kern-color-form-input-background);padding-right:calc(var(--kern-metric-space-large) * 2)}.polar-plugin-address-search-input-button[data-v-2b842cbb]{position:absolute;right:0;top:0;border-radius:var(--kern-metric-border-radius-small);margin:var(--kern-metric-space-default);width:var(--kern-metric-dimension-large);min-height:var(--kern-metric-dimension-large)}.kern-loader[data-v-2b842cbb]{position:absolute;right:0;top:0;margin:var(--kern-metric-space-default)}.polar-plugin-address-search-hint[data-v-2b842cbb]{grid-column:2;grid-row:2;color:var(--kern-color-layout-text-muted);font-size:calc(var(--kern-typography-font-size-static-small) * .875);padding:0 var(--kern-metric-space-2x-small);margin-top:var(--kern-metric-space-small)}}}}",gS=Be(hS,[["styles",[pS]],["__scopeId","data-v-2b842cbb"]]),fS={aria:{description:"Durch Eingabe in das Suchfeld kann die Suche nach Adressen gestartet werden"},defaultLabel:"Adresssuche",hint:{button:"Eingabefeld der Addresssuche anzeigen",clear:"Das Eingabefeld der Addresssuche leeren",error:"Etwas ist bei der Suche schiefgegangen.",loading:"Suche ...",noResults:"Keine Ergebnisse gefunden.",tooShort:"Fr die Suche bitte mindestens {{minLength}} Zeichen eingeben."},groupSelector:"Suchthema auswhlen",resultCount:"({{count}} Ergebnisse)",resultList:{extend:"Alle Ergebnisse anzeigen",reduce:"Ergebnisliste reduzieren"}},mS={aria:{description:"By entering text into the search field, the address search can be started"},defaultLabel:"Address Search",hint:{button:"Show address search input field",clear:"Clear address search input field",error:"Something went wrong.",loading:"Searching ...",noResults:"No results for the current query.",tooShort:"Please enter at least {{minLength}} characters."},groupSelector:"Select search topic",resultCount:"({{count}} results)",resultList:{extend:"Show all results",reduce:"Reduce result list"}},yS=[{type:"de",resources:fS},{type:"en",resources:mS}];function gN(r){return{id:pr,component:gS,locales:yS,storeModule:fp,options:r}}function vS(r){let e=r.getSource();if(!e)throw new Error("Could not find a vector source for this layer");for(;e instanceof os;)if(e=e.getSource(),!e)throw new Error("Could not find a vector source for this layer");if(!(e instanceof cr))throw new Error("Could not find a vector source for this layer");return e}const ln="filter",ky=Zr("plugins/filter/main",()=>{const r=He(),e=X(()=>r.configuration[ln]??{layers:{}}),t=Me({}),n=X(()=>Object.entries(e.value.layers).map(([u,d])=>({layerId:u,layerConfiguration:r.getLayerMapConfiguration(u),filterConfiguration:d}))),i=Me(null);yt(()=>e.value.layers,u=>{Object.keys(u).forEach(d=>{t.value[d]??={}}),i.value=Object.keys(u)[0]||""},{immediate:!0,deep:!0});const o=X(()=>n.value.find(u=>u.layerId===i.value)??null),a=X(()=>i.value?e.value.layers[i.value]:{}),s=X(()=>i.value?t.value[i.value]:null),l=X(()=>a.value.time?.last||a.value.time?.next||a.value.time?.freeSelection),c=X(()=>r.map.getAllLayers().filter(u=>Object.keys(e.value.layers).includes(u.get("id"))));return{configuration:e,state:t,layers:n,selectedLayerId:i,selectedLayer:o,selectedLayerConfiguration:a,selectedLayerState:s,selectedLayerHasTimeFilter:l,filteredLayers:c}}),kS=Zr("plugins/filter/time",()=>{const r=new Date(-864e13),e=new Date(864e13),t=He(),n=ky(),i=X(()=>n.selectedLayerConfiguration.time||{}),o=X(()=>n.selectedLayerState?.timeSpan||null),a=X(()=>i.value.targetProperty||""),s=X(()=>i.value.pattern||"YYYY-MM-DD"),l=X(()=>o.value?.[a.value]??{from:r,until:e,pattern:s.value}),c=X({get:()=>l.value.from.getTime()===r.getTime()?null:l.value.from,set:m=>{if(!n.selectedLayerState)return;const b=n.selectedLayerState,k=b.timeSpan??={},C=k[a.value]??={from:r,until:e,pattern:s.value};C.from=m||r}}),u=X({get:()=>{if(l.value.until.getTime()===e.getTime())return null;const m=new Date(l.value.until);return m.setDate(m.getDate()-1),m},set:m=>{if(!n.selectedLayerState)return;const b=n.selectedLayerState,k=b.timeSpan??={},C=k[a.value]??={from:r,until:e,pattern:s.value};if(m===null){C.until=e;return}const T=new Date(m);T.setDate(T.getDate()+1),C.until=T}});function d(m,b){const k=new Date;return k.setDate(k.getDate()+m),b.toDateString()===k.toDateString()}const h=Me(!1),p=X({get:()=>{if(h.value)return"custom";if(c.value===null&&u.value===null)return"all";if(c.value&&u.value){for(const m of n.selectedLayerConfiguration.time?.last||[])if(d(0,u.value)&&d(-m,c.value))return`last-${m}`;for(const m of n.selectedLayerConfiguration.time?.next||[])if(d(0,c.value)&&d(m,u.value))return`next-${m}`}return"custom"},set:m=>{if(m==="all"||m==="custom")c.value=null,u.value=null;else if(m.startsWith("last-")){const b=Number(m.substring(5)),k=new Date,C=new Date(k.getFullYear(),k.getMonth(),k.getDate()-b),T=new Date(k.getFullYear(),k.getMonth(),k.getDate());c.value=C,u.value=T}else if(m.startsWith("next-")){const b=Number(m.substring(5)),k=new Date,C=new Date(k.getFullYear(),k.getMonth(),k.getDate()),T=new Date(k.getFullYear(),k.getMonth(),k.getDate()+b);T.setDate(T.getDate()+b),c.value=C,u.value=T}h.value=m==="custom"}}),f=X(()=>({from:{min:new Date},until:{max:new Date}})[n.selectedLayerConfiguration.time?.freeSelection||""]||{}),y=X(()=>(t.language,[{value:"all",label:Tt(m=>m.time.noRestriction,{ns:ln}),icon:"kern-icon--all-inclusive"},...i.value.last?.map(m=>({value:`last-${m}`,label:Tt(b=>b.time.last,{ns:ln,count:m}),icon:"kern-icon--history"}))||[],...i.value.next?.map(m=>({value:`next-${m}`,label:Tt(b=>b.time.next,{ns:ln,count:m}),icon:"kern-icon--timeline"}))||[],...i.value.freeSelection?[{value:"custom",label:Tt(m=>m.time.chooseTimeFrame,{ns:ln}),icon:"kern-icon--calendar-month"}]:[]]));return{model:p,customModelStart:c,customModelEnd:u,timeConstraints:f,items:y}});function by(r,e){const t=r.getFeatures().flatMap(n=>n.get("features")||[n]);r.clear(),t.forEach(n=>{(g2(n,e)?m2:y2)(n)}),r.addFeatures(t)}if(import.meta.vitest){const{test:r,expect:e,vi:t}=import.meta.vitest,{isVisible:n,isInvisible:i}=await yr(async()=>{const{isVisible:a,isInvisible:s}=await import("./invisibleStyle-CilI54Z3-B0AHAUN2.js").then(l=>l.i);return{isVisible:a,isInvisible:s}},__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),o=await yr(()=>import("./doesFeaturePassFilter-pdQbHl3P-CEan8aLJ.js").then(a=>a.d),__vite__mapDeps([7,5]),import.meta.url);t.spyOn(o,"doesFeaturePassFilter").mockImplementation(a=>a.get("filter")==="yes"),r("feature visibility is updated according to filter",()=>{const a=new jt;a.set("filter","yes");const s=new jt;s.set("filter","no");const l=new cr;l.addFeatures([a,s]),by(l,{}),e(l.getFeatures()).toHaveLength(2),e(l.getFeatures()).toContain(a),e(n(a)).toBeTruthy(),e(l.getFeatures()).toContain(s),e(i(s)).toBeTruthy()})}const ps=Zr("plugins/filter",()=>{const r=ky(),e=ct(r),t=kS(),n=ct(t),i=[];function o(){r.filteredLayers.forEach(s=>{const l=vS(s),c=()=>{by(l,r.state[s.get("id")]??{})};l.on("featuresloadend",c),i.push(()=>{l.un("featuresloadend",c)}),i.push(yt(()=>r.state[s.get("id")],()=>{c()},{deep:!0,immediate:!0}))})}function a(){i.forEach(s=>{s()})}return{layers:e.layers,selectedLayerId:e.selectedLayerId,selectedLayer:e.selectedLayer,selectedLayerConfiguration:e.selectedLayerConfiguration,selectedLayerState:e.selectedLayerState,selectedLayerHasTimeFilter:e.selectedLayerHasTimeFilter,timeModel:n.model,timeStart:n.customModelStart,timeEnd:n.customModelEnd,timeConstraints:n.timeConstraints,timeItems:n.items,setupPlugin:o,teardownPlugin:a}}),bS=Ee({__name:"PolarTemplate.ce",setup(r){return(e,t)=>Ki(e.$slots,"default")}}),xS={class:"kern-label"},wS=Ee({__name:"KernBlockButton.ce",props:{icon:{type:Boolean},label:{type:String}},emits:["click"],setup(r,{emit:e}){const t=r,n=e;return(i,o)=>(I(),ee("button",{class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:o[0]||(o[0]=a=>n("click"))},[t.icon?(I(),ee("span",{key:0,class:it({"kern-icon":!0,[t.icon]:!0}),"aria-hidden":"true"},null,2)):Ke("",!0),oe("span",xS,ze(t.label),1)]))}}),_S=".kern-btn--tertiary{&[data-v-36d236e4]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-36d236e4]{text-decoration:none}}",TS=Be(wS,[["styles",[_S]],["__scopeId","data-v-36d236e4"]]),CS=["id"],ES=["for"],MS={class:"kern-label"},SS=Ee({__name:"KernBlockButtonCheckbox.ce",props:Xi({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=rs();function i(o){const a=o.target,s=a.parentElement?.querySelector(`label[for="${a.id}"]`);s?.scrollIntoView&&s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(o,a)=>(I(),ee(lt,null,[Qi(oe("input",{id:M(n),"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),type:"checkbox",onKeydown:a[1]||(a[1]=Lr(ar(s=>t.value=!t.value,["prevent"]),["enter"])),onFocus:a[2]||(a[2]=s=>i(s))},null,40,CS),[[km,t.value]]),oe("label",{for:M(n),class:"kern-btn kern-btn--block kern-btn--tertiary"},[e.icon?(I(),ee("span",{key:0,class:it({"kern-icon":!0,[e.icon]:!0}),"aria-hidden":"true"},null,2)):Ke("",!0),oe("span",MS,ze(e.label),1)],8,ES)],64))}}),LS=".kern-btn--tertiary{&[data-v-b66c5b7b]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-b66c5b7b]{text-decoration:none}}label[data-v-b66c5b7b]{border:var(--kern-metric-border-width-default) solid transparent}input[type=checkbox]{&[data-v-b66c5b7b]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-b66c5b7b]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&:checked+label[data-v-b66c5b7b]{border-color:var(--kern-color-action-default)}}",IS=Be(SS,[["styles",[LS]],["__scopeId","data-v-b66c5b7b"]]),AS={class:"kern-form-check"},PS=["id"],NS=["for"],DS=Ee({__name:"KernCheckbox.ce",props:Xi({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=rs();return(i,o)=>(I(),ee("div",AS,[Qi(oe("input",{id:M(n),"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-check__checkbox",type:"checkbox",onKeydown:o[1]||(o[1]=Lr(ar(a=>t.value=!t.value,["prevent"]),["enter"]))},null,40,PS),[[km,t.value]]),oe("label",{for:M(n),class:"kern-label"},ze(e.label),9,NS)]))}}),OS=".kern-form-check[data-v-52ca373c]{box-sizing:border-box}",RS=Be(DS,[["styles",[OS]],["__scopeId","data-v-52ca373c"]]),FS={class:"kern-accordion"},jS={class:"kern-accordion__header"},qS={class:"kern-title"},zS={class:"kern-accordion__body"},$S=Ee({__name:"FilterSectionNineRegions.ce",props:{title:{type:String}},setup(r){const e=r;return(t,n)=>(I(),ee("details",FS,[oe("summary",jS,[oe("span",qS,ze(e.title),1)]),oe("section",zS,[Ki(t.$slots,"default",{},void 0,!0)])]))}}),US=".kern-accordion__header{&[data-v-cf81d859]{padding:var(--kern-metric-space-x-small)}.kern-title[data-v-cf81d859]{color:#000;font-weight:400;font-size:1.2em}}",GS=Be($S,[["styles",[US]],["__scopeId","data-v-cf81d859"]]),BS={class:"polar-filter-section"},VS={class:"kern-heading-small"},HS=Ee({__name:"FilterSectionStandard.ce",props:{title:{type:String}},setup(r){const e=r;return(t,n)=>(I(),ee("section",BS,[oe("h3",VS,ze(e.title),1),Ki(t.$slots,"default",{},void 0,!0)]))}}),ZS=".polar-filter-section{&[data-v-5d3b05f3]{width:100%}h3[data-v-5d3b05f3]{padding-left:.15em}}",YS=Be(HS,[["styles",[ZS]],["__scopeId","data-v-5d3b05f3"]]),xy=Ee({__name:"FilterSection.ce",props:{title:{type:String}},setup(r){const e=r,t=He();return(n,i)=>(I(),xe(Ft(M(t).layout==="nineRegions"?GS:YS),mk(yk(e)),{default:tr(()=>[Ki(n.$slots,"default")]),_:3},16))}}),WS={class:"polar-filter-category-values"},KS=Ee({__name:"FilterCategory.ce",setup(r){const e=He(),t=ps();function n(c){return typeof c=="string"?{key:c,values:[c]}:c}function i(c){return n(c).key}function o(c){const u=t.selectedLayerState;return u.knownValues??={},u.knownValues[c]??=Object.fromEntries(t.selectedLayerConfiguration.categories?.find(d=>d.targetProperty===c)?.knownValues.map(d=>[i(d),!0])??[])}function a(c,{values:u}){return Object.entries(t.selectedLayerState?.knownValues?.[c]??{}).filter(([d])=>u.includes(d)).every(([,d])=>d)}function s(c,{values:u},d){const h=o(c);u.forEach(p=>h[p]=d)}function l(c){const u=o(c.targetProperty),d=c.knownValues.flatMap(p=>typeof p=="string"?[p]:p.values),h=Object.values(u).filter(p=>p).length!==d.length;d.forEach(p=>u[p]=h)}return(c,u)=>(I(!0),ee(lt,null,Lt(M(t).selectedLayerConfiguration.categories,(d,h)=>(I(),xe(xy,{key:h,title:c.$t(p=>p.layer[M(t).selectedLayerId].category[d.targetProperty].title,{ns:M(ln),defaultValue:d.targetProperty})},{default:tr(()=>[oe("div",WS,[d.selectAll?(I(),xe(TS,{key:0,icon:"kern-icon--deselect",label:c.$t(p=>p.category.deselectAll,{ns:M(ln)}),onClick:p=>l(d)},null,8,["label","onClick"])):Ke("",!0),(I(!0),ee(lt,null,Lt(d.knownValues,p=>(I(),xe(Ft(M(e).layout==="standard"?IS:RS),{key:i(p),icon:typeof p!="string"&&p.icon,label:c.$t(f=>f.layer[M(t).selectedLayerId].category[d.targetProperty].knownValue[i(p)],{ns:M(ln),defaultValue:i(p)}),"model-value":a(d.targetProperty,n(p)),"onUpdate:modelValue":f=>s(d.targetProperty,n(p),f)},null,8,["icon","label","model-value","onUpdate:modelValue"]))),128))])]),_:2},1032,["title"]))),128))}}),QS={class:"kern-form-input"},XS={class:"kern-form-input__select-wrapper"},JS=["value"],e6=Ee({__name:"FilterLayerChooser.ce",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const e=Nn(r,"modelValue"),t=X({get:()=>e.value||"",set:i=>{e.value=i||null}}),n=ps();return(i,o)=>(I(),ee("div",QS,[o[1]||(o[1]=oe("label",{class:"kern-label",for:"select"},"Fachdatensatz auswhlen",-1)),oe("div",XS,[Qi(oe("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-input__select"},[(I(!0),ee(lt,null,Lt(M(n).layers,a=>(I(),ee("option",{key:a.layerId,value:a.layerId},ze(a.layerConfiguration?.name||a.layerId),9,JS))),128))],512),[[fk,t.value]])])]))}}),t6={class:"radiogroup",role:"radiogroup"},r6=["aria-checked","aria-labelledby","data-value","onKeydown"],n6=["id","onClick"],i6={class:"kern-label"},o6=Ee({__name:"KernBlockButtonRadioGroup.ce",props:Xi({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=rs(),i=pi("radios");function o(a){const s=a.target,l=s.parentElement?.querySelector(`label[id="${s.getAttribute("aria-labelledby")}"]`);l?.scrollIntoView&&l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(a,s)=>(I(),ee("div",t6,[(I(!0),ee(lt,null,Lt(e.items,(l,c)=>(I(),ee(lt,{key:c},[oe("span",{ref_for:!0,ref_key:"radios",ref:i,role:"radio","aria-checked":t.value===l.value,"aria-labelledby":M(n)+"-"+c,tabindex:"0","data-value":l.value,onKeydown:[Lr(ar(u=>t.value=l.value,["prevent"]),["space"]),Lr(ar(u=>t.value=l.value,["prevent"]),["enter"])],onFocus:s[0]||(s[0]=u=>o(u))},null,40,r6),oe("label",{id:M(n)+"-"+c,class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:ar(u=>(t.value=l.value,i.value?.[c].focus()),["prevent"])},[l.icon?(I(),ee("span",{key:0,class:it({"kern-icon":!0,[l.icon]:!0}),"aria-hidden":"true"},null,2)):Ke("",!0),oe("span",i6,ze(l.label),1)],8,n6)],64))),128))]))}}),a6=".radiogroup[data-v-8d4c113c]{display:contents}.kern-btn--tertiary{&[data-v-8d4c113c]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-8d4c113c]{text-decoration:none}}label[data-v-8d4c113c]{border:var(--kern-metric-border-width-default) solid transparent}[role=radio]{&[data-v-8d4c113c]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-8d4c113c]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&[aria-checked=true]+label[data-v-8d4c113c]{border-color:var(--kern-color-action-default)}}",s6=Be(o6,[["styles",[a6]],["__scopeId","data-v-8d4c113c"]]);function Lu(r){return r===null?"":[r.getFullYear(),r.getMonth()+1,r.getDate()].map(e=>e.toString().padStart(2,"0")).join("-")}function l6(r){if(r.length===0)return null;const[e,t,n]=r.split("-");return new Date(Number(e),Number(t)-1,Number(n))}const c6=["min","max"],$f=Ee({__name:"KernDatePicker.ce",props:Xi({min:{type:Date},max:{type:Date}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=X({get:()=>Lu(t.value),set:i=>{t.value=l6(i)}});return(i,o)=>Qi((I(),ee("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),type:"date",class:"kern-form-input__input",min:M(Lu)(e.min??null),max:M(Lu)(e.max??null)},null,8,c6)),[[vm,n.value]])}}),u6={class:"range-picker"},d6=Ee({__name:"KernDateRangePicker.ce",props:Xi({min:{type:Date},max:{type:Date}},{start:{required:!0},startModifiers:{},end:{required:!0},endModifiers:{}}),emits:["update:start","update:end"],setup(r){const e=r,t=Nn(r,"start"),n=Nn(r,"end");return(i,o)=>(I(),ee("div",u6,[Pr($f,Yu({modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a)},e),null,16,["modelValue"]),o[2]||(o[2]=kk("  ",-1)),Pr($f,Yu({modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},e),null,16,["modelValue"])]))}}),h6=".range-picker[data-v-7414cb2a]{display:flex;align-items:center;justify-content:space-between;margin:.3em 0}",p6=Be(d6,[["styles",[h6]],["__scopeId","data-v-7414cb2a"]]),g6=["id","value"],f6=["for"],m6=Ee({__name:"KernRadioGroup.ce",props:Xi({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=Nn(r,"modelValue"),n=rs();return(i,o)=>(I(!0),ee(lt,null,Lt(e.items,(a,s)=>(I(),ee("div",{key:s,class:"kern-form-check"},[Qi(oe("input",{id:M(n)+"-"+s,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),class:"kern-form-check__radio",type:"radio",value:a.value},null,8,g6),[[vk,t.value]]),oe("label",{for:M(n)+"-"+s,class:"kern-label"},ze(a.label),9,f6)]))),128))}}),y6=".kern-form-check[data-v-04881f32]{box-sizing:border-box}",v6=Be(m6,[["styles",[y6]],["__scopeId","data-v-04881f32"]]),k6={class:"polar-filter-category-values"},b6=Ee({__name:"FilterTime.ce",setup(r){const e=He(),t=ps(),n=pi("section");async function i(o){o==="custom"&&(await Yi(),n.value?.lastElementChild?.scrollIntoView&&n.value.lastElementChild.scrollIntoView({behavior:"smooth"}))}return(o,a)=>(I(),xe(xy,{title:o.$t(s=>s.time.header,{ns:M(ln)})},{default:tr(()=>[oe("div",k6,[(I(),xe(Ft(M(e).layout==="standard"?s6:v6),{modelValue:M(t).timeModel,"onUpdate:modelValue":[a[0]||(a[0]=s=>M(t).timeModel=s),a[1]||(a[1]=s=>i(s))],items:M(t).timeItems},null,8,["modelValue","items"]))]),M(t).timeModel==="custom"?(I(),xe(p6,Yu({key:0,start:M(t).timeStart,"onUpdate:start":a[2]||(a[2]=s=>M(t).timeStart=s),end:M(t).timeEnd,"onUpdate:end":a[3]||(a[3]=s=>M(t).timeEnd=s)},M(t).timeConstraints),null,16,["start","end"])):Ke("",!0)]),_:1},8,["title"]))}}),x6={key:1,class:"kern-heading-medium"},w6=Ee({__name:"FilterUI.ce",setup(r){const e=He(),t=ps();return(n,i)=>(I(),xe(Ic,null,{default:tr(()=>[M(t).layers.length>1?(I(),xe(e6,{key:0,modelValue:M(t).selectedLayerId,"onUpdate:modelValue":i[0]||(i[0]=o=>M(t).selectedLayerId=o)},null,8,["modelValue"])):(I(),ee("h2",x6,ze(M(t).selectedLayer?.layerConfiguration?.name),1)),(I(),xe(Ft(M(e).layout==="nineRegions"?"div":bS),{class:"kern-accordion-group"},{default:tr(()=>[M(t).selectedLayerId?(I(),xe(KS,{key:0})):Ke("",!0),M(t).selectedLayerHasTimeFilter?(I(),xe(b6,{key:1})):Ke("",!0)]),_:1}))]),_:1}))}}),_6="[data-v-552cec0c] .polar-filter-category-values{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-small)}[data-v-552cec0c] .kern-accordion-group .polar-filter-category-values{margin-top:var(--kern-metric-space-default)}.kern-accordion-group[data-v-552cec0c]{width:100%}",T6=Be(w6,[["styles",[_6]],["__scopeId","data-v-552cec0c"]]),C6={category:{deselectAll:"Alle an-/abwhlen"},time:{header:"Zeitraum",noRestriction:"Keine Einschrnkung",last_zero:"Heute",last_one:"Der letzte Tag",last_other:"Die letzten {{count}} Tage",next_zero:"Heute",next_one:"Der nchste Tag",next_other:"Die nchsten {{count}} Tage",chooseTimeFrame:"Zeitraum whlen"}},E6={category:{deselectAll:"De-/select all"},time:{header:"Time frame",noRestriction:"No restriction",last_zero:"Today",last_one:"The last day",last_other:"The last {{count}} days",next_zero:"Today",next_one:"The next day",next_other:"The next {{count}} days",chooseTimeFrame:"Choose time frame"}},M6=[{type:"de",resources:C6},{type:"en",resources:E6}];function fN(r){return{id:ln,component:T6,locales:M6,icon:"kern-icon--filter-alt",storeModule:ps,options:r}}const S6={class:"kern-label kern-sr-only"},L6=Ee({__name:"PolarIconButton.ce",props:{hint:{type:String},icon:{type:String},active:{type:Boolean},tooltipPosition:{type:String}},setup(r){const{hasSmallDisplay:e}=ct(He());return(t,n)=>(I(),ee("button",{class:it(["kern-btn kern-btn--secondary polar-icon-button",{"polar-icon-button-active":r.active}])},[oe("span",{class:it(["kern-icon",{[r.icon]:!0,"polar-icon-button-icon-active":r.active}]),"aria-hidden":"true"},null,2),oe("span",S6,ze(r.hint),1),r.tooltipPosition&&!M(e)?(I(),ee("span",{key:0,class:it(["polar-tooltip",`polar-tooltip-${r.tooltipPosition}`]),"aria-hidden":"true"},ze(r.hint),3)):Ke("",!0)],2))}}),I6=".polar-icon-button{&[data-v-c643a442]{position:relative;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);border:none}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}.polar-icon-button-icon-active[data-v-c643a442]{background:var(--kern-color-layout-background-default)}.polar-tooltip{&[data-v-c643a442]{z-index:42;position:absolute;padding:5px 16px;font-family:sans-serif;background:#616161e6;color:#fff;border:2px solid #fff;border-radius:4px;font-size:14px;line-height:22px;white-space:nowrap;pointer-events:none;transition-property:opacity,right,left;transition-duration:.25s;transition-timing-function:ease;opacity:0}&.polar-tooltip-left[data-v-c643a442]{right:calc(100% + .75rem)}&.polar-tooltip-right[data-v-c643a442]{left:calc(100% + .75rem)}}&:hover .polar-tooltip[data-v-c643a442],&:focus-visible .polar-tooltip[data-v-c643a442]{opacity:1}}.polar-icon-button-active{&[data-v-c643a442]{background:var(--kern-color-action-default)}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-action-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}",mp=Be(L6,[["styles",[I6]],["__scopeId","data-v-c643a442"]]),Ac="fullscreen",yp=Zr("plugins/fullscreen",()=>{const r=He(),e=X(()=>r.configuration[Ac]),t=X(()=>e.value.renderType),n=X(()=>typeof e.value.targetContainer=="string"?document.getElementById(e.value.targetContainer)||document.documentElement:e.value.targetContainer?e.value.targetContainer:r.lightElement||document.documentElement),i=Me(!1),o=Me(null);function a(){r.lightElement&&(o.value=r.lightElement.style.cssText,r.lightElement.style.position="fixed",r.lightElement.style.margin="0",r.lightElement.style.top="0",r.lightElement.style.left="0",r.lightElement.style.width="100%",r.lightElement.style.height="100%",r.lightElement.style.zIndex="9999")}async function s(){if(!n.value.requestFullscreen){if(n.value.webkitRequestFullscreen){await n.value.webkitRequestFullscreen(),u();return}a();return}await n.value.requestFullscreen(),u()}async function l(){if(o.value!==null){r.lightElement&&(r.lightElement.style.cssText=o.value),o.value=null;return}if(document.webkitExitFullscreen){await document.webkitExitFullscreen(),u();return}await document.exitFullscreen(),u()}const c=X({get:()=>o.value!==null||i.value,set:p=>{(p?s:l)().catch(()=>{console.warn(`@polar/polar(plugins/fullscreen/store:110:5)
`,"Failed to toggle fullscreen mode")})}});function u(){i.value=!!(document.fullscreenElement||document.webkitFullscreenElement)}function d(){addEventListener("fullscreenchange",u),addEventListener("webkitfullscreenchange",u)}function h(){removeEventListener("fullscreenchange",u),removeEventListener("webkitfullscreenchange",u)}return{fullscreenEnabled:c,enableSimulatedFullscreen:a,renderType:t,setupPlugin:d,teardownPlugin:h}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await yr(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-6B_mW3wX-DRmF_KiC.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await yr(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-IOlVeADE-DvDdZCyY.js");return{reactive:l}},[],import.meta.url),a=await yr(()=>import("./invisibleStyle-CilI54Z3-B0AHAUN2.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[Ac]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=yp();c.setupPlugin(),await l(c),c.teardownPlugin()}});s.for([{native:!0,webkit:!0,result:!0},{native:!0,webkit:!1,result:!0},{native:!1,webkit:!0,result:!0},{native:!1,webkit:!1,result:!1}])("Fullscreen detection uses webkit prefix if necessary (native=$native, webkit=$webkit)",({native:l,webkit:c,result:u},{store:d})=>{jsdom.window.document.fullscreenElement=l,jsdom.window.document.webkitFullscreenElement=c,dispatchEvent(new Event("fullscreenchange")),r(d.fullscreenEnabled).toBe(u)}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Enable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u,coreStore:d})=>{jsdom.window.document.fullscreenElement=null;const h=t.fn(()=>new Promise(p=>{jsdom.window.document.fullscreenElement=document.createElement("div"),p()}));d.lightElement={...l?{requestFullscreen:h}:{},...c?{webkitRequestFullscreen:h}:{}},u.fullscreenEnabled=!0,r(h).toHaveBeenCalled(),await t.waitUntil(()=>u.fullscreenEnabled),r(u.fullscreenEnabled).toBeTruthy()}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Disable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u})=>{jsdom.window.document.fullscreenElement=document.createElement("div"),dispatchEvent(new Event("fullscreenchange"));const d=t.fn(()=>new Promise(h=>{jsdom.window.document.fullscreenElement=null,h()}));l&&(jsdom.window.document.exitFullscreen=d),c&&(jsdom.window.document.webkitExitFullscreen=d),u.fullscreenEnabled=!1,r(d).toHaveBeenCalled(),await t.waitUntil(()=>!u.fullscreenEnabled),r(u.fullscreenEnabled).toBeFalsy(),delete jsdom.window.document.exitFullscreen,delete jsdom.window.document.webkitExitFullscreen}),s("Enable simulated fullscreen if Fullscreen API is not available",({store:l,coreStore:c})=>{const u=new CSSStyleDeclaration;c.lightElement={style:u},u.cssText="position: relative; width: 400px; height: 300px;",l.fullscreenEnabled=!0,r(l.fullscreenEnabled).toBeTruthy(),r(u.position).toBe("fixed"),l.fullscreenEnabled=!1,r(l.fullscreenEnabled).toBeFalsy(),r(u.position).toBe("relative")})}const A6=Ee({__name:"FullscreenUI.ce",setup(r){const e=He(),t=yp(),{fullscreenEnabled:n}=ct(t),i=X(()=>e.layout==="standard"?"polar-plugin-fullscreen-standard":t.renderType==="iconMenu"?"":"polar-plugin-fullscreen-nine-regions");return(o,a)=>(I(),xe(mp,{class:it(i.value),hint:o.$t(s=>s.button.label,{ns:M(Ac),context:M(n)?"off":"on"}),icon:M(n)?"kern-icon--fullscreen-exit":"kern-icon--fullscreen","tooltip-position":"left",onClick:a[0]||(a[0]=()=>n.value=!M(n))},null,8,["class","hint","icon"]))}}),P6=".polar-icon-button.polar-plugin-fullscreen-standard[data-v-502a0228]{box-shadow:none}.polar-icon-button.polar-plugin-fullscreen-nine-regions[data-v-502a0228]{margin:var(--kern-metric-space-small)}",N6=Be(A6,[["styles",[P6]],["__scopeId","data-v-502a0228"]]),D6={button:{label:"Vollbildmodus",label_off:"Vollbildmodus deaktivieren",label_on:"Vollbildmodus aktivieren"}},O6={button:{label:"Fullscreen mode",label_off:"Disable fullscreen mode",label_on:"Enable fullscreen mode"}},R6=[{type:"de",resources:D6},{type:"en",resources:O6}];function mN(r={}){return{id:Ac,component:N6,locales:R6,storeModule:yp,options:r}}const F6=100,j6=100,Iu={undefinedBoundaryLayer:Symbol.for("Boundary Layer undefined"),undefinedBoundarySource:Symbol.for("Boundary Source undefined"),sourceNotReady:Symbol.for("Source not ready")};async function q6(r){let e=0;for(;r.getState()!=="ready"||r.getFeatures().length===0;)if(e++<F6)await new Promise(t=>{setTimeout(t,j6)});else return!1;return!0}async function z6(r,e,t){if(typeof e>"u")return!0;const n=r.getLayers().getArray().find(o=>o.get("id")===e);if(!(n instanceof ur))return console.error(`@polar/polar(lib/passesBoundaryCheck:61:3)
`,`No layer configured to match boundaryLayerId "${e}".`),Iu.undefinedBoundaryLayer;const i=n.getSource();return i instanceof cr?await q6(i)?i.getFeatures().some(o=>o.getGeometry()?.intersectsCoordinate(t)):(console.error(`@polar/polar(lib/passesBoundaryCheck:79:3)
`,`Layer with boundaryLayerId "${e}" did not load or is featureless.`),Iu.sourceNotReady):(console.error(`@polar/polar(lib/passesBoundaryCheck:70:3)
`,`Layer with boundaryLayerId "${e}" missing source.`),Iu.undefinedBoundarySource)}const na=Zr("plugins/iconMenu",()=>{const r=He(),e=Me([]),t=Me([]),n=Me(null),i=Me(null),o=X(()=>r.configuration.iconMenu?.buttonComponent?Pi(r.configuration.iconMenu.buttonComponent):null);function a(){e.value=(r.configuration.iconMenu?.menus||[]).map(p=>p.filter(({plugin:{id:f}})=>{const y=r.configuration[f]?.displayComponent;return typeof y=="boolean"?y:!0})),t.value=(r.configuration.iconMenu?.focusMenus||[]).filter(({plugin:{id:p}})=>{const f=r.configuration[p]?.displayComponent;return typeof f=="boolean"?f:!0}),e.value.concat(t.value).flat().forEach(({plugin:p})=>{r.addPlugin(vt(p,{independent:!1}))}),e.value.map(p=>p.map(f=>vt(f,{plugin:{component:Pi(f.plugin.component)}}))),t.value.map(p=>vt(p,{plugin:{component:Pi(p.plugin.component)}}));const d=r.configuration.iconMenu?.initiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&d&&l(d);const h=r.configuration.iconMenu?.focusInitiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&h&&c(h)}function s(){}function l(d){e.value.flat().find(({plugin:{id:h}})=>h===d)&&(n.value=d,u(d))}function c(d){t.value.find(({plugin:{id:h}})=>h===d)&&(i.value=d,u(d,!0))}function u(d,h=!1){const p=(h?t.value:e.value.flat()).find(({plugin:{id:f}})=>f===d);if(!p){console.error(`@polar/polar(plugins/iconMenu/store:120:4)
`,`Menu with id ${d} could not be found.`);return}if(!p.plugin.component){console.error(`@polar/polar(plugins/iconMenu/store:124:4)
`,`The plugin ${p.plugin.id} does not have any component to display and thus can not be opened in the moveHandle.`);return}r.hasWindowSize&&r.hasSmallWidth&&(h&&n.value!==null?n.value=null:!h&&i.value!==null&&(i.value=null)),r.setMoveHandle({closeFunction:()=>{if(h){i.value=null;return}n.value=null},closeLabel:Tt(f=>f.mobileCloseButton,{ns:"iconMenu",plugin:Tt(f=>f.hints[p.plugin.id],{ns:"iconMenu"})}),component:p.plugin.component,plugin:"iconMenu"})}return{menus:e,focusMenus:t,open:n,focusOpen:i,buttonComponent:o,openInMoveHandle:u,openMenuById:l,openFocusMenuById:c,setupPlugin:a,teardownPlugin:s}}),$6=Ee({__name:"NineRegionsButton.ce",props:{icon:{type:String},id:{type:String},hint:{type:String}},setup(r){const e=r,t=na(),{open:n}=ct(t),i=X(()=>n.value===e.id),o=ym("updateMaxWidth");function a(){n.value===e.id?(n.value=null,He().setMoveHandle(null)):(n.value=e.id,t.openInMoveHandle(e.id)),o()}return(s,l)=>(I(),xe(mp,{active:i.value,hint:r.hint,icon:r.icon,"tooltip-position":"left",onClick:a},null,8,["active","hint","icon"]))}}),U6=Ee({__name:"NineRegionsMenu.ce",setup(r){const e=na(),{clientHeight:t,deviceIsHorizontal:n,hasSmallWidth:i,hasWindowSize:o}=ct(He()),{buttonComponent:a,open:s}=ct(e),l=Me("inherit"),c=pi("pluginComponent"),u=X(()=>e.menus.flat()),d=X(()=>u.value.length>1),h=X(()=>o.value?"inherit":`calc(${t.value}px - ${n.value?"calc(100% + 1.5em)":"1em"})`);yt(n,f=>{f||p()}),Wi(()=>{addEventListener("resize",p),p()}),Zl(()=>{removeEventListener("resize",p)});function p(){Yi(()=>{if(c.value?.[0])if(o.value)l.value="inherit";else{const{left:f,width:y}=c.value[0].$el.getBoundingClientRect();l.value=`${y+f}px`}})}return bk("updateMaxWidth",p),(f,y)=>(I(),xe(Ft(d.value?"ul":"div"),{class:"polar-plugin-icon-menu-list"},{default:tr(()=>[(I(!0),ee(lt,null,Lt(u.value,(m,b)=>(I(),xe(Ft(d.value?"li":"div"),{key:b,class:it(M(n)?"polar-plugin-icon-menu-list-item-horizontal":"polar-plugin-icon-menu-list-item")},{default:tr(()=>[("icon"in m?typeof m.icon>"u":typeof m.plugin.icon>"u")?(I(),xe(Ft(m.plugin.component),{key:0})):(I(),ee(lt,{key:1},[M(a)?(I(),xe(Ft(M(a)),{key:0,id:m.plugin.id,icon:"icon"in m?m.icon:m.plugin.icon,hint:f.$t(k=>k.hints[m.plugin.id],{ns:"iconMenu"})},null,8,["id","icon","hint"])):(I(),xe($6,{key:1,id:m.plugin.id,icon:("icon"in m?m.icon:m.plugin.icon)??"",hint:f.$t(k=>k.hints[m.plugin.id],{ns:"iconMenu"})},null,8,["id","icon","hint"])),M(s)===m.plugin.id&&(!M(o)||!M(i))?(I(),xe(Ft(m.plugin.component),{key:2,ref_for:!0,ref_key:"pluginComponent",ref:c,class:it([M(n)?"polar-plugin-icon-menu-list-item-content-horizontal":"polar-plugin-icon-menu-list-item-content","polar-plugin-icon-menu-list-item-content-scrollable-y"]),style:ci(`max-height: ${h.value}; max-width: ${l.value}`)},null,8,["class","style"])):Ke("",!0)],64))]),_:2},1032,["class"]))),128))]),_:1}))}}),G6=".polar-plugin-icon-menu-list[data-v-a0d0092e]{position:relative;list-style:none;padding:0;margin:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item-horizontal[data-v-a0d0092e]{float:left;margin-left:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item[data-v-a0d0092e]{margin-bottom:var(--kern-metric-space-small);z-index:1}.polar-plugin-icon-menu-list-item-content[data-v-a0d0092e]{position:absolute;white-space:nowrap;top:0;right:calc(100% + var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-horizontal[data-v-a0d0092e]{position:absolute;white-space:nowrap;top:calc(100% + var(--kern-metric-space-small));right:calc(-1 * var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-scrollable-y[data-v-a0d0092e]{z-index:1;overflow-y:auto;scrollbar-gutter:stable}",B6=Be(U6,[["styles",[G6]],["__scopeId","data-v-a0d0092e"]]),V6={class:"polar-plugin-icon-menu-focus-list-wrapper"},H6=["onClick"],Z6={class:"kern-label"},Y6=Ee({__name:"StandardFocusMenu.ce",props:{menus:{type:Array}},setup(r){const e=r,t=He(),{clientHeight:n,hasSmallWidth:i,hasWindowSize:o,moveHandleTop:a}=ct(t),s=na(),l=Me(null),c=X(()=>`bottom: ${o.value&&a.value!==null?Math.min(n.value-a.value,n.value/4)/16:t.getPluginStore("footer")===null?0:1.5}rem`),u=X(()=>o.value?"inherit":`calc(${t.clientHeight}px - ${t.deviceIsHorizontal?"calc(100% + 1.5em)":"1em"})`);function d(h){s.focusOpen===h?(s.focusOpen=null,l.value=null,t.setMoveHandle(null)):(s.focusOpen=h,l.value=Pi(e.menus.find(({plugin:p})=>p.id===h).plugin.component),s.openInMoveHandle(h,!0))}return(h,p)=>(I(),ee("div",V6,[l.value&&(!M(o)||!M(i))?(I(),xe(Ft(l.value),{key:0,class:"polar-plugin-icon-menu-focus-list-content",style:ci(`max-height: ${u.value}`)},null,8,["style"])):Ke("",!0),oe("ul",{class:"polar-plugin-icon-menu-focus-list",style:ci(c.value)},[(I(!0),ee(lt,null,Lt(r.menus,({buttonClass:f,icon:y,plugin:m})=>(I(),ee("li",{key:m.id,class:"polar-plugin-icon-menu-focus-list-item"},[oe("button",{class:it(["kern-btn kern-btn--secondary polar-plugin-icon-menu-button",f]),onClick:()=>d(m.id)},[oe("span",{class:it(["kern-icon",y]),"aria-hidden":"true"},null,2),oe("span",Z6,ze(M(Tt)(b=>b.hints[m.id],{ns:"iconMenu"})),1)],10,H6)]))),128))],4)]))}}),W6=".polar-plugin-icon-menu-focus-list-wrapper{&[data-v-7436f112]{display:flex;align-items:center;justify-content:center;gap:.5rem}.polar-plugin-icon-menu-focus-list{&[data-v-7436f112]{list-style:none;position:absolute;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);transition:bottom .25s ease;z-index:1}.polar-plugin-icon-menu-focus-list-item{&[data-v-7436f112]{margin-bottom:0}.polar-plugin-icon-menu-button{&[data-v-7436f112]{box-shadow:none;border:none}&[data-v-7436f112]:focus,&[data-v-7436f112]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}.polar-plugin-icon-menu-button-active{&[data-v-7436f112]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-7436f112]:focus,&[data-v-7436f112]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}}}.polar-plugin-icon-menu-focus-list-content[data-v-7436f112]{z-index:2;position:absolute;top:0;left:0;margin:var(--kern-metric-space-small);white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}",K6=Be(Y6,[["styles",[W6]],["__scopeId","data-v-7436f112"]]),Q6={class:"polar-plugin-icon-menu-list"},X6=Ee({__name:"StandardMenuList.ce",props:{menus:{type:Array},baseIndex:{default:0,type:Number}},setup(r){const e=He(),{deviceIsHorizontal:t,hasSmallWidth:n,hasWindowSize:i}=ct(e),o=na(),{open:a}=ct(o),s=Me("inherit"),l=pi("pluginComponent"),c=X(()=>i.value?"inherit":`calc(${e.clientHeight}px - ${t.value?"calc(100% + 1.5rem)":e.getPluginStore("footer")===null?"4.5rem":"6.5rem"})`);yt(t,h=>{h||u()}),Wi(()=>{addEventListener("resize",u),u()}),Zl(()=>{removeEventListener("resize",u)});function u(){Yi(()=>{if(l.value?.[0])if(i.value)s.value="inherit";else{const{left:h,width:p}=l.value[0].$el.getBoundingClientRect();s.value=`${p+h}px`}})}function d(h){a.value===h?(a.value=null,e.setMoveHandle(null)):(a.value=h,o.openInMoveHandle(h)),u()}return(h,p)=>(I(),ee("ul",Q6,[(I(!0),ee(lt,null,Lt(r.menus,({buttonClass:f,icon:y,plugin:m},b)=>(I(),ee("li",{key:b,class:it(M(t)?"polar-plugin-icon-menu-list-item-horizontal":"polar-plugin-icon-menu-list-item")},[typeof y>"u"?(I(),xe(Ft(m.component),{key:0})):(I(),ee(lt,{key:1},[Pr(mp,{class:it(f),hint:h.$t(k=>k.hints[m.id],{ns:"iconMenu"}),icon:y,"tooltip-position":"left",onClick:()=>d(m.id)},null,8,["class","hint","icon","onClick"]),M(a)===m.id&&(!M(i)||!M(n))?(I(),xe(Ft(m.component),{key:0,ref_for:!0,ref_key:"pluginComponent",ref:l,class:it(M(t)?"polar-plugin-icon-menu-list-item-content-horizontal":"polar-plugin-icon-menu-list-item-content"),style:ci(`max-height: ${c.value}; max-width: ${s.value}`)},null,8,["class","style"])):Ke("",!0)],64))],2))),128))]))}}),J6=".polar-icon-button.polar-plugin-icon-menu-button[data-v-ffef7f9e]{box-shadow:none}.polar-icon-button.polar-plugin-icon-menu-button-active{&[data-v-ffef7f9e]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-ffef7f9e]:focus,&[data-v-ffef7f9e]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}.polar-plugin-icon-menu-list{&[data-v-ffef7f9e]{list-style:none;margin:0;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow)}.polar-plugin-icon-menu-list-item[data-v-ffef7f9e]:nth-child(n+2){margin-top:3px}.polar-plugin-icon-menu-list-item-horizontal[data-v-ffef7f9e]{float:left}.polar-plugin-icon-menu-list-item-horizontal[data-v-ffef7f9e]:nth-child(n+2){margin-left:3px}.polar-plugin-icon-menu-list-item-content[data-v-ffef7f9e]{z-index:2;position:absolute;right:calc(100% + .5rem);top:0;white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}.polar-plugin-icon-menu-list-item-content-horizontal[data-v-ffef7f9e]{z-index:1;position:absolute;top:calc(100% + .5rem);right:0;white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}",e8=Be(X6,[["styles",[J6]],["__scopeId","data-v-ffef7f9e"]]),t8=Ee({__name:"StandardMenu.ce",setup(r){const{deviceIsHorizontal:e}=ct(He()),t=na(),n=X(()=>t.menus.map(o=>o.map(a=>vt(a,{buttonClass:[He().layout==="standard"?"polar-plugin-icon-menu-button":"",t.open===a.plugin.id?" polar-plugin-icon-menu-button-active":""].reduce((s,l)=>s.concat(" ",l)),icon:"icon"in a?a.icon:a.plugin.icon})))),i=X(()=>t.focusMenus.map(o=>vt(o,{buttonClass:t.focusOpen===o.plugin.id?"polar-plugin-icon-menu-button-active":""})));return(o,a)=>(I(),ee(lt,null,[oe("div",{class:it(["polar-plugin-icon-menu-list-wrapper",{"polar-plugin-icon-menu-list-wrapper-horizontal":M(e)}])},[(I(!0),ee(lt,null,Lt(n.value,(s,l)=>(I(),xe(e8,{key:l,menus:s,"base-index":l},null,8,["menus","base-index"]))),128))],2),i.value.length?(I(),xe(K6,{key:0,menus:i.value},null,8,["menus"])):Ke("",!0)],64))}}),r8=".polar-plugin-icon-menu-list-wrapper[data-v-c38a42bc]{position:absolute;right:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:var(--kern-metric-space-x-small);margin:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-wrapper-horizontal[data-v-c38a42bc]{flex-direction:row}",n8=Be(t8,[["styles",[r8]],["__scopeId","data-v-c38a42bc"]]),i8=Ee({__name:"IconMenu.ce",setup(r){const{layout:e}=ct(He());return(t,n)=>M(e)==="standard"?(I(),xe(n8,{key:0})):(I(),xe(B6,{key:1}))}}),o8={mobileCloseButton:"{{plugin}} schlieen",hints:{attributions:"Quellennachweis",draw:"Zeichenwerkzeuge",filter:"Filter",layerChooser:"Kartenauswahl",gfi:"Objektliste"}},a8={mobileCloseButton:"Close {{plugin}}",hints:{attributions:"Attributions",draw:"Draw tools",filter:"Filter",layerChooser:"Choose map",gfi:"Feature list"}},s8=[{type:"de",resources:o8},{type:"en",resources:a8}],l8="iconMenu";function yN(r){return{id:l8,component:i8,locales:s8,storeModule:na,options:r}}const Dt=[null,"http://www.opengis.net/wms","http://www.opengis.net/sld"];function gs(r){return tc(r[0].version,"1.3")>=0}const c8=_e(Dt,{Service:A(A8),Capability:A(I8)}),u8=_e(Dt,{Request:A(z8),Exception:A(O8),Layer:A(R8),UserDefinedSymbolization:A(S8)});let d8=class extends uh{constructor(){super(),this.version=void 0}readFromNode(e){return this.version=e.getAttribute("version").trim(),ie({version:this.version},c8,e,[])||null}};const wy={Name:A(ue),Title:A(ue),Abstract:A(ue),KeywordList:A(Sy),OnlineResource:A(Zo),ContactInformation:A(P8),Fees:A(ue),AccessConstraints:A(ue)},h8=_e(Dt,wy),p8=_e(Dt,{...wy,LayerLimit:A(Ut),MaxWidth:A(Ut),MaxHeight:A(Ut)}),g8=_e(Dt,{ContactPersonPrimary:A(N8),ContactPosition:A(ue),ContactAddress:A(D8),ContactVoiceTelephone:A(ue),ContactFacsimileTelephone:A(ue),ContactElectronicMailAddress:A(ue)}),f8=_e(Dt,{ContactPerson:A(ue),ContactOrganization:A(ue)}),m8=_e(Dt,{AddressType:A(ue),Address:A(ue),City:A(ue),StateOrProvince:A(ue),PostCode:A(ue),Country:A(ue)}),y8=_e(Dt,{Format:we(ue)}),_y={Name:A(ue),Title:A(ue),Abstract:A(ue),KeywordList:A(Sy),BoundingBox:We(Ey),Dimension:We(F8),Attribution:A(M8),AuthorityURL:We(G8),Identifier:We(ue),MetadataURL:We(B8),DataURL:We(Fn),FeatureListURL:We(Fn),Style:We(V8),Layer:We(Pc)},Ty=_e(Dt,{..._y,SRS:We(ue),Extent:A(j8),ScaleHint:We(q8),LatLonBoundingBox:A((r,e)=>Ey(r,e,!1)),Layer:We(Pc)}),Cy=_e(Dt,{..._y,CRS:We(ue),EX_GeographicBoundingBox:A(L8),MinScaleDenominator:A(Ii),MaxScaleDenominator:A(Ii),Layer:We(Pc)}),v8=_e(Dt,{Title:A(ue),OnlineResource:A(Zo),LogoURL:A(My)}),k8=_e(Dt,{westBoundLongitude:A(Ii),eastBoundLongitude:A(Ii),southBoundLatitude:A(Ii),northBoundLatitude:A(Ii)}),b8=_e(Dt,{GetCapabilities:A(pa),GetMap:A(pa),GetFeatureInfo:A(pa),DescribeLayer:A(pa),GetLegendGraphic:A(pa)}),x8=_e(Dt,{Format:We(ue),DCPType:We($8)}),w8=_e(Dt,{HTTP:A(U8)}),_8=_e(Dt,{Get:A(Fn),Post:A(Fn)}),T8=_e(Dt,{Name:A(ue),Title:A(ue),Abstract:A(ue),LegendURL:We(My),StyleSheetURL:A(Fn),StyleURL:A(Fn)}),C8=_e(Dt,{Format:A(ue),OnlineResource:A(Zo)}),E8=_e(Dt,{Keyword:we(ue)});function M8(r,e){return ie({},v8,r,e)}function S8(r,e){return{SupportSLD:!!mr(r.getAttribute("SupportSLD")),UserLayer:!!mr(r.getAttribute("UserLayer")),UserStyle:!!mr(r.getAttribute("UserStyle")),RemoteWFS:!!mr(r.getAttribute("RemoteWFS")),InlineFeatureData:!!mr(r.getAttribute("InlineFeatureData")),RemoteWCS:!!mr(r.getAttribute("RemoteWCS"))}}function Ey(r,e,t=!0){const n=[jr(r.getAttribute("minx")),jr(r.getAttribute("miny")),jr(r.getAttribute("maxx")),jr(r.getAttribute("maxy"))],i=[jr(r.getAttribute("resx")),jr(r.getAttribute("resy"))],o={extent:n,res:i};return t&&(gs(e)?o.crs=r.getAttribute("CRS"):o.srs=r.getAttribute("SRS")),o}function L8(r,e){const t=ie({},k8,r,e);if(!t)return;const n=t.westBoundLongitude,i=t.southBoundLatitude,o=t.eastBoundLongitude,a=t.northBoundLatitude;if(!(n===void 0||i===void 0||o===void 0||a===void 0))return[n,i,o,a]}function I8(r,e){return ie({},u8,r,e)}function A8(r,e){return ie({},gs(e)?p8:h8,r,e)}function P8(r,e){return ie({},g8,r,e)}function N8(r,e){return ie({},f8,r,e)}function D8(r,e){return ie({},m8,r,e)}function O8(r,e){return ie([],y8,r,e)}function R8(r,e){const t=ie({},gs(e)?Cy:Ty,r,e);return t.Layer===void 0?Object.assign(t,Pc(r,e)):t}function Pc(r,e){const t=gs(e),n=e[e.length-1],i=ie({},t?Cy:Ty,r,e);if(!i)return;let o=mr(r.getAttribute("queryable"));o===void 0&&(o=n.queryable),i.queryable=o!==void 0?o:!1;let a=Ln(r.getAttribute("cascaded"));a===void 0&&(a=n.cascaded),i.cascaded=a;let s=mr(r.getAttribute("opaque"));s===void 0&&(s=n.opaque),i.opaque=s!==void 0?s:!1;let l=mr(r.getAttribute("noSubsets"));l===void 0&&(l=n.noSubsets),i.noSubsets=l!==void 0?l:!1;let c=jr(r.getAttribute("fixedWidth"));c||(c=n.fixedWidth),i.fixedWidth=c;let u=jr(r.getAttribute("fixedHeight"));u||(u=n.fixedHeight),i.fixedHeight=u;const d=["Style","AuthorityURL"];t?d.push("CRS"):d.push("SRS","Dimension"),d.forEach(function(p){if(p in n){const f=i[p]||[];i[p]=f.concat(n[p])}});const h=["BoundingBox","Attribution"];return t?h.push("Dimension","EX_GeographicBoundingBox","MinScaleDenominator","MaxScaleDenominator"):h.push("LatLonBoundingBox","ScaleHint","Extent"),h.forEach(function(p){if(!(p in i)){const f=n[p];i[p]=f}}),i}function F8(r,e){const t={name:r.getAttribute("name"),units:r.getAttribute("units"),unitSymbol:r.getAttribute("unitSymbol")};return gs(e)&&Object.assign(t,{default:r.getAttribute("default"),multipleValues:mr(r.getAttribute("multipleValues")),nearestValue:mr(r.getAttribute("nearestValue")),current:mr(r.getAttribute("current")),values:ue(r)}),t}function j8(r,e){return{name:r.getAttribute("name"),default:r.getAttribute("default"),nearestValue:mr(r.getAttribute("nearestValue"))}}function q8(r,e){return{min:jr(r.getAttribute("min")),max:jr(r.getAttribute("max"))}}function Fn(r,e){return ie({},C8,r,e)}function z8(r,e){return ie({},b8,r,e)}function $8(r,e){return ie({},w8,r,e)}function U8(r,e){return ie({},_8,r,e)}function pa(r,e){return ie({},x8,r,e)}function My(r,e){const t=Fn(r,e);if(t){const n=[Ln(r.getAttribute("width")),Ln(r.getAttribute("height"))];return t.size=n,t}}function G8(r,e){const t=Fn(r,e);if(t)return t.name=r.getAttribute("name"),t}function B8(r,e){const t=Fn(r,e);if(t)return t.type=r.getAttribute("type"),t}function V8(r,e){return ie({},T8,r,e)}function Sy(r,e){return ie([],E8,r,e)}function H8({legendURL:r,layers:e="",url:t,typ:n,format:i,version:o}){return r?r==="ignore"?[]:[r]:e.split(",").filter(a=>a).map(a=>`${t}?SERVICE=${n}&REQUEST=GetLegendGraphic&FORMAT=${i||"image/png"}&VERSION=${o}&LAYER=${a}`)}const Uf=(r,e)=>r.filter(t=>{let{minZoom:n,maxZoom:i}=t;return typeof n>"u"&&(n=0),typeof i>"u"&&(i=Number.MAX_SAFE_INTEGER),n<=e&&e<=i});function ql(r,e){if(Array.isArray(r))return r.map(t=>ql(t,e)).find(t=>t!==null)||null;if(typeof r=="object"){if(r.Name===e)return r;if(r.Layer)return ql(r.Layer,e)}return null}const Z8=r=>(Array.isArray(r)?r:[r]).map(e=>(Array.isArray(e.LegendURL)?e.LegendURL:typeof e.LegendURL=="object"?[e.LegendURL]:[]).map(t=>t.OnlineResource)).flat(1);function Y8(r,e){return ql(r.Capability.Layer,e)?.Title||""}function W8(r,e){const t=ql(r.Capability.Layer,e)?.Style;return t&&Z8(t)[0]||""}function K8(r,e){const t=e[r];if(t)try{return new d8().read(t)}catch(n){console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:21:4)
`,`Error reading xml '${t}' for id '${r}'.`,n)}return null}function Q8(r,e){return Promise.all(r.map(async t=>{const{id:n}=t,i=t.options?.layers;if(i&&(i.title===!0||i.legend===!0)){if(typeof e[n]=="string")return console.warn(`@polar/polar(plugins/layerChooser/utils/capabilities:41:6)
`,`Re-fired loadCapabilities on id '${n}' albeit the GetCapabilities have already been successfully fetched. No re-fetch will occur.`),[n,null];const o=yi.getLayerWhere({id:t.id});if(!o||!o.url||!o.version||!o.typ)return console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:49:6)
`,`Missing data for service '${o}' with id '${n}'.`),[n,null];const a=`${o.url}?service=${o.typ}&version=${o.version}&request=GetCapabilities`;try{const s=await fetch(a);return[n,await s.text()]}catch(s){return console.error(`@polar/polar(plugins/layerChooser/utils/capabilities:61:6)
`,`Capabilities from ${a} could not be fetched.`,s),[n,null]}}return[n,null]})).then(t=>t.reduce((n,[i,o])=>vt(n,{[i]:o}),{}))}function X8(r,e,t){const n=yi.getLayerWhere({id:r}),i=K8(r,e);return{[r]:(t.order?.split(",")||n.layers.split(",")).map(o=>({layerName:o,displayName:t.title===!0&&i?Y8(i,o):t.title===!1?o:t.title?.[o]||o,layerImage:t.legend===!0&&i?W8(i,o):t.legend===!1?null:t.legend?.[o]||null}))}}const J8=r=>r.reduce(([e,t],n)=>yi.getLayerWhere({id:n.id})===null?(console.error(`@polar/polar(plugins/layerChooser/utils/getBackgroundsAndMasks:15:5)
`,`Layer ${n.id} not found in service register. This is a configuration issue. The map might behave in unexpected ways.`,n),[e,t]):n.type==="background"?[[...e,n],t]:[e,[...t,n]],[[],[]]),eL=r=>r.map(({id:e,name:t})=>({id:e,name:t})).map(e=>vt(e,{rawLayer:yi.getLayerWhere({id:e.id})})).filter(({rawLayer:e})=>e!==null).reduce((e,t)=>{const n=H8(t.rawLayer)[0];return typeof n=="string"?{...e,[t.id]:{name:t.name,url:n}}:e},{}),ia=Zr("plugins/layerChooser",()=>{const r=He(),e=Me({}),t=Me([]),n=Me([]),i=Me([]),o=Me([]),a=Me(""),s=Me([]),l=Me({}),c=Me(""),u=Me({}),d=Me(""),h=X(()=>t.value.reduce((E,{id:R})=>({...E,[R]:i.value.findIndex(({id:F})=>F===R)===-1}),{})),p=X(()=>f.value.reduce((E,{id:R})=>({...E,[R]:o.value.findIndex(({id:F})=>F===R)===-1}),{})),f=X(()=>n.value.filter(({hideInMenu:E})=>!E)),y=X(()=>f.value.reduce((E,R)=>vt(E,{[R.type]:Array.isArray(E[R.type])?E[R.type].concat(R):[R]}),{}));function m(){const[E,R]=J8(r.configuration.layers);t.value=E,n.value=R,E.length===0&&console.error(`@polar/polar(plugins/layerChooser/store:100:4)
`,'No layers of type "background" have been configured.'),a.value=E.find(({visibility:F})=>F)?.id||"",s.value=R.filter(({visibility:F})=>F).map(({id:F})=>F),C(),r.map.on("moveend",C),l.value=eL(r.configuration.layers),Q8(r.configuration.layers,e.value).then(F=>{e.value=F,r.configuration.layers.forEach(se=>{const ne=se.options?.layers;ne&&(u.value=vt(u.value,X8(se.id,F,ne)))})})}function b(){r.map.un("moveend",C)}yt(a,E=>{r.map.getLayers().getArray().forEach(R=>{t.value.find(({id:F})=>F===R.get("id"))&&R.setVisible(R.get("id")===E)})}),yt(s,E=>{k(E)});function k(E){r.map.getLayers().getArray().forEach(R=>{n.value.find(({id:F})=>F===R.get("id"))&&R.setVisible(E.includes(R.get("id")))})}function C(){const E=r.map.getView().getZoom();i.value=Uf(t.value,E),o.value=Uf(n.value,E);const R=i.value.map(({id:F})=>F);R.includes(a.value)||(a.value=R[0]||""),k(o.value.map(({id:F})=>F).filter(F=>s.value.includes(F)))}function T(E){const R=r.map.getLayers().getArray().find(F=>F.get("id")===d.value).getSource();if(!R){console.error(`@polar/polar(plugins/layerChooser/store:208:4)
`,`Action 'toggleOpenedOptionsServiceLayer' failed on ${d.value}. Layer not found in OpenLayers or source not initialized in OpenLayers.`);return}R.updateParams({...R.getParams(),LAYERS:E})}return{activeBackgroundId:a,activeMaskIds:s,backgrounds:t,capabilities:e,disabledBackgrounds:h,disabledMasks:p,layersWithLegends:l,layersWithOptions:u,masksSeparatedByType:y,shownMasks:f,openedLegendId:c,openedOptionsId:d,setupPlugin:m,teardownPlugin:b,toggleOpenedOptionsServiceLayer:T}}),Ar="layerChooser",tL=["id"],rL={class:"kern-label"},Ly=Ee({__name:"LayerInformationCard.ce",props:{identifier:{type:String},idName:{type:String}},setup(r){const e=r,t=He(),n=ia();Wi(()=>{t.shadowRoot?.getElementById(`polar-layer-chooser-${e.identifier}-back-button`)?.focus()});function i(){const o=n[e.idName];n[e.idName]="",Yi(()=>{t.shadowRoot?.getElementById(`polar-layer-chooser-${e.identifier}-${o}-button`)?.focus()})}return(o,a)=>(I(),xe(Ic,null,{default:tr(()=>[oe("button",{id:`polar-layer-chooser-${r.identifier}-back-button`,class:"kern-btn kern-btn--secondary",onClick:i},[a[0]||(a[0]=oe("span",{class:"kern-icon kern-icon--arrow-back","aria-hidden":"true"},null,-1)),oe("span",rL,ze(o.$t(s=>s.returnToLayers,{ns:M(Ar)})),1)],8,tL),Ki(o.$slots,"default")]),_:3}))}}),nL={class:"kern-label",for:"polar-layer-chooser-legend-anchor"},iL=["href","aria-label"],oL=["src","alt"],aL=Ee({__name:"LayerLegend.ce",setup(r){const e=ia(),t=X(()=>e.layersWithLegends[e.openedLegendId]);return(n,i)=>(I(),xe(Ly,{identifier:"legend","id-name":"openedLegendId",class:"legend-card"},{default:tr(()=>[oe("label",nL,ze(n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)})),1),oe("a",{id:"polar-layer-chooser-legend-anchor",href:t.value.url,"aria-label":n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)}),target:"_blank"},[oe("img",{src:t.value.url,alt:n.$t(o=>o.legend.to,{name:t.value.name,ns:M(Ar)})},null,8,oL)],8,iL)]),_:1}))}}),sL=".legend-card[data-v-e248e19b]{overflow-y:scroll}",lL=Be(aL,[["styles",[sL]],["__scopeId","data-v-e248e19b"]]),cL={class:"kern-form-check"},uL=["id","name","value","type","disabled"],dL=["for"],hL=Ee({__name:"PolarInput.ce",props:Xi({idSuffix:{type:String},label:{type:String},type:{type:null},value:{type:String},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=Nn(r,"modelValue");return(t,n)=>(I(),ee("div",cL,[Qi(oe("input",{id:`polar-${r.type}-${r.value}-${r.idSuffix}`,"onUpdate:modelValue":n[0]||(n[0]=i=>e.value=i),class:it(`polar-input kern-form-check__${r.type}`),name:r.value,value:r.value,type:r.type,disabled:r.disabled},null,10,uL),[[xk,e.value]]),oe("label",{class:"polar-input kern-label",for:`polar-${r.type}-${r.value}-${r.idSuffix}`},ze(r.label),9,dL)]))}}),pL=".kern-form-check__radio[disabled],.kern-form-check__checkbox[disabled]{&[data-v-83635f17]:hover{border:var(--kern-metric-border-width-default) solid var(--kern-color-form-input-border)}}.kern-form-check__checkbox[disabled]{&[data-v-83635f17]:checked:hover:before{margin:var(--kern-metric-space-x-small)}}",qd=Be(hL,[["styles",[pL]],["__scopeId","data-v-83635f17"]]),gL={class:"kern-fieldset"},fL={class:"kern-label"},mL={class:"kern-fieldset__body"},yL=Ee({__name:"PolarInputGroup.ce",props:{legend:{type:String}},setup(r){return(e,t)=>(I(),ee("fieldset",gL,[oe("legend",fL,ze(r.legend),1),oe("div",mL,[Ki(e.$slots,"default",{},void 0,!0)])]))}}),vL=".kern-fieldset[data-v-69d29a6c]{width:100%}.kern-fieldset__body[data-v-69d29a6c]{width:100%;padding:var(--kern-metric-space-small) 0;gap:var(--kern-metric-space-small);border-radius:var(--kern-metric-border-radius-default);background-color:var(--kern-color-layout-background-hued)}.kern-label[data-v-69d29a6c]{padding-left:.75rem}[data-v-69d29a6c] .kern-form-check{align-items:center;gap:var(--kern-metric-space-large);margin-left:.75rem;padding-right:0}",zd=Be(yL,[["styles",[vL]],["__scopeId","data-v-69d29a6c"]]),kL=["src","alt"],bL=Ee({__name:"LayerOptions.ce",setup(r){const e=He(),t=ia(),{openedOptionsId:n}=ct(t),i=X(()=>t.layersWithOptions[n.value]),o=Me(i.value.map(({layerName:l})=>l).reverse()),a=X({get:()=>o.value,set:l=>{o.value=l,t.toggleOpenedOptionsServiceLayer(l)}}),s=X(()=>e.configuration.layers.find(({id:l})=>l===n.value)?.name||"");return(l,c)=>(I(),xe(Ly,{identifier:"options","id-name":"openedOptionsId"},{default:tr(()=>[Pr(zd,{legend:l.$t(u=>u.layerHeader,{ns:M(Ar),name:s.value})},{default:tr(()=>[(I(!0),ee(lt,null,Lt(i.value,({displayName:u,layerImage:d,layerName:h})=>(I(),ee("div",{key:`polar-layer-chooser-mask-options-checkbox-${h}`,class:"polar-layer-chooser-options-checkbox-wrapper"},[d?(I(),ee("img",{key:0,src:d,alt:h},null,8,kL)):Ke("",!0),Pr(qd,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=p=>a.value=p),"id-suffix":"polar-layer-chooser-mask-options",label:u,type:"checkbox",value:h,class:it(i.value.some(({layerImage:p})=>p!==null)?"polar-layer-chooser-options-checkbox":"")},null,8,["modelValue","label","value","class"])]))),128))]),_:1},8,["legend"])]),_:1}))}}),xL=".polar-layer-chooser-options-checkbox-wrapper[data-v-1ce80731]{display:flex;justify-content:flex-start;align-items:center;gap:var(--kern-metric-space-large)}.kern-form-check.polar-layer-chooser-options-checkbox[data-v-1ce80731]{margin-left:0}.kern-btn[data-v-1ce80731]{border:none;min-height:inherit;padding:var(--kern-metric-space-x-small)}.kern-label[data-v-1ce80731]{padding:0;padding-left:var(--kern-metric-space-small)}",wL=Be(bL,[["styles",[xL]],["__scopeId","data-v-1ce80731"]]),_L=["id","disabled"],TL={class:"kern-label kern-sr-only"},Gf=Ee({__name:"LegendButton.ce",props:{disabled:{type:Boolean},id:{type:String}},setup(r){return(e,t)=>(I(),ee("button",{id:`polar-layer-chooser-legend-${r.id}-button`,class:"kern-btn kern-btn--tertiary",disabled:r.disabled},[t[0]||(t[0]=oe("span",{class:"kern-icon kern-icon--info","aria-hidden":"true"},null,-1)),oe("span",TL,ze(e.$t(n=>n.legend.open,{ns:M(Ar)})),1)],8,_L))}}),CL=["id","disabled","onClick"],EL={class:"kern-label kern-sr-only"},ML=Ee({__name:"LayerSelection.ce",setup(r){const e=ia(),{activeBackgroundId:t,activeMaskIds:n,backgrounds:i,disabledBackgrounds:o,disabledMasks:a,layersWithOptions:s,masksSeparatedByType:l,openedLegendId:c,shownMasks:u}=ct(e),d=X(()=>Object.keys(e.layersWithLegends));function h(p){e.openedOptionsId=p}return(p,f)=>(I(),xe(Ic,null,{default:tr(()=>[M(i).length?(I(),xe(zd,{key:0,legend:p.$t(y=>y.backgroundTitle,{ns:M(Ar)})},{default:tr(()=>[(I(!0),ee(lt,null,Lt(M(i),({name:y,id:m})=>(I(),ee("div",{key:`polar-layer-chooser-background-radio-${m}`,class:"polar-layer-chooser-input-wrapper"},[Pr(qd,{modelValue:M(t),"onUpdate:modelValue":f[0]||(f[0]=b=>Zu(t)?t.value=b:null),"id-suffix":"polar-layer-chooser-background",label:y,type:"radio",value:m,disabled:M(o)[m]},null,8,["modelValue","label","value","disabled"]),d.value.includes(m)?(I(),xe(Gf,{key:0,id:m,disabled:M(o)[m],onClick:b=>c.value=m},null,8,["id","disabled","onClick"])):Ke("",!0)]))),128))]),_:1},8,["legend"])):Ke("",!0),M(u).length?(I(!0),ee(lt,{key:1},Lt(Object.entries(M(l)),([y,m])=>(I(),xe(zd,{key:`polar-layer-chooser-mask-${y}`,legend:p.$t(b=>b[`${y}Title`],{ns:M(Ar)})},{default:tr(()=>[(I(!0),ee(lt,null,Lt(m,({name:b,id:k})=>(I(),ee("div",{key:`polar-layer-chooser-mask-${y}-checkbox-${k}`,class:"polar-layer-chooser-input-wrapper"},[Pr(qd,{modelValue:M(n),"onUpdate:modelValue":f[1]||(f[1]=C=>Zu(n)?n.value=C:null),"id-suffix":`polar-layer-chooser-mask-${y}`,label:b,type:"checkbox",value:k,disabled:M(a)[k]},null,8,["modelValue","id-suffix","label","value","disabled"]),Object.keys(M(s)).includes(k)?(I(),ee("button",{key:0,id:`polar-layer-chooser-options-${k}-button`,class:"kern-btn kern-btn--tertiary",disabled:M(a)[k],onClick:()=>h(k)},[f[2]||(f[2]=oe("span",{class:"kern-icon kern-icon-fill--settings","aria-hidden":"true"},null,-1)),oe("span",EL,ze(p.$t(C=>C.layerOptions,{ns:M(Ar)})),1)],8,CL)):d.value.includes(k)?(I(),xe(Gf,{key:1,id:k,disabled:M(a)[k],onClick:C=>c.value=k},null,8,["id","disabled","onClick"])):Ke("",!0)]))),128))]),_:2},1032,["legend"]))),128)):Ke("",!0)]),_:1}))}}),SL=".polar-layer-chooser-input-wrapper[data-v-791087ff]{display:flex;justify-content:space-between;align-items:center;gap:var(--kern-metric-space-large)}.kern-btn[data-v-791087ff]{width:var(--kern-metric-dimension-large);min-height:var(--kern-metric-dimension-large);border:none;border-radius:50%}",LL=Be(ML,[["styles",[SL]],["__scopeId","data-v-791087ff"]]),IL=Ee({__name:"LayerChooser.ce",setup(r){const e=ia(),t=X(()=>e.openedLegendId.length!==0),n=X(()=>e.openedOptionsId.length===0&&!t.value);return(i,o)=>n.value?(I(),xe(LL,{key:0})):t.value?(I(),xe(lL,{key:1})):(I(),xe(wL,{key:2}))}}),AL={backgroundTitle:"Hintergrundkarten",maskTitle:"Fachdaten",layerHeader:'Auswahl sichtbarer Ebenen fr Layer "{{name}}"',layerOptions:"Optionen fr Kartenmaterial",legend:{title:"Legende",to:'Legendenbild zu "{{name}}"',open:`$t(legend.to, {ns: ${Ar}}) ffnen`},returnToLayers:"Zurck"},PL={backgroundTitle:"Background maps",maskTitle:"Subject data",layerHeader:'Visible layer selection for layer "{{name}}"',layerOptions:"Map data options",legend:{title:"Legend",to:'"{{name}}" legend image',open:`Open $t(legend.to, {ns: ${Ar}})`},returnToLayers:"Back"},NL=[{type:"de",resources:AL},{type:"en",resources:PL}];function kN(r){return{id:Ar,component:IL,icon:"kern-icon-fill--layers",locales:NL,storeModule:ia,options:r}}let vp=class Iy extends $o{constructor(e,t,n){super(),n!==void 0&&t===void 0?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new Iy(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){const o=this.flatCoordinates,a=e-o[0],s=t-o[1],l=a*a+s*s;if(l<i){if(l===0)for(let c=0;c<this.stride;++c)n[c]=o[c];else{const c=this.getRadius()/Math.sqrt(l);n[0]=o[0]+c*a,n[1]=o[1]+c*s;for(let u=2;u<this.stride;++u)n[u]=o[u]}return n.length=this.stride,l}return i}containsXY(e,t){const n=this.flatCoordinates,i=e-n[0],o=t-n[1];return i*i+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return qo(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(zo(e,t)){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]?!0:Wb(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],i=e.slice();i[t]=i[0]+n;for(let o=1;o<t;++o)i[t+o]=e[o];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let o=Kb(i,0,e,this.stride);i[o++]=i[0]+t;for(let a=1,s=this.stride;a<s;++a)i[o++]=i[a];i.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),i=this.getStride();this.setCenter(Qb(n,0,n.length,i,e,t,n)),this.changed()}};vp.prototype.transform;function li(r,e){const t=r.length;return e<0?r[e+t]:e>=t?r[e-t]:r[e]}function Co(r,e){const t=r.length;let n=Math.floor(e);const i=e-n;n>=t?n-=t:n<0&&(n+=t);let o=n+1;o>=t&&(o-=t);const a=r[n],s=a[0],l=a[1],c=r[o],u=c[0]-s,d=c[1]-l;return[s+u*i,l+d*i]}const Bs={index:-1,endIndex:NaN,closestTargetDistance:1/0};function Ay(r,e,t,n){const i=r[0],o=r[1];let a=1/0,s=-1,l=NaN;for(let d=0;d<e.targets.length;++d){const h=e.targets[d],p=h.coordinates;let f=1/0,y;for(let m=0;m<p.length-1;++m){const b=p[m],k=p[m+1],C=Dy(i,o,b,k);C.squaredDistance<f&&(f=C.squaredDistance,y=m+C.along)}f<a&&(a=f,h.ring&&e.targetIndex===d&&(h.endIndex>h.startIndex?y<h.startIndex&&(y+=p.length):h.endIndex<h.startIndex&&y>h.startIndex&&(y-=p.length)),l=y,s=d)}const c=e.targets[s];let u=c.ring;if(e.targetIndex===s&&u){const d=Co(c.coordinates,l),h=t.getPixelFromCoordinate(d),p=t.getPixelFromCoordinate(e.startCoord);bo(h,p)>n&&(u=!1)}if(u){const d=c.coordinates,h=d.length,p=c.startIndex,f=l;if(p<f){const y=Zs(d,p,f);Zs(d,p,f-h)<y&&(l-=h)}else{const y=Zs(d,p,f);Zs(d,p,f+h)<y&&(l+=h)}}return Bs.index=s,Bs.endIndex=l,Bs.closestTargetDistance=a,Bs}function Py(r,e){const t=[];for(let n=0;n<e.length;++n){const i=e[n].getGeometry();Ny(r,i,t)}return t}function Ny(r,e,t){if(e instanceof Gr){Vs(r,e.getCoordinates(),!1,t);return}if(e instanceof eo){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i)Vs(r,n[i],!1,t);return}if(e instanceof Vr){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i)Vs(r,n[i],!0,t);return}if(e instanceof to){const n=e.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length;s<l;++s)Vs(r,a[s],!0,t)}return}if(e instanceof h0){const n=e.getGeometries();for(let i=0;i<n.length;++i)Ny(r,n[i],t);return}}function Vs(r,e,t,n){const i=r[0],o=r[1];for(let a=0,s=e.length-1;a<s;++a){const l=e[a],c=e[a+1],u=Dy(i,o,l,c);if(u.squaredDistance===0){const d=a+u.along;n.push({coordinates:e,ring:t,startIndex:d,endIndex:d});return}}}function Hs(r,e){return th(r[0],r[1],e[0],e[1])}function Zs(r,e,t){let n,i;e<t?(n=e,i=t):(n=t,i=e);const o=Math.ceil(n),a=Math.floor(i);if(o>a){const l=Co(r,n),c=Co(r,i);return Hs(l,c)}let s=0;if(n<o){const l=Co(r,n),c=li(r,o);s+=Hs(l,c)}if(a<i){const l=li(r,a),c=Co(r,i);s+=Hs(l,c)}for(let l=o;l<a-1;++l){const c=li(r,l),u=li(r,l+1);s+=Hs(c,u)}return s}const Au={along:0,squaredDistance:0};function Dy(r,e,t,n){const i=t[0],o=t[1],a=n[0],s=n[1],l=a-i,c=s-o;let u=0,d=i,h=o;return(l!==0||c!==0)&&(u=nh(((r-i)*l+(e-o)*c)/(l*l+c*c),0,1),d+=l*u,h+=c*u),Au.along=u,Au.squaredDistance=c2(th(r,e,d,h),10),Au}const Ys={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Ws extends Nr{constructor(e,t){super(e),this.feature=t}}class DL extends vi{constructor(e){const t=e;t.stopDown||(t.stopDown=Ho),super(t),this.on,this.once,this.un,this.options_=e,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=RL(this.type_),this.stopClick_=!!e.stopClick,this.ignoreNextUpEvent_=!1,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:gn,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const i=this.mode_;if(i==="Circle")n=(o,a,s)=>{const l=a||new vp([NaN,NaN]),c=Gt(o[0]),u=vl(c,Gt(o[o.length-1]));return l.setCenterAndRadius(c,Math.sqrt(u),this.geometryLayout_),l};else{let o;i==="Point"?o=Vt:i==="LineString"?o=Gr:i==="Polygon"&&(o=Vr),n=(a,s,l)=>(s?i==="Polygon"?a[0].length?s.setCoordinates([a[0].concat([a[0][0]])],this.geometryLayout_):s.setCoordinates([],this.geometryLayout_):s.setCoordinates(a,this.geometryLayout_):s=new o(a,this.geometryLayout_),s)}}this.geometryFunction_=n,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ur({source:new cr({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:OL(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:_h,this.freehandCondition_,e.freehand?this.freehandCondition_=Ri:this.freehandCondition_=e.freehandCondition?e.freehandCondition:_l,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(xl.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=Ri:t=e:t=wl,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}setFreehand(e){this.freehand_=e,this.freehand_?this.freehandCondition_=Ri:this.freehandCondition_=this.options_&&this.options_.freehandCondition?this.options_.freehandCondition:_l}getOverlay(){return this.overlay_}getFreehand(){return this.freehand_}handleEvent(e){e.originalEvent.type===Ne.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===Ue.POINTERMOVE,n=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Ue.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Ue.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===Ue.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===Ue.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===Ue.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===Ue.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new xn(Ue.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),n=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),i=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=Kt([n,i]),a=this.traceSource_.getFeaturesInExtent(o);if(a.length===0)return;const s=Py(e.coordinate,a);s.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:s,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex,i=e.startIndex<=t;n===i?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const i=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),n=o-i+1}else{const i=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),n=i-o+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const i=[];if(t<n){const o=Math.ceil(t);let a=Math.floor(n);a===n&&(a-=1);for(let s=o;s<=a;++s)i.push(li(e.coordinates,s))}else{const o=Math.floor(t);let a=Math.ceil(n);a===n&&(a+=1);for(let s=o;s>=a;--s)i.push(li(e.coordinates,s))}i.length&&this.appendCoordinates(i)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(t.targetIndex===-1){const s=e.map.getPixelFromCoordinate(t.startCoord);if(bo(s,e.pixel)<this.snapTolerance_)return}const n=Ay(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const s=t.targets[n.index];this.addTracedCoordinates_(s,s.startIndex,n.endIndex)}else{const s=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(s,n.endIndex)}t.targetIndex=n.index;const i=t.targets[t.targetIndex];i.endIndex=n.endIndex;const o=Co(i.coordinates,i.endIndex),a=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(a[0]),Math.round(a[1])]}handleDragEvent(e){this.ignoreNextUpEvent_=!0,super.handleDragEvent(e)}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.ignoreNextUpEvent_||this.toggleTraceState_(e),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(e.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_==="Point")&&(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return this.ignoreNextUpEvent_=!1,!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,i=t[0]-n[0],o=t[1]-n[1],a=i*i+o*o;if(this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let i=!1,o=[this.finishCoordinate_];const a=this.mode_;if(a==="Point")n=!0;else if(a==="Circle")n=this.sketchCoords_.length===2;else if(a==="LineString")i=!t&&this.sketchCoords_.length>this.minPoints_;else if(a==="Polygon"){const s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]],t?o=[s[0][0]]:o=[s[0][0],s[0][s[0].length-2]]}if(i){const s=this.getMap();for(let l=0,c=o.length;l<c;l++){const u=o[l],d=s.getPixelFromCoordinate(u),h=e[0]-d[0],p=e[1]-d[1],f=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(h*h+p*p)<=f,n){this.finishCoordinate_=u;break}}}}return n}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new jt(new Vt(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new jt);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new Gr(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=ug(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new jt(new Gr(this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new jt,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new Ws(Ys.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),i=t.getView().getProjection(),o=ug(this.geometryLayout_);let a,s;for(;e.length<o;)e.push(0);this.mode_==="Point"?s=this.sketchCoords_:this.mode_==="Polygon"?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),n.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,o;const a=this.mode_;return a==="LineString"||a==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),this.geometryFunction_(o,t,n)):a==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():i=!0),o.push(e.slice()),i&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let o=0;o<e;++o){let a;if(i==="LineString"||i==="Circle"){if(a=this.sketchCoords_,a.splice(-2,1),a.length>=2){this.finishCoordinate_=a[a.length-2].slice();const s=this.finishCoordinate_.slice();a[a.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(a,t,n),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(i==="Polygon"){a=this.sketchCoords_[0],a.splice(-2,1);const s=this.sketchLine_.getGeometry();if(a.length>=2){const l=a[a.length-2].slice();a[a.length-1]=l,this.createOrUpdateSketchPoint_(l)}s.setCoordinates(a),this.geometryFunction_(this.sketchCoords_,t,n)}if(a.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_;const n=e.getGeometry(),i=this.getMap().getView().getProjection();return this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,n,i)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,n,i),t=n.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Wo([t])):this.type_==="MultiLineString"?e.setGeometry(new eo([t])):this.type_==="MultiPolygon"&&e.setGeometry(new to([t])),this.dispatchEvent(new Ws(Ys.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Ws(Ys.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;n&&this.startDrawing_(e[0]);let i;if(t==="LineString"||t==="Circle")i=this.sketchCoords_;else if(t==="Polygon")i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;n&&i.shift(),i.pop();for(let a=0;a<e.length;a++)this.addToDrawing_(e[a]);const o=e[e.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new jt(new Vt(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Ws(Ys.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function OL(){const r=sh();return function(e,t){return r[e.getGeometry().getType()]}}function RL(r){switch(r){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+r)}}const Bf=0,Ta=1,Vf=[0,0,0,0],Ao=[],Pu={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};function Nu(r,e,t){let n;switch(e){case"LineString":n=r;break;case"MultiLineString":case"Polygon":n=r[t[0]];break;case"MultiPolygon":n=r[t[1]][t[0]];break}return n}class Du extends Nr{constructor(e,t,n){super(e),this.features=t,this.mapBrowserEvent=n}}class FL extends vi{constructor(e){if(super(e),this.handleSourceAdd_=this.handleSourceAdd_.bind(this),this.handleSourceRemove_=this.handleSourceRemove_.bind(this),this.handleExternalCollectionAdd_=this.handleExternalCollectionAdd_.bind(this),this.handleExternalCollectionRemove_=this.handleExternalCollectionRemove_.bind(this),this.handleFeatureChange_=this.handleFeatureChange_.bind(this),this.on,this.once,this.un,this.condition_=e.condition?e.condition:T0,this.defaultDeleteCondition_=function(n){return yx(n)&&w0(n)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Ri,this.vertexFeature_=null,this.vertexSegments_=null,this.lastCoordinate_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new ed,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ur({source:new cr({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:qL(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.traceSource_=e.traceSource||e.source||null,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSegments_=null,this.hitDetection_=null,this.filterFunctionWasSupplied_=e.filter!=null,this.filter_=e.filter?e.filter:()=>!0,!(e.features||e.source))throw new Error("The modify interaction requires features collection or a source");let t;e.features?(t=e.features.getArray(),e.features.addEventListener(wt.ADD,this.handleExternalCollectionAdd_),e.features.addEventListener(wt.REMOVE,this.handleExternalCollectionRemove_),this.featuresCollection_=e.features):e.source&&(t=e.source.getFeatures(),e.source.addEventListener(Wt.ADDFEATURE,this.handleSourceAdd_),e.source.addEventListener(Wt.REMOVEFEATURE,this.handleSourceRemove_),this.source_=e.source),t.forEach(n=>{n.addEventListener(Ne.CHANGE,this.handleFeatureChange_),this.filterFunctionWasSupplied_&&n.addEventListener(en.PROPERTYCHANGE,this.handleFeatureChange_)}),e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=[],t.filter(this.filter_).forEach(n=>this.addFeature_(n)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}setTrace(e){let t;e?e===!0?t=Ri:t=e:t=wl,this.traceCondition_=t}addFeature_(e){this.features_.push(e);const t=e.getGeometry();if(t){const i=this.SEGMENT_WRITERS_[t.getType()];i&&i(e,t)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastCoordinate_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Bt;const n=this.featuresBeingModified_.getArray();for(let i=0,o=t.length;i<o;++i){const a=t[i].feature;a&&!n.includes(a)&&this.featuresBeingModified_.push(a)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new Du(Pu.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){const t=this.features_.indexOf(e);this.features_.splice(t,1),this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.length===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}removeFeatureSegmentData_(e){const t=this.rBush_,n=[];t.forEach(function(i){e===i.feature&&n.push(i)});for(let i=n.length-1;i>=0;--i){const o=n[i];for(let a=this.dragSegments_.length-1;a>=0;--a)this.dragSegments_[a][0]===o&&this.dragSegments_.splice(a,1);t.remove(o)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){const t=e.feature;t&&this.externalAddFeatureHandler_(t)}handleSourceRemove_(e){const t=e.feature;t&&this.externalRemoveFeatureHandler_(t)}handleExternalCollectionAdd_(e){const t=e.element;t&&this.externalAddFeatureHandler_(t)}handleExternalCollectionRemove_(e){const t=e.element;t&&this.externalRemoveFeatureHandler_(t)}externalAddFeatureHandler_(e){e.addEventListener(Ne.CHANGE,this.handleFeatureChange_),this.filterFunctionWasSupplied_&&e.addEventListener(en.PROPERTYCHANGE,this.handleFeatureChange_),this.filter_(e)&&this.addFeature_(e)}externalRemoveFeatureHandler_(e){e.removeEventListener(Ne.CHANGE,this.handleFeatureChange_),this.filterFunctionWasSupplied_&&e.removeEventListener(en.PROPERTYCHANGE,this.handleFeatureChange_),this.removeFeature_(e)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.filter_(t)&&this.addFeature_(t)}}writePointGeometry_(e,t){const n=t.getCoordinates(),i={feature:e,geometry:t,segment:[n,n]};this.rBush_.insert(t.getExtent(),i)}writeMultiPointGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i],s={feature:e,geometry:t,depth:[i],index:i,segment:[a,a]};this.rBush_.insert(t.getExtent(),s)}}writeLineStringGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length-1;i<o;++i){const a=n.slice(i,i+2),s={feature:e,geometry:t,index:i,segment:a};this.rBush_.insert(Kt(a),s)}}writeMultiLineStringGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length-1;s<l;++s){const c=a.slice(s,s+2),u={feature:e,geometry:t,depth:[i],index:s,segment:c};this.rBush_.insert(Kt(c),u)}}}writePolygonGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length-1;s<l;++s){const c=a.slice(s,s+2),u={feature:e,geometry:t,depth:[i],index:s,segment:c};this.rBush_.insert(Kt(c),u)}}}writeMultiPolygonGeometry_(e,t){const n=t.getCoordinates();for(let i=0,o=n.length;i<o;++i){const a=n[i];for(let s=0,l=a.length;s<l;++s){const c=a[s];for(let u=0,d=c.length-1;u<d;++u){const h=c.slice(u,u+2),p={feature:e,geometry:t,depth:[s,i],index:u,segment:h};this.rBush_.insert(Kt(h),p)}}}}writeCircleGeometry_(e,t){const n=t.getCenter(),i={feature:e,geometry:t,index:Bf,segment:[n,n]},o={feature:e,geometry:t,index:Ta,segment:[n,n]},a=[i,o];i.featureSegments=a,o.featureSegments=a,this.rBush_.insert(nl(n),i);let s=t;this.rBush_.insert(s.getExtent(),o)}writeGeometryCollectionGeometry_(e,t){const n=t.getGeometriesArray();for(let i=0;i<n.length;++i){const o=n[i],a=this.SEGMENT_WRITERS_[o.getType()];a(e,o)}}createOrUpdateVertexFeature_(e,t,n,i){let o=this.vertexFeature_;return o?o.getGeometry().setCoordinates(e):(o=new jt(new Vt(e)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o)),o.set("features",t),o.set("geometries",n),o.set("existing",i),o}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==Ue.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Ue.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==Ue.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}findInsertVerticesAndUpdateDragSegments_(e){if(this.handlePointerAtPixel_(e),this.dragSegments_.length=0,this.featuresBeingModified_=null,!this.vertexFeature_)return;this.getMap().getView().getProjection();const t=[],n=this.vertexFeature_.getGeometry().getCoordinates(),i=Kt([n]),o=this.rBush_.getInExtent(i),a={};o.sort(jL);for(let s=0,l=o.length;s<l;++s){const c=o[s],u=c.segment;let d=Ge(c.geometry);const h=c.depth;if(h&&(d+="-"+h.join("-")),a[d]||(a[d]=new Array(2)),c.geometry.getType()==="Circle"&&c.index===Ta){const p=Zf(e,c);Rr(p,n)&&!a[d][0]&&(this.dragSegments_.push([c,0]),a[d][0]=c);continue}if(Rr(u[0],n)&&!a[d][0]){this.dragSegments_.push([c,0]),a[d][0]=c;continue}if(Rr(u[1],n)&&!a[d][1]){if(a[d][0]&&a[d][0].index===0){let p=c.geometry.getCoordinates();switch(c.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":p=p[h[1]];case"Polygon":if(c.index!==p[h[0]].length-2)continue;break}}this.dragSegments_.push([c,1]),a[d][1]=c;continue}Ge(u)in this.vertexSegments_&&!a[d][0]&&!a[d][1]&&t.push(c)}return t}deactivateTrace_(){this.traceState_={active:!1}}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(t.targetIndex===-1){const o=e.map.getPixelFromCoordinate(t.startCoord);if(bo(o,e.pixel)<this.pixelTolerance_)return}const n=Ay(e.coordinate,t,e.map,this.pixelTolerance_);if(t.targetIndex===-1&&Math.sqrt(n.closestTargetDistance)/e.map.getView().getResolution()>this.pixelTolerance_)return;if(t.targetIndex!==n.index){if(t.targetIndex!==-1){const a=t.targets[t.targetIndex];this.removeTracedCoordinates_(a.startIndex,a.endIndex)}else for(const a of this.traceSegments_){const s=a[0],l=s.geometry,c=a[1],u=l.getCoordinates();Nu(u,l.getType(),s.depth).splice(s.index+c,1),l.setCoordinates(u),c===0&&(s.index-=1)}const o=t.targets[n.index];this.addTracedCoordinates_(o,o.startIndex,n.endIndex)}else{const o=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(o,n.endIndex)}t.targetIndex=n.index;const i=t.targets[t.targetIndex];i.endIndex=n.endIndex}getTraceCandidates_(e){const t=this.getMap(),n=this.pixelTolerance_,i=t.getCoordinateFromPixel([e.pixel[0]-n,e.pixel[1]+n]),o=t.getCoordinateFromPixel([e.pixel[0]+n,e.pixel[1]-n]),a=Kt([i,o]);return this.traceSource_.getFeaturesInExtent(a)}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_(),this.traceSegments_=null;return}const t=this.getTraceCandidates_(e);if(t.length===0)return;const n=Py(e.coordinate,t);n.length&&(this.traceState_={active:!0,startCoord:e.coordinate.slice(),targets:n,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex,i=e.startIndex<=t;n===i?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const i=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),n=o-i+1}else{const i=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),n=i-o+1}if(n>0)for(const i of this.traceSegments_){const o=i[0],a=o.geometry,s=i[1];let l=i[0].index+1;s===1&&(l-=n);const c=a.getCoordinates();Nu(c,a.getType(),o.depth).splice(l,n),a.setCoordinates(c),s===1&&(o.index-=n)}}addTracedCoordinates_(e,t,n){if(t===n)return;const i=[];if(t<n){const o=Math.ceil(t);let a=Math.floor(n);a===n&&(a-=1);for(let s=o;s<=a;++s)i.push(li(e.coordinates,s))}else{const o=Math.floor(t);let a=Math.ceil(n);a===n&&(a+=1);for(let s=o;s>=a;--s)i.push(li(e.coordinates,s))}if(i.length)for(const o of this.traceSegments_){const a=o[0],s=a.geometry,l=o[1],c=a.index+1;l===0&&i.reverse();const u=s.getCoordinates();Nu(u,s.getType(),a.depth).splice(c,0,...i),s.setCoordinates(u),l===1&&(a.index+=i.length)}}updateGeometry_(e,t){const n=t[0],i=n.depth;let o;const a=n.segment,s=n.geometry,l=t[1];for(;e.length<s.getStride();)e.push(a[l][e.length]);switch(s.getType()){case"Point":o=e,a[0]=e,a[1]=e;break;case"MultiPoint":o=s.getCoordinates(),o[n.index]=e,a[0]=e,a[1]=e;break;case"LineString":o=s.getCoordinates(),o[n.index+l]=e,a[l]=e;break;case"MultiLineString":o=s.getCoordinates(),o[i[0]][n.index+l]=e,a[l]=e;break;case"Polygon":{o=s.getCoordinates();const u=o[i[0]],d=n.index+l;u[d][0]===e[0]&&u[d][1]===e[1]?o=null:(u[d]=e,d===0?u[u.length-1]=e:d===u.length-1&&(u[0]=e)),a[l]=e;break}case"MultiPolygon":{o=s.getCoordinates();const u=o[i[1]][i[0]],d=n.index+l;u[d][0]===e[0]&&u[d][1]===e[1]?o=null:(u[d]=e,d===0?u[u.length-1]=e:d===u.length-1&&(u[0]=e)),a[l]=e;break}case"Circle":const c=s;if(a[0]=e,a[1]=e,n.index===Bf)this.changingFeature_=!0,c.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0,this.getMap().getView().getProjection();let u=bo(Gt(c.getCenter()),Gt(e));c.setRadius(u),this.changingFeature_=!1}break}o&&this.setGeometryCoordinates_(s,o)}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_.map(([a])=>a));const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],n=[],i=[],o=this.traceState_.active&&!this.traceSegments_?this.traceState_.startCoord:null;if(o){this.traceSegments_=[];for(const a of this.dragSegments_){const s=a[0];bo(Qm(o,s.segment),o)/e.map.getView().getResolution()<1&&this.traceSegments_.push(a)}}for(let a=0,s=this.dragSegments_.length;a<s;++a){const l=this.dragSegments_[a],c=l[0],u=c.feature;n.includes(u)||n.push(u);const d=c.geometry;i.includes(d)||i.push(d),this.updateGeometry_(t,l)}this.updateTrace_(e),this.createOrUpdateVertexFeature_(t,n,i,!0)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate,n=this.findInsertVerticesAndUpdateDragSegments_(t);if(n?.length&&this.insertVertexCondition_(e)&&(this.willModifyFeatures_(e,n),this.vertexFeature_)){const i=this.vertexFeature_.getGeometry().getCoordinates();for(let o=n.length-1;o>=0;--o)this.insertVertex_(n[o],i);this.ignoreNextSingleClick_=!0}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const n=this.dragSegments_[t][0],i=n.geometry;if(i.getType()==="Circle"){const o=i,a=o.getCenter(),s=n.featureSegments[0],l=n.featureSegments[1];s.segment[0]=a,s.segment[1]=a,l.segment[0]=a,l.segment[1]=a,this.rBush_.update(nl(a),s);let c=o;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(Kt(n.segment),n)}return this.featuresBeingModified_&&(this.toggleTraceState_(e),this.dispatchEvent(new Du(Pu.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastCoordinate_=e.coordinate,this.handlePointerAtPixel_(this.lastCoordinate_)}handlePointerAtPixel_(e){const t=this.getMap(),n=t.getPixelFromCoordinate(e);t.getView().getProjection();const i=function(s,l){return Hf(e,s)-Hf(e,l)};let o,a;if(this.hitDetection_){const s=typeof this.hitDetection_=="object"?l=>l===this.hitDetection_:void 0;t.forEachFeatureAtPixel(n,(l,c,u)=>{u&&u.getType()==="Point"&&(u=new Vt(Oa(u.getCoordinates())));const d=u||l.getGeometry();if(d&&d.getType()==="Point"&&l instanceof jt&&this.features_.includes(l)){a=d;const h=l.getGeometry().getFlatCoordinates().slice(0,2);o=[{feature:l,geometry:a,segment:[h,h]}]}return!0},{layerFilter:s})}if(!o){const s=hl(nl(e,Vf)),l=t.getView().getResolution()*this.pixelTolerance_,c=_m(ui(s,l,Vf));o=this.rBush_.getInExtent(c)}if(o&&o.length>0){const s=o.sort(i)[0],l=s.segment;let c=Zf(e,s);const u=t.getPixelFromCoordinate(c);let d=bo(n,u);if(a||d<=this.pixelTolerance_){const h={};if(h[Ge(l)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-e[0],this.delta_[1]=c[1]-e[1]),s.geometry.getType()==="Circle"&&s.index===Ta)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[s.feature],[s.geometry],this.snappedToVertex_);else{const p=t.getPixelFromCoordinate(l[0]),f=t.getPixelFromCoordinate(l[1]),y=vl(u,p),m=vl(u,f);if(d=Math.sqrt(Math.min(y,m)),this.snappedToVertex_=d<=this.pixelTolerance_,!this.snappedToVertex_&&!this.insertVertexCondition_(this.lastPointerEvent_)){this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);return}this.snappedToVertex_&&(c=y>m?l[1]:l[0]),this.createOrUpdateVertexFeature_(c,[s.feature],[s.geometry],this.snappedToVertex_);const b={};b[Ge(s.geometry)]=!0;for(let k=1,C=o.length;k<C;++k){const T=o[k].segment;if(Rr(l[0],T[0])&&Rr(l[1],T[1])||Rr(l[0],T[1])&&Rr(l[1],T[0])){const E=Ge(o[k].geometry);E in b||(b[E]=!0,h[Ge(T)]=!0)}else break}}this.vertexSegments_=h;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;let l;for(;t.length<o.getStride();)t.push(0);switch(o.getType()){case"MultiLineString":l=o.getCoordinates(),l[a[0]].splice(s+1,0,t);break;case"Polygon":l=o.getCoordinates(),l[a[0]].splice(s+1,0,t);break;case"MultiPolygon":l=o.getCoordinates(),l[a[1]][a[0]].splice(s+1,0,t);break;case"LineString":l=o.getCoordinates(),l.splice(s+1,0,t);break;default:return!1}this.setGeometryCoordinates_(o,l);const c=this.rBush_;c.remove(e),this.updateSegmentIndices_(o,s,a,1);const u={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};c.insert(Kt(u.segment),u),this.dragSegments_.push([u,1]);const d={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};return c.insert(Kt(d.segment),d),this.dragSegments_.push([d,0]),!0}updatePointer_(e){return e&&this.findInsertVerticesAndUpdateDragSegments_(e),this.vertexFeature_?.getGeometry().getCoordinates()}getPoint(){const e=this.vertexFeature_?.getGeometry().getCoordinates();return e?Oa(e,this.getMap().getView().getProjection()):null}canRemovePoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(t=>t.getType()==="Circle"||t.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Kt([e])).some(({segment:t})=>Rr(t[0],e)||Rr(t[1],e))}removePoint(e){if(e&&(e=Gt(e,this.getMap().getView().getProjection()),this.updatePointer_(e)),!this.lastPointerEvent_||this.lastPointerEvent_&&this.lastPointerEvent_.type!=Ue.POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_.map(([i])=>i));const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Du(Pu.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,t={};let n=!1,i,o,a,s,l,c,u,d,h,p,f;for(l=e.length-1;l>=0;--l)a=e[l],p=a[0],f=Ge(p.feature),p.depth&&(f+="-"+p.depth.join("-")),f in t||(t[f]={}),a[1]===0?(t[f].right=p,t[f].index=p.index):a[1]==1&&(t[f].left=p,t[f].index=p.index+1);for(f in t){switch(h=t[f].right,u=t[f].left,c=t[f].index,d=c-1,u!==void 0?p=u:p=h,d<0&&(d=0),s=p.geometry,o=s.getCoordinates(),i=o,n=!1,s.getType()){case"MultiLineString":o[p.depth[0]].length>2&&(o[p.depth[0]].splice(c,1),n=!0);break;case"LineString":o.length>2&&(o.splice(c,1),n=!0);break;case"MultiPolygon":i=i[p.depth[1]];case"Polygon":i=i[p.depth[0]],i.length>4&&(c==i.length-1&&(c=0),i.splice(c,1),n=!0,c===0&&(i.pop(),i.push(i[0]),d=i.length-1));break}if(n){this.setGeometryCoordinates_(s,o);const y=[];if(u!==void 0&&(this.rBush_.remove(u),y.push(u.segment[0])),h!==void 0&&(this.rBush_.remove(h),y.push(h.segment[1])),u!==void 0&&h!==void 0){const m={depth:p.depth,feature:p.feature,geometry:p.geometry,index:d,segment:y};this.rBush_.insert(Kt(m.segment),m)}this.updateSegmentIndices_(s,c,p.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return n}canInsertPoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(t=>t.getType()==="Circle"||t.getType().endsWith("Point")))return!1;const e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Kt([e])).some(({segment:t})=>!(Rr(t[0],e)||Rr(t[1],e)))}insertPoint(e){const t=e?Gt(e,this.getMap().getView().getProjection()):this.vertexFeature_?.getGeometry().getCoordinates();return t?this.findInsertVerticesAndUpdateDragSegments_(t).reduce((n,i)=>n||this.insertVertex_(i,t),!1):!1}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,n,i){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(n===void 0||o.depth===void 0||ec(o.depth,n))&&o.index>t&&(o.index+=i)})}disposeInternal(){if(super.disposeInternal(),this.featuresCollection_){this.featuresCollection_.removeEventListener(wt.ADD,this.handleExternalCollectionAdd_),this.featuresCollection_.removeEventListener(wt.REMOVE,this.handleExternalCollectionRemove_);for(const e of this.featuresCollection_.getArray())e.removeEventListener(Ne.CHANGE,this.handleFeatureChange_),this.filterFunctionWasSupplied_&&e.removeEventListener(en.PROPERTYCHANGE,this.handleFeatureChange_)}else if(this.source_){this.source_.removeEventListener(Wt.ADDFEATURE,this.handleSourceAdd_),this.source_.removeEventListener(Wt.REMOVEFEATURE,this.handleSourceRemove_);for(const e of this.source_.getFeatures())e.removeEventListener(Ne.CHANGE,this.handleFeatureChange_),this.filterFunctionWasSupplied_&&e.removeEventListener(en.PROPERTYCHANGE,this.handleFeatureChange_)}}}function jL(r,e){return r.index-e.index}function Hf(r,e,t){const n=e.geometry;if(n.getType()==="Circle"){let o=n;if(e.index===Ta){const a=vl(o.getCenter(),Gt(r)),s=Math.sqrt(a)-o.getRadius();return s*s}}const i=Gt(r);return Ao[0]=Gt(e.segment[0]),Ao[1]=Gt(e.segment[1]),Xb(i,Ao)}function Zf(r,e,t){const n=e.geometry;if(n.getType()==="Circle"&&e.index===Ta)return Oa(n.getClosestPoint(Gt(r)));const i=Gt(r);return Ao[0]=Gt(e.segment[0]),Ao[1]=Gt(e.segment[1]),Oa(Qm(i,Ao))}function qL(){const r=sh();return function(e,t){return r.Point}}const Ks={SELECT:"select"};let Qs=class extends Nr{constructor(e,t,n,i){super(e),this.selected=t,this.deselected=n,this.mapBrowserEvent=i}};const Xs={};class kp extends Qo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:w0,this.addCondition_=e.addCondition?e.addCondition:wl,this.removeCondition_=e.removeCondition?e.removeCondition:wl,this.toggleCondition_=e.toggleCondition?e.toggleCondition:_l,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:gn,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:zL(),this.features_=e.features||new Bt;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const n=e.layers;t=function(i){return n.includes(i)}}else t=gn;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[Ge(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[Ge(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(wt.ADD,this.boundAddFeature_),this.features_.addEventListener(wt.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(wt.ADD,this.boundAddFeature_),this.features_.removeEventListener(wt.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const n=this.findLayerOfFeature_(t);n&&this.addFeatureLayerAssociation_(t,n)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element),this.removeFeatureLayerAssociation_(e.element)}findLayerOfFeature_(e){return this.getMap().getAllLayers().find(function(t){if(t instanceof ur&&t.getSource()&&t.getSource().hasFeature(e))return t})}getStyle(){return this.style_}applySelectedStyle_(e){const t=Ge(e);t in Xs||(Xs[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let i=t.length-1;i>=0;--i){const o=t[i];if(o!==this&&o instanceof kp&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(o.getStyle());return}}const n=Ge(e);e.setStyle(Xs[n]),delete Xs[n]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[Ge(e)]}selectFeature(e){const t=this.findLayerOfFeature_(e);if(!this.layerFilter_(t)||!this.filter_(e,t))return!1;const n=this.getFeatures();return n.getArray().includes(e)?!1:(this.addFeatureLayerAssociation_(e,t),n.push(e),this.dispatchEvent(new Qs(Ks.SELECT,[e],[],void 0)),!0)}deselectFeature(e){const t=this.getFeatures(),n=t.getArray().indexOf(e);return n===-1?!1:(t.removeAt(n),this.dispatchEvent(new Qs(Ks.SELECT,[],[e],void 0)),!0)}toggleFeature(e){this.deselectFeature(e)||this.selectFeature(e)}clearSelection(){const e=this.getFeatures();if(e.getLength()!==0){const t=e.getArray().slice();e.clear(),this.dispatchEvent(new Qs(Ks.SELECT,[],t,void 0))}}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),n=this.removeCondition_(e),i=this.toggleCondition_(e),o=!t&&!n&&!i,a=e.map,s=this.getFeatures(),l=[],c=[];if(o){a.forEachFeatureAtPixel(e.pixel,(u,d)=>{if(!(!(u instanceof jt)||!this.filter_(u,d)))return this.addFeatureLayerAssociation_(u,d),c.push(u),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=s.getLength()-1;u>=0;--u){const d=s.item(u),h=c.indexOf(d);h===-1?(s.removeAt(u),l.push(d)):c.splice(h,1)}c.length!==0&&s.extend(c)}else{a.forEachFeatureAtPixel(e.pixel,(u,d)=>{if(!(u instanceof jt)||!this.filter_(u,d))return;const h=s.getArray().includes(u);return h&&(n||i)?l.push(u):!h&&(t||i)&&(this.addFeatureLayerAssociation_(u,d),c.push(u)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let u=l.length-1;u>=0;--u)s.remove(l[u]);s.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new Qs(Ks.SELECT,c,l,e)),!0}}function zL(){const r=sh();return lr(r.Polygon,r.LineString),lr(r.GeometryCollection,r.LineString),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}}const Ou={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};class Ru extends Nr{constructor(e,t,n,i,o){super(e),this.features=t,this.coordinate=n,this.startCoordinate=i,this.mapBrowserEvent=o}}class $L extends vi{constructor(e){e=e||{},super(e),this.on,this.once,this.un,this.lastCoordinate_=null,this.startCoordinate_=null,this.features_=e.features!==void 0?e.features:null;let t;if(e.layers&&!this.features_)if(typeof e.layers=="function")t=e.layers;else{const n=e.layers;t=function(i){return n.includes(i)}}else t=gn;this.layerFilter_=t,this.filter_=e.filter&&!this.features_?e.filter:gn,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.condition_=e.condition?e.condition:Ri,this.lastFeature_=null,this.addChangeListener(xl.ACTIVE,this.handleActiveChanged_)}handleDownEvent(e){if(!e.originalEvent||!this.condition_(e))return!1;if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);const t=this.features_||new Bt([this.lastFeature_]);return this.dispatchEvent(new Ru(Ou.TRANSLATESTART,t,e.coordinate,this.startCoordinate_,e)),!0}return!1}handleUpEvent(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);const t=this.features_||new Bt([this.lastFeature_]);return this.dispatchEvent(new Ru(Ou.TRANSLATEEND,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1}handleDragEvent(e){if(this.lastCoordinate_){const t=e.coordinate;e.map.getView().getProjection();const n=Gt(t),i=Gt(this.lastCoordinate_),o=n[0]-i[0],a=n[1]-i[1],s=this.features_||new Bt([this.lastFeature_]);s.forEach(function(l){const c=l.getGeometry();c.translate(o,a),l.setGeometry(c)}),this.lastCoordinate_=t,this.dispatchEvent(new Ru(Ou.TRANSLATING,s,t,this.startCoordinate_,e))}}handleMoveEvent(e){const t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")}featuresAtPixel_(e,t){return t.forEachFeatureAtPixel(e,(n,i)=>{if(!(!(n instanceof jt)||!this.filter_(n,i))&&!(this.features_&&!this.features_.getArray().includes(n)))return n},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})}getHitTolerance(){return this.hitTolerance_}setHitTolerance(e){this.hitTolerance_=e}setMap(e){const t=this.getMap();super.setMap(e),this.updateState_(t)}handleActiveChanged_(){this.updateState_(null)}updateState_(e){let t=this.getMap();const n=this.getActive();(!t||!n)&&(t=t||e,t&&t.getViewport().classList.remove("ol-grab","ol-grabbing"))}}const UL=(r,e,t)=>{if(t){const n=new DOMParser().parseFromString(t,"image/svg+xml");return n.querySelectorAll("[fill]").forEach(i=>{i.setAttribute("fill",r)}),n.querySelectorAll("[stroke]").forEach(i=>{i.setAttribute("stroke",e)}),n.querySelectorAll("path, circle, rect, polygon, ellipse").forEach(i=>{i.hasAttribute("fill")||i.setAttribute("fill",r),i.hasAttribute("stroke")||i.setAttribute("stroke",e)}),new XMLSerializer().serializeToString(n)}return`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="-1 -1 25 25"
  >
    <path
      d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"
      fill="${r}"
      stroke="${e}"
      stroke-width="1"
    />
  </svg>
`},GL=({fill:r="#005CA9",stroke:e="#FFF",svg:t})=>{let n="";typeof r=="string"?n=r:"oklch"in r?n=`oklch(${r.oklch.l} ${r.oklch.c} ${r.oklch.h})`:"rgba"in r&&(n=`${r.rgba.r} ${r.rgba.g} ${r.rgba.b} ${r.rgba.a?r.rgba.a:""}`);let i="";return typeof e=="string"?i=e:"oklch"in e?i=`oklch(${e.oklch.l} ${e.oklch.c} ${e.oklch.h})`:"rgba"in e&&(i=`${e.rgba.r} ${e.rgba.g} ${e.rgba.b} ${e.rgba.a?e.rgba.a:""}`),new Pt({image:new gi({src:`data:image/svg+xml;base64,${btoa(UL(n,i,t))}`,scale:2,anchor:[.5,1]})})},BL={Circle:vp,LinearRing:Pm,LineString:Gr,MultiLineString:eo,MultiPoint:Wo,MultiPolygon:to,Point:Vt,Polygon:Vr};function VL(r,e,t,n){const i=new BL[t](n);let o=Gn(i.getExtent());return(t==="Polygon"||t==="MultiPolygon")&&!i.intersectsCoordinate(o)&&(o=(i.getType()==="Polygon"?i.getInteriorPoint():i.getInteriorPoints()).getFirstCoordinate()),r===e?o:On(o,r,e)}async function Yf(r,e,t){if(!t)return!0;const n=await z6(e,t.layerId,r);return n===!0||typeof n=="symbol"&&t.onError!=="strict"?!0:(typeof n=="symbol"?(td("error",()=>Tt(i=>i.boundaryError,{ns:"pins"})),console.error(`@polar/polar(plugins/pins/utils/isCoordinateInBoundaryLayer:39:3)
`,"Checking boundary layer failed.")):(td("info",()=>Tt(i=>i.notInBoundary,{ns:"pins"})),console.info(`@polar/polar(plugins/pins/utils/isCoordinateInBoundaryLayer:43:3)
`,"Pin position outside of boundary layer:",r)),!1)}const HL=Zr("plugins/pins",()=>{const r=He(),e=Me(null),t=Me(!1),n=X(()=>vt({minZoomLevel:0,movable:"none",toZoomLevel:0},r.configuration.pins||{})),i=X(()=>{if(!e.value)return null;const b=Yb(e.value,r.configuration.epsg);return[b[1],b[0]]}),o=new ur({source:new cr,style:GL(n.value.style||{})}),a=new kp({layers:b=>b===o,style:null,condition:bx}),s=new $L({condition:()=>r.map.getView().getZoom()>=n.value.minZoomLevel,layers:[o]});let l=null;function c(){r.map.addLayer(o),o.setZIndex(100),r.map.on("singleclick",async({coordinate:b})=>{await f(b)}),d(),h(),p()}function u(){const{map:b}=r;b.un("singleclick",async({coordinate:k})=>{await f(k)}),m(),b.removeLayer(o),b.removeInteraction(a),b.removeInteraction(s),l&&l()}function d(){const{coordinateSources:b}=n.value;b&&b.forEach(k=>{const C=k.plugin?r.getPluginStore(k.plugin):r;C&&(l=yt(()=>C[k.key],T=>{T&&T.type!=="reverse_geocoded"&&y(T.geometry.coordinates,!1,{type:T.geometry.type})}))})}function h(){const{initial:b}=n.value;if(b){const{coordinate:k,centerOn:C,epsg:T}=b;if(C){y(k,!1,{epsg:T||r.configuration.epsg,type:"Point"});return}y(k)}}function p(){a.on("select",({selected:k})=>{n.value.movable==="none"&&(document.body.style.cursor=k.length?"not-allowed":"")}),r.map.addInteraction(a);const{movable:b}=n.value;b==="drag"&&(s.on("translatestart",()=>t.value=!0),s.on("translateend",({features:k})=>{t.value=!1,k.forEach(async C=>{const T=C.getGeometry().getCoordinates(),E=await Yf(T,r.map,n.value.boundary)?T:e.value;E&&y(E)})}),r.map.addInteraction(s))}async function f(b){const k=r.map.getInteractions().getArray().some(E=>E instanceof DL&&(E._isMultiSelect||E._isDrawPlugin)||E instanceof FL||E._isDeleteSelect),{minZoomLevel:C,movable:T}=n.value;(T==="drag"||T==="click")&&r.map.getView().getZoom()>=C&&!k&&await Yf(b,r.map,n.value.boundary)&&y(b)}function y(b,k=!0,C){m(),e.value=b,!k&&C&&(e.value=VL(C.epsg||r.configuration.epsg,r.configuration.epsg,C.type,b),r.map.getView().setCenter(e.value),r.map.getView().setZoom(n.value.toZoomLevel)),o.getSource().addFeature(new jt({geometry:new Vt(e.value),type:"point",name:"mapMarker",zIndex:100}))}function m(){o.getSource().clear()}return{coordinate:e,latLon:i,setupPlugin:c,teardownPlugin:u}}),ZL={boundaryError:"Die berprfung der Koordinate ist fehlgeschlagen. Bitte versuchen Sie es spter erneut oder wenden Sie sich an einen Administrator, wenn das Problem bestehen bleibt.",notInBoundary:"Diese Koordinate kann nicht gewhlt werden."},YL={boundaryError:"Validating the coordinate failed. Please try again later or contact an administrator if the issue persists.",notInBoundary:"It is not possible to select this coordinate."},WL=[{type:"de",resources:ZL},{type:"en",resources:YL}],KL="pins";function xN(r){return{id:KL,locales:WL,storeModule:HL,options:r}}const bp="reverseGeocoder",Oy=Zr("plugins/reverseGeocoder",()=>{const r=He(),e=X(()=>r.configuration[bp]),t=Me([]);function n(){for(const s of e.value.coordinateSources||[]){const l=s.plugin?r.getPluginStore(s.plugin):r;l&&t.value.push(yt(()=>l[s.key],async c=>{c&&await a(c)},{immediate:!0}))}}function i(){t.value.forEach(s=>{s()})}function o(s,l){const c=s.plugin?r.getPluginStore(s.plugin):r;c&&c[s.key](l)}async function a(s){const l=v2();try{const c=await k2(e.value.url,s);return e.value.addressTarget&&o(e.value.addressTarget,c),e.value.zoomTo&&r.map.getView().fit(new Vt(s),{maxZoom:e.value.zoomTo,duration:400,easing:Ji}),c}catch(c){return console.error(`@polar/polar(plugins/reverseGeocoder/store:102:5)
`,"Reverse geocoding failed:",c),null}finally{l()}}return{reverseGeocode:a,setupPlugin:n,teardownPlugin:i}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await yr(async()=>{const{createPinia:u,setActivePinia:d}=await import("./pinia-6B_mW3wX-DRmF_KiC.js");return{createPinia:u,setActivePinia:d}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await yr(async()=>{const{reactive:u}=await import("./vue.runtime.esm-bundler-IOlVeADE-DvDdZCyY.js");return{reactive:u}},[],import.meta.url),a=await yr(()=>import("./invisibleStyle-CilI54Z3-B0AHAUN2.js").then(u=>u.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=await yr(()=>import("./reverseGeocode-CR3Bbmu1-BkP1SGuk.js"),__vite__mapDeps([8,6]),import.meta.url),l=await yr(()=>import("./indicateLoading-BPSAe-HO-Bh03LpqB.js"),__vite__mapDeps([9,3,0,1,4,5,6]),import.meta.url),c=e.extend({reverseGeocodeUtil:[async({},u)=>{const d=t.spyOn(s,"reverseGeocode").mockResolvedValue(null);await u(d)},{auto:!0}],indicateLoading:[async({},u)=>{const d=t.spyOn(l,"indicateLoading").mockImplementation(()=>()=>{});await u(d)},{auto:!0}],coreStore:[async({},u)=>{const d=t.fn(),h=o({configuration:{[bp]:{url:"https://wps.example",coordinateSources:[{key:"coordinateSource"}],addressTarget:{key:"addressTarget"},zoomTo:99}},map:{getView:()=>({fit:d})},coordinateSource:null,addressTarget:t.fn()});t.spyOn(a,"useCoreStore").mockReturnValue(h),await u(h)},{auto:!0}],store:[async({},u)=>{i(n());const d=Oy();d.setupPlugin(),await u(d),d.teardownPlugin()},{auto:!0}]});c("detects changes in coordinate sources",async({reverseGeocodeUtil:u,coreStore:d})=>{d.coordinateSource=[1,2],await new Promise(h=>setTimeout(h)),r(u).toHaveBeenCalledWith("https://wps.example",[1,2])}),c("passes geocoding result to address target",async({reverseGeocodeUtil:u,coreStore:d,store:h})=>{const p=Symbol("feature");u.mockResolvedValueOnce(p),await h.reverseGeocode([3,4]),r(d.addressTarget).toHaveBeenCalledOnce(),r(d.addressTarget).toHaveBeenCalledWith(p)}),c("zooms to input coordinate",async({reverseGeocodeUtil:u,coreStore:d,store:h})=>{const p=Symbol("feature");u.mockResolvedValueOnce(p),await h.reverseGeocode([3,4]),r(d.map.getView().fit).toHaveBeenCalledOnce()})}function wN(r){return{id:bp,storeModule:Oy,options:r}}function QL(r,e,{signal:t,edges:n=["leading","trailing"]}={}){let i=null;const o=py(function(...s){i=Date.now(),r.apply(this,s)},e,{signal:t,edges:n}),a=function(...s){if(i==null&&(i=Date.now()),Date.now()-i>=e){i=Date.now(),r.apply(this,s),o.cancel(),o.schedule();return}o.apply(this,s)};return a.cancel=o.cancel,a.flush=o.flush,a}function Ry(){let r=96;try{const e=document.createElement("div"),t=document.body;e.id="programmatical-dpidiv",e.setAttribute("style","position: absolute; height: 1in; width: 1in; top: -100%; left: -100%;"),t.appendChild(e),r=e.offsetWidth*(window.devicePixelRatio||1),t.removeChild(e)}catch(e){console.error(`@polar/polar(lib/dpi:26:3)
`,e),console.warn(`@polar/polar(lib/dpi:27:3)
`,`Since the dpi could not be inferred, the default value ${r} will be used.`)}return r}const Fy=Me(Ry());let Js=0;const ho=QL(()=>Fy.value=Ry(),100);function XL(){return Js===0&&(window.addEventListener("resize",ho,{passive:!0}),window.addEventListener("orientationchange",ho),window.visualViewport?.addEventListener("resize",ho)),Js++,bm(function(){Js--,Js===0&&(window.removeEventListener("resize",ho),window.removeEventListener("orientationchange",ho),window.visualViewport?.removeEventListener("resize",ho))}),{dpi:Fy}}const Wf=(r,e)=>`1 : ${new Intl.NumberFormat(e,{maximumFractionDigits:0}).format(r>1e4?Math.round(r/500)*500:r>1e3?Math.round(r/50)*50:r)}`;function Kf(r,e,t){return Math.round(e*Da[r]*39.37*t)}const jy=Zr("plugins/scale",()=>{const r=He(),{dpi:e}=XL(),t=Me(0),n=X(()=>Wf(t.value,r.language)),i=X(()=>{const c=Math.round(.02*t.value);return c>=1e3?`${Math.round(c/100)/10}km`:`${c}m`}),o=X(()=>r.configuration.options.map(c=>{const u=Wf(Kf(r.map.getView().getProjection().getUnits(),c.resolution,e.value),r.language);return{...c,label:u,ariaLabel:d0(()=>Tt(d=>d.to,{ns:"scale",number:u.split(":")[1]?.replace(/[,.]/g,"").trim()})).value,value:c.zoomLevel}})),a=X(()=>r.configuration.scale?.layoutTag),s=X(()=>r.configuration.scale?.showScaleSwitcher&&o.value.length>0);function l(){const c=r.map.getView().getProjection().getUnits(),u=r.map.getView().getResolution(),d=Kf(c,u,e.value);t.value=d}return r.map.on("moveend",l),bm(()=>{r.map.un("moveend",l)}),{layoutTag:a,scaleToOne:n,scaleWithUnit:i,showScaleSwitcher:s,zoomOptions:o}}),cl="scale",JL=["title","aria-label"],eI={key:1,class:"scale-as-a-ratio"},tI={class:"scale-line"},rI={class:"scale-line-text"},nI=Ee({__name:"ScaleWidget.ce",setup(r){const e=jy(),t=He(),{layoutTag:n,scaleToOne:i,scaleWithUnit:o,showScaleSwitcher:a,zoomOptions:s}=ct(e),{layout:l,zoom:c}=ct(t),u=X(()=>`${Math.round(c.value)}`);function d(h){c.value=Number(h)}return(h,p)=>(I(),ee("div",{class:it(["polar-plugin-scale",M(l)==="nineRegions"?`polar-plugin-scale-nineRegions ${M(n)}`:""]),title:h.$t(f=>f.label,{ns:M(cl)}),"aria-label":h.$t(f=>f.label,{ns:M(cl)})},[M(a)?(I(),xe(hy,{key:0,value:u.value,options:M(s),"aria-label":h.$t(f=>f.scaleSwitcher,{ns:M(cl)}),small:"","onUpdate:value":d},null,8,["value","options","aria-label"])):(I(),ee("span",eI,ze(M(i)),1)),oe("span",tI,[oe("span",rI,ze(M(o)),1),p[0]||(p[0]=oe("span",{class:"scale-line-scale"},null,-1))])],10,JL))}}),iI=".polar-plugin-scale{&[data-v-9b75fe49]{display:flex;flex-direction:row;align-items:center;gap:var(--kern-metric-space-small);padding:0 var(--kern-metric-space-small)}.scale-as-a-ratio[data-v-9b75fe49]{white-space:nowrap;color:var(--kern-color-layout-text-default)}.scale-line-text[data-v-9b75fe49]{font-weight:bolder;color:var(--kern-color-layout-text-default);min-width:5ch;text-align:right}.scale-line{&[data-v-9b75fe49]{display:flex;align-items:anchor-center;gap:var(--kern-metric-space-small)}.scale-line-scale[data-v-9b75fe49]{border-radius:0 0 .125rem .125rem;border-right:1px solid var(--kern-color-form-input-border);border-bottom:1px solid var(--kern-color-form-input-border);border-left:1px solid var(--kern-color-form-input-border);height:.75rem;width:2cm}}[data-v-9b75fe49] .kern-form-input__select-wrapper{background-color:var(--kern-color-form-input-background-inverted)}&.polar-plugin-scale-nineRegions{&[data-v-9b75fe49]{gap:var(--kern-metric-space-2x-small);padding:var(--kern-metric-space-2x-small);align-items:stretch}>*[data-v-9b75fe49]{background:var(--kern-color-form-input-background-inverted);border-radius:var(--kern-metric-border-radius-large);padding:var(--kern-metric-space-x-small) var(--kern-metric-space-small);box-shadow:var(--polar-shadow)}.scale-line-text[data-v-9b75fe49]{text-align:left}&.BOTTOM_LEFT[data-v-9b75fe49],&.TOP_LEFT[data-v-9b75fe49],&.MIDDLE_LEFT[data-v-9b75fe49]{flex-direction:row-reverse}}}",oI=Be(nI,[["styles",[iI]],["__scopeId","data-v-9b75fe49"]]),aI={label:"Skala",scaleSwitcher:"Mastab ndern",to:"Eins zu {{number}}"},sI={label:"Scale",scaleSwitcher:"Change scale",to:"One to {{number}}"},lI=[{type:"de",resources:aI},{type:"en",resources:sI}];function _N(r){return{id:cl,component:oI,locales:lI,options:r,storeModule:jy}}function cI(r){if(typeof r=="object"){if("oklch"in r)return`oklch(${r.oklch.l}, ${r.oklch.c}, ${r.oklch.h})`;if("rgba"in r)return r.rgba.a?`rgba(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b}, ${r.rgba.a})`:`rgb(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b})`}return r}const uI={class:"kern-alert__header"},dI={class:"kern-title"},hI=["onClick"],pI={class:"kern-label kern-sr-only"},gI=Ee({__name:"ToastUI.ce",setup(r){const e=dh();function t(i){return{error:"danger",info:"info",warning:"warning",success:"success"}[i]}const n=X(()=>e.toasts.map(i=>{const o=t(i.severity);return{alertClass:`kern-alert--${o}`,alertStyle:i.theme?.color?{"background-color":cI(i.theme.color)}:{},iconClass:i.theme?.icon||`kern-icon--${o}`,text:i.text,originalToast:i}}));return(i,o)=>(I(!0),ee(lt,null,Lt(n.value,(a,s)=>(I(),ee("div",{key:s,class:it(["kern-alert",a.alertClass]),style:ci(a.alertStyle),role:"alert"},[oe("div",uI,[oe("span",{class:it(["kern-icon",a.iconClass]),"aria-hidden":"true"},null,2),oe("span",dI,ze(a.text),1),oe("button",{class:"kern-btn",onClick:l=>M(e).removeToast(a.originalToast)},[o[0]||(o[0]=oe("span",{class:"kern-icon kern-icon--close","aria-hidden":"true"},null,-1)),oe("span",pI,ze(i.$t(l=>l.dismissButton.label,{ns:M(ja)})),1)],8,hI)])],6))),128))}}),fI=".kern-alert{&[data-v-d4942d6e]{margin:var(--kern-metric-space-small) var(--kern-metric-space-none)}>.kern-alert__header{&[data-v-d4942d6e]{padding:var(--kern-metric-space-x-small) var(--kern-metric-space-default)}>.kern-icon[data-v-d4942d6e]{display:none;@media(min-width:30em){display:initial}}>.kern-title[data-v-d4942d6e]{flex:1;max-width:calc(100% - 2.5em);overflow-wrap:break-word}}}.kern-btn[data-v-d4942d6e]{margin-left:var(--kern-metric-space-x-small);background-color:transparent}",Qf=Be(gI,[["styles",[fI]],["__scopeId","data-v-d4942d6e"]]),mI={key:0,class:"polar-plugin-toast-standard-layout"},yI=Ee({__name:"ToastContainer.ce",setup(r){const{layout:e}=ct(He());return(t,n)=>M(e)==="standard"?(I(),ee("div",mI,[Pr(Qf)])):(I(),xe(Qf,{key:1}))}}),vI=".polar-plugin-toast-standard-layout[data-v-13133193]{position:absolute;z-index:40;top:0;left:var(--kern-metric-space-small);right:var(--kern-metric-space-small);@media(min-width:50em){left:25%;right:25%}}",kI=Be(yI,[["styles",[vI]],["__scopeId","data-v-13133193"]]),bI={dismissButton:{label:"Benachrichtigung ausblenden"}},xI={dismissButton:{label:"Hide notification"}},wI=[{type:"de",resources:bI},{type:"en",resources:xI}];function TN(r){return{id:ja,component:kI,locales:wI,storeModule:dh,options:r}}function xp(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const nt={},Po=[],pn=()=>{},qy=()=>!1,wp=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),zy=r=>r.startsWith("onUpdate:"),rr=Object.assign,_p=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},_I=Object.prototype.hasOwnProperty,Je=(r,e)=>_I.call(r,e),Se=Array.isArray,No=r=>fs(r)==="[object Map]",$y=r=>fs(r)==="[object Set]",Xf=r=>fs(r)==="[object Date]",De=r=>typeof r=="function",nr=r=>typeof r=="string",jn=r=>typeof r=="symbol",ot=r=>r!==null&&typeof r=="object",Uy=r=>(ot(r)||De(r))&&De(r.then)&&De(r.catch),Gy=Object.prototype.toString,fs=r=>Gy.call(r),TI=r=>fs(r).slice(8,-1),By=r=>fs(r)==="[object Object]",Nc=r=>nr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ca=xp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dc=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},CI=/-\w/g,mn=Dc(r=>r.replace(CI,e=>e.slice(1).toUpperCase())),EI=/\B([A-Z])/g,ms=Dc(r=>r.replace(EI,"-$1").toLowerCase()),Tp=Dc(r=>r.charAt(0).toUpperCase()+r.slice(1)),Fu=Dc(r=>r?`on${Tp(r)}`:""),hi=(r,e)=>!Object.is(r,e),ju=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},Vy=(r,e,t,n=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:n,value:t})},MI=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Jf;const Oc=()=>Jf||(Jf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cp(r){if(Se(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=nr(n)?AI(n):Cp(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(nr(r)||ot(r))return r}const SI=/;(?![^(]*\))/g,LI=/:([^]+)/,II=/\/\*[^]*?\*\//g;function AI(r){const e={};return r.replace(II,"").split(SI).forEach(t=>{if(t){const n=t.split(LI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ep(r){let e="";if(nr(r))e=r;else if(Se(r))for(let t=0;t<r.length;t++){const n=Ep(r[t]);n&&(e+=n+" ")}else if(ot(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const PI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CN=xp(PI);function EN(r){return!!r||r===""}function NI(r,e){if(r.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<r.length;n++)t=Mp(r[n],e[n]);return t}function Mp(r,e){if(r===e)return!0;let t=Xf(r),n=Xf(e);if(t||n)return t&&n?r.getTime()===e.getTime():!1;if(t=jn(r),n=jn(e),t||n)return r===e;if(t=Se(r),n=Se(e),t||n)return t&&n?NI(r,e):!1;if(t=ot(r),n=ot(e),t||n){if(!t||!n)return!1;const i=Object.keys(r).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in r){const s=r.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!Mp(r[a],e[a]))return!1}}return String(r)===String(e)}const Hy=r=>!!(r&&r.__v_isRef===!0),DI=r=>nr(r)?r:r==null?"":Se(r)||ot(r)&&(r.toString===Gy||!De(r.toString))?Hy(r)?DI(r.value):JSON.stringify(r,Zy,2):String(r),Zy=(r,e)=>Hy(e)?Zy(r,e.value):No(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i],o)=>(t[qu(n,o)+" =>"]=i,t),{})}:$y(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>qu(t))}:jn(e)?qu(e):ot(e)&&!Se(e)&&!By(e)?String(e):e,qu=(r,e="")=>{var t;return jn(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};let Qt;class Yy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Qt,!e&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Qt;try{return Qt=this,e()}finally{Qt=t}}}on(){++this._on===1&&(this.prevScope=Qt,Qt=this)}off(){this._on>0&&--this._on===0&&(Qt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function MN(r){return new Yy(r)}function OI(){return Qt}function SN(r,e=!1){Qt&&Qt.cleanups.push(r)}let ut;const zu=new WeakSet;class Wy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qt&&Qt.active&&Qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zu.has(this)&&(zu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,em(this),Xy(this);const e=ut,t=Br;ut=this,Br=!0;try{return this.fn()}finally{Jy(this),ut=e,Br=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ip(e);this.deps=this.depsTail=void 0,em(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$d(this)&&this.run()}get dirty(){return $d(this)}}let Ky=0,Ea,Ma;function Qy(r,e=!1){if(r.flags|=8,e){r.next=Ma,Ma=r;return}r.next=Ea,Ea=r}function Sp(){Ky++}function Lp(){if(--Ky>0)return;if(Ma){let e=Ma;for(Ma=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;Ea;){let e=Ea;for(Ea=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){r||(r=n)}e=t}}if(r)throw r}function Xy(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Jy(r){let e,t=r.depsTail,n=t;for(;n;){const i=n.prevDep;n.version===-1?(n===t&&(t=i),Ip(n),RI(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}r.deps=e,r.depsTail=t}function $d(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ev(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function ev(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Qa)||(r.globalVersion=Qa,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!$d(r))))return;r.flags|=2;const e=r.dep,t=ut,n=Br;ut=r,Br=!0;try{Xy(r);const i=r.fn(r._value);(e.version===0||hi(i,r._value))&&(r.flags|=128,r._value=i,e.version++)}catch(i){throw e.version++,i}finally{ut=t,Br=n,Jy(r),r.flags&=-3}}function Ip(r,e=!1){const{dep:t,prevSub:n,nextSub:i}=r;if(n&&(n.nextSub=i,r.prevSub=void 0),i&&(i.prevSub=n,r.nextSub=void 0),t.subs===r&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let o=t.computed.deps;o;o=o.nextDep)Ip(o,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function RI(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Br=!0;const tv=[];function qn(){tv.push(Br),Br=!1}function zn(){const r=tv.pop();Br=r===void 0?!0:r}function em(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=ut;ut=void 0;try{e()}finally{ut=t}}}let Qa=0;class FI{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ap{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ut||!Br||ut===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ut)t=this.activeLink=new FI(ut,this),ut.deps?(t.prevDep=ut.depsTail,ut.depsTail.nextDep=t,ut.depsTail=t):ut.deps=ut.depsTail=t,rv(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=ut.depsTail,t.nextDep=void 0,ut.depsTail.nextDep=t,ut.depsTail=t,ut.deps===t&&(ut.deps=n)}return t}trigger(e){this.version++,Qa++,this.notify(e)}notify(e){Sp();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Lp()}}}function rv(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)rv(n)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const zl=new WeakMap,Ui=Symbol(""),Ud=Symbol(""),Xa=Symbol("");function Xt(r,e,t){if(Br&&ut){let n=zl.get(r);n||zl.set(r,n=new Map);let i=n.get(t);i||(n.set(t,i=new Ap),i.map=n,i.key=t),i.track()}}function Mn(r,e,t,n,i,o){const a=zl.get(r);if(!a){Qa++;return}const s=l=>{l&&l.trigger()};if(Sp(),e==="clear")a.forEach(s);else{const l=Se(r),c=l&&Nc(t);if(l&&t==="length"){const u=Number(n);a.forEach((d,h)=>{(h==="length"||h===Xa||!jn(h)&&h>=u)&&s(d)})}else switch((t!==void 0||a.has(void 0))&&s(a.get(t)),c&&s(a.get(Xa)),e){case"add":l?c&&s(a.get("length")):(s(a.get(Ui)),No(r)&&s(a.get(Ud)));break;case"delete":l||(s(a.get(Ui)),No(r)&&s(a.get(Ud)));break;case"set":No(r)&&s(a.get(Ui));break}}Lp()}function jI(r,e){const t=zl.get(r);return t&&t.get(e)}function po(r){const e=Ye(r);return e===r?e:(Xt(e,"iterate",Xa),_r(r)?e:e.map(Hr))}function Rc(r){return Xt(r=Ye(r),"iterate",Xa),r}function ti(r,e){return $n(r)?Fo(Gi(r)?Hr(e):e):Hr(e)}const qI={__proto__:null,[Symbol.iterator](){return $u(this,Symbol.iterator,r=>ti(this,r))},concat(...r){return po(this).concat(...r.map(e=>Se(e)?po(e):e))},entries(){return $u(this,"entries",r=>(r[1]=ti(this,r[1]),r))},every(r,e){return bn(this,"every",r,e,void 0,arguments)},filter(r,e){return bn(this,"filter",r,e,t=>t.map(n=>ti(this,n)),arguments)},find(r,e){return bn(this,"find",r,e,t=>ti(this,t),arguments)},findIndex(r,e){return bn(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return bn(this,"findLast",r,e,t=>ti(this,t),arguments)},findLastIndex(r,e){return bn(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return bn(this,"forEach",r,e,void 0,arguments)},includes(...r){return Uu(this,"includes",r)},indexOf(...r){return Uu(this,"indexOf",r)},join(r){return po(this).join(r)},lastIndexOf(...r){return Uu(this,"lastIndexOf",r)},map(r,e){return bn(this,"map",r,e,void 0,arguments)},pop(){return ga(this,"pop")},push(...r){return ga(this,"push",r)},reduce(r,...e){return tm(this,"reduce",r,e)},reduceRight(r,...e){return tm(this,"reduceRight",r,e)},shift(){return ga(this,"shift")},some(r,e){return bn(this,"some",r,e,void 0,arguments)},splice(...r){return ga(this,"splice",r)},toReversed(){return po(this).toReversed()},toSorted(r){return po(this).toSorted(r)},toSpliced(...r){return po(this).toSpliced(...r)},unshift(...r){return ga(this,"unshift",r)},values(){return $u(this,"values",r=>ti(this,r))}};function $u(r,e,t){const n=Rc(r),i=n[e]();return n!==r&&!_r(r)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=t(o.value)),o}),i}const zI=Array.prototype;function bn(r,e,t,n,i,o){const a=Rc(r),s=a!==r&&!_r(r),l=a[e];if(l!==zI[e]){const d=l.apply(r,o);return s?Hr(d):d}let c=t;a!==r&&(s?c=function(d,h){return t.call(this,ti(r,d),h,r)}:t.length>2&&(c=function(d,h){return t.call(this,d,h,r)}));const u=l.call(a,c,n);return s&&i?i(u):u}function tm(r,e,t,n){const i=Rc(r);let o=t;return i!==r&&(_r(r)?t.length>3&&(o=function(a,s,l){return t.call(this,a,s,l,r)}):o=function(a,s,l){return t.call(this,a,ti(r,s),l,r)}),i[e](o,...n)}function Uu(r,e,t){const n=Ye(r);Xt(n,"iterate",Xa);const i=n[e](...t);return(i===-1||i===!1)&&Fc(t[0])?(t[0]=Ye(t[0]),n[e](...t)):i}function ga(r,e,t=[]){qn(),Sp();const n=Ye(r)[e].apply(r,t);return Lp(),zn(),n}const $I=xp("__proto__,__v_isRef,__isVue"),nv=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(jn));function UI(r){jn(r)||(r=String(r));const e=Ye(this);return Xt(e,"has",r),e.hasOwnProperty(r)}class iv{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return o;if(t==="__v_raw")return n===(i?o?XI:lv:o?sv:av).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=Se(e);if(!i){let l;if(a&&(l=qI[t]))return l;if(t==="hasOwnProperty")return UI}const s=Reflect.get(e,t,zt(e)?e:n);if((jn(t)?nv.has(t):$I(t))||(i||Xt(e,"get",t),o))return s;if(zt(s)){const l=a&&Nc(t)?s:s.value;return i&&ot(l)?Bd(l):l}return ot(s)?i?Bd(s):Np(s):s}}class ov extends iv{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];const a=Se(e)&&Nc(t);if(!this._isShallow){const c=$n(o);if(!_r(n)&&!$n(n)&&(o=Ye(o),n=Ye(n)),!a&&zt(o)&&!zt(n))return c||(o.value=n),!0}const s=a?Number(t)<e.length:Je(e,t),l=Reflect.set(e,t,n,zt(e)?e:i);return e===Ye(i)&&(s?hi(n,o)&&Mn(e,"set",t,n):Mn(e,"add",t,n)),l}deleteProperty(e,t){const n=Je(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Mn(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(!jn(t)||!nv.has(t))&&Xt(e,"has",t),n}ownKeys(e){return Xt(e,"iterate",Se(e)?"length":Ui),Reflect.ownKeys(e)}}class GI extends iv{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const BI=new ov,VI=new GI,HI=new ov(!0);const Gd=r=>r,el=r=>Reflect.getPrototypeOf(r);function ZI(r,e,t){return function(...n){const i=this.__v_raw,o=Ye(i),a=No(o),s=r==="entries"||r===Symbol.iterator&&a,l=r==="keys"&&a,c=i[r](...n),u=t?Gd:e?Fo:Hr;return!e&&Xt(o,"iterate",l?Ud:Ui),rr(Object.create(c),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:s?[u(d[0]),u(d[1])]:u(d),done:h}}})}}function tl(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function YI(r,e){const t={get(i){const o=this.__v_raw,a=Ye(o),s=Ye(i);r||(hi(i,s)&&Xt(a,"get",i),Xt(a,"get",s));const{has:l}=el(a),c=e?Gd:r?Fo:Hr;if(l.call(a,i))return c(o.get(i));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!r&&Xt(Ye(i),"iterate",Ui),i.size},has(i){const o=this.__v_raw,a=Ye(o),s=Ye(i);return r||(hi(i,s)&&Xt(a,"has",i),Xt(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=Ye(s),c=e?Gd:r?Fo:Hr;return!r&&Xt(l,"iterate",Ui),s.forEach((u,d)=>i.call(o,c(u),c(d),a))}};return rr(t,r?{add:tl("add"),set:tl("set"),delete:tl("delete"),clear:tl("clear")}:{add(i){!e&&!_r(i)&&!$n(i)&&(i=Ye(i));const o=Ye(this);return el(o).has.call(o,i)||(o.add(i),Mn(o,"add",i,i)),this},set(i,o){!e&&!_r(o)&&!$n(o)&&(o=Ye(o));const a=Ye(this),{has:s,get:l}=el(a);let c=s.call(a,i);c||(i=Ye(i),c=s.call(a,i));const u=l.call(a,i);return a.set(i,o),c?hi(o,u)&&Mn(a,"set",i,o):Mn(a,"add",i,o),this},delete(i){const o=Ye(this),{has:a,get:s}=el(o);let l=a.call(o,i);l||(i=Ye(i),l=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return l&&Mn(o,"delete",i,void 0),c},clear(){const i=Ye(this),o=i.size!==0,a=i.clear();return o&&Mn(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ZI(i,r,e)}),t}function Pp(r,e){const t=YI(r,e);return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(Je(t,i)&&i in n?t:n,i,o)}const WI={get:Pp(!1,!1)},KI={get:Pp(!1,!0)},QI={get:Pp(!0,!1)};const av=new WeakMap,sv=new WeakMap,lv=new WeakMap,XI=new WeakMap;function JI(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eA(r){return r.__v_skip||!Object.isExtensible(r)?0:JI(TI(r))}function Np(r){return $n(r)?r:Dp(r,!1,BI,WI,av)}function tA(r){return Dp(r,!1,HI,KI,sv)}function Bd(r){return Dp(r,!0,VI,QI,lv)}function Dp(r,e,t,n,i){if(!ot(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=eA(r);if(o===0)return r;const a=i.get(r);if(a)return a;const s=new Proxy(r,o===2?n:t);return i.set(r,s),s}function Gi(r){return $n(r)?Gi(r.__v_raw):!!(r&&r.__v_isReactive)}function $n(r){return!!(r&&r.__v_isReadonly)}function _r(r){return!!(r&&r.__v_isShallow)}function Fc(r){return r?!!r.__v_raw:!1}function Ye(r){const e=r&&r.__v_raw;return e?Ye(e):r}function rA(r){return!Je(r,"__v_skip")&&Object.isExtensible(r)&&Vy(r,"__v_skip",!0),r}const Hr=r=>ot(r)?Np(r):r,Fo=r=>ot(r)?Bd(r):r;function zt(r){return r?r.__v_isRef===!0:!1}function LN(r){return cv(r,!1)}function nA(r){return cv(r,!0)}function cv(r,e){return zt(r)?r:new iA(r,e)}class iA{constructor(e,t){this.dep=new Ap,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ye(e),this._value=t?e:Hr(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||_r(e)||$n(e);e=n?e:Ye(e),hi(e,t)&&(this._rawValue=e,this._value=n?e:Hr(e),this.dep.trigger())}}function uv(r){return zt(r)?r.value:r}const oA={get:(r,e,t)=>e==="__v_raw"?r:uv(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return zt(i)&&!zt(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function dv(r){return Gi(r)?r:new Proxy(r,oA)}function IN(r){const e=Se(r)?new Array(r.length):{};for(const t in r)e[t]=sA(r,t);return e}class aA{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Ye(e);let i=!0,o=e;if(!Se(e)||!Nc(String(t)))do i=!Fc(o)||_r(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=uv(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&zt(this._raw[this._key])){const t=this._object[this._key];if(zt(t)){t.value=e;return}}this._object[this._key]=e}get dep(){return jI(this._raw,this._key)}}function sA(r,e,t){return new aA(r,e,t)}class lA{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ap(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return Qy(this,!0),!0}get value(){const e=this.dep.track();return ev(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function cA(r,e,t=!1){let n,i;return De(r)?n=r:(n=r.get,i=r.set),new lA(n,i,t)}const rl={},$l=new WeakMap;let Ei;function uA(r,e=!1,t=Ei){if(t){let n=$l.get(t);n||$l.set(t,n=[]),n.push(r)}}function dA(r,e,t=nt){const{immediate:n,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=t,c=T=>i?T:_r(T)||i===!1||i===0?Sn(T,1):Sn(T);let u,d,h,p,f=!1,y=!1;if(zt(r)?(d=()=>r.value,f=_r(r)):Gi(r)?(d=()=>c(r),f=!0):Se(r)?(y=!0,f=r.some(T=>Gi(T)||_r(T)),d=()=>r.map(T=>{if(zt(T))return T.value;if(Gi(T))return c(T);if(De(T))return l?l(T,2):T()})):De(r)?e?d=l?()=>l(r,2):r:d=()=>{if(h){qn();try{h()}finally{zn()}}const T=Ei;Ei=u;try{return l?l(r,3,[p]):r(p)}finally{Ei=T}}:d=pn,e&&i){const T=d,E=i===!0?1/0:i;d=()=>Sn(T(),E)}const m=OI(),b=()=>{u.stop(),m&&m.active&&_p(m.effects,u)};if(o&&e){const T=e;e=(...E)=>{T(...E),b()}}let k=y?new Array(r.length).fill(rl):rl;const C=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const E=u.run();if(i||f||(y?E.some((R,F)=>hi(R,k[F])):hi(E,k))){h&&h();const R=Ei;Ei=u;try{const F=[E,k===rl?void 0:y&&k[0]===rl?[]:k,p];k=E,l?l(e,3,F):e(...F)}finally{Ei=R}}}else u.run()};return s&&s(C),u=new Wy(d),u.scheduler=a?()=>a(C,!1):C,p=T=>uA(T,!1,u),h=u.onStop=()=>{const T=$l.get(u);if(T){if(l)l(T,4);else for(const E of T)E();$l.delete(u)}},e?n?C(!0):k=u.run():a?a(C.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Sn(r,e=1/0,t){if(e<=0||!ot(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,zt(r))Sn(r.value,e,t);else if(Se(r))for(let n=0;n<r.length;n++)Sn(r[n],e,t);else if($y(r)||No(r))r.forEach(n=>{Sn(n,e,t)});else if(By(r)){for(const n in r)Sn(r[n],e,t);for(const n of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,n)&&Sn(r[n],e,t)}return r}function ys(r,e,t,n){try{return n?r(...n):r()}catch(i){jc(i,e,t)}}function Un(r,e,t,n){if(De(r)){const i=ys(r,e,t,n);return i&&Uy(i)&&i.catch(o=>{jc(o,e,t)}),i}if(Se(r)){const i=[];for(let o=0;o<r.length;o++)i.push(Un(r[o],e,t,n));return i}}function jc(r,e,t,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||nt;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](r,l,c)===!1)return}s=s.parent}if(o){qn(),ys(o,null,10,[r,l,c]),zn();return}}hA(r,t,i,n,a)}function hA(r,e,t,n=!0,i=!1){if(i)throw r;console.error(r)}const sr=[];let Xr=-1;const Do=[];let ri=null,ko=0;const hv=Promise.resolve();let Ul=null;function pA(r){const e=Ul||hv;return r?e.then(this?r.bind(this):r):e}function gA(r){let e=Xr+1,t=sr.length;for(;e<t;){const n=e+t>>>1,i=sr[n],o=Ja(i);o<r||o===r&&i.flags&2?e=n+1:t=n}return e}function Op(r){if(!(r.flags&1)){const e=Ja(r),t=sr[sr.length-1];!t||!(r.flags&2)&&e>=Ja(t)?sr.push(r):sr.splice(gA(e),0,r),r.flags|=1,pv()}}function pv(){Ul||(Ul=hv.then(fv))}function fA(r){Se(r)?Do.push(...r):ri&&r.id===-1?ri.splice(ko+1,0,r):r.flags&1||(Do.push(r),r.flags|=1),pv()}function rm(r,e,t=Xr+1){for(;t<sr.length;t++){const n=sr[t];if(n&&n.flags&2){if(r&&n.id!==r.uid)continue;sr.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function gv(r){if(Do.length){const e=[...new Set(Do)].sort((t,n)=>Ja(t)-Ja(n));if(Do.length=0,ri){ri.push(...e);return}for(ri=e,ko=0;ko<ri.length;ko++){const t=ri[ko];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}ri=null,ko=0}}const Ja=r=>r.id==null?r.flags&2?-1:1/0:r.id;function fv(r){try{for(Xr=0;Xr<sr.length;Xr++){const e=sr[Xr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ys(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Xr<sr.length;Xr++){const e=sr[Xr];e&&(e.flags&=-2)}Xr=-1,sr.length=0,gv(),Ul=null,(sr.length||Do.length)&&fv()}}let br=null,mv=null;function Gl(r){const e=br;return br=r,mv=r&&r.type.__scopeId||null,e}function mA(r,e=br,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&gm(-1);const o=Gl(e);let a;try{a=r(...i)}finally{Gl(o),n._d&&gm(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function AN(r,e){if(br===null)return r;const t=Gc(br),n=r.dirs||(r.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=nt]=e[i];o&&(De(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(a),n.push({dir:o,instance:t,value:a,oldValue:void 0,arg:s,modifiers:l}))}return r}function Ti(r,e,t,n){const i=r.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(qn(),Un(l,t,8,[r.el,s,r,e]),zn())}}function yA(r,e){if(er){let t=er.provides;const n=er.parent&&er.parent.provides;n===t&&(t=er.provides=Object.create(n)),t[r]=e}}function ul(r,e,t=!1){const n=Uc();if(n||Bi){let i=Bi?Bi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&r in i)return i[r];if(arguments.length>1)return t&&De(e)?e.call(n&&n.proxy):e}}function PN(){return!!(Uc()||Bi)}const vA=Symbol.for("v-scx"),kA=()=>ul(vA);function Gu(r,e,t){return yv(r,e,t)}function yv(r,e,t=nt){const{immediate:n,deep:i,flush:o,once:a}=t,s=rr({},t),l=e&&n||!e&&o!=="post";let c;if(ts){if(o==="sync"){const p=kA();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=pn,p.resume=pn,p.pause=pn,p}}const u=er;s.call=(p,f,y)=>Un(p,u,f,y);let d=!1;o==="post"?s.scheduler=p=>{dr(p,u&&u.suspense)}:o!=="sync"&&(d=!0,s.scheduler=(p,f)=>{f?p():Op(p)}),s.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=dA(r,e,s);return ts&&(c?c.push(h):l&&h()),h}function bA(r,e,t){const n=this.proxy,i=nr(r)?r.includes(".")?vv(n,r):()=>n[r]:r.bind(n,n);let o;De(e)?o=e:(o=e.handler,t=e);const a=vs(this),s=yv(i,o.bind(n),t);return a(),s}function vv(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}const xA=Symbol("_vte"),wA=r=>r.__isTeleport,_A=Symbol("_leaveCb");function Rp(r,e){r.shapeFlag&6&&r.component?(r.transition=e,Rp(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function NN(r,e){return De(r)?rr({name:r.name},e,{setup:r}):r}function DN(){const r=Uc();return r?(r.appContext.config.idPrefix||"v")+"-"+r.ids[0]+r.ids[1]++:""}function kv(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function ON(r){const e=Uc(),t=nA(null);if(e){const i=e.refs===nt?e.refs={}:e.refs;Object.defineProperty(i,r,{enumerable:!0,get:()=>t.value,set:o=>t.value=o})}return t}function nm(r,e){let t;return!!((t=Object.getOwnPropertyDescriptor(r,e))&&!t.configurable)}const Bl=new WeakMap;function Sa(r,e,t,n,i=!1){if(Se(r)){r.forEach((y,m)=>Sa(y,e&&(Se(e)?e[m]:e),t,n,i));return}if(La(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Sa(r,e,t,n.component.subTree);return}const o=n.shapeFlag&4?Gc(n.component):n.el,a=i?null:o,{i:s,r:l}=r,c=e&&e.r,u=s.refs===nt?s.refs={}:s.refs,d=s.setupState,h=Ye(d),p=d===nt?qy:y=>nm(u,y)?!1:Je(h,y),f=(y,m)=>!(m&&nm(u,m));if(c!=null&&c!==l){if(im(e),nr(c))u[c]=null,p(c)&&(d[c]=null);else if(zt(c)){const y=e;f(c,y.k)&&(c.value=null),y.k&&(u[y.k]=null)}}if(De(l))ys(l,s,12,[a,u]);else{const y=nr(l),m=zt(l);if(y||m){const b=()=>{if(r.f){const k=y?p(l)?d[l]:u[l]:f()||!r.k?l.value:u[r.k];if(i)Se(k)&&_p(k,o);else if(Se(k))k.includes(o)||k.push(o);else if(y)u[l]=[o],p(l)&&(d[l]=u[l]);else{const C=[o];f(l,r.k)&&(l.value=C),r.k&&(u[r.k]=C)}}else y?(u[l]=a,p(l)&&(d[l]=a)):m&&(f(l,r.k)&&(l.value=a),r.k&&(u[r.k]=a))};if(a){const k=()=>{b(),Bl.delete(r)};k.id=-1,Bl.set(r,k),dr(k,t)}else im(r),b()}}}function im(r){const e=Bl.get(r);e&&(e.flags|=8,Bl.delete(r))}Oc().requestIdleCallback;Oc().cancelIdleCallback;const La=r=>!!r.type.__asyncLoader,bv=r=>r.type.__isKeepAlive;function TA(r,e){xv(r,"a",e)}function CA(r,e){xv(r,"da",e)}function xv(r,e,t=er){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(qc(e,n,t),t){let i=t.parent;for(;i&&i.parent;)bv(i.parent.vnode)&&EA(n,e,t,i),i=i.parent}}function EA(r,e,t,n){const i=qc(e,r,n,!0);wv(()=>{_p(n[e],i)},t)}function qc(r,e,t=er,n=!1){if(t){const i=t[r]||(t[r]=[]),o=e.__weh||(e.__weh=(...a)=>{qn();const s=vs(t),l=Un(e,t,r,a);return s(),zn(),l});return n?i.unshift(o):i.push(o),o}}const Bn=r=>(e,t=er)=>{(!ts||r==="sp")&&qc(r,(...n)=>e(...n),t)},MA=Bn("bm"),SA=Bn("m"),LA=Bn("bu"),IA=Bn("u"),AA=Bn("bum"),wv=Bn("um"),PA=Bn("sp"),NA=Bn("rtg"),DA=Bn("rtc");function OA(r,e=er){qc("ec",r,e)}const RA="components",_v=Symbol.for("v-ndc");function RN(r){return nr(r)?FA(RA,r,!1)||r:r||_v}function FA(r,e,t=!0,n=!1){const i=br||er;if(i){const o=i.type;{const s=_P(o,!1);if(s&&(s===e||s===mn(e)||s===Tp(mn(e))))return o}const a=om(i[r]||o[r],e)||om(i.appContext[r],e);return!a&&n?o:a}}function om(r,e){return r&&(r[e]||r[mn(e)]||r[Tp(mn(e))])}function FN(r,e,t,n){let i;const o=t,a=Se(r);if(a||nr(r)){const s=a&&Gi(r);let l=!1,c=!1;s&&(l=!_r(r),c=$n(r),r=Rc(r)),i=new Array(r.length);for(let u=0,d=r.length;u<d;u++)i[u]=e(l?c?Fo(Hr(r[u])):Hr(r[u]):r[u],u,void 0,o)}else if(typeof r=="number"){i=new Array(r);for(let s=0;s<r;s++)i[s]=e(s+1,s,void 0,o)}else if(ot(r))if(r[Symbol.iterator])i=Array.from(r,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(r);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[l]=e(r[u],u,l,o)}}else i=[];return i}const Vd=r=>r?Vv(r)?Gc(r):Vd(r.parent):null,Ia=rr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Vd(r.parent),$root:r=>Vd(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>Cv(r),$forceUpdate:r=>r.f||(r.f=()=>{Op(r.update)}),$nextTick:r=>r.n||(r.n=pA.bind(r.proxy)),$watch:r=>bA.bind(r)}),Bu=(r,e)=>r!==nt&&!r.__isScriptSetup&&Je(r,e),jA={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=r;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(Bu(n,e))return a[e]=1,n[e];if(i!==nt&&Je(i,e))return a[e]=2,i[e];if(Je(o,e))return a[e]=3,o[e];if(t!==nt&&Je(t,e))return a[e]=4,t[e];Hd&&(a[e]=0)}}const c=Ia[e];let u,d;if(c)return e==="$attrs"&&Xt(r.attrs,"get",""),c(r);if((u=s.__cssModules)&&(u=u[e]))return u;if(t!==nt&&Je(t,e))return a[e]=4,t[e];if(d=l.config.globalProperties,Je(d,e))return d[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:o}=r;return Bu(i,e)?(i[e]=t,!0):n!==nt&&Je(n,e)?(n[e]=t,!0):Je(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,props:o,type:a}},s){let l;return!!(t[s]||r!==nt&&s[0]!=="$"&&Je(r,s)||Bu(e,s)||Je(o,s)||Je(n,s)||Je(Ia,s)||Je(i.config.globalProperties,s)||(l=a.__cssModules)&&l[s])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Je(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function am(r){return Se(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Hd=!0;function qA(r){const e=Cv(r),t=r.proxy,n=r.ctx;Hd=!1,e.beforeCreate&&sm(e.beforeCreate,r,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:f,activated:y,deactivated:m,beforeDestroy:b,beforeUnmount:k,destroyed:C,unmounted:T,render:E,renderTracked:R,renderTriggered:F,errorCaptured:se,serverPrefetch:ne,expose:fe,inheritAttrs:U,components:j,directives:te,filters:O}=e;if(c&&zA(c,n,null),a)for(const W in a){const pe=a[W];De(pe)&&(n[W]=pe.bind(t))}if(i){const W=i.call(t,t);ot(W)&&(r.data=Np(W))}if(Hd=!0,o)for(const W in o){const pe=o[W],Ce=De(pe)?pe.bind(t,t):De(pe.get)?pe.get.bind(t,t):pn,V=!De(pe)&&De(pe.set)?pe.set.bind(t):pn,_t=CP({get:Ce,set:V});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>_t.value,set:rt=>_t.value=rt})}if(s)for(const W in s)Tv(s[W],n,t,W);if(l){const W=De(l)?l.call(t):l;Reflect.ownKeys(W).forEach(pe=>{yA(pe,W[pe])})}u&&sm(u,r,"c");function ce(W,pe){Se(pe)?pe.forEach(Ce=>W(Ce.bind(t))):pe&&W(pe.bind(t))}if(ce(MA,d),ce(SA,h),ce(LA,p),ce(IA,f),ce(TA,y),ce(CA,m),ce(OA,se),ce(DA,R),ce(NA,F),ce(AA,k),ce(wv,T),ce(PA,ne),Se(fe))if(fe.length){const W=r.exposed||(r.exposed={});fe.forEach(pe=>{Object.defineProperty(W,pe,{get:()=>t[pe],set:Ce=>t[pe]=Ce,enumerable:!0})})}else r.exposed||(r.exposed={});E&&r.render===pn&&(r.render=E),U!=null&&(r.inheritAttrs=U),j&&(r.components=j),te&&(r.directives=te),ne&&kv(r)}function zA(r,e,t=pn){Se(r)&&(r=Zd(r));for(const n in r){const i=r[n];let o;ot(i)?"default"in i?o=ul(i.from||n,i.default,!0):o=ul(i.from||n):o=ul(i),zt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[n]=o}}function sm(r,e,t){Un(Se(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function Tv(r,e,t,n){let i=n.includes(".")?vv(t,n):()=>t[n];if(nr(r)){const o=e[r];De(o)&&Gu(i,o)}else if(De(r))Gu(i,r.bind(t));else if(ot(r))if(Se(r))r.forEach(o=>Tv(o,e,t,n));else{const o=De(r.handler)?r.handler.bind(t):e[r.handler];De(o)&&Gu(i,o,r)}}function Cv(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=r.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>Vl(l,c,a,!0)),Vl(l,e,a)),ot(e)&&o.set(e,l),l}function Vl(r,e,t,n=!1){const{mixins:i,extends:o}=e;o&&Vl(r,o,t,!0),i&&i.forEach(a=>Vl(r,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const s=$A[a]||t&&t[a];r[a]=s?s(r[a],e[a]):e[a]}return r}const $A={data:lm,props:cm,emits:cm,methods:ka,computed:ka,beforeCreate:or,created:or,beforeMount:or,mounted:or,beforeUpdate:or,updated:or,beforeDestroy:or,beforeUnmount:or,destroyed:or,unmounted:or,activated:or,deactivated:or,errorCaptured:or,serverPrefetch:or,components:ka,directives:ka,watch:GA,provide:lm,inject:UA};function lm(r,e){return e?r?function(){return rr(De(r)?r.call(this,this):r,De(e)?e.call(this,this):e)}:e:r}function UA(r,e){return ka(Zd(r),Zd(e))}function Zd(r){if(Se(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function or(r,e){return r?[...new Set([].concat(r,e))]:e}function ka(r,e){return r?rr(Object.create(null),r,e):e}function cm(r,e){return r?Se(r)&&Se(e)?[...new Set([...r,...e])]:rr(Object.create(null),am(r),am(e??{})):e}function GA(r,e){if(!r)return e;if(!e)return r;const t=rr(Object.create(null),r);for(const n in e)t[n]=or(r[n],e[n]);return t}function Ev(){return{app:null,config:{isNativeTag:qy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let BA=0;function VA(r,e){return function(n,i=null){De(n)||(n=rr({},n)),i!=null&&!ot(i)&&(i=null);const o=Ev(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:BA++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:EP,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&De(u.install)?(a.add(u),u.install(c,...d)):De(u)&&(a.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||Pn(n,i);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),r(p,u,h),l=!0,c._container=u,u.__vue_app__=c,Gc(p.component)}},onUnmount(u){s.push(u)},unmount(){l&&(Un(s,c._instance,16),r(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Bi;Bi=c;try{return u()}finally{Bi=d}}};return c}}let Bi=null;const HA=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${mn(e)}Modifiers`]||r[`${ms(e)}Modifiers`];function ZA(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||nt;let i=t;const o=e.startsWith("update:"),a=o&&HA(n,e.slice(7));a&&(a.trim&&(i=t.map(u=>nr(u)?u.trim():u)),a.number&&(i=t.map(MI)));let s,l=n[s=Fu(e)]||n[s=Fu(mn(e))];!l&&o&&(l=n[s=Fu(ms(e))]),l&&Un(l,r,6,i);const c=n[s+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,Un(c,r,6,i)}}const YA=new WeakMap;function Mv(r,e,t=!1){const n=t?YA:e.emitsCache,i=n.get(r);if(i!==void 0)return i;const o=r.emits;let a={},s=!1;if(!De(r)){const l=c=>{const u=Mv(c,e,!0);u&&(s=!0,rr(a,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!o&&!s?(ot(r)&&n.set(r,null),null):(Se(o)?o.forEach(l=>a[l]=null):rr(a,o),ot(r)&&n.set(r,a),a)}function zc(r,e){return!r||!wp(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(r,e[0].toLowerCase()+e.slice(1))||Je(r,ms(e))||Je(r,e))}function um(r){const{type:e,vnode:t,proxy:n,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:f,inheritAttrs:y}=r,m=Gl(r);let b,k;try{if(t.shapeFlag&4){const T=i||n,E=T;b=Jr(c.call(E,T,u,d,p,h,f)),k=s}else{const T=e;b=Jr(T.length>1?T(d,{attrs:s,slots:a,emit:l}):T(d,null)),k=e.props?s:WA(s)}}catch(T){Aa.length=0,jc(T,r,1),b=Pn(mi)}let C=b;if(k&&y!==!1){const T=Object.keys(k),{shapeFlag:E}=C;T.length&&E&7&&(o&&T.some(zy)&&(k=KA(k,o)),C=jo(C,k,!1,!0))}return t.dirs&&(C=jo(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&Rp(C,t.transition),b=C,Gl(m),b}const WA=r=>{let e;for(const t in r)(t==="class"||t==="style"||wp(t))&&((e||(e={}))[t]=r[t]);return e},KA=(r,e)=>{const t={};for(const n in r)(!zy(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function QA(r,e,t){const{props:n,children:i,component:o}=r,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?dm(n,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(Sv(a,n,h)&&!zc(c,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?dm(n,a,c):!0:!!a;return!1}function dm(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(Sv(e,r,o)&&!zc(t,o))return!0}return!1}function Sv(r,e,t){const n=r[t],i=e[t];return t==="style"&&ot(n)&&ot(i)?!Mp(n,i):n!==i}function XA({vnode:r,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=e.vnode).el=t,e=e.parent;else break}}const Lv={},Iv=()=>Object.create(Lv),Av=r=>Object.getPrototypeOf(r)===Lv;function JA(r,e,t,n=!1){const i={},o=Iv();r.propsDefaults=Object.create(null),Pv(r,e,i,o);for(const a in r.propsOptions[0])a in i||(i[a]=void 0);t?r.props=n?i:tA(i):r.type.props?r.props=i:r.props=o,r.attrs=o}function eP(r,e,t,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=r,s=Ye(i),[l]=r.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=r.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(zc(r.emitsOptions,h))continue;const p=e[h];if(l)if(Je(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const f=mn(h);i[f]=Yd(l,s,f,p,r,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{Pv(r,e,i,o)&&(c=!0);let u;for(const d in s)(!e||!Je(e,d)&&((u=ms(d))===d||!Je(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=Yd(l,s,d,void 0,r,!0)):delete i[d]);if(o!==s)for(const d in o)(!e||!Je(e,d))&&(delete o[d],c=!0)}c&&Mn(r.attrs,"set","")}function Pv(r,e,t,n){const[i,o]=r.propsOptions;let a=!1,s;if(e)for(let l in e){if(Ca(l))continue;const c=e[l];let u;i&&Je(i,u=mn(l))?!o||!o.includes(u)?t[u]=c:(s||(s={}))[u]=c:zc(r.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(o){const l=Ye(t),c=s||nt;for(let u=0;u<o.length;u++){const d=o[u];t[d]=Yd(i,l,d,c[d],r,!Je(c,d))}}return a}function Yd(r,e,t,n,i,o){const a=r[t];if(a!=null){const s=Je(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&De(l)){const{propsDefaults:c}=i;if(t in c)n=c[t];else{const u=vs(i);n=c[t]=l.call(null,e),u()}}else n=l;i.ce&&i.ce._setProp(t,n)}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===ms(t))&&(n=!0))}return n}const tP=new WeakMap;function Nv(r,e,t=!1){const n=t?tP:e.propsCache,i=n.get(r);if(i)return i;const o=r.props,a={},s=[];let l=!1;if(!De(r)){const u=d=>{l=!0;const[h,p]=Nv(d,e,!0);rr(a,h),p&&s.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!o&&!l)return ot(r)&&n.set(r,Po),Po;if(Se(o))for(let u=0;u<o.length;u++){const d=mn(o[u]);hm(d)&&(a[d]=nt)}else if(o)for(const u in o){const d=mn(u);if(hm(d)){const h=o[u],p=a[d]=Se(h)||De(h)?{type:h}:rr({},h),f=p.type;let y=!1,m=!0;if(Se(f))for(let b=0;b<f.length;++b){const k=f[b],C=De(k)&&k.name;if(C==="Boolean"){y=!0;break}else C==="String"&&(m=!1)}else y=De(f)&&f.name==="Boolean";p[0]=y,p[1]=m,(y||Je(p,"default"))&&s.push(d)}}const c=[a,s];return ot(r)&&n.set(r,c),c}function hm(r){return r[0]!=="$"&&!Ca(r)}const Fp=r=>r==="_"||r==="_ctx"||r==="$stable",jp=r=>Se(r)?r.map(Jr):[Jr(r)],rP=(r,e,t)=>{if(e._n)return e;const n=mA((...i)=>jp(e(...i)),t);return n._c=!1,n},Dv=(r,e,t)=>{const n=r._ctx;for(const i in r){if(Fp(i))continue;const o=r[i];if(De(o))e[i]=rP(i,o,n);else if(o!=null){const a=jp(o);e[i]=()=>a}}},Ov=(r,e)=>{const t=jp(e);r.slots.default=()=>t},Rv=(r,e,t)=>{for(const n in e)(t||!Fp(n))&&(r[n]=e[n])},nP=(r,e,t)=>{const n=r.slots=Iv();if(r.vnode.shapeFlag&32){const i=e._;i?(Rv(n,e,t),t&&Vy(n,"_",i,!0)):Dv(e,n)}else e&&Ov(r,e)},iP=(r,e,t)=>{const{vnode:n,slots:i}=r;let o=!0,a=nt;if(n.shapeFlag&32){const s=e._;s?t&&s===1?o=!1:Rv(i,e,t):(o=!e.$stable,Dv(e,i)),a=e}else e&&(Ov(r,e),a={default:1});if(o)for(const s in i)!Fp(s)&&a[s]==null&&delete i[s]},dr=lP;function jN(r){return oP(r)}function oP(r,e){const t=Oc();t.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=pn,insertStaticContent:f}=r,y=(x,w,S,$=null,P=null,z=null,H=void 0,K=null,Z=!!w.dynamicChildren)=>{if(x===w)return;x&&!fa(x,w)&&($=Qe(x),rt(x,P,z,!0),x=null),w.patchFlag===-2&&(Z=!1,w.dynamicChildren=null);const{type:N,ref:me,shapeFlag:re}=w;switch(N){case $c:m(x,w,S,$);break;case mi:b(x,w,S,$);break;case Hu:x==null&&k(w,S,$,H);break;case _n:j(x,w,S,$,P,z,H,K,Z);break;default:re&1?E(x,w,S,$,P,z,H,K,Z):re&6?te(x,w,S,$,P,z,H,K,Z):(re&64||re&128)&&N.process(x,w,S,$,P,z,H,K,Z,Y)}me!=null&&P?Sa(me,x&&x.ref,z,w||x,!w):me==null&&x&&x.ref!=null&&Sa(x.ref,null,z,x,!0)},m=(x,w,S,$)=>{if(x==null)n(w.el=s(w.children),S,$);else{const P=w.el=x.el;w.children!==x.children&&c(P,w.children)}},b=(x,w,S,$)=>{x==null?n(w.el=l(w.children||""),S,$):w.el=x.el},k=(x,w,S,$)=>{[x.el,x.anchor]=f(x.children,w,S,$,x.el,x.anchor)},C=({el:x,anchor:w},S,$)=>{let P;for(;x&&x!==w;)P=h(x),n(x,S,$),x=P;n(w,S,$)},T=({el:x,anchor:w})=>{let S;for(;x&&x!==w;)S=h(x),i(x),x=S;i(w)},E=(x,w,S,$,P,z,H,K,Z)=>{if(w.type==="svg"?H="svg":w.type==="math"&&(H="mathml"),x==null)R(w,S,$,P,z,H,K,Z);else{const N=x.el&&x.el._isVueCE?x.el:null;try{N&&N._beginPatch(),ne(x,w,P,z,H,K,Z)}finally{N&&N._endPatch()}}},R=(x,w,S,$,P,z,H,K)=>{let Z,N;const{props:me,shapeFlag:re,transition:J,dirs:ae}=x;if(Z=x.el=a(x.type,z,me&&me.is,me),re&8?u(Z,x.children):re&16&&se(x.children,Z,null,$,P,Vu(x,z),H,K),ae&&Ti(x,null,$,"created"),F(Z,x,x.scopeId,H,$),me){for(const ke in me)ke!=="value"&&!Ca(ke)&&o(Z,ke,null,me[ke],z,$);"value"in me&&o(Z,"value",null,me.value,z),(N=me.onVnodeBeforeMount)&&Qr(N,$,x)}ae&&Ti(x,null,$,"beforeMount");const de=aP(P,J);de&&J.beforeEnter(Z),n(Z,w,S),((N=me&&me.onVnodeMounted)||de||ae)&&dr(()=>{N&&Qr(N,$,x),de&&J.enter(Z),ae&&Ti(x,null,$,"mounted")},P)},F=(x,w,S,$,P)=>{if(S&&p(x,S),$)for(let z=0;z<$.length;z++)p(x,$[z]);if(P){let z=P.subTree;if(w===z||zv(z.type)&&(z.ssContent===w||z.ssFallback===w)){const H=P.vnode;F(x,H,H.scopeId,H.slotScopeIds,P.parent)}}},se=(x,w,S,$,P,z,H,K,Z=0)=>{for(let N=Z;N<x.length;N++){const me=x[N]=K?Tn(x[N]):Jr(x[N]);y(null,me,w,S,$,P,z,H,K)}},ne=(x,w,S,$,P,z,H)=>{const K=w.el=x.el;let{patchFlag:Z,dynamicChildren:N,dirs:me}=w;Z|=x.patchFlag&16;const re=x.props||nt,J=w.props||nt;let ae;if(S&&Ci(S,!1),(ae=J.onVnodeBeforeUpdate)&&Qr(ae,S,w,x),me&&Ti(w,x,S,"beforeUpdate"),S&&Ci(S,!0),(re.innerHTML&&J.innerHTML==null||re.textContent&&J.textContent==null)&&u(K,""),N?fe(x.dynamicChildren,N,K,S,$,Vu(w,P),z):H||pe(x,w,K,null,S,$,Vu(w,P),z,!1),Z>0){if(Z&16)U(K,re,J,S,P);else if(Z&2&&re.class!==J.class&&o(K,"class",null,J.class,P),Z&4&&o(K,"style",re.style,J.style,P),Z&8){const de=w.dynamicProps;for(let ke=0;ke<de.length;ke++){const le=de[ke],Te=re[le],Le=J[le];(Le!==Te||le==="value")&&o(K,le,Te,Le,P,S)}}Z&1&&x.children!==w.children&&u(K,w.children)}else!H&&N==null&&U(K,re,J,S,P);((ae=J.onVnodeUpdated)||me)&&dr(()=>{ae&&Qr(ae,S,w,x),me&&Ti(w,x,S,"updated")},$)},fe=(x,w,S,$,P,z,H)=>{for(let K=0;K<w.length;K++){const Z=x[K],N=w[K],me=Z.el&&(Z.type===_n||!fa(Z,N)||Z.shapeFlag&198)?d(Z.el):S;y(Z,N,me,null,$,P,z,H,!0)}},U=(x,w,S,$,P)=>{if(w!==S){if(w!==nt)for(const z in w)!Ca(z)&&!(z in S)&&o(x,z,w[z],null,P,$);for(const z in S){if(Ca(z))continue;const H=S[z],K=w[z];H!==K&&z!=="value"&&o(x,z,K,H,P,$)}"value"in S&&o(x,"value",w.value,S.value,P)}},j=(x,w,S,$,P,z,H,K,Z)=>{const N=w.el=x?x.el:s(""),me=w.anchor=x?x.anchor:s("");let{patchFlag:re,dynamicChildren:J,slotScopeIds:ae}=w;ae&&(K=K?K.concat(ae):ae),x==null?(n(N,S,$),n(me,S,$),se(w.children||[],S,me,P,z,H,K,Z)):re>0&&re&64&&J&&x.dynamicChildren&&x.dynamicChildren.length===J.length?(fe(x.dynamicChildren,J,S,P,z,H,K),(w.key!=null||P&&w===P.subTree)&&Fv(x,w,!0)):pe(x,w,S,me,P,z,H,K,Z)},te=(x,w,S,$,P,z,H,K,Z)=>{w.slotScopeIds=K,x==null?w.shapeFlag&512?P.ctx.activate(w,S,$,H,Z):O(w,S,$,P,z,H,Z):q(x,w,Z)},O=(x,w,S,$,P,z,H)=>{const K=x.component=vP(x,$,P);if(bv(x)&&(K.ctx.renderer=Y),kP(K,!1,H),K.asyncDep){if(P&&P.registerDep(K,ce,H),!x.el){const Z=K.subTree=Pn(mi);b(null,Z,w,S),x.placeholder=Z.el}}else ce(K,x,w,S,P,z,H)},q=(x,w,S)=>{const $=w.component=x.component;if(QA(x,w,S))if($.asyncDep&&!$.asyncResolved){W($,w,S);return}else $.next=w,$.update();else w.el=x.el,$.vnode=w},ce=(x,w,S,$,P,z,H)=>{const K=()=>{if(x.isMounted){let{next:re,bu:J,u:ae,parent:de,vnode:ke}=x;{const Ze=jv(x);if(Ze){re&&(re.el=ke.el,W(x,re,H)),Ze.asyncDep.then(()=>{dr(()=>{x.isUnmounted||N()},P)});return}}let le=re,Te;Ci(x,!1),re?(re.el=ke.el,W(x,re,H)):re=ke,J&&ju(J),(Te=re.props&&re.props.onVnodeBeforeUpdate)&&Qr(Te,de,re,ke),Ci(x,!0);const Le=um(x),$e=x.subTree;x.subTree=Le,y($e,Le,d($e.el),Qe($e),x,P,z),re.el=Le.el,le===null&&XA(x,Le.el),ae&&dr(ae,P),(Te=re.props&&re.props.onVnodeUpdated)&&dr(()=>Qr(Te,de,re,ke),P)}else{let re;const{el:J,props:ae}=w,{bm:de,m:ke,parent:le,root:Te,type:Le}=x,$e=La(w);Ci(x,!1),de&&ju(de),!$e&&(re=ae&&ae.onVnodeBeforeMount)&&Qr(re,le,w),Ci(x,!0);{Te.ce&&Te.ce._hasShadowRoot()&&Te.ce._injectChildStyle(Le);const Ze=x.subTree=um(x);y(null,Ze,S,$,x,P,z),w.el=Ze.el}if(ke&&dr(ke,P),!$e&&(re=ae&&ae.onVnodeMounted)){const Ze=w;dr(()=>Qr(re,le,Ze),P)}(w.shapeFlag&256||le&&La(le.vnode)&&le.vnode.shapeFlag&256)&&x.a&&dr(x.a,P),x.isMounted=!0,w=S=$=null}};x.scope.on();const Z=x.effect=new Wy(K);x.scope.off();const N=x.update=Z.run.bind(Z),me=x.job=Z.runIfDirty.bind(Z);me.i=x,me.id=x.uid,Z.scheduler=()=>Op(me),Ci(x,!0),N()},W=(x,w,S)=>{w.component=x;const $=x.vnode.props;x.vnode=w,x.next=null,eP(x,w.props,$,S),iP(x,w.children,S),qn(),rm(x),zn()},pe=(x,w,S,$,P,z,H,K,Z=!1)=>{const N=x&&x.children,me=x?x.shapeFlag:0,re=w.children,{patchFlag:J,shapeFlag:ae}=w;if(J>0){if(J&128){V(N,re,S,$,P,z,H,K,Z);return}else if(J&256){Ce(N,re,S,$,P,z,H,K,Z);return}}ae&8?(me&16&&bt(N,P,z),re!==N&&u(S,re)):me&16?ae&16?V(N,re,S,$,P,z,H,K,Z):bt(N,P,z,!0):(me&8&&u(S,""),ae&16&&se(re,S,$,P,z,H,K,Z))},Ce=(x,w,S,$,P,z,H,K,Z)=>{x=x||Po,w=w||Po;const N=x.length,me=w.length,re=Math.min(N,me);let J;for(J=0;J<re;J++){const ae=w[J]=Z?Tn(w[J]):Jr(w[J]);y(x[J],ae,S,null,P,z,H,K,Z)}N>me?bt(x,P,z,!0,!1,re):se(w,S,$,P,z,H,K,Z,re)},V=(x,w,S,$,P,z,H,K,Z)=>{let N=0;const me=w.length;let re=x.length-1,J=me-1;for(;N<=re&&N<=J;){const ae=x[N],de=w[N]=Z?Tn(w[N]):Jr(w[N]);if(fa(ae,de))y(ae,de,S,null,P,z,H,K,Z);else break;N++}for(;N<=re&&N<=J;){const ae=x[re],de=w[J]=Z?Tn(w[J]):Jr(w[J]);if(fa(ae,de))y(ae,de,S,null,P,z,H,K,Z);else break;re--,J--}if(N>re){if(N<=J){const ae=J+1,de=ae<me?w[ae].el:$;for(;N<=J;)y(null,w[N]=Z?Tn(w[N]):Jr(w[N]),S,de,P,z,H,K,Z),N++}}else if(N>J)for(;N<=re;)rt(x[N],P,z,!0),N++;else{const ae=N,de=N,ke=new Map;for(N=de;N<=J;N++){const tt=w[N]=Z?Tn(w[N]):Jr(w[N]);tt.key!=null&&ke.set(tt.key,N)}let le,Te=0;const Le=J-de+1;let $e=!1,Ze=0;const gt=new Array(Le);for(N=0;N<Le;N++)gt[N]=0;for(N=ae;N<=re;N++){const tt=x[N];if(Te>=Le){rt(tt,P,z,!0);continue}let Fe;if(tt.key!=null)Fe=ke.get(tt.key);else for(le=de;le<=J;le++)if(gt[le-de]===0&&fa(tt,w[le])){Fe=le;break}Fe===void 0?rt(tt,P,z,!0):(gt[Fe-de]=N+1,Fe>=Ze?Ze=Fe:$e=!0,y(tt,w[Fe],S,null,P,z,H,K,Z),Te++)}const Ht=$e?sP(gt):Po;for(le=Ht.length-1,N=Le-1;N>=0;N--){const tt=de+N,Fe=w[tt],Ot=w[tt+1],At=tt+1<me?Ot.el||qv(Ot):$;gt[N]===0?y(null,Fe,S,At,P,z,H,K,Z):$e&&(le<0||N!==Ht[le]?_t(Fe,S,At,2):le--)}}},_t=(x,w,S,$,P=null)=>{const{el:z,type:H,transition:K,children:Z,shapeFlag:N}=x;if(N&6){_t(x.component.subTree,w,S,$);return}if(N&128){x.suspense.move(w,S,$);return}if(N&64){H.move(x,w,S,Y);return}if(H===_n){n(z,w,S);for(let re=0;re<Z.length;re++)_t(Z[re],w,S,$);n(x.anchor,w,S);return}if(H===Hu){C(x,w,S);return}if($!==2&&N&1&&K)if($===0)K.beforeEnter(z),n(z,w,S),dr(()=>K.enter(z),P);else{const{leave:re,delayLeave:J,afterLeave:ae}=K,de=()=>{x.ctx.isUnmounted?i(z):n(z,w,S)},ke=()=>{z._isLeaving&&z[_A](!0),re(z,()=>{de(),ae&&ae()})};J?J(z,de,ke):ke()}else n(z,w,S)},rt=(x,w,S,$=!1,P=!1)=>{const{type:z,props:H,ref:K,children:Z,dynamicChildren:N,shapeFlag:me,patchFlag:re,dirs:J,cacheIndex:ae}=x;if(re===-2&&(P=!1),K!=null&&(qn(),Sa(K,null,S,x,!0),zn()),ae!=null&&(w.renderCache[ae]=void 0),me&256){w.ctx.deactivate(x);return}const de=me&1&&J,ke=!La(x);let le;if(ke&&(le=H&&H.onVnodeBeforeUnmount)&&Qr(le,w,x),me&6)kt(x.component,S,$);else{if(me&128){x.suspense.unmount(S,$);return}de&&Ti(x,null,w,"beforeUnmount"),me&64?x.type.remove(x,w,S,Y,$):N&&!N.hasOnce&&(z!==_n||re>0&&re&64)?bt(N,w,S,!1,!0):(z===_n&&re&384||!P&&me&16)&&bt(Z,w,S),$&&Ct(x)}(ke&&(le=H&&H.onVnodeUnmounted)||de)&&dr(()=>{le&&Qr(le,w,x),de&&Ti(x,null,w,"unmounted")},S)},Ct=x=>{const{type:w,el:S,anchor:$,transition:P}=x;if(w===_n){ir(S,$);return}if(w===Hu){T(x);return}const z=()=>{i(S),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(x.shapeFlag&1&&P&&!P.persisted){const{leave:H,delayLeave:K}=P,Z=()=>H(S,z);K?K(x.el,z,Z):Z()}else z()},ir=(x,w)=>{let S;for(;x!==w;)S=h(x),i(x),x=S;i(w)},kt=(x,w,S)=>{const{bum:$,scope:P,job:z,subTree:H,um:K,m:Z,a:N}=x;pm(Z),pm(N),$&&ju($),P.stop(),z&&(z.flags|=8,rt(H,x,w,S)),K&&dr(K,w),dr(()=>{x.isUnmounted=!0},w)},bt=(x,w,S,$=!1,P=!1,z=0)=>{for(let H=z;H<x.length;H++)rt(x[H],w,S,$,P)},Qe=x=>{if(x.shapeFlag&6)return Qe(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const w=h(x.anchor||x.el),S=w&&w[xA];return S?h(S):w};let et=!1;const je=(x,w,S)=>{let $;x==null?w._vnode&&(rt(w._vnode,null,null,!0),$=w._vnode.component):y(w._vnode||null,x,w,null,null,null,S),w._vnode=x,et||(et=!0,rm($),gv(),et=!1)},Y={p:y,um:rt,m:_t,r:Ct,mt:O,mc:se,pc:pe,pbc:fe,n:Qe,o:r};return{render:je,hydrate:void 0,createApp:VA(je)}}function Vu({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ci({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function aP(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Fv(r,e,t=!1){const n=r.children,i=e.children;if(Se(n)&&Se(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Tn(i[o]),s.el=a.el),!t&&s.patchFlag!==-2&&Fv(a,s)),s.type===$c&&(s.patchFlag===-1&&(s=i[o]=Tn(s)),s.el=a.el),s.type===mi&&!s.el&&(s.el=a.el)}}function sP(r){const e=r.slice(),t=[0];let n,i,o,a,s;const l=r.length;for(n=0;n<l;n++){const c=r[n];if(c!==0){if(i=t[t.length-1],r[i]<c){e[n]=i,t.push(n);continue}for(o=0,a=t.length-1;o<a;)s=o+a>>1,r[t[s]]<c?o=s+1:a=s;c<r[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,a=t[o-1];o-- >0;)t[o]=a,a=e[a];return t}function jv(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jv(e)}function pm(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}function qv(r){if(r.placeholder)return r.placeholder;const e=r.component;return e?qv(e.subTree):null}const zv=r=>r.__isSuspense;function lP(r,e){e&&e.pendingBranch?Se(r)?e.effects.push(...r):e.effects.push(r):fA(r)}const _n=Symbol.for("v-fgt"),$c=Symbol.for("v-txt"),mi=Symbol.for("v-cmt"),Hu=Symbol.for("v-stc"),Aa=[];let xr=null;function cP(r=!1){Aa.push(xr=r?null:[])}function uP(){Aa.pop(),xr=Aa[Aa.length-1]||null}let es=1;function gm(r,e=!1){es+=r,r<0&&xr&&e&&(xr.hasOnce=!0)}function $v(r){return r.dynamicChildren=es>0?xr||Po:null,uP(),es>0&&xr&&xr.push(r),r}function qN(r,e,t,n,i,o){return $v(Bv(r,e,t,n,i,o,!0))}function dP(r,e,t,n,i){return $v(Pn(r,e,t,n,i,!0))}function Uv(r){return r?r.__v_isVNode===!0:!1}function fa(r,e){return r.type===e.type&&r.key===e.key}const Gv=({key:r})=>r??null,dl=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?nr(r)||zt(r)||De(r)?{i:br,r,k:e,f:!!t}:r:null);function Bv(r,e=null,t=null,n=0,i=null,o=r===_n?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&Gv(e),ref:e&&dl(e),scopeId:mv,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:br};return s?(qp(l,t),o&128&&r.normalize(l)):t&&(l.shapeFlag|=nr(t)?8:16),es>0&&!a&&xr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xr.push(l),l}const Pn=hP;function hP(r,e=null,t=null,n=0,i=null,o=!1){if((!r||r===_v)&&(r=mi),Uv(r)){const s=jo(r,e,!0);return t&&qp(s,t),es>0&&!o&&xr&&(s.shapeFlag&6?xr[xr.indexOf(r)]=s:xr.push(s)),s.patchFlag=-2,s}if(TP(r)&&(r=r.__vccOpts),e){e=pP(e);let{class:s,style:l}=e;s&&!nr(s)&&(e.class=Ep(s)),ot(l)&&(Fc(l)&&!Se(l)&&(l=rr({},l)),e.style=Cp(l))}const a=nr(r)?1:zv(r)?128:wA(r)?64:ot(r)?4:De(r)?2:0;return Bv(r,e,t,n,i,a,o,!0)}function pP(r){return r?Fc(r)||Av(r)?rr({},r):r:null}function jo(r,e,t=!1,n=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=r,c=e?fP(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&Gv(c),ref:e&&e.ref?t&&o?Se(o)?o.concat(dl(e)):[o,dl(e)]:dl(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==_n?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:l,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&jo(r.ssContent),ssFallback:r.ssFallback&&jo(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return l&&n&&Rp(u,l.clone(u)),u}function gP(r=" ",e=0){return Pn($c,null,r,e)}function zN(r="",e=!1){return e?(cP(),dP(mi,null,r)):Pn(mi,null,r)}function Jr(r){return r==null||typeof r=="boolean"?Pn(mi):Se(r)?Pn(_n,null,r.slice()):Uv(r)?Tn(r):Pn($c,null,String(r))}function Tn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:jo(r)}function qp(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Se(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),qp(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Av(e)?e._ctx=br:i===3&&br&&(br.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:br},t=32):(e=String(e),n&64?(t=16,e=[gP(e)]):t=8);r.children=e,r.shapeFlag|=t}function fP(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ep([e.class,n.class]));else if(i==="style")e.style=Cp([e.style,n.style]);else if(wp(i)){const o=e[i],a=n[i];a&&o!==a&&!(Se(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=n[i])}return e}function Qr(r,e,t,n=null){Un(r,e,7,[t,n])}const mP=Ev();let yP=0;function vP(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||mP,o={uid:yP++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nv(n,i),emitsOptions:Mv(n,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:n.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=ZA.bind(null,o),r.ce&&r.ce(o),o}let er=null;const Uc=()=>er||br;let Hl,Wd;{const r=Oc(),e=(t,n)=>{let i;return(i=r[t])||(i=r[t]=[]),i.push(n),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};Hl=e("__VUE_INSTANCE_SETTERS__",t=>er=t),Wd=e("__VUE_SSR_SETTERS__",t=>ts=t)}const vs=r=>{const e=er;return Hl(r),r.scope.on(),()=>{r.scope.off(),Hl(e)}},fm=()=>{er&&er.scope.off(),Hl(null)};function Vv(r){return r.vnode.shapeFlag&4}let ts=!1;function kP(r,e=!1,t=!1){e&&Wd(e);const{props:n,children:i}=r.vnode,o=Vv(r);JA(r,n,o,e),nP(r,i,t||e);const a=o?bP(r,e):void 0;return e&&Wd(!1),a}function bP(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,jA);const{setup:n}=t;if(n){qn();const i=r.setupContext=n.length>1?wP(r):null,o=vs(r),a=ys(n,r,0,[r.props,i]),s=Uy(a);if(zn(),o(),(s||r.sp)&&!La(r)&&kv(r),s){if(a.then(fm,fm),e)return a.then(l=>{mm(r,l)}).catch(l=>{jc(l,r,0)});r.asyncDep=a}else mm(r,a)}else Hv(r)}function mm(r,e,t){De(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:ot(e)&&(r.setupState=dv(e)),Hv(r)}function Hv(r,e,t){const n=r.type;r.render||(r.render=n.render||pn);{const i=vs(r);qn();try{qA(r)}finally{zn(),i()}}}const xP={get(r,e){return Xt(r,"get",""),r[e]}};function wP(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,xP),slots:r.slots,emit:r.emit,expose:e}}function Gc(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(dv(rA(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ia)return Ia[t](r)},has(e,t){return t in e||t in Ia}})):r.proxy}function _P(r,e=!0){return De(r)?r.displayName||r.name:r.name||e&&r.__name}function TP(r){return De(r)&&"__vccOpts"in r}const CP=(r,e)=>cA(r,e,ts),EP="3.5.28";export{cN as $,ms as A,mp as B,JE as C,ur as D,eM as E,Tp as F,TN as G,Un as H,Mp as I,cr as J,dN as K,ju as L,mN as M,MN as N,LN as O,rA as P,ul as Q,PN as R,Np as S,gN as T,zt as U,Gi as V,kN as W,dy as X,Ye as Y,OI as Z,fN as _,Bv as a,SN as a0,pA as a1,IN as a2,CP as a3,Gu as a4,ON as a5,uN as a6,_n as a7,zN as a8,Ep as a9,DI as aa,uv as ab,DN as ac,FN as ad,AN as ae,dP as af,gP as ag,RN as ah,rM as ai,hN as b,qN as c,NN as d,pN as e,xN as f,z6 as g,wN as h,De as i,jN as j,Ic as k,nr as l,rr as m,wp as n,cP as o,zy as p,_N as q,CN as r,Be as s,mn as t,EN as u,td as v,jn as w,_x as x,Se as y,yN as z};
