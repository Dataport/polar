import{i as s}from"./Feature-DNujdKX6-DPKx2Wrc.js";import"./pinia-CbxOPHy1-Ds7GYo7H.js";import"./vue.runtime.esm-bundler-x5GycwNE-C2i-EXPZ.js";import"./index-Jm_6oqP4-CS9u4XLK.js";import"./asserts-BSy1ujn8-CTfb8-hw.js";function o(a,t){const e=Object.fromEntries(["Y","M","D"].map(r=>[r,""]));return t.split("").forEach((r,n)=>{r in e&&typeof e[r]=="string"&&(e[r]+=a[n]||"")}),new Date(Number(e.Y),Number(e.M)-1,Number(e.D))}if(import.meta.vitest){const{expect:a,test:t}=import.meta.vitest;t.for([{date:"2025-07-01",pattern:"YYYY-MM-DD",expected:new Date("Jul 1, 2025")},{date:"202-521-12X",pattern:"YYY-YDM-MD-",expected:new Date("Nov 22, 2025")},{date:"2026-01",pattern:"YYYY-MM-DD",expected:new Date("Dec 31, 2025")}])("parseDateWithPattern works as expected",({date:e,pattern:r,expected:n})=>{a(o(e,r)).toEqual(n)})}function i(a,t){return!(t.knownValues&&!Object.entries(t.knownValues).every(([e,r])=>r[a.get(e)])||t.timeSpan&&!Object.entries(t.timeSpan).every(([e,r])=>{const n=o(a.get(e),r.pattern);return n>=r.from&&n<r.until}))}if(import.meta.vitest){const{expect:a,test:t}=import.meta.vitest,e=new s;e.set("category","blue"),e.set("time","2025-01-01"),t("a feature passes an empty filter",()=>{a(i(e,{})).toBeTruthy()}),t("a feature passes the category filter",()=>{a(i(e,{knownValues:{category:{blue:!0}}})).toBeTruthy()}),t("a feature fails the category filter",()=>{a(i(e,{knownValues:{category:{red:!0}}})).toBeFalsy()}),t("a feature passes the time filter",()=>{a(i(e,{timeSpan:{time:{pattern:"YYYY-MM-DD",from:new Date("Jan 1, 2024"),until:new Date("Dec 31, 2026")}}})).toBeTruthy()}),t("a feature fails the time filter",()=>{a(i(e,{timeSpan:{time:{pattern:"YYYY-MM-DD",from:new Date("Jan 1, 2024"),until:new Date("Dec 31, 2024")}}})).toBeFalsy()}),t("a feature fails one out of two filters",()=>{a(i(e,{knownValues:{category:{blue:!0},misc:{yes:!0}}})).toBeFalsy()})}export{i as doesFeaturePassFilter};
