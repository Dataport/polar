const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pinia-DFMOV6lD-BZLsqLPB.js","./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js","./invisibleStyle-disvIazK-BcRg_BHd.js","./index-CIQePl65-COpu5ilW.js","./Style-CC5j0Z4t-D785IqXS.js","./asserts-segPWjJo-pcJD3tIw.js","./xml2js-DjsFtvPy-CazYFt_-.js","./doesFeaturePassFilter-nD_k0aUS-Be9P_n6W.js"])))=>i.map(i=>d[i]);
import{computed as fe,toRaw as sn,ref as at,watch as At,defineCustomElement as ay,nextTick as Ys,defineComponent as Fe,shallowRef as sy,inject as Ug,useCssVars as ly,useTemplateRef as Un,createElementBlock as de,onMounted as ao,useHost as cy,useShadowRoot as uy,onBeforeUnmount as Zs,openBlock as B,createVNode as ki,createBlock as qe,createCommentVNode as Nt,unref as Z,createElementVNode as _e,Fragment as vt,resolveDynamicComponent as Bt,normalizeClass as ft,toDisplayString as ut,withModifiers as qn,onUnmounted as dy,markRaw as ai,withCtx as fs,Transition as hy,renderList as Kt,renderSlot as py,useModel as $n,withDirectives as ma,vModelSelect as gy,mergeProps as Fc,mergeModels as so,useId as fa,vModelCheckbox as $g,withKeys as ys,vModelRadio as my,createTextVNode as fy,vModelText as yy,provide as vy,normalizeStyle as Go,onScopeDispose as Gg}from"./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js";import{p as hr,t as Ht,T as ky,u as jr,v as bi,o as pe,A as by,n as ya,W as ct,b as ln,D as ju,F as Bg,I as Bo,K as qr,L as qt,N as pn,O as xy,P as wy,Q as _y,R as Nh,_ as si,g as zc,l as va,a0 as Eo,a1 as Ty,a2 as Oh,a3 as Ey,i as li,a4 as Vg,a5 as My,h as Cy,a6 as Sy,a7 as Ly,a8 as Ph,a9 as Iy,aa as Ay,x as ka,ab as Ny,ac as ba,ad as Oy,ae as Py,af as Dy,ag as Ry,ah as Uc,ai as jy,aj as qy,ak as Hg,al as Fy,j as xi,am as zy,an as Yg,ao as Uy,ap as $y,aq as Gy,ar as By,as as Zg,at as Wg,au as Kg,av as Vy,aw as Hy,ax as Qg,E as Gn,ay as Yy,az as Zy,aA as Wy,aB as Ky,aC as Qy,aD as Xy,aE as Jy,aF as qu,aG as vs,aH as Xg,aI as Jg,k as Hn,aJ as ev,r as lo,G as tv,aK as rv,aL as e0,aM as t0,aN as nv,aO as wi,aP as er,aQ as It,aR as ks,aS as iv,M as Ws,w as Fu,U as ov,aT as Vo,$ as kr,aU as ci,aV as Ze,aW as Ks,aX as zu,aY as av,aZ as Uu,a_ as sv,a$ as bs,b0 as lv,b1 as cv,b2 as uv,B as r0,b3 as co,b4 as Ga,b5 as $c,b6 as n0,b7 as Ho,b8 as dv,b9 as i0,ba as xs,bb as hv,bc as Ai,bd as Dh,be as pv,bf as o0,bg as uo,bh as a0,Y as gr,bi as xa,bj as Rh,bk as sr,bl as s0,bm as $u,bn as gv,bo as l0,bp as Er,bq as Xl,br as Jl,bs as jh,bt as cn,bu as c0,bv as nn,z as mv,c as fv,bw as yv,bx as vv,S as Yo,by as u0,bz as kv,d as bv,s as _i,bA as ec,bB as xv,bC as wv,bD as _v,bE as qh,bF as Tv,bG as d0,bH as Ev,bI as Mv,bJ as Cv,bK as Sv,bL as Lv,bM as Iv,bN as Fh,bO as Av,bP as Nv,bQ as Ov,bR as Pv,bS as Dv,bT as to,bU as Qs,bV as Rv,bW as us,bX as h0,bY as p0,bZ as jv,b_ as Ur,b$ as qv,c0 as Gc,c1 as g0,c2 as Fv,c3 as m0,c4 as zv,c5 as Bc,c6 as Gu,c7 as Uv,c8 as zh,c9 as Uh,ca as tc,cb as $h,cc as Gh,cd as Bh,ce as ho,cf as $v,cg as Gv,ch as Bv,ci as Ao,cj as Vv,ck as ws,cl as f0,cm as Hv,cn as Yv,a as Zv,co as Wv}from"./index-CIQePl65-COpu5ilW.js";import{defineStore as Mi,createPinia as Kv,storeToRefs as dt}from"./pinia-DFMOV6lD-BZLsqLPB.js";import{_ as Zo,g as y0,v as Qv,a1 as Bu,a2 as Xv,a3 as Jv,a4 as v0,a5 as ek,a6 as tk,C as Mt,D as mr,k as Fr,a7 as Xs,u as pt,a8 as Pn,a as Dn,a9 as rk,y as k0,aa as Gi,ab as Vu,j as Bi,b as ri,ac as b0,ad as Vh,n as x0,R as nk,w as ik,ae as Js,af as ok,ag as Hh,ah as el,ai as Ba,aj as Hu,ak as Yh,al as Zh,am as w0,I as Yu,X as ak}from"./Style-CC5j0Z4t-D785IqXS.js";import{K as ir,U as gt,f as _0,F as wt,x as it,c as We,L as Oe,y as Wo,p as Ct,P as Ko,V as po,D as Qo,E as Yn,A as Zu,B as wa,S as T0,O as Wu,g as E0,j as sk,N as lk,w as Dr,R as ck,G as M0}from"./asserts-segPWjJo-pcJD3tIw.js";import{i as Ti,s as uk}from"./doesFeaturePassFilter-nD_k0aUS-Be9P_n6W.js";import{F as dk}from"./xml2js-DjsFtvPy-CazYFt_-.js";import{l as hk,y as pk,n as gk}from"./invisibleStyle-disvIazK-BcRg_BHd.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const st=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t};function Ku(r,e){const t=(""+r).split("."),n=(""+e).split(".");for(let i=0;i<Math.max(t.length,n.length);i++){const o=parseInt(t[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}const Vc="http://www.w3.org/2001/XMLSchema-instance";function Ee(r,e){return Qu().createElementNS(r,e)}function Ei(r,e){return C0(r,e,[]).join("")}function C0(r,e,t){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)t.push(r.nodeValue);else{let n;for(n=r.firstChild;n;n=n.nextSibling)C0(n,e,t)}return t}function ni(r){return"documentElement"in r}function mk(r,e,t){return r.getAttributeNS(e,t)||""}function ii(r){return new DOMParser().parseFromString(r,"application/xml")}function S0(r,e){return(function(t,n){const i=r.call(this,t,n);if(i!==void 0){const o=n[n.length-1];ir(o,i)}})}function ve(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&n[n.length-1].push(i)})}function me(r,e){return(function(t,n){const i=r.call(e??this,t,n);i!==void 0&&(n[n.length-1]=i)})}function Yt(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=n.localName;let l;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}})}function ne(r,e,t){return(function(n,i){const o=r.call(this,n,i);if(o!==void 0){const a=i[i.length-1],s=e!==void 0?e:n.localName;a[s]=o}})}function I(r,e){return(function(t,n,i){r.call(e??this,t,n,i),i[i.length-1].node.appendChild(t)})}function or(r,e){return(function(t,n,i){const o=n[n.length-1].node;let a=r;a===void 0&&(a=i);const s=e!==void 0?e:o.namespaceURI;return Ee(s,a)})}const L0=or();function Ge(r,e,t){t=t!==void 0?t:{};let n,i;for(n=0,i=r.length;n<i;++n)t[r[n]]=e;return t}function ui(r,e,t,n){let i;for(i=e.firstElementChild;i;i=i.nextElementSibling){const o=r[i.namespaceURI];if(o!==void 0){const a=o[i.localName];a!==void 0&&a.call(n,i,t)}}}function ue(r,e,t,n,i){return n.push(r),ui(e,t,n,i),n.pop()}function fk(r,e,t,n,i,o){const a=(i!==void 0?i:t).length;let s,l;for(let c=0;c<a;++c)s=t[c],s!==void 0&&(l=e.call(o,s,n,i!==void 0?i[c]:void 0),l!==void 0&&r[l.namespaceURI][l.localName].call(o,l,s,n))}function lt(r,e,t,n,i,o,a){return i.push(r),fk(e,t,n,i,o,a),i.pop()}let rc;function yk(){return rc===void 0&&typeof XMLSerializer<"u"&&(rc=new XMLSerializer),rc}let nc;function Qu(){return nc===void 0&&typeof document<"u"&&(nc=document.implementation.createDocument("","",null)),nc}let I0=class{read(e){if(!e)return null;if(typeof e=="string"){const t=ii(e);return this.readFromDocument(t)}return ni(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){gt()}};const vk="http://www.w3.org/1999/xlink";function Xu(r){return r.getAttributeNS(vk,"href")}function L8(r){const e=/^\s*(true|1)|(false|0)\s*$/.exec(r);if(e)return e[1]!==void 0||!1}function kk(r){const e=Ei(r,!1);return bk(e)}function bk(r){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r);if(e)return parseFloat(e[1])}function Zt(r){const e=Ei(r,!1);return Vi(e)}function Vi(r){const e=/^\s*(\d+)\s*$/.exec(r);if(e)return parseInt(e[1],10)}function De(r){return Ei(r,!1).trim()}function xk(r,e){r.appendChild(Qu().createCDATASection(e))}const wk=/^\s/,_k=/\s$/,Tk=/(\n|\t|\r|<|&| {2})/;function yt(r,e){typeof e=="string"&&(wk.test(e)||_k.test(e)||Tk.test(e))?e.split("]]>").forEach((t,n,i)=>{n<i.length-1&&(t+="]]"),n>0&&(t=">"+t),xk(r,t)}):r.appendChild(Qu().createTextNode(e))}const Wt={ADD:"add",REMOVE:"remove"},Wh={LENGTH:"length"};let Va=class extends Yn{constructor(e,t,n){super(e),this.element=t,this.index=n}},fr=class extends po{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let n=1,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Wh.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Va(Wt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Va(Wt.REMOVE,t,e)),t}setAt(e,t){const n=this.getLength();if(e>=n){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Va(Wt.REMOVE,i,e)),this.dispatchEvent(new Va(Wt.ADD,t,e))}updateLength_(){this.set(Wh.LENGTH,this.array_.length)}assertUnique_(e,t){const n=this.array_;for(let i=0,o=n.length;i<o;++i)if(n[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},Ek=!1;function A0(r,e,t,n,i,o,a){const s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(t,n,i):r,!0),e.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=Ek,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=s.responseText:c=="xml"?u=s.responseXML||s.responseText:c=="arraybuffer"&&(u=s.response),u?o(e.readFeatures(u,{extent:t,featureProjection:i}),e.readProjection(u)):a()}catch{a()}}else a()},s.onerror=a,s.send()}function Kh(r,e){return function(t,n,i,o,a){A0(r,e,t,n,i,(s,l)=>{this.addFeatures(s),o!==void 0&&o(s)},()=>{this.changed(),a!==void 0&&a()})}}function Mk(r,e){return[[-1/0,-1/0,1/0,1/0]]}function Yi(r,e){return[r]}let Qh=class{constructor(e){this.rbush_=new by(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[it(t)]=n}load(e,t){const n=new Array(t.length);for(let i=0,o=t.length;i<o;i++){const a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[it(s)]=l}this.rbush_.load(n)}remove(e){const t=it(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null}update(e,t){const n=this.items_[it(t)],i=[n.minX,n.minY,n.maxX,n.maxY];bi(i,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let i=0,o=e.length;i<o;i++)if(n=t(e[i]),n)return n;return n}isEmpty(){return Ko(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ya(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},go=class extends po{constructor(e){super(),this.projection=pe(e.projection),this.attributions_=Xh(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,i){t.viewResolver=n,t.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Xh(e),this.changed()}setState(e){this.state_=e,this.changed()}};function Xh(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),e=>r):null}let _n=class extends Yn{constructor(e,t,n){super(e),this.feature=t,this.features=n}},Mr=class extends go{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=_0,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(wt(this.format_,"`format` must be set when `url` is set"),this.loader_=Kh(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Mk;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Qh:null,this.loadedExtentsRtree_=new Qh,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let n,i;Array.isArray(e.features)?i=e.features:e.features&&(n=e.features,i=n.getArray()),!t&&n===void 0&&(n=new fr(i)),i!==void 0&&this.addFeaturesInternal(i),n!==void 0&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=it(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new _n(hr.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof Ht||(this.featureChangeKeys_[e]=[We(t,Oe.CHANGE,this.handleFeatureChange_,this),We(t,Wo.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(t.getId()!==void 0){const i=String(t.getId());if(!(i in this.idIndex_))this.idIndex_[i]=t;else if(t instanceof Ht){const o=this.idIndex_[i];o instanceof Ht?Array.isArray(o)?o.push(t):this.idIndex_[i]=[o,t]:n=!1}else n=!1}return n&&(wt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o],l=it(s);this.addToIndex_(l,s)&&n.push(s)}for(let o=0,a=n.length;o<a;o++){const s=n[o],l=it(s);this.setupChangeEvents_(l,s);const c=s.getGeometry();if(c){const u=c.getExtent();t.push(u),i.push(s)}else this.nullGeometryFeatures_[l]=s}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(hr.ADDFEATURE))for(let o=0,a=n.length;o<a;o++)this.dispatchEvent(new _n(hr.ADDFEATURE,n[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(hr.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(hr.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(Wt.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(Wt.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(Ct);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(n=>{this.removeFeatureInternal(n)});for(const n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new _n(hr.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(i){const o=i.getGeometry();if(o instanceof Ht||o.intersectsCoordinate(e))return t(i)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const i=n.getGeometry();if(i instanceof Ht||i.intersectsExtent(e)){const o=t(n);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Ko(this.nullGeometryFeatures_)||ir(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=ky(e,t);return[].concat(...n.map(i=>this.featuresRtree_.getInExtent(i)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],i=e[1];let o=null;const a=[NaN,NaN];let s=1/0;const l=[-1/0,-1/0,1/0,1/0];return t=t||Qo,this.featuresRtree_.forEachInExtent(l,function(c){if(t(c)){const u=c.getGeometry(),d=s;if(s=u instanceof Ht?0:u.closestPointXY(n,i,a,s),s<d){o=c;const h=Math.sqrt(s);l[0]=n-h,l[1]=i-h,l[2]=n+h,l[3]=i+h}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=it(t),i=t.getGeometry();if(!i)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{const a=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(a,t)):this.featuresRtree_&&this.featuresRtree_.update(a,t)}const o=t.getId();if(o!==void 0){const a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new _n(hr.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:it(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ko(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,n){const i=this.loadedExtentsRtree_,o=this.strategy_(e,t,n);for(let a=0,s=o.length;a<s;++a){const l=o[a];i.forEachInExtent(l,function(c){return jr(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _n(hr.FEATURESLOADSTART)),this.loader_.call(this,l,t,n,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new _n(hr.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _n(hr.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(i){if(bi(i.extent,e))return i});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,i=e.length;n<i;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=it(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Ct),delete this.featureChangeKeys_[t];const n=e.getId();if(n!==void 0){const i=n.toString(),o=this.idIndex_[i];o===e?delete this.idIndex_[i]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[i]=o[0]))}return delete this.uidIndex_[t],this.hasListener(hr.REMOVEFEATURE)&&this.dispatchEvent(new _n(hr.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){wt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Kh(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}};function N0(r){return fe(()=>(ct().language,r()))}const Ck="modulepreload",Sk=function(r,e){return new URL(r,e).href},Jh={},Fn=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(t.map(u=>{if(u=Sk(u,n),u in Jh)return;Jh[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(n)for(let m=a.length-1;m>=0;m--){const v=a[m];if(v.href===u&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Ck,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},Xo="toast",Ju=Mi("plugins/toast",()=>{const r=ct(),e=fe(()=>r.configuration[Xo]),t=at([]);function n(o,a){const s=ln({timeout:o.severity==="error"?null:5e3},a||{});o.theme=ln(e.value[o.severity]||{},o.theme||{});const l={toast:o};t.value.push(l),typeof s.timeout=="number"&&(l.timeout=setTimeout(()=>i(o),s.timeout))}function i(o){const a=t.value.findIndex(l=>sn(l.toast)===sn(o));if(a<0)return!1;const[s]=t.value.splice(a,1);return s?.timeout&&clearTimeout(s.timeout),!0}return{toasts:fe(()=>t.value.map(({toast:o})=>o)),addToast:n,removeToast:i}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await Fn(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await Fn(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:l}},[],import.meta.url),a=await Fn(()=>import("./invisibleStyle-disvIazK-BcRg_BHd.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[Xo]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=Ju();await l(c)},timer:[async({},l)=>{t.useFakeTimers(),await l(null),t.resetAllMocks()},{auto:!0}]});s("Toast can be added and safely removed",({store:l})=>{const c={text:"TOAST",severity:"error"};l.addToast(c),r(l.toasts.length).toBe(1),r(sn(l.toasts[0])).toEqual(c),r(l.removeToast(c)).toBe(!0),r(l.toasts.length).toBe(0),r(l.removeToast(c)).toBe(!1)}),s.for([{severity:"error",timeout:null},{severity:"warning",timeout:5},{severity:"info",timeout:5},{severity:"success",timeout:5}])("Toast with severity $severity is automatically removed after $timeout seconds (null = never)",({severity:l,timeout:c},{store:u})=>{u.addToast({text:"TOAST",severity:l}),c?(t.advanceTimersByTime(c*1e3-1),r(u.toasts.length).toBe(1),t.advanceTimersByTime(1),r(u.toasts.length).toBe(0)):(t.runAllTimers(),r(u.toasts.length).toBe(1))}),s.for([{config:{color:"SC",icon:"SI"},options:{icon:"OI"},result:{color:"SC",icon:"OI"}},{config:{icon:"SI"},options:{},result:{icon:"SI"}}])("Toast consideres theme settings in the right precedence",({config:l,options:c,result:u},{coreStore:d,store:h})=>{d.configuration[Xo].info=l,h.addToast({text:"TEXT",severity:"info",theme:c}),r(h.toasts.length).toBe(1),r(h.toasts[0]?.theme).toEqual(u)})}let Lk=class extends Bg{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Bo(),this.wrappedRenderedExtent_=Bo(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const i=t.extent,o=t.viewState,a=o.center,s=o.resolution,l=o.projection,c=o.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),p=t.pixelRatio,m=t.viewHints,v=!(m[qr.ANIMATING]||m[qr.INTERACTING]),y=this.context,_=Math.round(qt(i)/s*p),w=Math.round(pn(i)/s*p),A=d.getWrapX()&&l.canWrapX(),T=A?qt(u):null,N=A?Math.ceil((i[2]-u[2])/T)+1:1;let W=A?Math.floor((i[0]-u[0])/T):0;do{let Y=this.getRenderTransform(a,s,0,p,_,w,W*T);t.declutter&&(Y=Y.slice(0)),e.execute(y,[y.canvas.width,y.canvas.height],Y,c,v,n===void 0?xy:n?wy:_y,n?h&&t.declutter[h]:void 0)}while(++W<N)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Zo(this.context.canvas.width,this.context.canvas.height,Nh))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,y0(this.context),Nh.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const i=e.viewState;this.prepareContainer(e,t);const o=this.context,a=this.replayGroup_;let s=a&&!a.isEmpty();if(!s&&!(this.getLayer().hasListener(si.PRERENDER)||this.getLayer().hasListener(si.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,e),i.projection,this.clipped_=!1,s&&n.extent&&this.clipping){const l=zc(n.extent);s=va(l,e.extent),this.clipped_=s&&!jr(l,e.extent),this.clipped_&&this.clipUnrotated(o,e,l)}return s&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=this.frameState.size.slice(),i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=n[0]*Eo,h=n[1]*Eo;u.push(this.getRenderTransform(i,o,a,Eo,d,h,0).slice());const p=c.getSource(),m=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!jr(m,l)){let v=l[0];const y=qt(m);let _=0,w;for(;v<m[0];)--_,w=y*_,u.push(this.getRenderTransform(i,o,a,Eo,d,h,w).slice()),v+=y;for(_=0,v=l[2];v>m[2];)++_,w=y*_,u.push(this.getRenderTransform(i,o,a,Eo,d,h,w).slice()),v-=y}this.hitDetectionImageData_=Ty(n,u,this.renderedFeatures_,c.getStyleFunction(),l,o,a,Oh(o,this.renderedPixelRatio_),null)}t(Ey(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,i,o){if(!this.replayGroup_)return;const a=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),c={},u=function(h,p,m){const v=it(h),y=c[v];if(y){if(y!==!0&&m<y.distanceSq){if(m===0)return c[v]=!0,o.splice(o.lastIndexOf(y),1),i(h,l,p);y.geometry=p,y.distanceSq=m}}else{if(m===0)return c[v]=!0,i(h,l,p);o.push(c[v]={feature:h,layer:l,geometry:p,distanceSq:m,callback:i})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,s,n,u,d?t.declutter?.[d]?.all().map(h=>h.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const i=e.viewHints[qr.ANIMATING],o=e.viewHints[qr.INTERACTING],a=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!a&&i||!s&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,p=t.getRevision(),m=t.getRenderBuffer();let v=t.getRenderOrder();v===void 0&&(v=Iy);const y=c.center.slice(),_=li(l,m*d),w=_.slice(),A=[_.slice()],T=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!jr(T,e.extent)){const C=qt(T),U=Math.max(qt(_)/2,C);_[0]=T[0]-U,_[2]=T[2]+U,Vg(y,u);const J=My(A[0],u);J[0]<T[0]&&J[2]<T[2]?A.push([J[0]+C,J[1],J[2]+C,J[3]]):J[0]>T[0]&&J[2]>T[2]&&A.push([J[0]-C,J[1],J[2]-C,J[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&this.renderedFrameDeclutter_===!!e.declutter&&jr(this.wrappedRenderedExtent_,_))return Zu(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const N=new Sy(Ay(d,h),_,d,h);let W;for(let C=0,U=A.length;C<U;++C)n.loadFeatures(A[C],d,u);const Y=Oh(d,h);let ie=!0;const te=((C,U)=>{let J;const ke=C.getStyleFunction()||t.getStyleFunction();if(ke&&(J=ke(C,d)),J){const Le=this.renderFeature(C,Y,J,N,W,this.getLayer().getDeclutter(),U);ie=ie&&!Le}}),le=Cy(_),R=n.getFeaturesInExtent(le);v&&R.sort(v);for(let C=0,U=R.length;C<U;++C)te(R[C],C);this.renderedFeatures_=R,this.ready=ie;const D=N.finish(),Q=new Ly(_,d,h,n.getOverlaps(),D,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=_,this.renderedCenter_=y,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=Q,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,i,o,a,s){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let c=0,u=n.length;c<u;++c)l=Ph(i,e,n[c],t,this.boundHandleStyleImageChange_,o,a,s)||l;else l=Ph(i,e,n,t,this.boundHandleStyleImageChange_,o,a,s);return l}},Yr=class extends ju{constructor(e){super(e)}createRenderer(){return new Lk(this)}};function Ik(r,e,t){const n=ct().getPluginStore("toast");n&&(typeof e=="function"&&(e=N0(e)),n.addToast({severity:r,text:e},t))}let ro=class Hc extends ka{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){ir(this.flatCoordinates,e),this.changed()}clone(){const e=new Hc(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<ba(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($y(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}forEachSegment(e){return Gy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,By(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Wg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Kg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Vy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Hc(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Hy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Qg(this.flatCoordinates,0,e,this.stride),this.changed()}},Ak=class Yc extends vs{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ct),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(We(e[t],Oe.CHANGE,this.changed,this))}clone(){const e=new Yc(ic(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<ba(this.getExtent(),e,t))return i;const o=this.geometries_;for(let a=0,s=o.length;a<s;++a)i=o[a].closestPointXY(e,t,n,i);return i}containsXY(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)if(n[i].containsXY(e,t))return!0;return!1}computeExtent(e){Xg(e);const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)Jg(e,t[n].getExtent());return e}getGeometries(){return ic(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let i=!1;for(let o=0,a=n.length;o<a;++o){const s=n[o],l=s.getSimplifiedGeometry(e);t.push(l),l!==s&&(i=!0)}return i?new Yc(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].rotate(e,t);this.changed()}scale(e,t,n){n||(n=Hn(this.getExtent()));const i=this.geometries_;for(let o=0,a=i.length;o<a;++o)i[o].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(ic(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let i=0,o=n.length;i<o;++i)n[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function ic(r){return r.map(e=>e.clone())}let tl=class Zc extends ka{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const i=e,o=[],a=[];for(let l=0,c=i.length;l<c;++l){const u=i[l];ir(o,u.getFlatCoordinates()),a.push(o.length)}const s=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(e){ir(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Zc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<ba(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Wy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}getCoordinateAtM(e,t,n){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,Ky(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return Qy(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new ro(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[];let o=0;for(let a=0,s=t.length;a<s;++a){const l=t[a],c=new ro(e.slice(o,l),n);i.push(c),o=l}return i}getLength(){const e=this.ends_;let t=0,n=0;for(let i=0,o=e.length;i<o;++i)n+=Kg(this.flatCoordinates,t,e[i],this.stride),t=e[i];return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const i=this.ends_,o=this.stride;for(let a=0,s=i.length;a<s;++a){const l=i[a],c=Wg(t,n,l,o,.5);ir(e,c),n=l}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Xy(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new Zc(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return Jy(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=qu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}},rl=class O0 extends ka{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){ir(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new O0(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<ba(this.getExtent(),e,t))return i;const o=this.flatCoordinates,a=this.stride;for(let s=0,l=o.length;s<l;s+=a){const c=Qv(e,t,o[s],o[s+1]);if(c<i){i=c;for(let u=0;u<a;++u)n[u]=o[s+u];n.length=a}}return i}getCoordinates(){return Zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Gn(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,i=[];for(let o=0,a=e.length;o<a;o+=n){const s=new Gn(e.slice(o,o+n),t);i.push(s)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let i=0,o=t.length;i<o;i+=n){const a=t[i],s=t[i+1];if(Yy(e,a,s))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Qg(this.flatCoordinates,0,e,this.stride),this.changed()}},nl=class Wc extends ka{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const i=e,o=[],a=[];for(let s=0,l=i.length;s<l;++s){const c=i[s],u=o.length,d=c.getEnds();for(let h=0,p=d.length;h<p;++h)d[h]+=u;ir(o,c.getFlatCoordinates()),a.push(d)}t=i.length===0?this.getLayout():i[0].getLayout(),e=o,n=a}t!==void 0&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const n=this.flatCoordinates.length;ir(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let i=0,o=t.length;i<o;++i)t[i]+=n}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=this.endss_[i].slice();const n=new Wc(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,i){return i<ba(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Oy(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ny(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}containsXY(e,t){return Py(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Dy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Uc(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Ry(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=jy(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=qy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new rl(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Hg(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Uc(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Fy(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new Wc(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const n=this.endss_[e].slice(),i=n[n.length-1];if(t!==0)for(let o=0,a=n.length;o<a;++o)n[o]-=t;return new xi(this.flatCoordinates.slice(t,i),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[];let o=0;for(let a=0,s=n.length;a<s;++a){const l=n[a].slice(),c=l[l.length-1];if(o!==0)for(let d=0,h=l.length;d<h;++d)l[d]-=o;const u=new xi(t.slice(o,c),e,l);i.push(u),o=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return zy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Yg(this.flatCoordinates,0,e,this.stride,this.endss_);if(n.length===0)this.flatCoordinates.length=0;else{const i=n[n.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}},qi=class extends Yn{constructor(e,t,n){super(e),this.map=t,this.frameState=n!==void 0?n:null}};class Cn extends qi{constructor(e,t,n,i,o,a){super(e,t,o),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const nt={SINGLECLICK:"singleclick",CLICK:Oe.CLICK,DBLCLICK:Oe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ep={ACTIVE:"active"};let _a=class extends po{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(ep.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(ep.ACTIVE,e)}setMap(e){this.map_=e}};function Nk(r,e,t){const n=r.getCenterInternal();if(n){const i=[n[0]+e[0],n[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:ev,center:r.getConstrainedCenter(i)})}}function ed(r,e,t,n){const i=r.getZoom();if(i===void 0)return;const o=r.getConstrainedZoom(i+e),a=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:lo})}function Kc(r){const e=arguments;return function(t){let n=!0;for(let i=0,o=e.length;i<o&&(n=n&&e[i](t),!!n);++i);return n}}const z8=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Ok=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Pk=function(r){const e=r.map.getTargetElement(),t=e.getRootNode(),n=r.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(n):e.contains(n)},P0=function(r){const e=r.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?Pk(r):!0},Dk=Qo,D0=function(r){const e=r.originalEvent;return"pointerId"in e&&e.button==0&&!(Xv&&Bu&&e.ctrlKey)},U8=wa,$8=function(r){return r.type=="pointermove"},G8=function(r){return r.type==nt.SINGLECLICK},R0=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Rk=function(r){const e=r.originalEvent;return!e.altKey&&(Bu?e.metaKey:e.ctrlKey)&&!e.shiftKey},jk=function(r){const e=r.originalEvent;return Bu?e.metaKey:e.ctrlKey},qk=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},j0=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},oc=function(r){const e=r.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},Fk=function(r){const e=r.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};let Ta=class extends _a{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==nt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==nt.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==nt.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==nt.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function td(r){const e=r.length;let t=0,n=0;for(let i=0;i<e;i++)t+=r[i].clientX,n+=r[i].clientY;return{clientX:t/e,clientY:n/e}}let Ea=class extends Mr{constructor(e){e=e||{},super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(t){const n=t.getGeometry();return wt(!n||n.getType()==="Point","The default `geometryFunction` can only handle `Point` or null geometries"),n},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,n){this.source?.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Oe.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Oe.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){const n=e===0?0:Math.min(t,e)/e,i=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Bo(),t=this.distance*this.resolution,n=this.source.getFeatures(),i={};for(let o=0,a=n.length;o<a;o++){const s=n[o];if(!(it(s)in i)){const l=this.geometryFunction(s);if(l){const c=l.getCoordinates();tv(c,e),li(e,t,e);const u=this.source.getFeaturesInExtent(e).filter(function(d){const h=it(d);return h in i?!1:(i[h]=!0,!0)});this.features.push(this.createCluster(u,e))}}}}createCluster(e,t){const n=[0,0];for(let s=e.length-1;s>=0;--s){const l=this.geometryFunction(e[s]);l?rv(n,l.getCoordinates()):e.splice(s,1)}e0(n,1/e.length);const i=Hn(t),o=this.interpolationRatio,a=new Gn([n[0]*(1-o)+i[0]*o,n[1]*(1-o)+i[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(a,e):new Ti({geometry:a,features:e})}};const en={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Pt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let zk=class extends po{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Jv,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Pt.ELEMENT,this.handleElementChanged),this.addChangeListener(Pt.MAP,this.handleMapChanged),this.addChangeListener(Pt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Pt.POSITION,this.handlePositionChanged),this.addChangeListener(Pt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Pt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Pt.MAP)||null}getOffset(){return this.get(Pt.OFFSET)}getPosition(){return this.get(Pt.POSITION)}getPositioning(){return this.get(Pt.POSITIONING)}handleElementChanged(){v0(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Ct(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=We(e,en.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Pt.ELEMENT,e)}setMap(e){this.set(Pt.MAP,e)}setOffset(e){this.set(Pt.OFFSET,e)}setPosition(e){this.set(Pt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Pt.POSITION))return;const n=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),o=this.getRect(i,[ek(i),tk(i)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!jr(n,o)){const s=o[0]-n[0],l=n[2]-o[2],c=o[1]-n[1],u=n[3]-o[3],d=[0,0];if(s<0?d[0]=s-a:l<0&&(d[0]=Math.abs(l)+a),c<0?d[1]=c-a:u<0&&(d[1]=Math.abs(u)+a),d[0]!==0||d[1]!==0){const h=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(h);if(!p)return;const m=[p[0]+d[0],p[1]+d[1]],v=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]}setPositioning(e){this.set(Pt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}updateRenderedPosition(e,t){const n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const a=`${e[0]+i[0]}px`,s=`${e[1]+i[1]}px`;let l="0%",c="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?c="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${a}, ${s})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u)}getOptions(){return this.options}};function Uk(r,e){const t=r.canvas;e=e||{};const n=e.pixelRatio||Vu,i=e.size;i&&(t.width=i[0]*n,t.height=i[1]*n,t.style.width=i[0]+"px",t.style.height=i[1]+"px");const o=[0,0,t.width,t.height],a=Nv(Vo(),n,n);return new Ov(r,n,o,a,0)}class $k extends Xs{constructor(e,t,n,i,o){const a=o!==void 0?pt.IDLE:pt.LOADED;super(e,t,n,a),this.loader_=o!==void 0?o:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=pt.ERROR):this.state=pt.LOADED,this.changed()}load(){this.state==pt.IDLE&&(this.state=pt.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class Gk{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;const o=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Qc={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class Bk extends ck{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=We(n,Qc.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=We(n,Qc.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Oe.TOUCHMOVE,this.boundHandleTouchMove_,b0?{passive:!1}:!1)}emulateClick_(e){let t=new Cn(nt.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Cn(nt.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new Cn(nt.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==nt.POINTERUP||t.type==nt.POINTERCANCEL){delete this.trackedTouches_[n];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else(t.type==nt.POINTERDOWN||t.type==nt.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Cn(nt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ct),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Cn(nt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(We(n,nt.POINTERMOVE,this.handlePointerMove_,this),We(n,nt.POINTERUP,this.handlePointerUp_,this),We(this.element_,nt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(We(this.element_.getRootNode(),nt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Cn(nt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Cn(nt.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ct(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Oe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ct(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ct),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Dt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Xc=1/0;class Vk{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,E0(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(e){wt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Xc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,i=t.length,o=t[e],a=n[e],s=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&n[c]<n[l]?c:l;t[e]=t[u],n[e]=n[u],e=u}t[e]=o,n[e]=a,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,i=this.priorities_,o=n[t],a=i[t];for(;t>e;){const s=this.getParentIndex_(t);if(i[s]>a)n[t]=n[s],i[t]=i[s],t=s;else break}n[t]=o,i[t]=a}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let i=0;const o=t.length;let a,s,l;for(s=0;s<o;++s)a=t[s],l=e(a),l==Xc?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=l,t[i++]=a);t.length=i,n.length=i,this.heapify_()}}class q0 extends Vk{constructor(e,t){super(n=>e.apply(null,n),n=>n[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Oe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===Ze.LOADED||n===Ze.ERROR||n===Ze.EMPTY){n!==Ze.ERROR&&t.removeEventListener(Oe.CHANGE,this.boundHandleTileChange_);const i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const i=this.dequeue()[0],o=i.getKey();i.getState()===Ze.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,i.load())}}}function Hk(r,e,t,n,i){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return Xc;const o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}class rd extends po{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,n=this.listenerKeys.length;t<n;++t)Ct(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==_0&&this.listenerKeys.push(We(e,en.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Yk extends rd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",n=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=a):this.collapseLabel_=o;const s=e.label!==void 0?e.label:"i";typeof s=="string"?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Oe.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+Js+" "+Hu+(this.collapsed_&&this.collapsible_?" "+Yh:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(i=>i.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(i=>n.add(i)):n.add(this.attributions_)),!this.overrideCollapsible_){const i=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(i)}return Array.from(n)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(i=>M0(()=>i))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Zu(t,this.renderedAttributions_)){v0(this.ulElement_);for(let i=0,o=t.length;i<o;++i){const a=document.createElement("li");a.innerHTML=t[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Yh),this.collapsed_?Zh(this.collapseLabel_,this.label_):Zh(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class Zk extends rd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",n=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof n=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const o=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=t+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),a.addEventListener(Oe.CLICK,this.handleClick_.bind(this),!1);const s=t+" "+Js+" "+Hu,l=this.element;l.className=s,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ba)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();t!==void 0&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:lo}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const i="rotate("+n+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ba);!o&&n===0?this.element.classList.add(Ba):o&&n!==0&&this.element.classList.remove(Ba)}this.label_.style.transform=i}this.rotation_=n}}class Wk extends rd{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",n=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",s=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Oe.CLICK,this.handleClick_.bind(this,n),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(Oe.CLICK,this.handleClick_.bind(this,-n),!1);const h=t+" "+Js+" "+Hu,p=this.element;p.className=h,p.appendChild(u),p.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(n!==void 0){const i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:lo})):t.setZoom(i)}}}function Kk(r){r=r||{};const e=new fr;return(r.zoom===void 0||r.zoom)&&e.push(new Wk(r.zoomOptions)),(r.rotate===void 0||r.rotate)&&e.push(new Zk(r.rotateOptions)),(r.attribution===void 0||r.attribution)&&e.push(new Yk(r.attributionOptions)),e}class Qk extends _a{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==nt.DBLCLICK){const n=e.originalEvent,i=e.map,o=e.coordinate,a=n.shiftKey?-this.delta_:this.delta_,s=i.getView();ed(s,a,o,this.duration_),n.preventDefault(),t=!0}return!t}}class _s extends Ta{constructor(e){super({stopDown:wa}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Kc(R0,Fk);this.condition_=e.onFocusOnly?Kc(P0,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,i=t.getEventPixel(td(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();e0(o,a.getResolution()),s0(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=t.getPixelFromCoordinateInternal(a),l=t.getCoordinateFromPixelInternal([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(l),duration:500,easing:lo})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Xk extends Ta{constructor(e){e=e||{},super({stopDown:wa}),this.condition_=e.condition?e.condition:Ok,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!oc(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===l0)return;const i=t.getSize(),o=e.pixel,a=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(this.lastAngle_!==void 0){const s=a-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=a}handleUpEvent(e){return oc(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return oc(e)&&D0(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Jk extends Wu{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new xi([n])}getGeometry(){return this.geometry_}}const Ni={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Mo extends Yn{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class eb extends Ta{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Jk(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??D0,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const i=n[0]-t[0],o=n[1]-t[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Mo(Ni.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Mo(t?Ni.BOXEND:Ni.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Mo(Ni.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Mo(Ni.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Mo(Ni.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class tb extends eb{constructor(e){e=e||{};const t=e.condition?e.condition:qk;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const i=t.rotatedExtentForGeometry(n),o=t.getResolutionForExtentInternal(i),a=t.getResolution()/o;n=n.clone(),n.scale(a*a)}t.fitInternal(n,{duration:this.duration_,easing:lo})}}const Kn={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class F0 extends _a{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return R0(t)&&j0(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Oe.KEYDOWN){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==Kn.DOWN||i==Kn.LEFT||i==Kn.RIGHT||i==Kn.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let s=0,l=0;i==Kn.DOWN?l=-a:i==Kn.LEFT?s=-a:i==Kn.RIGHT?s=a:l=a;const c=[s,l];s0(c,o.getRotation()),Nk(o,c,this.duration_),n.preventDefault(),t=!0}}return!t}}class z0 extends _a{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!jk(t)&&j0(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Oe.KEYDOWN||e.type==Oe.KEYPRESS){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==="+"||i==="-")){const o=e.map,a=i==="+"?this.delta_:-this.delta_,s=o.getView();ed(s,a,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}const rb=40,nb=300;class Jc extends _a{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:Dk;this.condition_=e.onFocusOnly?Kc(P0,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Oe.WHEEL)return!0;const t=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let i=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:i*=rb;break;case WheelEvent.DOM_DELTA_PAGE:i*=nb;break}if(i===0)return!1;this.lastDelta_=i;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const a=t.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-k0(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),ed(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class ib extends Ta{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wa),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;const a=e.map,s=a.getView();s.getConstraints().rotation!==l0&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(td(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class ob extends Ta{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wa),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,a=n.clientY-i.clientY,s=Math.sqrt(o*o+a*a);this.lastDistance_!==void 0&&(t=this.lastDistance_/s),this.lastDistance_=s;const l=e.map,c=l.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(td(this.targetPointers))),l.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function nd(r){r=r||{};const e=new fr,t=new Gk(-.005,.05,100);return(r.altShiftDragRotate===void 0||r.altShiftDragRotate)&&e.push(new Xk),(r.doubleClickZoom===void 0||r.doubleClickZoom)&&e.push(new Qk({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan===void 0||r.dragPan)&&e.push(new _s({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate===void 0||r.pinchRotate)&&e.push(new ib),(r.pinchZoom===void 0||r.pinchZoom)&&e.push(new ob({duration:r.zoomDuration})),(r.keyboard===void 0||r.keyboard)&&(e.push(new F0),e.push(new z0({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom===void 0||r.mouseWheelZoom)&&e.push(new Jc({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom===void 0||r.shiftDragZoom)&&e.push(new tb({duration:r.zoomDuration})),e}const Tn={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class In extends Yn{constructor(e,t){super(e),this.layer=t}}const ac={LAYERS:"layers"};class Zr extends kv{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(ac.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new fr(n.slice(),{unique:!0}):wt(typeof n.getArray=="function","Expected `layers` to be an array or a `Collection`"):n=new fr(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ct),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(We(e,Wt.ADD,this.handleLayersAdd_,this),We(e,Wt.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(Ct);E0(this.listenerKeys_);const t=e.getArray();for(let n=0,i=t.length;n<i;n++){const o=t[n];this.registerLayerListeners_(o),this.dispatchEvent(new In(Tn.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){const t=[We(e,Wo.PROPERTYCHANGE,this.handleLayerChange_,this),We(e,Oe.CHANGE,this.handleLayerChange_,this)];e instanceof Zr&&t.push(We(e,Tn.ADDLAYER,this.handleLayerGroupAdd_,this),We(e,Tn.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[it(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new In(Tn.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new In(Tn.REMOVELAYER,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new In(Tn.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=it(t);this.listenerKeys_[n].forEach(Ct),delete this.listenerKeys_[n],this.dispatchEvent(new In(Tn.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(ac.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const n=t.getArray();for(let i=0,o=n.length;i<o;++i)this.dispatchEvent(new In(Tn.REMOVELAYER,n[i]))}this.set(ac.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],n=t.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(t)});const i=this.getLayerState();let o=i.zIndex;!e&&i.zIndex===void 0&&(o=0);for(let a=n,s=t.length;a<s;a++){const l=t[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Ks(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=o)}return t}getSourceState(){return"ready"}}class ab extends Wu{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){gt()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;n0(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Lv(i,n)}forEachFeatureAtCoordinate(e,t,n,i,o,a,s,l){let c;const u=t.viewState;function d(T,N,W,Y){return o.call(a,N,T?W:null,Y)}const h=u.projection,p=Vg(e.slice(),h),m=[[0,0]];if(h.canWrapX()&&i){const T=h.getExtent(),N=qt(T);m.push([-N,0],[N,0])}const v=t.layerStatesArray,y=v.length,_=[],w=[];for(let T=0;T<m.length;T++)for(let N=y-1;N>=0;--N){const W=v[N],Y=W.layer;if(Y.hasRenderer()&&d0(W,u)&&s.call(l,Y)){const ie=Y.getRenderer(),te=Y.getSource();if(ie&&te){const le=te.getWrapX()?p:e,R=d.bind(null,W.managed);w[0]=le[0]+m[T][0],w[1]=le[1]+m[T][1],c=ie.forEachFeatureAtCoordinate(w,t,n,R,_)}if(c)return c}}if(_.length===0)return;const A=1/_.length;return _.forEach((T,N)=>T.distanceSq+=N*A),_.sort((T,N)=>T.distanceSq-N.distanceSq),_.some(T=>c=T.callback(T.feature,T.layer,T.geometry)),c}hasFeatureAtCoordinate(e,t,n,i,o,a){return this.forEachFeatureAtCoordinate(e,t,n,i,Qo,this,o,a)!==void 0}getMap(){return this.map_}renderFrame(e){gt()}scheduleExpireIconCache(e){w0.canExpireCache()&&e.postRenderFunctions.push(sb)}}function sb(r,e){w0.expire()}class lb extends ab{constructor(e){super(e),this.fontChangeListenerKey_=We(nk,Wo.PROPERTYCHANGE,e.redrawText,e),this.element_=Bi?ik():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Js+" ol-layers";const n=e.getViewport();n&&n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const i=new Tv(e,void 0,t);n.dispatchEvent(i)}}disposeInternal(){Ct(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(si.PRECOMPOSE,e);const t=e.layerStatesArray.sort((s,l)=>s.zIndex-l.zIndex);t.some(s=>s.layer instanceof ju&&s.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const i=[];let o=null;for(let s=0,l=t.length;s<l;++s){const c=t[s];e.layerIndex=s;const u=c.layer,d=u.getSourceState();if(!d0(c,n)||d!="ready"&&d!="undefined"){u.unrender();continue}const h=u.render(e,o);h&&(h!==o&&(this.children_.push(h),o=h),i.push(c))}this.declutter(e,i),ok(this.element_,this.children_);const a=this.getMap().getTargetElement();if(ri(a)){const s=a.getContext("2d");for(const l of this.children_){const c=l.firstElementChild||l,u=l.style.backgroundColor;if(u&&(!ri(c)||c.width>0)&&(s.fillStyle=u,s.fillRect(0,0,a.width,a.height)),ri(c)&&c.width>0){const d=l.style.opacity||c.style.opacity;s.globalAlpha=d===""?1:Number(d);const h=c.style.transform;if(h)s.setTransform(...Ev(h));else{const p=parseFloat(c.style.width)/c.width,m=parseFloat(c.style.height)/c.height;s.setTransform(p,0,0,m,0,0)}s.drawImage(c,0,0)}}s.globalAlpha=1,s.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(si.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const i=t[n],o=i.layer;o.getDeclutter()&&o.renderDeclutter(e,i)}t.forEach(n=>n.layer.renderDeferred(e))}}}function U0(r){if(r instanceof co){r.setMapInternal(null);return}r instanceof Zr&&r.getLayers().forEach(U0)}function $0(r,e){if(r instanceof co){r.setMapInternal(e);return}if(r instanceof Zr){const t=r.getLayers().getArray();for(let n=0,i=t.length;n<i;++n)$0(t[n],e)}}let Bn=class extends po{constructor(r){super(),r=r||{},this.on,this.once,this.un;const e=cb(r);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=r.maxTilesLoading!==void 0?r.maxTilesLoading:16,this.pixelRatio_=r.pixelRatio!==void 0?r.pixelRatio:Vu,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Vo(),this.pixelToCoordinateTransform_=Vo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,Bi||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=r.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,Bi||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=e.controls||(Bi?new fr:Kk()),this.interactions=e.interactions||(Bi?new fr:nd({onFocusOnly:!0})),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new q0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Dt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Dt.VIEW,this.handleViewChanged_),this.addChangeListener(Dt.SIZE,this.handleSizeChanged_),this.addChangeListener(Dt.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const t=this;r.view&&!(r.view instanceof nn)&&r.view.then(function(n){t.setView(new nn(n))}),this.controls.addEventListener(Wt.ADD,n=>{n.element.setMap(this)}),this.controls.addEventListener(Wt.REMOVE,n=>{n.element.setMap(null)}),this.interactions.addEventListener(Wt.ADD,n=>{n.element.setMap(this)}),this.interactions.addEventListener(Wt.REMOVE,n=>{n.element.setMap(null)}),this.overlays_.addEventListener(Wt.ADD,n=>{this.addOverlayInternal_(n.element)}),this.overlays_.addEventListener(Wt.REMOVE,n=>{const i=n.element.getId();i!==void 0&&delete this.overlayIdIndex_[i.toString()],n.element.setMap(null)}),this.controls.forEach(n=>{n.setMap(this)}),this.interactions.forEach(n=>{n.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(r){this.getControls().push(r)}addInteraction(r){this.getInteractions().push(r)}addLayer(r){this.getLayerGroup().getLayers().push(r)}handleLayerAdd_(r){$0(r.layer,this)}addOverlay(r){this.getOverlays().push(r)}addOverlayInternal_(r){const e=r.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=r),r.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(r,e,t){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(r);t=t!==void 0?t:{};const i=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.layerFilter!==void 0?t.layerFilter:Qo,a=t.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,e,null,o,null)}getFeaturesAtPixel(r,e){const t=[];return this.forEachFeatureAtPixel(r,function(n){t.push(n)},e),t}getAllLayers(){const r=[];function e(t){t.forEach(function(n){n instanceof Zr?e(n.getLayers()):r.push(n)})}return e(this.getLayers()),r}hasFeatureAtPixel(r,e){if(!this.frameState_||!this.renderer_)return!1;const t=this.getCoordinateFromPixelInternal(r);e=e!==void 0?e:{};const n=e.layerFilter!==void 0?e.layerFilter:Qo,i=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(t,this.frameState_,i,o,n,null)}getEventCoordinate(r){return this.getCoordinateFromPixel(this.getEventPixel(r))}getEventCoordinateInternal(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))}getEventPixel(r){const e=this.viewport_.getBoundingClientRect(),t=this.getSize(),n=e.width/t[0],i=e.height/t[1],o="changedTouches"in r?r.changedTouches[0]:r;return[(o.clientX-e.left)/n,(o.clientY-e.top)/i]}getTarget(){return this.get(Dt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(r){return mv(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())}getCoordinateFromPixelInternal(r){const e=this.frameState_;return e?$c(e.pixelToCoordinateTransform,r.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(r){const e=this.overlayIdIndex_[r.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Dt.LAYERGROUP)}setLayers(r){const e=this.getLayerGroup();if(r instanceof fr){e.setLayers(r);return}const t=e.getLayers();t.clear(),t.extend(r)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const r=this.getLayerGroup().getLayerStatesArray();for(let e=0,t=r.length;e<t;++e){const n=r[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const o=n.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(r){const e=fv(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(r){const e=this.frameState_;return e?$c(e.coordinateToPixelTransform,r.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Dt.SIZE)}getView(){return this.get(Dt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const r=this.getTargetElement();return r?r.ownerDocument:document}getTilePriority(r,e,t,n){return Hk(this.frameState_,r,e,t,n)}handleBrowserEvent(r,e){e=e||r.type;const t=new Cn(e,this,r);this.handleMapBrowserEvent(t)}handleMapBrowserEvent(r){if(!this.frameState_)return;const e=r.originalEvent,t=e.type;if(t===Qc.POINTERDOWN||t===Oe.WHEEL||t===Oe.KEYDOWN){const n=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():n,o=e.target,a=i instanceof ShadowRoot?i.host===o?i.host.ownerDocument:i:i===n?n.documentElement:i;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(r.frameState=this.frameState_,this.dispatchEvent(r)!==!1){const n=this.getInteractions().getArray().slice();for(let i=n.length-1;i>=0;i--){const o=n[i];if(!(o.getMap()!==this||!o.getActive()||!this.getTargetElement())&&(!o.handleEvent(r)||r.propagationStopped))break}}}handlePostRender(){const r=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(r){const o=r.viewHints;if(o[qr.ANIMATING]||o[qr.INTERACTING]){const a=Date.now()-r.time>8;n=a?0:8,i=a?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}r&&this.renderer_&&!r.animate&&(this.renderComplete_?(this.hasListener(si.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(si.RENDERCOMPLETE,r),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new qi(en.LOADEND,this,r)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new qi(en.LOADSTART,this,r))));const t=this.postRenderFunctions_;if(r)for(let n=0,i=t.length;n<i;++n)t[n](this,r);t.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,n=this.targetChangeHandlerKeys_.length;t<n;++t)Ct(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Oe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Oe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!ri(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const r=this.getTarget(),e=typeof r=="string"?document.getElementById(r):r;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(ri(e)||e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new lb(this)),!ri(e)){this.mapBrowserEventHandler_=new Bk(this,this.moveTolerance_);for(const n in nt)this.mapBrowserEventHandler_.addEventListener(nt[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Oe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Oe.WHEEL,this.boundHandleBrowserEvent_,b0?{passive:!1}:!1);let t;if(this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}if(this.targetChangeHandlerKeys_=[We(t,Oe.KEYDOWN,this.handleBrowserEvent,this),We(t,Oe.KEYPRESS,this.handleBrowserEvent,this)],e instanceof HTMLElement){const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_?.observe(e)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ct(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ct(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const r=this.getView();r&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=We(r,Wo.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=We(r,Oe.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ct),this.layerGroupPropertyListenerKeys_=null);const r=this.getLayerGroup();r&&(this.handleLayerAdd_(new In("addlayer",r)),this.layerGroupPropertyListenerKeys_=[We(r,Wo.PROPERTYCHANGE,this.render,this),We(r,Oe.CHANGE,this.render,this),We(r,"addlayer",this.handleLayerAdd_,this),We(r,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const r=this.frameState_.layerStatesArray;for(let e=0,t=r.length;e<t;++e){const n=r[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(r){return this.getControls().remove(r)}removeInteraction(r){return this.getInteractions().remove(r)}removeLayer(r){return this.getLayerGroup().getLayers().remove(r)}handleLayerRemove_(r){U0(r.layer)}removeOverlay(r){return this.getOverlays().remove(r)}renderFrame_(r){const e=this.getSize(),t=this.getView(),n=this.frameState_;let i=null;if(e!==void 0&&Vh(e)&&t&&t.isDef()){const o=t.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=t.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:bs(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:it(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const s=isNaN(a.nextRotation)?a.rotation:a.nextRotation;i.nextExtent=bs(a.nextCenter,a.nextResolution,s,e)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n&&(!this.previousExtent_||!Uu(this.previousExtent_)&&!bi(i.extent,this.previousExtent_))&&(this.dispatchEvent(new qi(en.MOVESTART,this,n)),this.previousExtent_=Xg(this.previousExtent_)),this.previousExtent_&&!i.viewHints[qr.ANIMATING]&&!i.viewHints[qr.INTERACTING]&&!bi(i.extent,this.previousExtent_)&&(this.dispatchEvent(new qi(en.MOVEEND,this,i)),yv(i.extent,this.previousExtent_))),this.dispatchEvent(new qi(en.POSTRENDER,this,i)),this.renderComplete_=(this.hasListener(en.LOADSTART)||this.hasListener(en.LOADEND)||this.hasListener(si.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(r){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new In("removelayer",e)),this.set(Dt.LAYERGROUP,r)}setSize(r){this.set(Dt.SIZE,r)}setTarget(r){this.set(Dt.TARGET,r)}setView(r){if(!r||r instanceof nn){this.set(Dt.VIEW,r);return}this.set(Dt.VIEW,new nn);const e=this;r.then(function(t){e.setView(new nn(t))})}updateSize(){const r=this.getTargetElement();let e;if(r){let n,i;if(ri(r))n=r.width,i=r.height;else{const o=getComputedStyle(r);n=r.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),i=r.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth)}!isNaN(n)&&!isNaN(i)&&(e=[Math.max(0,n),Math.max(0,i)],!Vh(e)&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&vv("No map visible because the map container's width or height are 0."))}const t=this.getSize();e&&(!t||!Zu(e,t))&&(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(r){const e=this.getView();e&&e.setViewportSize(r)}};function cb(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Zr({layers:r.layers});t[Dt.LAYERGROUP]=n,t[Dt.TARGET]=r.target,t[Dt.VIEW]=r.view instanceof nn?r.view:new nn;let i;r.controls!==void 0&&(Array.isArray(r.controls)?i=new fr(r.controls.slice()):(wt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new fr(r.interactions.slice()):(wt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new fr(r.overlays.slice()):(wt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=r.overlays):a=new fr,{controls:i,interactions:o,keyboardEventTarget:e,overlays:a,values:t}}const tp=[];class ub extends Av{constructor(e,t,n,i,o){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.removeSourceTiles_=o,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=Zo(1,1,tp)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=it(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(y0(this.context_),tp.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}function db(r={},e=sr){const t={startZoomLevel:void 0,startResolution:void 0};return Object.prototype.hasOwnProperty.call(r,"startZoomLevel")&&!Object.prototype.hasOwnProperty.call(r,"startResolution")?t.startZoomLevel=e.startZoomLevel:t.startResolution=e.startResolution,t}function hb(r){const e=Object.assign({},sr,r),t=db(r,e);return new nn({projection:e.epsg,center:e.startCenter,extent:e.extent,zoom:t.startZoomLevel,options:e.options,resolution:t.startResolution,resolutions:e.options.map(n=>n.resolution),constrainResolution:!0,constrainOnlyCenter:!0,backgroundImage:e.backgroundImage})}function G0(r){const e=Object.keys(r.defs),t=e.length;let n,i;for(n=0;n<t;++n){const o=e[n];if(!ec(o)){const a=r.defs(o);let s=a.units;!s&&a.projName==="longlat"&&(s="degrees"),c0(new t0({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(n=0;n<t;++n){const o=e[n],a=ec(o);for(i=0;i<t;++i){const s=e[i],l=ec(s);if(!xv(o,s))if(r.defs[o]===r.defs[s])wv([a,l]);else{const c=r(o,s);_v(a,l,qh(a,l,c.forward),qh(l,a,c.inverse))}}}}function pb(r){const e=r.split(":")[1];Er.defs("http://www.opengis.net/gml/srs/epsg.xml#"+e,Er.defs(r)),G0(Er)}function id(r){return Er.defs(r)}function gb(r=sr.namedProjections){Er.defs(r),G0(Er),r.forEach(e=>{c0(pe(e[0])),pb(e[0]),id(e[0]).masterportal=!0})}function mb(){return Object.keys(Er.defs).map(r=>Object.assign(Er.defs(r),{name:r})).filter(function(r,e,t){return e===t.indexOf(r)&&r.masterportal===!0})}function od(r){return r.getView().getProjection().getCode()}function rp(r){return typeof r=="string"?id(r):r}function ad(r,e,t){const n=rp(r),i=rp(e);if(n&&i&&t)return Er(n,i,t);console.error(`Cancelled coordinate transformation with invalid parameters: ${r}; ${e}; ${t}`)}function fb(r,e,t){return ad(e,od(r),t)}function yb(r,e,t){return ad(od(r),e,t)}const vb={transformFromMapProjection:yb,transformToMapProjection:fb,transform:ad,getMapProjection:od,getProjections:mb,registerProjections:gb,getProjection:id};class kb extends co{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Ga.PRELOAD)}setPreload(e){this.set(Ga.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Ga.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Ga.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Ci extends kb{constructor(e){super(e)}createRenderer(){return new uv(this,{cacheSize:this.getCacheSize()})}}class bb extends Bg{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,o=i.resolution,a=this.getLayer().getSource(),s=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Ks(l,zc(t.extent,i.projection))),!s[qr.ANIMATING]&&!s[qr.INTERACTING]&&!Uu(l))if(a){const c=i.projection,u=a.getImage(l,o,n,c);u&&(this.loadImage(u)?this.image=u:u.getState()===pt.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),i=$c(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!r0(o,i))return null;const a=this.image.getExtent(),s=this.image.getImage(),l=qt(a),c=Math.floor(s.width*((i[0]-a[0])/l));if(c<0||c>=s.width)return null;const u=pn(a),d=Math.floor(s.height*((a[3]-i[1])/u));return d<0||d>=s.height?null:this.getImageData(s,c,d)}renderFrame(e,t){const n=this.image,i=n.getExtent(),o=n.getResolution(),[a,s]=Array.isArray(o)?o:[o,o],l=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],u=e.pixelRatio,d=e.viewState,h=d.center,p=d.resolution,m=u*a/(p*l),v=u*s/(p*l);this.prepareContainer(e,t);const y=this.context.canvas.width,_=this.context.canvas.height,w=this.getRenderContext(e);let A=!1,T=!0;if(c.extent){const te=zc(c.extent,d.projection);T=va(te,e.extent),A=T&&!jr(te,e.extent),A&&this.clipUnrotated(w,e,te)}const N=n.getImage(),W=n0(this.tempTransform,y/2,_/2,m,v,0,l*(i[0]-h[0])/a,l*(h[1]-i[3])/s);this.renderedResolution=s*u/l;const Y=N.width*W[0],ie=N.height*W[3];if(this.getLayer().getSource().getInterpolate()||(w.imageSmoothingEnabled=!1),this.preRender(w,e),T&&Y>=.5&&ie>=.5){const te=W[4],le=W[5],R=c.opacity;R!==1&&(w.save(),w.globalAlpha=R),w.drawImage(N,0,0,+N.width,+N.height,te,le,Y,ie),R!==1&&w.restore()}return this.postRender(this.context,e),A&&w.restore(),w.imageSmoothingEnabled=!0,this.container}}class xb extends co{constructor(e){e=e||{},super(e)}}class Ma extends xb{constructor(e){super(e)}createRenderer(){return new bb(this)}getData(e){return super.getData(e)}}function Jo(r,e){const t=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&t.push(i+"="+encodeURIComponent(e[i]))});const n=t.join("&");return r=r.replace(/[?&]$/,""),r+=r.includes("?")?"&":"?",r+n}const wb=/\{z\}/g,_b=/\{x\}/g,Tb=/\{y\}/g,Eb=/\{-y\}/g;function Mb(r,e,t,n,i){return r.replace(wb,e.toString()).replace(_b,t.toString()).replace(Tb,n.toString()).replace(Eb,function(){if(i===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(i-n).toString()})}function B0(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const n=t[1].charCodeAt(0),i=t[2].charCodeAt(0);let o;for(o=n;o<=i;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const n=parseInt(t[2],10);for(let i=parseInt(t[1],10);i<=n;i++)e.push(r.replace(t[0],i.toString()));return e}return e.push(r),e}const Oi=[0,0,0],En=5;class Si{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,wt(sk(this.resolutions_,(i,o)=>o-i),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,wt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;n!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=xs(n)),wt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,wt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:i0,wt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=n!==void 0?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,o)=>{const a=new hv(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(n){const s=this.getTileRangeForExtentAndZ(n,o);a.minX=Math.max(s.minX,a.minX),a.maxX=Math.min(s.maxX,a.maxX),a.minY=Math.max(s.minY,a.minY),a.maxY=Math.min(s.maxY,a.maxY)}return a}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const i=this.getTileRangeForExtentAndZ(e,t);for(let o=i.minX,a=i.maxX;o<=a;++o)for(let s=i.minY,l=i.maxY;s<=l;++s)n([t,o,s])}forEachTileCoordParentTileRange(e,t,n,i){let o,a,s,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(a!==void 0&&s!==void 0?(a=Math.floor(a/2),s=Math.floor(s/2),o=Ai(a,a,s,s,n)):o=this.getTileRangeForExtentAndZ(l,c,n),t(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,a=e[2]*2;return Ai(o,o+1,a,a+1,t)}const i=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const i=e[0],o=e[1],a=e[2];if(t===i)return Ai(o,a,o,a,n);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,t-i),c=Math.floor(o*l),u=Math.floor(a*l);if(t<i)return Ai(c,c,u,u,n);const d=Math.floor(l*(o+1))-1,h=Math.floor(l*(a+1))-1;return Ai(c,d,u,h,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Oi);const i=Oi[1],o=Oi[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Oi);const a=Oi[1],s=Oi[2];return Ai(i,a,o,s,n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Dn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=Dn(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*o[0]*i,s=n[1]-(e[2]+1)*o[1]*i,l=a+o[0]*i,c=s+o[1]*i;return ya(a,s,l,c,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,i,o){const a=this.getZForResolution(n),s=n/this.getResolution(a),l=this.getOrigin(a),c=Dn(this.getTileSize(a),this.tmpSize_);let u=s*(e-l[0])/n/c[0],d=s*(l[1]-t)/n/c[1];return i?(u=Pn(u,En)-1,d=Pn(d,En)-1):(u=Gi(u,En),d=Gi(d,En)),Dh(a,u,d,o)}getTileCoordForXYAndZ_(e,t,n,i,o){const a=this.getOrigin(n),s=this.getResolution(n),l=Dn(this.getTileSize(n),this.tmpSize_);let c=(e-a[0])/s/l[0],u=(a[1]-t)/s/l[1];return i?(c=Pn(c,En)-1,u=Pn(u,En)-1):(c=Gi(c,En),u=Gi(u,En)),Dh(n,c,u,o)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=T0(this.resolutions_,e,t||0);return k0(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return pv(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}class V0 extends Si{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function Cb(r,e,t){const n=[],i=[],o=[],a=[],s=[];t=t!==void 0?t:[];const l="SupportedCRS",c="TileMatrix",u="Identifier",d="ScaleDenominator",h="TopLeftCorner",p="TileWidth",m="TileHeight",v=r[l],y=pe(v),_=y.getMetersPerUnit(),w=y.getAxisOrientation().startsWith("ne");return r[c].sort(function(A,T){return T[d]-A[d]}),r[c].forEach(function(A){let T;if(t.length>0?T=t.find(function(N){return A[u]==N[c]?!0:A[u].includes(":")?!1:r[u]+":"+A[u]===N[c]}):T=!0,T){i.push(A[u]);const N=A[d]*28e-5/_,W=A[p],Y=A[m];w?o.push([A[h][1],A[h][0]]):o.push(A[h]),n.push(N),a.push(W==Y?W:[W,Y]),s.push([A.MatrixWidth,A.MatrixHeight])}}),new V0({extent:e,origins:o,resolutions:n,matrixIds:i,tileSizes:a,sizes:s})}function il(r){let e=r.getDefaultTileGrid();return e||(e=Ib(r),r.setDefaultTileGrid(e)),e}function Sb(r,e,t){const n=e[0],i=r.getTileCoordCenter(e),o=Ca(t);if(!r0(o,i)){const a=qt(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,r.getTileCoordForCoordAndZ(i,n)}return e}function Lb(r,e,t,n){n=n!==void 0?n:"top-left";const i=H0(r,e,t);return new Si({extent:r,origin:dv(r,n),resolutions:i,tileSize:t})}function sd(r){const e=r||{},t=e.extent||pe("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:H0(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Si(n)}function H0(r,e,t,n){e=e!==void 0?e:o0,t=Dn(t!==void 0?t:i0);const i=pn(r),o=qt(r);n=n>0?n:Math.max(o/t[0],i/t[1]);const a=e+1,s=new Array(a);for(let l=0;l<a;++l)s[l]=n/Math.pow(2,l);return s}function Ib(r,e,t,n){const i=Ca(r);return Lb(i,e,t,n)}function Ca(r){r=pe(r);let e=r.getExtent();if(!e){const t=180*Ho.degrees/r.getMetersPerUnit();e=ya(-t,-t,t,t)}return e}function Ab(r,e){return(function(t,n,i){if(!t)return;let o;const a=t[0];if(e){const s=e.getFullTileRange(a);s&&(o=s.getHeight()-1)}return Mb(r,a,t[1],t[2],o)})}function ld(r,e){const t=r.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=Ab(r[i],e);return eu(n)}function eu(r){return r.length===1?r[0]:(function(e,t,n){if(!e)return;const i=u0(e),o=x0(i,r.length);return r[o](e,t,n)})}class Y0 extends go{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&Dn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||it(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,i,o,a){return gt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:il(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),a=Dn(i.getTileSize(e),this.tmpSize);return o==1?a:rk(a,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const n=t!==void 0?t:this.getProjection(),i=t!==void 0?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=Sb(i,e,n)),cv(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class Nb extends Yn{constructor(e,t){super(e),this.tile=t}}const sc={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class ol extends Y0{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ol.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=it(t),i=t.getState();let o;i==Ze.LOADING?(this.tileLoadingKeys_[n]=!0,o=sc.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=i==Ze.ERROR?sc.TILELOADERROR:i==Ze.LOADED?sc.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Nb(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=B0(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(ld(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}class al extends ol{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ob,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Mv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!It(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||It(t,e)))return this.tileGrid;const n=it(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=il(e)),this.tileGridForProjection[n]}createTile_(e,t,n,i,o,a){const s=[e,t,n],l=this.getTileCoordForTileUrlFunction(s,o),c=l?this.tileUrlFunction(l,i,o):void 0,u=new this.tileClass(s,c!==void 0?Ze.IDLE:Ze.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Oe.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,t,n,i,o,a){const s=this.getProjection();if(!s||!o||It(s,o))return this.getTileInternal(e,t,n,i,s||o);const l=[e,t,n],c=this.getKey(),u=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),h=this.getTileCoordForTileUrlFunction(l,o),p=new Cv(s,u,o,d,l,h,this.getTilePixelRatio(i),this.getGutter(),(m,v,y,_)=>this.getTileInternal(m,v,y,_,s,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,p}getTileInternal(e,t,n,i,o,a){const s=this.getKey(),l=Sv(this,s,e,t,n);if(a&&a.containsKey(l))return a.get(l);const c=this.createTile_(e,t,n,i,o,s);return a?.set(l,c),c}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=pe(e);if(n){const i=it(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}}function Ob(r,e){if(Bi){const t=r.getCrossOrigin();let n="same-origin",i="same-origin";t==="anonymous"||t===""?(n="cors",i="omit"):t==="use-credentials"&&(n="cors",i="include"),fetch(e,{mode:n,credentials:i}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{const a=r.getImage();a.width=o.width,a.height=o.height,a.getContext("2d").drawImage(o,0,0),o.close?.(),a.dispatchEvent(new Event("load"))}).catch(()=>{r.getImage().dispatchEvent(new Event("error"))});return}r.getImage().src=e}function tu(r){return Array.isArray(r)?Math.min(...r):r}class Pb extends Xs{constructor(e,t,n,i,o,a,s){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const u=c?Ks(n,c):n,d=Hn(u),h=zu(e,t,d,i),p=lv,m=new av(e,t,u,l,h*p,i),v=m.calculateSourceExtent(),y=Uu(v)?null:a(v,h,o),_=y?pt.IDLE:pt.EMPTY,w=y?y.getPixelRatio():1;super(n,i,w,_),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=m,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=y,this.sourcePixelRatio_=w,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==pt.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==pt.LOADED){const t=qt(this.targetExtent_)/this.targetResolution_,n=pn(this.targetExtent_)/this.targetResolution_;this.canvas_=sv(t,n,this.sourcePixelRatio_,tu(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==pt.IDLE){this.state=pt.LOADING,this.changed();const e=this.sourceImage_.getState();e==pt.LOADED||e==pt.ERROR?this.reproject_():(this.sourceListenerKey_=We(this.sourceImage_,Oe.CHANGE,t=>{const n=this.sourceImage_.getState();(n==pt.LOADED||n==pt.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Ct(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Rn=4,lc={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Db extends Yn{constructor(e,t){super(e),this.image=t}}class sl extends go{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=T0(t,e,0);e=t[n]}return e}getImage(e,t,n,i){const o=this.getProjection();if(!o||!i||It(o,i))return o&&(i=o),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&It(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&bi(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Pb(o,i,e,t,n,(a,s,l)=>this.getImageInternal(a,s,l,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,i){if(this.loader){const o=W0(e,t,n,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&jr(this.wantedExtent_,o)||jr(this.image.getExtent(),o))&&(this.wantedResolution_&&tu(this.wantedResolution_)===a||tu(this.image.getResolution())===a)))return this.image;this.wantedProjection_=i,this.wantedExtent_=o,this.wantedResolution_=a,this.image=new Xs(o,a,n,this.loader),this.image.addEventListener(Oe.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case pt.LOADING:this.loading=!0,n=lc.IMAGELOADSTART;break;case pt.LOADED:this.loading=!1,n=lc.IMAGELOADEND;break;case pt.ERROR:this.loading=!1,n=lc.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new Db(n,t))}}function Z0(r,e){r.getImage().src=e}function W0(r,e,t,n){const i=e/t,o=Hn(r),a=Pn(qt(r)/i,Rn),s=Pn(pn(r)/i,Rn),l=Pn((n-1)*a/2,Rn),c=a+2*l,u=Pn((n-1)*s/2,Rn),d=s+2*u;return bs(o,i,0,[c,d])}const Ts="1.3.0",np=[101,101];function K0(r,e,t,n,i){i.WIDTH=t[0],i.HEIGHT=t[1];const o=n.getAxisOrientation(),a=Ku(i.VERSION,"1.3")>=0;i[a?"CRS":"SRS"]=n.getCode();const s=a&&o.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e;return i.BBOX=s.join(","),Jo(r,i)}function Q0(r,e,t,n,i,o,a){o=Object.assign({REQUEST:"GetMap"},o);const s=e/t,l=[Hh(qt(r)/s,Rn),Hh(pn(r)/s,Rn)];if(t!=1)switch(a){case"geoserver":const c=90*t+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+c:o.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":o.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":o.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return K0(i,r,l,n,o)}function Es(r,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:Ts,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},r)}function Rb(r){const e=r.hidpi===void 0?!0:r.hidpi,t=pe(r.projection||"EPSG:3857"),n=r.ratio||1.5,i=r.load||el,o=r.crossOrigin??null;return(a,s,l)=>{a=W0(a,s,l,n),l!=1&&(!e||r.serverType===void 0)&&(l=1);const c=Q0(a,s,l,t,r.url,Es(r.params,"GetMap"),r.serverType),u=new Image;return u.crossOrigin=o,i(u,c).then(d=>({image:d,extent:a,pixelRatio:l}))}}function jb(r,e,t){if(r.url===void 0)return;const n=pe(r.projection||"EPSG:3857"),i=bs(e,t,0,np),o={QUERY_LAYERS:r.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,Es(r.params,"GetFeatureInfo"),r.params);const a=Gi((e[0]-i[0])/t,Rn),s=Gi((i[3]-e[1])/t,Rn),l=Ku(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=a,o[l?"J":"Y"]=s,K0(r.url,i,np,n,o)}function qb(r,e){if(r.url===void 0)return;const t={SERVICE:"WMS",VERSION:Ts,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e!==void 0){const n=pe(r.projection||"EPSG:3857").getMetersPerUnit()||1,i=28e-5;t.SCALE=e*n/i}if(Object.assign(t,r.params),r.params!==void 0&&t.LAYER===void 0){const n=t.LAYERS;if(!(!Array.isArray(n)||n.length!==1))return;t.LAYER=n}return Jo(r.url,t)}class cd extends al{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.tmpExtent_=Bo(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,i){const o=pe(n),a=this.getProjection()||o;let s=this.getTileGrid();s||(s=this.getTileGridForProjection(a));const l=Yo(e,o,a),c=zu(a,o,e,t),u=s.getZForResolution(c,this.zDirection),d=s.getResolution(u),h=s.getTileCoordForCoordAndZ(l,u);if(s.getResolutions().length<=h[0])return;let p=s.getTileCoordExtent(h,this.tmpExtent_);const m=this.gutter_;m!==0&&(p=li(p,d*m,p));const v={QUERY_LAYERS:this.params_.LAYERS};Object.assign(v,Es(this.params_,"GetFeatureInfo"),i);const y=Math.floor((l[0]-p[0])/d),_=Math.floor((p[3]-l[1])/d);return v[this.v13_?"I":"X"]=y,v[this.v13_?"J":"Y"]=_,this.getRequestUrl_(h,p,1,a||o,v)}getLegendUrl(e,t){if(this.urls[0]===void 0)return;const n={SERVICE:"WMS",VERSION:Ts,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(t===void 0||t.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;n.LAYER=i}if(e!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,o=28e-5;n.SCALE=e*i/o}return Object.assign(n,t),Jo(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,i,o){const a=this.urls;if(!a)return;let s;if(a.length==1)s=a[0];else{const l=x0(u0(e),a.length);s=a[l]}return Q0(t,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),n,i,s,o,this.serverType_)}getTilePixelRatio(e){return!this.hidpi_||this.serverType_===void 0?1:e}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}setParams_(e){this.params_=e,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(e){this.setParams_(Object.assign({},e))}updateParams(e){this.setParams_(Object.assign(this.params_,e))}updateV13_(){const e=this.params_.VERSION||Ts;this.v13_=Ku(e,"1.3")>=0}tileUrlFunction(e,t,n){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),i.getResolutions().length<=e[0])return;t!=1&&(!this.hidpi_||this.serverType_===void 0)&&(t=1);const o=i.getResolution(e[0]);let a=i.getTileCoordExtent(e,this.tmpExtent_);const s=this.gutter_;s!==0&&(a=li(a,o*s,a));const l=Object.assign({},Es(this.params_,"GetMap"));return this.getRequestUrl_(e,a,t,n,l)}}class ud extends sl{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:Z0,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,n,i){const o=pe(n),a=this.getProjection();a&&a!==o&&(t=zu(a,o,e,t),e=Yo(e,o,a));const s={url:this.url_,params:{...this.params_,...i},projection:a||o};return jb(s,e,t)}getLegendUrl(e,t){return qb({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,n,i){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==i)&&(this.loaderProjection_=i,this.loader=Rb({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(o,a)=>(this.image.setImage(o),this.imageLoadFunction_(this.image,a),el(o))})),super.getImageInternal(e,t,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}setParams(e){this.params_=Object.assign({},e),this.changed()}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const Fb="EPSG:3857";function dd(){return Math.floor(Math.random()*9999999)}function X0(r,e){const t={...r},n={},i=["STYLES","TIME","CRS"];return Object.keys(e).forEach(o=>{n[o.toUpperCase()]=e[o]}),i.forEach(o=>{e[o]&&(t[o]=e[o])}),t}function J0(r){let e={};return e=Object.assign({CACHEID:dd(),FORMAT:r.format||"image/png",LAYERS:r.layers,VERSION:r.version,TRANSPARENT:r.transparent,SINGLETILE:r.singleTile,CQL_FILTER:r.cqlFilter},r.singleTile?{}:{WIDTH:r.tilesize,HEIGHT:r.tilesize}),e=X0(e,r),e}function ru({isSecured:r}){return async(e,t)=>{try{const n=await fetch(t,{credentials:r?"include":"omit"}),i=await n.blob();e.getImage().src=URL.createObjectURL(i)}catch(n){console.error(n.message),e.getImage().src=t}}}function em(r,e,t={}){const n=J0(r),i=r.crs?pe(r.crs):void 0;let o=null,a={};return r.TIME&&r.TIME.toString()==="[object Promise]"&&(n.TIME=new Date().toISOString()),r.singleTile?(a={url:r.url,params:n,serverType:r.serverType,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{imageLoadFunction:ru(r)})),new ud(a)):(e&&e.resolutions&&(o=new Si({resolutions:e.resolutions,origin:e.origin?e.origin:void 0,tileSize:parseInt(r.tilesize,10)})),a={url:r.url,params:n,gutter:r.gutter||0,tileGrid:o,projection:i,attributions:r.olAttribution,crossOrigin:r.crossOrigin},(r.isSecured||t.useFetchForWMS)&&(a=Object.assign(a,{tileLoadFunction:ru(r)})),new cd(a))}function zb(r={},{layerParams:e={},options:t={}}={}){const n=em(r,t,e),i=r.singleTile?Ma:Ci;return n.set("olcs_projection",pe(Fb)),new i(Object.assign({source:n,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,id:r.id,extent:r.extent},e))}function Ub(r){const e=r.getSource().getParams().SESSIONID;let t=e;for(;e===t;)t=dd();return r.getSource().updateParams({SESSIONID:t}),t}function $b(r,e,t){const n=Ws.getLayerWhere({Id:r.get("id")}),i=e.getView().getResolution(),o=e.getView().getProjection(),a=Object.assign({INFO_FORMAT:n&&n.infoFormat||"text/xml"},n&&typeof n.featureCount<"u"?{FEATURE_COUNT:n.featureCount}:{});return r.getSource().getFeatureInfoUrl(t,i,o,a)}const Gb=Object.freeze(Object.defineProperty({__proto__:null,addOptionalParams:X0,createLayer:zb,createLayerSource:em,defaultLoadFunction:ru,generateSessionId:dd,getGfiURL:$b,makeParams:J0,updateSource:Ub},Symbol.toStringTag,{value:"Module"}));class ll extends al{constructor(e){const t=e.requestEncoding!==void 0?e.requestEncoding:"KVP",n=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=B0(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=eu(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const t=e.join(`
`);this.setTileUrlFunction(eu(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t=="KVP"&&Object.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t=="KVP"?Jo(e,n):e.replace(/\{(\w+?)\}/g,function(a,s){return s.toLowerCase()in n?n[s.toLowerCase()]:a});const i=this.tileGrid,o=this.dimensions_;return(function(a,s,l){if(!a)return;const c={TileMatrix:i.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(c,o);let u=e;return t=="KVP"?u=Jo(u,c):u=u.replace(/\{(\w+?)\}/g,function(d,h){return encodeURIComponent(c[h])}),u})}}function Bb(r,e){const t=r.Contents.Layer?.find(function(R){return R.Identifier==e.layer});if(!t)return null;const n=r.Contents.TileMatrixSet;let i;t.TileMatrixSetLink.length>1?"projection"in e?i=t.TileMatrixSetLink.findIndex(function(R){const D=n.find(function(U){return U.Identifier==R.TileMatrixSet}).SupportedCRS,Q=pe(D),C=pe(e.projection);return Q&&C?It(Q,C):D==e.projection}):i=t.TileMatrixSetLink.findIndex(function(R){return R.TileMatrixSet==e.matrixSet}):i=0,i<0&&(i=0);const o=t.TileMatrixSetLink[i].TileMatrixSet,a=t.TileMatrixSetLink[i].TileMatrixSetLimits;let s=t.Format[0];"format"in e&&(s=e.format),i=t.Style.findIndex(function(R){return"style"in e?R.Title==e.style:R.isDefault}),i<0&&(i=0);const l=t.Style[i].Identifier,c={};"Dimension"in t&&t.Dimension.forEach(function(R,D,Q){const C=R.Identifier;let U=R.Default;U===void 0&&(U=R.Value[0]),c[C]=U});const u=r.Contents.TileMatrixSet.find(function(R){return R.Identifier==o});let d;const h=u.SupportedCRS;if(h&&(d=pe(h)),"projection"in e){const R=pe(e.projection);R&&(!d||It(R,d))&&(d=R)}let p=!1;const m=d.getAxisOrientation().startsWith("ne");let v=u.TileMatrix[0],y={MinTileCol:0,MinTileRow:0,MaxTileCol:v.MatrixWidth-1,MaxTileRow:v.MatrixHeight-1};if(a){y=a[a.length-1];const R=u.TileMatrix.find(D=>D.Identifier===y.TileMatrix||u.Identifier+":"+D.Identifier===y.TileMatrix);R&&(v=R)}const _=t.BoundingBox?.find(R=>pe(R.crs)&&It(pe(R.crs),d)),w=v.ScaleDenominator*28e-5/d.getMetersPerUnit(),A=m?[v.TopLeftCorner[1],v.TopLeftCorner[0]]:v.TopLeftCorner,T=v.TileWidth*w,N=v.TileHeight*w;let W=_?.extent??u.BoundingBox;W&&m&&(W=[W[1],W[0],W[3],W[2]]);let Y=[A[0]+T*y.MinTileCol,A[1]-N*(1+y.MaxTileRow),A[0]+T*(1+y.MaxTileCol),A[1]-N*y.MinTileRow];if(W!==void 0&&!jr(W,Y)){const R=t.WGS84BoundingBox,D=pe("EPSG:4326").getExtent();if(Y=W,R)p=R[0]===D[0]&&R[2]===D[2];else{const Q=ci(W,u.SupportedCRS,"EPSG:4326");p=Q[0]-1e-10<=D[0]&&Q[2]+1e-10>=D[2]}}const ie=Cb(u,Y,a),te=[];let le=e.requestEncoding;if(le=le!==void 0?le:"","OperationsMetadata"in r&&"GetTile"in r.OperationsMetadata){const R=r.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let D=0,Q=R.length;D<Q;++D)if(R[D].Constraint){const C=R[D].Constraint.find(function(U){return U.name=="GetEncoding"}).AllowedValues.Value;if(le===""&&(le=C[0]),le==="KVP")C.includes("KVP")&&te.push(R[D].href);else break}else R[D].href&&(le="KVP",te.push(R[D].href))}return te.length===0&&(le="REST",t.ResourceURL.forEach(function(R){R.resourceType==="tile"&&(s=R.format,te.push(R.template))})),{urls:te,layer:e.layer,matrixSet:o,format:s,projection:d,requestEncoding:le,tileGrid:ie,style:l,dimensions:c,wrapX:p,crossOrigin:e.crossOrigin}}const Qt=[null,"http://www.opengis.net/ows/1.1"],Vb=Ge(Qt,{ServiceIdentification:ne(f2),ServiceProvider:ne(v2),OperationsMetadata:ne(g2)});class Hb extends I0{constructor(){super()}readFromNode(e){return ue({},Vb,e,[])||null}}const Yb=Ge(Qt,{DeliveryPoint:ne(De),City:ne(De),AdministrativeArea:ne(De),PostalCode:ne(De),Country:ne(De),ElectronicMailAddress:ne(De)}),Zb=Ge(Qt,{Value:Yt(k2)}),Wb=Ge(Qt,{AllowedValues:ne(s2)}),Kb=Ge(Qt,{Phone:ne(m2),Address:ne(a2)}),Qb=Ge(Qt,{HTTP:ne(h2)}),Xb=Ge(Qt,{Get:Yt(d2),Post:void 0}),Jb=Ge(Qt,{DCP:ne(u2)}),e2=Ge(Qt,{Operation:p2}),t2=Ge(Qt,{Voice:ne(De),Facsimile:ne(De)}),r2=Ge(Qt,{Constraint:Yt(l2)}),n2=Ge(Qt,{IndividualName:ne(De),PositionName:ne(De),ContactInfo:ne(c2)}),i2=Ge(Qt,{Abstract:ne(De),AccessConstraints:ne(De),Fees:ne(De),Title:ne(De),ServiceTypeVersion:ne(De),ServiceType:ne(De)}),o2=Ge(Qt,{ProviderName:ne(De),ProviderSite:ne(Xu),ServiceContact:ne(y2)});function a2(r,e){return ue({},Yb,r,e)}function s2(r,e){return ue({},Zb,r,e)}function l2(r,e){const t=r.getAttribute("name");if(t)return ue({name:t},Wb,r,e)}function c2(r,e){return ue({},Kb,r,e)}function u2(r,e){return ue({},Qb,r,e)}function d2(r,e){const t=Xu(r);if(t)return ue({href:t},r2,r,e)}function h2(r,e){return ue({},Xb,r,e)}function p2(r,e){const t=r.getAttribute("name"),n=ue({},Jb,r,e);if(!n)return;const i=e[e.length-1];i[t]=n}function g2(r,e){return ue({},e2,r,e)}function m2(r,e){return ue({},t2,r,e)}function f2(r,e){return ue({},i2,r,e)}function y2(r,e){return ue({},n2,r,e)}function v2(r,e){return ue({},o2,r,e)}function k2(r,e){return De(r)}const Kr=[null,"http://www.opengis.net/wmts/1.0"],mo=[null,"http://www.opengis.net/ows/1.1"],b2=Ge(Kr,{Contents:ne(A2)});class x2 extends I0{constructor(){super(),this.owsParser_=new Hb}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let n=this.owsParser_.readFromNode(e);return n?(n.version=t,n=ue(n,b2,e,[]),n||null):null}}const w2=Ge(Kr,{Layer:Yt(N2),TileMatrixSet:Yt(O2)}),_2=Ge(Kr,{Style:Yt(P2),Format:Yt(De),TileMatrixSetLink:Yt(D2),Dimension:Yt(R2),ResourceURL:Yt(j2)},Ge(mo,{Title:ne(De),Abstract:ne(De),WGS84BoundingBox:ne(rm),BoundingBox:Yt(q2),Identifier:ne(De)})),T2=Ge(Kr,{LegendURL:Yt(F2)},Ge(mo,{Title:ne(De),Identifier:ne(De)})),E2=Ge(Kr,{TileMatrixSet:ne(De),TileMatrixSetLimits:ne(U2)}),M2=Ge(Kr,{TileMatrixLimits:ve($2)}),C2=Ge(Kr,{TileMatrix:ne(De),MinTileRow:ne(Zt),MaxTileRow:ne(Zt),MinTileCol:ne(Zt),MaxTileCol:ne(Zt)}),S2=Ge(Kr,{Default:ne(De),Value:Yt(De)},Ge(mo,{Identifier:ne(De)})),tm=Ge(mo,{LowerCorner:ve(nu),UpperCorner:ve(nu)}),L2=Ge(Kr,{WellKnownScaleSet:ne(De),TileMatrix:Yt(z2)},Ge(mo,{SupportedCRS:ne(De),Identifier:ne(De),BoundingBox:ne(rm)})),I2=Ge(Kr,{TopLeftCorner:ne(nu),ScaleDenominator:ne(kk),TileWidth:ne(Zt),TileHeight:ne(Zt),MatrixWidth:ne(Zt),MatrixHeight:ne(Zt)},Ge(mo,{Identifier:ne(De)}));function A2(r,e){return ue({},w2,r,e)}function N2(r,e){return ue({},_2,r,e)}function O2(r,e){return ue({},L2,r,e)}function P2(r,e){const t=ue({},T2,r,e);if(!t)return;const n=r.getAttribute("isDefault")==="true";return t.isDefault=n,t}function D2(r,e){return ue({},E2,r,e)}function R2(r,e){return ue({},S2,r,e)}function j2(r,e){const t=r.getAttribute("format"),n=r.getAttribute("template"),i=r.getAttribute("resourceType"),o={};return t&&(o.format=t),n&&(o.template=n),i&&(o.resourceType=i),o}function rm(r,e){const t=ue([],tm,r,e);if(t.length==2)return Fu(t)}function q2(r,e){const t=r.getAttribute("crs"),n=ue([],tm,r,e);if(n.length==2)return{extent:Fu(n),crs:t}}function F2(r,e){const t={};return t.format=r.getAttribute("format"),t.href=Xu(r),t}function nu(r,e){const t=De(r).split(/\s+/);if(!t||t.length!=2)return;const n=+t[0],i=+t[1];if(!(isNaN(n)||isNaN(i)))return[n,i]}function z2(r,e){return ue({},I2,r,e)}function U2(r,e){return ue([],M2,r,e)}function $2(r,e){return ue({},C2,r,e)}function Ms(r,e){console.error("content: Layer "+e+": "+r)}function nm(r,e,t,n){for(let i=0;i<t;++i)r[i]=n/Math.pow(2,i),e[i]=i}function im(r){return fetch(r).then(e=>{if(e&&e.status===200)return e.text();throw console.error(e),new Error(`Failing WMTS request to ${r}. Status: ${e?.status}`)}).then(e=>new x2().read(e))}function om(r,e){const t=pe(r.coordinateSystem),n=t.getExtent(),i=r.style,o=r.format,a=r.wrapX?r.wrapX:!1,s=r.urls,l=n?qt(n)/parseInt(r.tileSize,10):null,c=parseInt(r.resLength,10),u=new Array(c),d=new Array(c),h=new ll({projection:t,attributions:r.olAttribution,tileGrid:new V0({origin:r.origin,resolutions:u,matrixIds:d,tileSize:r.tileSize}),tilePixelRatio:Vu,urls:s,matrixSet:r.tileMatrixSet,matrixSizes:r.matrixSizes,layer:r.layers,format:o,style:i,version:r.version,transparent:r.transparent.toString(),wrapX:a,requestEncoding:r.requestEncoding,scales:r.scales});l?nm(u,d,c,l):Ms(r.name,`${t.getCode()} has been given as projection to wmts.js for layer with id ${r.id}, but only "EPSG:4326" and "EPSG:3857" are supported. Please use the "capabilitiesUrl" and "optionsFromCapabilities" configuration parameters on this layer.`),h.matrixSizes=r.matrixSizes,h.scales=r.scales,e.setSource(h),e.getSource().refresh()}function am(r,e){const t=r.layers,n=r.capabilitiesUrl,i=r.tileMatrixSet,o=r.format,a={layer:t,format:o};i&&i.length>0?a.matrixSet=i:a.projection="EPSG:3857",im(n).then(s=>{const l=Bb(s,a),c=s.Contents.TileMatrixSet.filter(h=>h.Identifier===l.matrixSet)[0],u=[],d=[];if(c.TileMatrix.forEach(({MatrixHeight:h,MatrixWidth:p,ScaleDenominator:m})=>{u.push([p,h]),d.push(m)}),l!==null){const h=new ll(l);h.matrixSizes=u,h.scales=d,e.set("options",l),e.setSource(h),e.getSource().refresh()}else{const h="Cannot get options from WMTS-Capabilities";throw Ms(h,r.name||r.id),new Error(h)}}).catch(s=>{s!=="Fetch error"&&Ms(s,r.name||r.id)})}function G2(r,e={}){const t=new Ci(Object.assign({id:r.id,source:new ll({}),name:r.name,minResolution:typeof r.minResolution=="string"?parseFloat(r.minResolution):r.minResolution,maxResolution:typeof r.maxResolution=="string"?parseFloat(r.maxResolution):r.maxResolution,supported:["2D","3D"],showSettings:!0,extent:null,typ:r.typ,legendURL:r.legendURL,infoFormat:r.infoFormat},e));return!r.optionsFromCapabilities||!r.capabilitiesUrl?om(r,t):am(r,t),t}const B2={createLayer:G2,createLayerSourceByCapabilities:am,createLayerSourceByDefinitions:om,getWMTSCapabilities:im,generateArrays:nm,showErrorMessage:Ms};class hd{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Ti,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?pe(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()==="tile-pixels"&&(n=pe(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return gt()}readFeature(e,t){return gt()}readFeatures(e,t){return gt()}readGeometry(e,t){return gt()}readProjection(e){return gt()}writeFeature(e,t){return gt()}writeFeatures(e,t){return gt()}writeGeometry(e,t){return gt()}}function Li(r,e,t){const n=t?pe(t.featureProjection):null,i=t?pe(t.dataProjection):null;let o=r;if(n&&i&&!It(n,i)){e&&(o=r.clone());const a=e?n:i,s=e?i:n;a.getUnits()==="tile-pixels"?o.transform(a,s):o.applyTransform(ks(a,s))}if(e&&t&&t.decimals!==void 0){const a=Math.pow(10,t.decimals),s=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*a)/a;return l};o===r&&(o=r.clone()),o.applyTransform(s)}return o}function pd(r,e){const t=e?pe(e.featureProjection):null,n=e?pe(e.dataProjection):null;return t&&n&&!It(t,n)?ci(r,n,t):r}const V2={Point:Gn,LineString:ro,Polygon:xi,MultiPoint:rl,MultiLineString:tl,MultiPolygon:nl};function H2(r,e,t){return Array.isArray(e[0])?(Hg(r,0,e,t)||(r=r.slice(),Uc(r,0,e,t)),r):($v(r,0,e,t)||(r=r.slice(),Gv(r,0,e,t)),r)}function sm(r,e){const t=r.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>sm({...r,geometry:o})).flat();const n=t.type==="MultiPolygon"?"Polygon":t.type;if(n==="GeometryCollection"||n==="Circle")throw new Error("Unsupported geometry type: "+n);const i=t.layout.length;return Li(new Ht(n,n==="Polygon"?H2(t.flatCoordinates,t.ends,i):t.flatCoordinates,t.ends?.flat(),i,r.properties||{},r.id).enableSimplifyTransformed(),!1,e)}function gd(r,e){if(!r)return null;if(Array.isArray(r)){const n=r.map(i=>gd(i,e));return new Ak(n)}const t=V2[r.type];return Li(new t(r.flatCoordinates,r.layout||"XY",r.ends),!1,e)}class Y2 extends hd{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Ha(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Ha(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return gt()}readFeaturesFromObject(e,t){return gt()}readGeometry(e,t){return this.readGeometryFromObject(Ha(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return gt()}readProjection(e){return this.readProjectionFromObject(Ha(e))}readProjectionFromObject(e){return gt()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return gt()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return gt()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return gt()}}function Ha(r){return typeof r=="string"?JSON.parse(r)||null:r!==null?r:null}class Cs extends Y2{constructor(e){e=e||{},super(),this.dataProjection=pe(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=pe(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;e.type==="Feature"?n=e:n={type:"Feature",geometry:e,properties:null};const i=md(n.geometry);if(this.featureClass===Ht)return sm({geometry:i,id:n.id,properties:n.properties},t);const o=new Ti;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&o.setGeometryName(n.geometry_name),o.setGeometry(gd(i,t)),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o}readFeaturesFromObject(e,t){const n=e;let i=null;if(n.type==="FeatureCollection"){const o=e;i=[];const a=o.features;for(let s=0,l=a.length;s<l;++s){const c=this.readFeatureFromObject(a[s],t);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,t)];return i.flat()}readGeometryFromObject(e,t){return Z2(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if(t.type=="name")n=pe(t.properties.name);else if(t.type==="EPSG")n=pe("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(n.id=i),!e.hasProperties())return n;const o=e.getProperties(),a=e.getGeometry();return a&&(n.geometry=iu(a,t),delete o[e.getGeometryName()]),Ko(o)||(n.properties=o),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let i=0,o=e.length;i<o;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return iu(e,this.adaptOptions(t))}}function md(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=K2(r);break}case"LineString":{t=Q2(r);break}case"Polygon":{t=tx(r);break}case"MultiPoint":{t=J2(r);break}case"MultiLineString":{t=X2(r);break}case"MultiPolygon":{t=ex(r);break}case"GeometryCollection":{t=W2(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return t}function Z2(r,e){const t=md(r);return gd(t,e)}function W2(r,e){return r.geometries.map(function(t){return md(t)})}function K2(r){const e=r.coordinates;return{type:"Point",flatCoordinates:e,layout:ho(e.length)}}function Q2(r){const e=r.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:ho(e[0]?.length||2)}}function X2(r){const e=r.coordinates,t=e[0]?.[0]?.length||2,n=[],i=qu(n,0,e,t);return{type:"MultiLineString",flatCoordinates:n,ends:i,layout:ho(t)}}function J2(r){const e=r.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:ho(e[0]?.length||2)}}function ex(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.[0].length||2,i=Yg(t,0,e,n);return{type:"MultiPolygon",flatCoordinates:t,ends:i,layout:ho(n)}}function tx(r){const e=r.coordinates,t=[],n=e[0]?.[0]?.length,i=qu(t,0,e,n);return{type:"Polygon",flatCoordinates:t,ends:i,layout:ho(n)}}function iu(r,e){r=Li(r,!0,e);const t=r.getType();let n;switch(t){case"Point":{n=sx(r);break}case"LineString":{n=nx(r);break}case"Polygon":{n=lx(r,e);break}case"MultiPoint":{n=ox(r);break}case"MultiLineString":{n=ix(r);break}case"MultiPolygon":{n=ax(r,e);break}case"GeometryCollection":{n=rx(r,e);break}case"Circle":{n={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return n}function rx(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(t){return iu(t,e)})}}function nx(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function ix(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function ox(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function ax(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function sx(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function lx(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}class lm extends hd{constructor(){super(),this.xmlSerializer_=yk()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if(typeof e=="string"){const n=ii(e);return this.readFeatureFromDocument(n,t)}return ni(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if(typeof e=="string"){const n=ii(e);return this.readFeaturesFromDocument(n,t)}return ni(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){const n=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&ir(n,this.readFeaturesFromNode(i,t));return n}readFeaturesFromNode(e,t){return gt()}readGeometry(e,t){if(!e)return null;if(typeof e=="string"){const n=ii(e);return this.readGeometryFromDocument(n,t)}return ni(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){const t=ii(e);return this.readProjectionFromDocument(t)}return ni(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}}const un="http://www.opengis.net/gml",cx=/^\s*$/;let ae=class extends lm{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:ve(this.readFeaturesInternal),featureMembers:me(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){const n=e.localName;let i=null;if(n=="FeatureCollection")i=ue([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if(n=="featureMembers"||n=="featureMember"||n=="member"){const o=t[0];let a=o.featureType,s=o.featureNS;const l="p",c="p0";if(!a&&e.childNodes){a=[],s={};for(let h=0,p=e.childNodes.length;h<p;++h){const m=e.childNodes[h];if(m.nodeType===1){const v=m.nodeName.split(":").pop();if(!a.includes(v)){let y="",_=0;const w=m.namespaceURI;for(const A in s){if(s[A]===w){y=A;break}++_}y||(y=l+_,s[y]=w),a.push(y+":"+v)}}}n!="featureMember"&&(o.featureType=a,o.featureNS=s)}if(typeof s=="string"){const h=s;s={},s[c]=h}const u={},d=Array.isArray(a)?a:[a];for(const h in s){const p={};for(let m=0,v=d.length;m<v;++m)(d[m].includes(":")?d[m].split(":")[0]:c)===h&&(p[d[m].split(":").pop()]=n=="featureMembers"?ve(this.readFeatureElement,this):me(this.readFeatureElement,this));u[s[h]]=p}n=="featureMember"||n=="member"?i=ue(void 0,u,e,t):i=ue([],u,e,t)}return i===null&&(i=[]),i}readGeometryOrExtent(e,t){const n=t[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),ue(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?pd(i,n):void 0}readGeometryElement(e,t){const n=t[0],i=this.readGeometryOrExtent(e,t);return i?Li(i,!1,n):void 0}readFeatureElementInternal(e,t,n){let i;const o={};for(let l=e.firstElementChild;l;l=l.nextElementSibling){let c;const u=l.localName;l.childNodes.length===0||l.childNodes.length===1&&(l.firstChild.nodeType===3||l.firstChild.nodeType===4)?(c=Ei(l,!1),cx.test(c)&&(c=void 0)):(n&&(c=u==="boundedBy"?this.readExtentElement(l,t):this.readGeometryElement(l,t)),c?u!=="boundedBy"&&(i=u):c=this.readFeatureElementInternal(l,t,!1));const d=l.attributes.length;if(d>0&&!(c instanceof vs)){c={_content_:c};for(let h=0;h<d;h++){const p=l.attributes[h].name;c[p]=l.attributes[h].value}}o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(c)):o[u]=c}if(!n)return o;const a=new Ti(o);i&&a.setGeometryName(i);const s=e.getAttribute("fid")||mk(e,this.namespace,"id");return s&&a.setId(s),a}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new Gn(n,"XYZ")}readMultiPoint(e,t){const n=ue([],this.MULTIPOINT_PARSERS,e,t,this);if(n)return new rl(n)}readMultiLineString(e,t){const n=ue([],this.MULTILINESTRING_PARSERS,e,t,this);if(n)return new tl(n)}readMultiPolygon(e,t){const n=ue([],this.MULTIPOLYGON_PARSERS,e,t,this);if(n)return new nl(n)}pointMemberParser(e,t){ui(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){ui(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){ui(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new ro(n,"XYZ")}readFlatLinearRing(e,t){const n=ue(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(n)return n}readLinearRing(e,t){const n=this.readFlatCoordinatesFromNode(e,t);if(n)return new ov(n,"XYZ")}readPolygon(e,t){const n=ue([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)ir(i,n[a]),o.push(i.length);return new xi(i,"XYZ",o)}}readFlatCoordinatesFromNode(e,t){return ue(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){return this.readGeometryElement(e,[this.getReadOptions(e,t||{})])||null}readFeaturesFromNode(e,t){const n={featureType:this.featureType,featureNS:this.featureNS};return n&&Object.assign(n,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[n])||[]}readProjectionFromNode(e){return pe(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}};ae.prototype.namespace=un;ae.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}};ae.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}};ae.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}};ae.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:ve(ae.prototype.pointMemberParser),pointMembers:ve(ae.prototype.pointMemberParser)}};ae.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:ve(ae.prototype.lineStringMemberParser),lineStringMembers:ve(ae.prototype.lineStringMemberParser)}};ae.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:ve(ae.prototype.polygonMemberParser),polygonMembers:ve(ae.prototype.polygonMemberParser)}};ae.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:ve(ae.prototype.readFlatCoordinatesFromNode)}};ae.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:ve(ae.prototype.readLineString)}};ae.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:ve(ae.prototype.readPolygon)}};ae.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:me(ae.prototype.readFlatLinearRing)}};const ux=un+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",dx={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};let Se=class extends ae{constructor(e){e=e||{},super(e),this.FEATURE_COLLECTION_PARSERS[un].featureMember=ve(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:ux}readFlatCoordinates(e,t){const n=Ei(e,!1).replace(/^\s*|\s*$/g,""),i=t[0].srsName;let o="enu";if(i){const l=pe(i);l&&(o=l.getAxisOrientation())}const a=n.trim().split(/\s+/),s=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].split(/,+/),d=parseFloat(u[0]),h=parseFloat(u[1]),p=u.length===3?parseFloat(u[2]):0;o.startsWith("en")?s.push(d,h,p):s.push(h,d,p)}return s}readBox(e,t){const n=ue([null],this.BOX_PARSERS_,e,t,this);return ya(n[1][0],n[1][1],n[1][3],n[1][4])}innerBoundaryIsParser(e,t){const n=ue(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}outerBoundaryIsParser(e,t){const n=ue(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="MultiLineString"&&s===!0&&(n="MultiCurve")),Ee("http://www.opengis.net/gml",n)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=I(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=I(yt)))}}const u=Object.assign({},o);u.node=e,lt(u,o.serializers,or(void 0,a),c,n,l)}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}else if(e.nodeName==="Curve"){const o=Ee(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();lt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=pd(t,i):a=Li(t,!0,i),lt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}createCoordinatesNode_(e){const t=Ee(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=t.getCoordinates(),l=s.length,c=new Array(l);for(let u=0;u<l;++u){const d=s[u];c[u]=this.getCoords_(d,a,o)}yt(e,c.join(" "))}writeCurveSegments_(e,t,n){const i=Ee(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();lt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Ee(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Ee(o.namespaceURI,a!==void 0?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,n){const i=Ee(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeRing(e,t,n){const i=Ee(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}getCoords_(e,t,n){let i=(t?pe(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];if(n){const o=e[2]||0;i+=","+o}return i}writePoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);const l=t.getCoordinates(),c=this.getCoords_(l,a,o);yt(s,c)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;a&&e.setAttribute("srsName",a);const s=t.getPoints();lt({node:e,hasZ:o,srsName:a},this.POINTMEMBER_SERIALIZERS,or("pointMember"),s,n,void 0,this)}writePointMember(e,t,n){const i=Ee(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,n)}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();lt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];lt({node:e},this.ENVELOPE_SERIALIZERS,L0,a,n,o,this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Ee("http://www.opengis.net/gml",dx[i.nodeName])}};Se.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:me(Se.prototype.readFlatCoordinates)}};Se.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Se.prototype.innerBoundaryIsParser,outerBoundaryIs:Se.prototype.outerBoundaryIsParser}};Se.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ve(Se.prototype.readFlatCoordinates)}};Se.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:me(ae.prototype.readPoint),MultiPoint:me(ae.prototype.readMultiPoint),LineString:me(ae.prototype.readLineString),MultiLineString:me(ae.prototype.readMultiLineString),LinearRing:me(ae.prototype.readLinearRing),Polygon:me(ae.prototype.readPolygon),MultiPolygon:me(ae.prototype.readMultiPolygon),Box:me(Se.prototype.readBox)}};Se.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:I(Se.prototype.writeCurveOrLineString),MultiCurve:I(Se.prototype.writeMultiCurveOrLineString),Point:I(Se.prototype.writePoint),MultiPoint:I(Se.prototype.writeMultiPoint),LineString:I(Se.prototype.writeCurveOrLineString),MultiLineString:I(Se.prototype.writeMultiCurveOrLineString),LinearRing:I(Se.prototype.writeLinearRing),Polygon:I(Se.prototype.writeSurfaceOrPolygon),MultiPolygon:I(Se.prototype.writeMultiSurfaceOrPolygon),Surface:I(Se.prototype.writeSurfaceOrPolygon),MultiSurface:I(Se.prototype.writeMultiSurfaceOrPolygon),Envelope:I(Se.prototype.writeEnvelope)}};Se.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:I(Se.prototype.writeLineStringOrCurveMember),curveMember:I(Se.prototype.writeLineStringOrCurveMember)}};Se.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:I(Se.prototype.writeRing),innerBoundaryIs:I(Se.prototype.writeRing)}};Se.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:I(Se.prototype.writePointMember)}};Se.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:I(Se.prototype.writeSurfaceOrPolygonMember),polygonMember:I(Se.prototype.writeSurfaceOrPolygonMember)}};Se.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:I(yt),upperCorner:I(yt)}};const hx=un+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",px={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};let q=class extends ae{constructor(e){e=e||{},super(e),this.surface_=e.surface!==void 0?e.surface:!1,this.curve_=e.curve!==void 0?e.curve:!1,this.multiCurve_=e.multiCurve!==void 0?e.multiCurve:!0,this.multiSurface_=e.multiSurface!==void 0?e.multiSurface:!0,this.schemaLocation=e.schemaLocation?e.schemaLocation:hx,this.hasZ=e.hasZ!==void 0?e.hasZ:!1}readMultiCurve(e,t){const n=ue([],this.MULTICURVE_PARSERS,e,t,this);if(n)return new tl(n)}readFlatCurveRing(e,t){const n=ue([],this.MULTICURVE_PARSERS,e,t,this),i=[];for(let o=0,a=n.length;o<a;++o)ir(i,n[o].getFlatCoordinates());return i}readMultiSurface(e,t){const n=ue([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new nl(n)}curveMemberParser(e,t){ui(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){ui(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return ue([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return ue([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return ue([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return ue([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=ue(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}exteriorParser(e,t){const n=ue(void 0,this.RING_PARSERS,e,t,this);if(n){const i=t[t.length-1];i[0]=n}}readSurface(e,t){const n=ue([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,s;for(a=1,s=n.length;a<s;++a)ir(i,n[a]),o.push(i.length);return new xi(i,"XYZ",o)}}readCurve(e,t){const n=ue([null],this.CURVE_PARSERS,e,t,this);if(n)return new ro(n,"XYZ")}readEnvelope(e,t){const n=ue([null],this.ENVELOPE_PARSERS,e,t,this);return ya(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=Ei(e,!1);const i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];let a;for(;a=i.exec(n);)o.push(parseFloat(a[1])),n=n.substr(a[0].length);if(n!=="")return;const s=t[0].srsName;if((s?pe(s).getAxisOrientation():"enu")==="neu")for(let c=0,u=o.length;c<u;c+=3){const d=o[c],h=o[c+1];o[c]=h,o[c+1]=d}const l=o.length;if(l==2&&o.push(0),l!==0)return o}readFlatPosList(e,t){const n=Ei(e,!1).replace(/^\s*|\s*$/g,""),i=t[0],o=i.srsName,a=i.srsDimension,s=o?pe(o).getAxisOrientation():"enu",l=n.split(/\s+/);let c=2;e.getAttribute("srsDimension")?c=Vi(e.getAttribute("srsDimension")):e.getAttribute("dimension")?c=Vi(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?c=Vi(e.parentNode.getAttribute("srsDimension")):a&&(c=Vi(a));const u=s.startsWith("en");let d,h,p;const m=[];for(let v=0,y=l.length;v<y;v+=c)d=parseFloat(l[v]),h=parseFloat(l[v+1]),p=c===3?parseFloat(l[v+2]):0,u?m.push(d,h,p):m.push(h,d,p);return m}writePos_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=s?pe(s).getAxisOrientation():"enu",c=t.getCoordinates();let u=l.startsWith("en")?c[0]+" "+c[1]:c[1]+" "+c[0];if(o){const d=c[2]||0;u+=" "+d}yt(e,u)}getCoords_(e,t,n){let i=(t?pe(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];if(n){const o=e[2]||0;i+=" "+o}return i}writePosList_(e,t,n){const i=n[n.length-1],o=i.hasZ,a=o?"3":"2";e.setAttribute("srsDimension",a);const s=i.srsName,l=t.getCoordinates(),c=l.length,u=new Array(c);let d;for(let h=0;h<c;++h)d=l[h],u[h]=this.getCoords_(d,s,o);yt(e,u.join(" "))}writePoint(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Ee(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,t,n)}writeEnvelope(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=["lowerCorner","upperCorner"],a=[t[0]+" "+t[1],t[2]+" "+t[3]];lt({node:e},this.ENVELOPE_SERIALIZERS,L0,a,n,o,this)}writeLinearRing(e,t,n){const i=n[n.length-1].srsName;i&&e.setAttribute("srsName",i);const o=Ee(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return a===void 0&&(i.exteriorWritten=!0),Ee(o.namespaceURI,a!==void 0?"interior":"exterior")}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(e.nodeName!=="PolygonPatch"&&a&&e.setAttribute("srsName",a),e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){const s=t.getLinearRings();lt({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if(e.nodeName==="Surface"){const s=Ee(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,n)}}writeCurveOrLineString(e,t,n){const i=n[n.length-1].srsName;if(e.nodeName!=="LineStringSegment"&&i&&e.setAttribute("srsName",i),e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){const o=Ee(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,n)}else if(e.nodeName==="Curve"){const o=Ee(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.surface;a&&e.setAttribute("srsName",a);const l=t.getPolygons();lt({node:e,hasZ:o,srsName:a,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.srsName,a=i.hasZ;o&&e.setAttribute("srsName",o);const s=t.getPoints();lt({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,or("pointMember"),s,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,s=i.curve;a&&e.setAttribute("srsName",a);const l=t.getLineStrings();lt({node:e,hasZ:o,srsName:a,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,n,void 0,this)}writeRing(e,t,n){const i=Ee(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,n)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writePointMember(e,t,n){const i=Ee(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,n)}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeSurfacePatches_(e,t,n){const i=Ee(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeCurveSegments_(e,t,n){const i=Ee(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);o.node=e;let a;Array.isArray(t)?a=pd(t,i):a=Li(t,!0,i),lt(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute("fid",i);const o=n[n.length-1],a=o.featureNS,s=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const l=[],c=[];if(t.hasProperties()){const d=t.getProperties();for(const h in d){const p=d[h];p!=null&&(l.push(h),c.push(p),h==s||typeof p.getSimplifiedGeometry=="function"?h in o.serializers[a]||(o.serializers[a][h]=I(this.writeGeometryElement,this)):h in o.serializers[a]||(o.serializers[a][h]=I(yt)))}}const u=Object.assign({},o);u.node=e,lt(u,o.serializers,or(void 0,a),c,n,l)}writeFeatureMembers_(e,t,n){const i=n[n.length-1],o=i.featureType,a=i.featureNS,s={};s[a]={},s[a][o]=I(this.writeFeatureElement,this);const l=Object.assign({},i);l.node=e,lt(l,s,or(o,a),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){const i=t[t.length-1].node;return Ee(this.namespace,px[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.curve,l=i.multiCurve;return Array.isArray(e)?n="Envelope":(n=e.getType(),n==="MultiPolygon"&&o===!0?n="MultiSurface":n==="Polygon"&&a===!0?n="Surface":n==="LineString"&&s===!0?n="Curve":n==="MultiLineString"&&l===!0&&(n="MultiCurve")),Ee(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=Ee(this.namespace,"geom"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(n,e,[i]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=Ee(this.namespace,"featureMembers");n.setAttributeNS(Vc,"xsi:schemaLocation",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(n,e,[i]),n}};q.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:me(q.prototype.readFlatPos),posList:me(q.prototype.readFlatPosList),coordinates:me(Se.prototype.readFlatCoordinates)}};q.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:q.prototype.interiorParser,exterior:q.prototype.exteriorParser}};q.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:me(ae.prototype.readPoint),MultiPoint:me(ae.prototype.readMultiPoint),LineString:me(ae.prototype.readLineString),MultiLineString:me(ae.prototype.readMultiLineString),LinearRing:me(ae.prototype.readLinearRing),Polygon:me(ae.prototype.readPolygon),MultiPolygon:me(ae.prototype.readMultiPolygon),Surface:me(q.prototype.readSurface),MultiSurface:me(q.prototype.readMultiSurface),Curve:me(q.prototype.readCurve),MultiCurve:me(q.prototype.readMultiCurve),Envelope:me(q.prototype.readEnvelope)}};q.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:ve(q.prototype.curveMemberParser),curveMembers:ve(q.prototype.curveMemberParser)}};q.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:ve(q.prototype.surfaceMemberParser),surfaceMembers:ve(q.prototype.surfaceMemberParser)}};q.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:ve(ae.prototype.readLineString),Curve:ve(q.prototype.readCurve)}};q.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:ve(ae.prototype.readPolygon),Surface:ve(q.prototype.readSurface)}};q.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:me(q.prototype.readPatch)}};q.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:me(q.prototype.readSegment)}};q.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:ve(q.prototype.readFlatPosList),upperCorner:ve(q.prototype.readFlatPosList)}};q.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:me(q.prototype.readPolygonPatch)}};q.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:S0(q.prototype.readLineStringSegment)}};ae.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:me(ae.prototype.readFlatLinearRing),Ring:me(q.prototype.readFlatCurveRing)}};q.prototype.writeFeatures;q.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:I(q.prototype.writeRing),interior:I(q.prototype.writeRing)}};q.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:I(yt),upperCorner:I(yt)}};q.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:I(q.prototype.writeSurfaceOrPolygonMember),polygonMember:I(q.prototype.writeSurfaceOrPolygonMember)}};q.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:I(q.prototype.writePointMember)}};q.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:I(q.prototype.writeLineStringOrCurveMember),curveMember:I(q.prototype.writeLineStringOrCurveMember)}};q.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:I(q.prototype.writeCurveOrLineString),MultiCurve:I(q.prototype.writeMultiCurveOrLineString),Point:I(q.prototype.writePoint),MultiPoint:I(q.prototype.writeMultiPoint),LineString:I(q.prototype.writeCurveOrLineString),MultiLineString:I(q.prototype.writeMultiCurveOrLineString),LinearRing:I(q.prototype.writeLinearRing),Polygon:I(q.prototype.writeSurfaceOrPolygon),MultiPolygon:I(q.prototype.writeMultiSurfaceOrPolygon),Surface:I(q.prototype.writeSurfaceOrPolygon),MultiSurface:I(q.prototype.writeMultiSurfaceOrPolygon),Envelope:I(q.prototype.writeEnvelope)}};const ou=65536*65536,ip=1/ou,gx=12,op=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),cc=0,Ya=1,Co=2,Za=5;class mx{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const i=this.readVarint(),o=i>>3,a=this.pos;this.type=i&7,e(o,t,this),this.pos===a&&this.skip(i)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*ou;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*ou;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,i;return i=t[this.pos++],n=i&127,i<128||(i=t[this.pos++],n|=(i&127)<<7,i<128)||(i=t[this.pos++],n|=(i&127)<<14,i<128)||(i=t[this.pos++],n|=(i&127)<<21,i<128)?n:(i=t[this.pos],n|=(i&15)<<28,fx(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=gx&&op?op.decode(this.buf.subarray(t,e)):Ix(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Co?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===cc)for(;this.buf[this.pos++]>127;);else if(t===Co)this.pos=this.readVarint()+this.pos;else if(t===Za)this.pos+=4;else if(t===Ya)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*ip),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*ip),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){vx(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=Ax(this.buf,e,this.pos);const n=this.pos-t;n>=128&&ap(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const i=this.pos-n;i>=128&&ap(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i}writeMessage(e,t,n){this.writeTag(e,Co),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,xx,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,wx,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Ex,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,_x,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Tx,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,Mx,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,Cx,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,Sx,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,Lx,t)}writeBytesField(e,t){this.writeTag(e,Co),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,Za),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,Za),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,Ya),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,Ya),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,cc),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,cc),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,Co),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,Za),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,Ya),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function fx(r,e,t){const n=t.buf;let i,o;if(o=n[t.pos++],i=(o&112)>>4,o<128||(o=n[t.pos++],i|=(o&127)<<3,o<128)||(o=n[t.pos++],i|=(o&127)<<10,o<128)||(o=n[t.pos++],i|=(o&127)<<17,o<128)||(o=n[t.pos++],i|=(o&127)<<24,o<128)||(o=n[t.pos++],i|=(o&1)<<31,o<128))return yx(r,i,e);throw new Error("Expected varint not more than 10 bytes")}function yx(r,e,t){return t?e*4294967296+(r>>>0):(e>>>0)*4294967296+(r>>>0)}function vx(r,e){let t,n;if(r>=0?(t=r%4294967296|0,n=r/4294967296|0):(t=~(-r%4294967296),n=~(-r/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),kx(t,n,e),bx(n,e)}function kx(r,e,t){t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos++]=r&127|128,r>>>=7,t.buf[t.pos]=r&127}function bx(r,e){const t=(r&7)<<4;e.buf[e.pos++]|=t|((r>>>=3)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127|((r>>>=7)?128:0),r&&(e.buf[e.pos++]=r&127)))))}function ap(r,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let i=t.pos-1;i>=r;i--)t.buf[i+n]=t.buf[i]}function xx(r,e){for(let t=0;t<r.length;t++)e.writeVarint(r[t])}function wx(r,e){for(let t=0;t<r.length;t++)e.writeSVarint(r[t])}function _x(r,e){for(let t=0;t<r.length;t++)e.writeFloat(r[t])}function Tx(r,e){for(let t=0;t<r.length;t++)e.writeDouble(r[t])}function Ex(r,e){for(let t=0;t<r.length;t++)e.writeBoolean(r[t])}function Mx(r,e){for(let t=0;t<r.length;t++)e.writeFixed32(r[t])}function Cx(r,e){for(let t=0;t<r.length;t++)e.writeSFixed32(r[t])}function Sx(r,e){for(let t=0;t<r.length;t++)e.writeFixed64(r[t])}function Lx(r,e){for(let t=0;t<r.length;t++)e.writeSFixed64(r[t])}function Ix(r,e,t){let n="",i=e;for(;i<t;){const o=r[i];let a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>t)break;let l,c,u;s===1?o<128&&(a=o):s===2?(l=r[i+1],(l&192)===128&&(a=(o&31)<<6|l&63,a<=127&&(a=null))):s===3?(l=r[i+1],c=r[i+2],(l&192)===128&&(c&192)===128&&(a=(o&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(l=r[i+1],c=r[i+2],u=r[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(a=(o&15)<<18|(l&63)<<12|(c&63)<<6|u&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),i+=s}return n}function Ax(r,e,t){for(let n=0,i,o;n<e.length;n++){if(i=e.charCodeAt(n),i>55295&&i<57344)if(o)if(i<56320){r[t++]=239,r[t++]=191,r[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||n+1===e.length?(r[t++]=239,r[t++]=191,r[t++]=189):o=i;continue}else o&&(r[t++]=239,r[t++]=191,r[t++]=189,o=null);i<128?r[t++]=i:(i<2048?r[t++]=i>>6|192:(i<65536?r[t++]=i>>12|224:(r[t++]=i>>18|240,r[t++]=i>>12&63|128),r[t++]=i>>6&63|128),r[t++]=i&63|128)}return t}class fd extends hd{constructor(e){super(),e=e||{},this.dataProjection=new t0({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Ht,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,i){e.pos=t.geometry;const o=e.readVarint()+e.pos;let a=1,s=0,l=0,c=0,u=0,d=0;for(;e.pos<o;){if(!s){const h=e.readVarint();a=h&7,s=h>>3}if(s--,a===1||a===2)l+=e.readSVarint(),c+=e.readSVarint(),a===1&&u>d&&(i.push(u),d=u),n.push(l,c),u+=2;else if(a===7)u>d&&(n.push(n[d],n[d+1]),u+=2);else throw new Error("Invalid command found in the PBF")}u>d&&(i.push(u),d=u)}createFeature_(e,t,n){const i=t.type;if(i===0)return null;let o;const a=t.properties;let s;this.idProperty_?(s=a[this.idProperty_],delete a[this.idProperty_]):s=t.id,a[this.layerName_]=t.layer.name;const l=[],c=[];this.readRawGeometry_(e,t,l,c);const u=Rx(i,c.length);if(this.featureClass===Ht)o=new this.featureClass(u,l,c,2,a,s),o.transform(n.dataProjection);else{let d;if(u=="Polygon"){const m=nv(l,c);d=m.length>1?new nl(l,"XY",m):new xi(l,"XY",c)}else d=u==="Point"?new Gn(l,"XY"):u==="LineString"?new ro(l,"XY"):u==="MultiPoint"?new rl(l,"XY"):u==="MultiLineString"?new tl(l,"XY",c):null;const h=this.featureClass;o=new h,this.geometryName_&&o.setGeometryName(this.geometryName_);const p=Li(d,!1,n);o.setGeometry(p),s!==void 0&&o.setId(s),o.setProperties(a,!0)}return o}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_;t=this.adaptOptions(t);const i=pe(t.dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;const o=new mx(e),a=o.readFields(Nx,{}),s=[];for(const l in a){if(n&&!n.includes(l))continue;const c=a[l],u=c?[0,0,c.extent,c.extent]:null;i.setExtent(u);for(let d=0,h=c.length;d<h;++d){const p=Dx(o,c,d),m=this.createFeature_(o,p,t);m!==null&&s.push(m)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function Nx(r,e,t){if(r===3){const n={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(Ox,n,i),n.length=n.features.length,n.length&&(e[n.name]=n)}}function Ox(r,e,t){if(r===15)e.version=t.readVarint();else if(r===1)e.name=t.readString();else if(r===5)e.extent=t.readVarint();else if(r===2)e.features.push(t.pos);else if(r===3)e.keys.push(t.readString());else if(r===4){let n=null;const i=t.readVarint()+t.pos;for(;t.pos<i;)r=t.readVarint()>>3,n=r===1?t.readString():r===2?t.readFloat():r===3?t.readDouble():r===4?t.readVarint64():r===5?t.readVarint():r===6?t.readSVarint():r===7?t.readBoolean():null;e.values.push(n)}}function Px(r,e,t){if(r==1)e.id=t.readVarint();else if(r==2){const n=t.readVarint()+t.pos;for(;t.pos<n;){const i=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[i]=o}}else r==3?e.type=t.readVarint():r==4&&(e.geometry=t.pos)}function Dx(r,e,t){r.pos=e.features[t];const n=r.readVarint()+r.pos,i={layer:e,type:0,properties:{}};return r.readFields(Px,i,n),i}function Rx(r,e){let t;return r===1?t=e===1?"Point":"MultiPoint":r===2?t=e===1?"LineString":"MultiLineString":r===3&&(t="Polygon"),t}let Re=class extends q{constructor(e){e=e||{},super(e),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd"}writeGeometryElement(e,t,n){const i=n[n.length-1];n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},i),super.writeGeometryElement(e,t,n)}};Re.prototype.namespace="http://www.opengis.net/gml/3.2";Re.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:me(q.prototype.readFlatPos),posList:me(q.prototype.readFlatPosList),coordinates:me(Se.prototype.readFlatCoordinates)}};Re.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:q.prototype.interiorParser,exterior:q.prototype.exteriorParser}};Re.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:me(ae.prototype.readPoint),MultiPoint:me(ae.prototype.readMultiPoint),LineString:me(ae.prototype.readLineString),MultiLineString:me(ae.prototype.readMultiLineString),LinearRing:me(ae.prototype.readLinearRing),Polygon:me(ae.prototype.readPolygon),MultiPolygon:me(ae.prototype.readMultiPolygon),Surface:me(Re.prototype.readSurface),MultiSurface:me(q.prototype.readMultiSurface),Curve:me(Re.prototype.readCurve),MultiCurve:me(q.prototype.readMultiCurve),Envelope:me(Re.prototype.readEnvelope)}};Re.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:ve(q.prototype.curveMemberParser),curveMembers:ve(q.prototype.curveMemberParser)}};Re.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:ve(q.prototype.surfaceMemberParser),surfaceMembers:ve(q.prototype.surfaceMemberParser)}};Re.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:ve(ae.prototype.readLineString),Curve:ve(q.prototype.readCurve)}};Re.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:ve(ae.prototype.readPolygon),Surface:ve(q.prototype.readSurface)}};Re.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:me(q.prototype.readPatch)}};Re.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:me(q.prototype.readSegment)}};Re.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:ve(q.prototype.readFlatPosList),upperCorner:ve(q.prototype.readFlatPosList)}};Re.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:me(q.prototype.readPolygonPatch)}};Re.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:S0(q.prototype.readLineStringSegment)}};Re.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:ve(ae.prototype.pointMemberParser),pointMembers:ve(ae.prototype.pointMemberParser)}};Re.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:ve(ae.prototype.lineStringMemberParser),lineStringMembers:ve(ae.prototype.lineStringMemberParser)}};Re.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:ve(ae.prototype.polygonMemberParser),polygonMembers:ve(ae.prototype.polygonMemberParser)}};Re.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:ve(ae.prototype.readFlatCoordinatesFromNode)}};Re.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:ve(ae.prototype.readLineString)}};Re.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:ve(ae.prototype.readPolygon)}};Re.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:me(ae.prototype.readFlatLinearRing),Ring:me(Re.prototype.readFlatCurveRing)}};Re.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:I(q.prototype.writeRing),interior:I(q.prototype.writeRing)}};Re.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:I(yt),upperCorner:I(yt)}};Re.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:I(q.prototype.writeSurfaceOrPolygonMember),polygonMember:I(q.prototype.writeSurfaceOrPolygonMember)}};Re.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:I(q.prototype.writePointMember)}};Re.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:I(q.prototype.writeLineStringOrCurveMember),curveMember:I(q.prototype.writeLineStringOrCurveMember)}};Re.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:I(q.prototype.writeCurveOrLineString),MultiCurve:I(q.prototype.writeMultiCurveOrLineString),Point:I(Re.prototype.writePoint),MultiPoint:I(q.prototype.writeMultiPoint),LineString:I(q.prototype.writeCurveOrLineString),MultiLineString:I(q.prototype.writeMultiCurveOrLineString),LinearRing:I(q.prototype.writeLinearRing),Polygon:I(q.prototype.writeSurfaceOrPolygon),MultiPolygon:I(q.prototype.writeMultiSurfaceOrPolygon),Surface:I(q.prototype.writeSurfaceOrPolygon),MultiSurface:I(q.prototype.writeMultiSurfaceOrPolygon),Envelope:I(q.prototype.writeEnvelope)}};class cm{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}}class jx extends cm{constructor(e,t){super(e),this.conditions=t,wt(this.conditions.length>=2,"At least 2 conditions are required")}}class qx extends jx{constructor(e){super("And",Array.prototype.slice.call(arguments))}}class Fx extends cm{constructor(e,t,n){if(super("BBOX"),this.geometryName=e,this.extent=t,t.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");this.srsName=n}}function zx(r){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(qx,e))}function Ux(r,e,t){return new Fx(r,e,t)}const sp={"http://www.opengis.net/gml":{boundedBy:ne(ae.prototype.readExtentElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:ve(ae.prototype.readFeaturesInternal)}},$x={"http://www.opengis.net/wfs":{totalInserted:ne(Zt),totalUpdated:ne(Zt),totalDeleted:ne(Zt)},"http://www.opengis.net/wfs/2.0":{totalInserted:ne(Zt),totalUpdated:ne(Zt),totalDeleted:ne(Zt)}},Gx={"http://www.opengis.net/wfs":{TransactionSummary:ne(cp,"transactionSummary"),InsertResults:ne(dp,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:ne(cp,"transactionSummary"),InsertResults:ne(dp,"insertIds")}},Bx={"http://www.opengis.net/wfs":{PropertyName:I(yt)},"http://www.opengis.net/wfs/2.0":{PropertyName:I(yt)}},um={"http://www.opengis.net/wfs":{Insert:I(hp),Update:I(gp),Delete:I(pp),Property:I(mp),Native:I(fp)},"http://www.opengis.net/wfs/2.0":{Insert:I(hp),Update:I(gp),Delete:I(pp),Property:I(mp),Native:I(fp)}},dm="feature",yd="http://www.w3.org/2000/xmlns/",vd={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},au={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},kd={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},lp={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},bd={"2.0.0":Re,"1.1.0":q,"1.0.0":Se},Vx="1.1.0";class hm extends lm{constructor(e){super(),e=e||{},this.version_=e.version?e.version:Vx,this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new bd[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:lp[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{}));const i=[n];let o;this.version_==="2.0.0"?o=sp:o=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let a=ue([],o,e,i,this.gmlFormat_);return a||(a=[]),a}readTransactionResponse(e){if(e){if(typeof e=="string"){const t=ii(e);return this.readTransactionResponseFromDocument(t)}return ni(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(typeof e=="string"){const t=ii(e);return this.readFeatureCollectionMetadataFromDocument(t)}return ni(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=Vi(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=n,ue(t,sp,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return ue({},Gx,e,[])}writeGetFeature(e){const t=Ee(au[this.version_],"GetFeature");t.setAttribute("service","WFS"),t.setAttribute("version",this.version_),e.handle&&t.setAttribute("handle",e.handle),e.outputFormat&&t.setAttribute("outputFormat",e.outputFormat),e.maxFeatures!==void 0&&t.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&t.setAttribute("resultType",e.resultType),e.startIndex!==void 0&&t.setAttribute("startIndex",String(e.startIndex)),e.count!==void 0&&t.setAttribute("count",String(e.count)),e.viewParams!==void 0&&t.setAttribute("viewParams",e.viewParams),t.setAttributeNS(Vc,"xsi:schemaLocation",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),wt(Array.isArray(e.featureTypes),"`options.featureTypes` must be an Array"),typeof e.featureTypes[0]=="string"){let i=e.filter;e.bbox&&(wt(e.geometryName,"`options.geometryName` must also be provided when `options.bbox` is set"),i=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,i)),Object.assign(n,{geometryName:e.geometryName,filter:i}),Mp(t,e.featureTypes,[n])}else e.featureTypes.forEach(i=>{const o=this.combineBboxAndFilter(i.geometryName,i.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:i.geometryName,filter:o}),Mp(t,[i.name],[n])});return t}combineBboxAndFilter(e,t,n,i){const o=Ux(e,t,n);return i?zx(i,o):o}writeTransaction(e,t,n,i){const o=[],a=i.version?i.version:this.version_,s=Ee(au[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a);let l;i&&(l=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS(Vc,"xsi:schemaLocation",lp[a]);const c=Hx(s,l,a,i);return e&&Wa("Insert",e,o,c),t&&Wa("Update",t,o,c),n&&Wa("Delete",n,o,c),i.nativeElements&&Wa("Native",i.nativeElements,o,c),s}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(!(t.childNodes.length===0||t.childNodes.length===1&&t.firstChild.nodeType===3)){const n=[{}];return this.gmlFormat_.readGeometryElement(t,n),pe(n.pop().srsName)}}return null}}function Hx(r,e,t,n){const i=n.featurePrefix?n.featurePrefix:dm;let o;return t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2),Object.assign({node:r},{version:t,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:i,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}function Wa(r,e,t,n){lt(n,um,or(r),e,t)}function cp(r,e){return ue({},$x,r,e)}const Yx={"http://www.opengis.net/ogc":{FeatureId:ve(function(r,e){return r.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:ve(function(r,e){return r.getAttribute("fid")})}};function up(r,e){ui(Yx,r,e)}const Zx={"http://www.opengis.net/wfs":{Feature:up},"http://www.opengis.net/wfs/2.0":{Feature:up}};function dp(r,e){return ue([],Zx,r,e)}function hp(r,e,t){const n=t[t.length-1],i=n.featureType,o=n.featureNS,a=n.gmlVersion,s=Ee(o,i);r.appendChild(s),a===2?Se.prototype.writeFeatureElement(s,e,t):a===3?q.prototype.writeFeatureElement(s,e,t):Re.prototype.writeFeatureElement(s,e,t)}function pm(r,e,t){const n=t[t.length-1].version,i=vd[n],o=Ee(i,"Filter"),a=Ee(i,"FeatureId");o.appendChild(a),a.setAttribute("fid",e),r.appendChild(o)}function xd(r,e){r=r||dm;const t=r+":";return e.startsWith(t)?e:t+e}function pp(r,e,t){const n=t[t.length-1];wt(e.getId()!==void 0,"Features must have an id set");const i=n.featureType,o=n.featurePrefix,a=n.featureNS,s=xd(o,i);r.setAttribute("typeName",s),r.setAttributeNS(yd,"xmlns:"+o,a);const l=e.getId();l!==void 0&&pm(r,l,t)}function gp(r,e,t){const n=t[t.length-1];wt(e.getId()!==void 0,"Features must have an id set");const i=n.version,o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=xd(a,o),c=e.getGeometryName();r.setAttribute("typeName",l),r.setAttributeNS(yd,"xmlns:"+a,s);const u=e.getId();if(u!==void 0){const d=e.getKeys(),h=[];for(let p=0,m=d.length;p<m;p++){const v=e.get(d[p]);if(v!==void 0){let y=d[p];v&&typeof v.getSimplifiedGeometry=="function"&&(y=c),h.push({name:y,value:v})}}lt({version:i,gmlVersion:n.gmlVersion,node:r,hasZ:n.hasZ,srsName:n.srsName},um,or("Property"),h,t),pm(r,u,t)}}function mp(r,e,t){const n=t[t.length-1],i=n.version,o=au[i],a=Ee(o,i==="2.0.0"?"ValueReference":"Name"),s=n.gmlVersion;if(r.appendChild(a),yt(a,e.name),e.value!==void 0&&e.value!==null){const l=Ee(o,"Value");r.appendChild(l),e.value&&typeof e.value.getSimplifiedGeometry=="function"?s===2?Se.prototype.writeGeometryElement(l,e.value,t):s===3?q.prototype.writeGeometryElement(l,e.value,t):Re.prototype.writeGeometryElement(l,e.value,t):yt(l,e.value)}}function fp(r,e,t){e.vendorId&&r.setAttribute("vendorId",e.vendorId),e.safeToIgnore!==void 0&&r.setAttribute("safeToIgnore",String(e.safeToIgnore)),e.value!==void 0&&yt(r,e.value)}const cl={"http://www.opengis.net/wfs":{Query:I(yp)},"http://www.opengis.net/wfs/2.0":{Query:I(yp)},"http://www.opengis.net/ogc":{During:I(bp),And:I(Ka),Or:I(Ka),Not:I(xp),BBOX:I(vp),Contains:I(Sn),Intersects:I(Sn),Within:I(Sn),DWithin:I(kp),PropertyIsEqualTo:I(pr),PropertyIsNotEqualTo:I(pr),PropertyIsLessThan:I(pr),PropertyIsLessThanOrEqualTo:I(pr),PropertyIsGreaterThan:I(pr),PropertyIsGreaterThanOrEqualTo:I(pr),PropertyIsNull:I(wp),PropertyIsBetween:I(_p),PropertyIsLike:I(Tp)},"http://www.opengis.net/fes/2.0":{During:I(bp),And:I(Ka),Or:I(Ka),Not:I(xp),BBOX:I(vp),Contains:I(Sn),Disjoint:I(Sn),Intersects:I(Sn),ResourceId:I(Kx),Within:I(Sn),DWithin:I(kp),PropertyIsEqualTo:I(pr),PropertyIsNotEqualTo:I(pr),PropertyIsLessThan:I(pr),PropertyIsLessThanOrEqualTo:I(pr),PropertyIsGreaterThan:I(pr),PropertyIsGreaterThanOrEqualTo:I(pr),PropertyIsNull:I(wp),PropertyIsBetween:I(_p),PropertyIsLike:I(Tp)}};function yp(r,e,t){const n=t[t.length-1],i=n.version,o=n.featurePrefix,a=n.featureNS,s=n.propertyNames,l=n.srsName;let c;o?c=xd(o,e):c=e;let u;i==="2.0.0"?u="typeNames":u="typeName",r.setAttribute(u,c),l&&r.setAttribute("srsName",l),a&&r.setAttributeNS(yd,"xmlns:"+o,a);const d=Object.assign({},n);d.node=r,lt(d,Bx,or("PropertyName"),s,t);const h=n.filter;if(h){const p=Ee(ul(i),"Filter");r.appendChild(p),Wx(p,h,t)}}function Wx(r,e,t){const n=t[t.length-1],i={node:r};Object.assign(i,{context:n}),lt(i,cl,or(e.getTagName()),[e],t)}function vp(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=bd[i];fo(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.extent,t)}function Kx(r,e,t){r.setAttribute("rid",e.rid)}function Sn(r,e,t){const n=t[t.length-1],i=n.context.version;n.srsName=e.srsName;const o=bd[i];fo(i,r,e.geometryName),o.prototype.writeGeometryElement(r,e.geometry,t)}function kp(r,e,t){const n=t[t.length-1].context.version;Sn(r,e,t);const i=Ee(ul(n),"Distance");yt(i,e.distance.toString()),n==="2.0.0"?i.setAttribute("uom",e.unit):i.setAttribute("units",e.unit),r.appendChild(i)}function bp(r,e,t){const n=t[t.length-1].context.version;Ss(kd[n],"ValueReference",r,e.propertyName);const i=Ee(un,"TimePeriod");r.appendChild(i);const o=Ee(un,"begin");i.appendChild(o),Ep(o,e.begin);const a=Ee(un,"end");i.appendChild(a),Ep(a,e.end)}function Ka(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.conditions;for(let a=0,s=o.length;a<s;++a){const l=o[a];lt(i,cl,or(l.getTagName()),[l],t)}}function xp(r,e,t){const n=t[t.length-1].context,i={node:r};Object.assign(i,{context:n});const o=e.condition;lt(i,cl,or(o.getTagName()),[o],t)}function pr(r,e,t){const n=t[t.length-1].context.version;e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),fo(n,r,e.propertyName),Ls(n,r,""+e.expression)}function wp(r,e,t){const n=t[t.length-1].context.version;fo(n,r,e.propertyName)}function _p(r,e,t){const n=t[t.length-1].context.version,i=ul(n);fo(n,r,e.propertyName);const o=Ee(i,"LowerBoundary");r.appendChild(o),Ls(n,o,""+e.lowerBoundary);const a=Ee(i,"UpperBoundary");r.appendChild(a),Ls(n,a,""+e.upperBoundary)}function Tp(r,e,t){const n=t[t.length-1].context.version;r.setAttribute("wildCard",e.wildCard),r.setAttribute("singleChar",e.singleChar),r.setAttribute("escapeChar",e.escapeChar),e.matchCase!==void 0&&r.setAttribute("matchCase",e.matchCase.toString()),fo(n,r,e.propertyName),Ls(n,r,""+e.pattern)}function Ss(r,e,t,n){const i=Ee(r,e);yt(i,n),t.appendChild(i)}function Ls(r,e,t){Ss(ul(r),"Literal",e,t)}function fo(r,e,t){r==="2.0.0"?Ss(kd[r],"ValueReference",e,t):Ss(vd[r],"PropertyName",e,t)}function Ep(r,e){const t=Ee(un,"TimeInstant");r.appendChild(t);const n=Ee(un,"timePosition");t.appendChild(n),yt(n,e)}function Mp(r,e,t){const n=t[t.length-1],i=Object.assign({},n);i.node=r,lt(i,cl,or("Query"),e,t)}function ul(r){let e;return r==="2.0.0"?e=kd[r]:e=vd[r],e}function wd(r,e,t){let n,i,o;return typeof r=="string"?i=r:typeof r=="function"?n=r:typeof r=="object"&&(o=t.readFeatures(r,{dataProjection:"EPSG:4326",featureProjection:"EPSG:25832"})),new Mr({loader:n,features:o,url:i,strategy:e,format:t})}function _d(r,e,t){return new Ea({source:r,distance:e,geometryFunction:t})}function Qx(r,e){const t=["1.0.0","1.1.0","2.0.0"];let n=e.version||r.version;return t.includes(n)||(n=t[1],console.warn(`The "${r.typ}" layer with the id: "${r.id}" is configured in version: ${n}. OpenLayers accepts "${r.typ}" only in the versions: ${t}, It tries to load the layer with the id: "${r.id}" in version ${t[1]}!`)),n}function Zi(r,e={},t){throw e.onLoadingError&&e.onLoadingError(r),t(r),Error(r)}function dl(r,e,t,n,i,o={}){let a=e;try{o.featuresFilter&&(a=o.featuresFilter(e)),r.addFeatures(a),o.afterLoading&&o.afterLoading(a),n(a)}catch(s){console.error(s),t(s,o,i)}}function gm(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.status}`,t,n)}function Xx(r){return{method:"POST",headers:{"Content-Type":"text/xml"},body:r}}function mm(r,e,t,{onErrorFn:n,success:i,failure:o},a){const s=a?.loadingParams?.xhrParameters??{},l={...e,...s};fetch(r,l).then(c=>gm(c,n,a,o)).then(c=>c.text()).then(c=>t.getFormat().readFeatures(c)).then(c=>dl(t,c,n,i,o,a)).catch(c=>{console.error(c)})}function Jx(r,e,t,{onErrorFn:n,success:i,failure:o},a){fetch(r).then(s=>gm(s,n,a,o)).then(s=>s.text()).then(s=>mm(e,Xx(s),t,{onErrorFn:n,success:i,failure:o},a)).catch(s=>{console.error(s)})}function fm(r,e,t,n){const i=new URL(r.url);return i.searchParams.set("service","WFS"),i.searchParams.set("version",e),i.searchParams.set("request","GetFeature"),i.searchParams.set("srsName",t.getCode()),e==="1.0.0"||e==="1.1.0"?i.searchParams.set("typeName",r.featureType):e==="2.0.0"&&i.searchParams.set("typeNames",r.featureType),`${i.toString()}${n}`}function su(r,e={}){e.loadingStrategy||(e.loadingStrategy=Yi);const t=Qx(r,e),n=new hm({featureNS:r.featureNS,version:t});let i=null;function o(a,s,l,c,u){if(e.doNotLoadInitially)dl(i,[],Zi,c,u,e);else if(e.wfsFilter)Jx(e.wfsFilter,r.url,i,{onErrorFn:Zi,success:c,failure:u},e);else{const d=e.loadingStrategy===Yi?`&bbox=${a.join(",")},${l.getCode()}`:"";let h=fm(r,t,l,d);if(e.loadingParams)for(const p in e.loadingParams){if(p==="xhrParameters")continue;const m=Array.isArray(e.loadingParams[p])?e.loadingParams[p].join(","):e.loadingParams[p];m!==void 0&&p==="bbox"?h+=`&${p}=${m},${l.getCode()}`:m!==void 0&&(h+=`&${p}=${m}`)}mm(h,{},i,{onErrorFn:Zi,success:c,failure:u},e)}}return n.featureType=r.featureType,i=wd(o,e.loadingStrategy,n),e.beforeLoading&&i.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?_d(i,r.clusterDistance,e.clusterGeometryFunction):(r.renderer==="webgl"&&(e.loadingStrategy===Yi?i.on("featuresloadend",a=>{to(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}):i.once("featuresloadend",a=>{to(a?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)})),i)}function ew(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=su({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Qs({...r,...e,source:i}),n):(i=su(r,t),n=new Yr(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function tw(r,e){if(r==="2.0.0"){const t=new DOMParser,n=t.parseFromString(e,"application/xml");return n.querySelectorAll("Filter").forEach(i=>{const o=n.createElementNS("http://www.opengis.net/fes/2.0","fes:Filter");for(;i.firstChild;){const a=i.firstChild;if(a.nodeType===1&&a.localName==="FeatureId"){const s=a.getAttribute("fid"),l=n.createElementNS("http://www.opengis.net/fes/2.0","fes:ResourceId");l.setAttribute("rid",s),o.appendChild(l),i.removeChild(a)}else o.appendChild(a)}i.parentNode.replaceChild(o,i)}),new XMLSerializer().serializeToString(n)}return e}function ym(r,e,t,n="1.1.0"){const i={insert:0,selectedUpdate:1,delete:2},o=[[],[],[]];if(t!=="insert"&&t!=="delete"&&t!=="selectedUpdate")throw new Error('transactionMethod has to be "insert", "selectedUpdate" or "delete".');return o[i[t]].push(r),tw(n,new XMLSerializer().serializeToString(new hm({version:n}).writeTransaction(...o,e)))}function rw(r){const e={code:null,message:"genericFailedTransaction"},t=r.getElementsByTagName(`${r.getElementsByTagName("Exception").length===0?"ows:":""}Exception`)[0],n=t.getElementsByTagName(`${r.getElementsByTagName("ExceptionText").length===0?"ows:":""}ExceptionText`)[0];return n!==void 0?(e.message=n.textContent,console.error("WfsTransaction: An error occurred when sending the transaction to the service.",n.textContent)):(e.message="WfsTransaction: An unkown error occurred when sending the transaction to the service.",console.error(e.message)),(t?.attributes.getNamedItem("code")||t?.attributes.getNamedItem("exceptionCode"))&&(e.code=t.attributes.getNamedItem(`${t?.attributes.getNamedItem("code")?"c":"exceptionC"}ode`).textContent),e}async function nw(r,e,t,n,i){let o,a,s=null,l=null,c=null;const u=new URL(t),{featureNS:d,featurePrefix:h,featureType:p,version:m}=n;try{if(a=await fetch(u,{method:"POST",headers:{"Content-Type":"text/xml"},credentials:n.isSecured?"include":"omit",body:ym(e,{featureNS:d,featurePrefix:h,featureType:p,version:m,srsName:r},i,m),responseType:"text"}),c=await a.text(),s=new DOMParser().parseFromString(c,"text/xml"),l=s.getElementsByTagName("wfs:TransactionSummary"),l.length===0&&(l=s.getElementsByTagName("TransactionSummary")),l.length===0)throw o=rw(s),new Error(o.code?o.code+": "+o.message:o.message)}catch(v){throw console.error(v),v}return e}function vm(r,e){const t=new DOMParser().parseFromString(r,"application/xml");let n="",i=null;if(t.getElementsByTagName("xsd:element").length>0?n="xsd:":t.getElementsByTagName("xs:element").length>0&&(n="xs"),i=Object.values(t.getElementsByTagName(n+"element")).find(o=>o.getAttribute("name")===e),i){let o;i.hasChildNodes()?o=Object.values(i.getElementsByTagName(n+"sequence")):o=Object.values(t.getElementsByTagName(n+"sequence"));const a=[];return o.forEach(s=>{a.push(...Object.values(s.getElementsByTagName(n+"element")))}),a.map(s=>Object.values(s.attributes).reduce((l,c)=>{if(c.localName==="minOccurs")l.required=c.value==="1";else if(c.localName==="type")if(c.value.trim().startsWith("gml"))l.type="geometry";else{let u=c.value;switch(n.length>0&&(u=u.replace(n,"")),u){case"long":l.type="integer";break;default:l.type=u}}else c.localName==="name"&&(l.label=l.key=c.value);return l},{label:"",key:"",value:null,type:"string",required:!0}))}return[]}function km(r,e,t){const n=new URL(decodeURI(r));return n.searchParams.set("SERVICE","WFS"),n.searchParams.set("REQUEST","DescribeFeatureType"),n.searchParams.set("TYPENAME",t),!n.searchParams.has("VERSION")&&!n.searchParams.has("version")&&n.searchParams.set("VERSION",e),n}async function iw(r,e,t,n){const i=km(r,e,t);let o=null;try{return o=await fetch(i,{responseType:"text/xml",credentials:n?"include":"omit"}),vm(await o.text(),t)}catch(a){throw console.error(a),a}}function ow(r,e){const t=fm(r,r.version,{getCode:()=>r.crs},"");fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const aw={createLayerSource:su,createLayer:ew,createReceivePossiblePropertiesUrl:km,sendTransaction:nw,receivePossibleProperties:iw,parseDescribeFeatureTypeResponse:vm,writeTransactionBody:ym,loadFeaturesManually:ow};function lu({url:r,features:e,clusterDistance:t,renderer:n,styleId:i,excludeTypesFromParsing:o,isPointLayer:a},s){const l=new Cs;let c=null;return c=wd(r||e,s.loadingStrategy,l),typeof t=="number"&&(c=_d(c,t,s.clusterGeometryFunction)),(typeof t=="number"?c.getSource():c).once("featuresloadend",u=>{typeof s.afterLoading=="function"&&s.afterLoading(u?.features)}),n==="webgl"&&(e?.length>0&&to(c.getFeatures(),i,o,a),c.once("featuresloadend",u=>{to(u?.features,i,o,a)})),c}function sw(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=lu({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Qs({...r,...e,source:i}),n):(i=lu(r,t),n=new Yr(Object.assign({id:r.id,source:i},e)),t.style?n.setStyle(t.style):r.style?n.setStyle(r.style):n.setStyle(qv),n)}function lw(r){r.getSource().refresh(),r.get("renderer")==="webgl"&&r.getSource().once("featuresloadend",e=>{to(e?.features,r.get("styleId"),r.get("excludeTypesFromParsing"),r.get("isPointLayer"))})}function hl(r,e){r.forEach(t=>t.setStyle(e))}function bm(r){hl(r.getSource().getFeatures(),()=>null)}function cw(r){hl(r.getSource().getFeatures(),void 0)}function uw(r,e){const t=r.getSource().getFeatures().filter(n=>e.indexOf(n.getId())>=0);bm(r),hl(t,void 0)}function dw(r,e){const t=r.url;fetch(t,e).then(n=>n.text()).then(n=>{const i=e.getFormat().readFeatures(n);e.addFeatures(i),e.dispatchEvent({type:"featuresloadend",features:e.getFeatures()})}).catch(n=>{console.error(n)})}const hw=Object.freeze(Object.defineProperty({__proto__:null,createLayer:sw,createLayerSource:lu,hideAllFeatures:bm,loadFeaturesManually:dw,setCustomStyles:Rv,setFeatureStyle:hl,showAllFeatures:cw,showFeaturesById:uw,updateSource:lw},Symbol.toStringTag,{value:"Module"}));class pl extends ol{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||Ca(t),i=e.tileGrid||sd({extent:n,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:xm,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:Iv,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===Ze.IDLE){n.setState(Ze.LOADING);const i=n.wrappedTileCoord,o=this.getTileGridForProjection(t);let a=o.getTileCoordExtent(i);const s=i[0],l=o.getResolution(s);li(a,-l,a);const c=this.projection;t&&this.projection&&!It(t,c)&&(a=ci(a,t,c));const u=this.tileGrid,d=u.getExtent();d&&Ks(a,d,a);let h=l;t&&c&&!It(t,c)&&(h=l/c.getMetersPerUnit()/t.getMetersPerUnit());const p=u.getZForResolution(h,this.zDirection);u.forEachTileCoord(a,p,m=>{const v=this.tileUrlFunction(m,e,t);this.sourceTiles_[v]||(this.sourceTiles_[v]=new this.tileClass(m,v?Ze.IDLE:Ze.EMPTY,v,this.format_,this.tileLoadFunction));const y=this.sourceTiles_[v];n.sourceTiles.push(y),this.tileKeysBySourceTileUrl_[v]||(this.tileKeysBySourceTileUrl_[v]=[]),this.tileKeysBySourceTileUrl_[v].push(n.getKey());const _=y.getState();if(_<Ze.LOADED){const w=A=>{this.handleTileChange(A);const T=y.getState();if(T===Ze.LOADED||T===Ze.ERROR){const N=y.getKey();N in n.errorTileKeys?y.getState()===Ze.LOADED&&delete n.errorTileKeys[N]:n.loadingSourceTiles--,T===Ze.ERROR?n.errorTileKeys[N]=!0:y.removeEventListener(Oe.CHANGE,w),n.loadingSourceTiles===0&&n.setState(Ko(n.errorTileKeys)?Ze.LOADED:Ze.ERROR)}};y.addEventListener(Oe.CHANGE,w),n.loadingSourceTiles++}_===Ze.IDLE&&(y.extent=u.getTileCoordExtent(m),y.projection=this.projection,y.resolution=u.getResolution(m[0]),y.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(m=>m.getState()===Ze.ERROR)?Ze.ERROR:Ze.LOADED)}return n.sourceTiles}removeSourceTiles(e){const t=e.getKey(),n=e.sourceTiles;for(let i=0,o=n.length;i<o;++i){const a=n[i].getTileUrl();if(!this.tileKeysBySourceTileUrl_[a])return;const s=this.tileKeysBySourceTileUrl_[a].indexOf(t);s!==-1&&(this.tileKeysBySourceTileUrl_[a].splice(s,1),this.tileKeysBySourceTileUrl_[a].length===0&&(delete this.tileKeysBySourceTileUrl_[a],delete this.sourceTiles_[a]))}}getTile(e,t,n,i,o){const a=[e,t,n];let s=this.getTileCoordForTileUrlFunction(a,o);const l=this.getTileGrid().getExtent(),c=this.projection,u=this.getTileGridForProjection(o);if(s&&l){const p=u.getTileCoordExtent(s);li(p,-u.getResolution(e),p),va(l,!o||!c||It(o,c)?p:ci(p,o,c))||(s=null)}let d=!0;if(s!==null){const p=this.tileGrid,m=u.getResolution(e);let v=m;o&&c&&!It(o,c)&&(v=m/c.getMetersPerUnit()/o.getMetersPerUnit());const y=p.getZForResolution(v,1),_=u.getTileCoordExtent(s);li(_,-m,_),p.forEachTileCoord(!o||!c||It(o,c)?_:ci(_,o,c),y,w=>{d=d&&!this.tileUrlFunction(w,i,c)})}const h=new ub(a,d?Ze.EMPTY:Ze.IDLE,s,this.getSourceTiles.bind(this,i,o),this.removeSourceTiles.bind(this));return h.key=this.getKey(),h}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const i=this.projection;if(i!==null&&!It(i,e))return il(e);const o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(u,d){return o.getOrigin(d)}),l=a.map(function(u,d){return o.getTileSize(d)}),c=o0+1;for(let u=a.length;u<c;++u)a.push(a[u-1]/2),s.push(s[u-1]),l.push(l[u-1]);n=new Si({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:l}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),o=Dn(i.getTileSize(e),this.tmpSize);return[Math.round(o[0]*t),Math.round(o[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function xm(r,e){r.setLoader(function(t,n,i){A0(e,r.getFormat(),t,n,i,r.onLoad.bind(r),r.onError.bind(r))})}var pw=8,gw={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},mw={"*":{type:"source"}},fw=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],yw={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},vw={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},kw={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},bw={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},xw={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},ww={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},_w={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Tw=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],Ew={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mw={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cw={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Sw={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Lw={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Iw={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Aw={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Nw={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ow={type:"array",value:"*"},Pw={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},Dw={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Rw={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},jw={type:"array",value:"*",minimum:1},qw={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Fw={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},zw={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},Uw={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},$w=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],Gw={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bw={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Vw={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hw={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Yw={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Zw={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ww={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Kw={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Qw={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Xw={"*":{type:"string"}},Jw={$version:pw,$root:gw,sources:mw,source:fw,source_vector:yw,source_raster:vw,source_raster_dem:kw,source_geojson:bw,source_video:xw,source_image:ww,layer:_w,layout:Tw,layout_background:Ew,layout_fill:Mw,layout_circle:Cw,layout_heatmap:Sw,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Lw,layout_symbol:Iw,layout_raster:Aw,layout_hillshade:Nw,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:Ow,filter_operator:Pw,geometry_type:Dw,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Rw,expression:jw,light:qw,sky:Fw,terrain:zw,projection:Uw,paint:$w,paint_fill:Gw,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bw,paint_circle:Vw,paint_heatmap:Hw,paint_symbol:Yw,paint_raster:Zw,paint_hillshade:Ww,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:Kw,transition:Qw,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Xw};const e5=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function t5(r,e){const t={};for(const n in r)n!=="ref"&&(t[n]=r[n]);return e5.forEach(n=>{n in e&&(t[n]=e[n])}),t}function wm(r){r=r.slice();const e=Object.create(null);for(let t=0;t<r.length;t++)e[r[t].id]=r[t];for(let t=0;t<r.length;t++)"ref"in r[t]&&(r[t]=t5(r[t],e[r[t].ref]));return r}class Rr extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class Td{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new Td(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const gl={kind:"null"},H={kind:"number"},Ce={kind:"string"},Te={kind:"boolean"},$r={kind:"color"},ml={kind:"projectionDefinition"},di={kind:"object"},we={kind:"value"},r5={kind:"error"},fl={kind:"collator"},yl={kind:"formatted"},vl={kind:"padding"},ea={kind:"colorArray"},kl={kind:"numberArray"},Sa={kind:"resolvedImage"},bl={kind:"variableAnchorOffsetCollection"};function Jt(r,e){return{kind:"array",itemType:r,N:e}}function Je(r){if(r.kind==="array"){const e=Je(r.itemType);return typeof r.N=="number"?`array<${e}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${e}>`}else return r.kind}const n5=[gl,H,Ce,Te,$r,ml,yl,di,Jt(we),vl,kl,ea,Sa,bl];function ta(r,e){if(e.kind==="error")return null;if(r.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!ta(r.itemType,e.itemType))&&(typeof r.N!="number"||r.N===e.N))return null}else{if(r.kind===e.kind)return null;if(r.kind==="value"){for(const t of n5)if(!ta(t,e))return null}}return`Expected ${Je(r)} but found ${Je(e)} instead.`}function Ed(r,e){return e.some(t=>t.kind===r.kind)}function hi(r,e){return e.some(t=>t==="null"?r===null:t==="array"?Array.isArray(r):t==="object"?r&&!Array.isArray(r)&&typeof r=="object":t===typeof r)}function Mn(r,e){return r.kind==="array"&&e.kind==="array"?r.itemType.kind===e.itemType.kind&&typeof r.N=="number":r.kind===e.kind}const _m=.96422,Tm=1,Em=.82521,Mm=4/29,Wi=6/29,Cm=3*Wi*Wi,i5=Wi*Wi*Wi,o5=Math.PI/180,a5=180/Math.PI;function Sm(r){return r=r%360,r<0&&(r+=360),r}function Lm([r,e,t,n]){r=uc(r),e=uc(e),t=uc(t);let i,o;const a=dc((.2225045*r+.7168786*e+.0606169*t)/Tm);r===e&&e===t?i=o=a:(i=dc((.4360747*r+.3850649*e+.1430804*t)/_m),o=dc((.0139322*r+.0971045*e+.7141733*t)/Em));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),n]}function uc(r){return r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function dc(r){return r>i5?Math.pow(r,1/3):r/Cm+Mm}function Im([r,e,t,n]){let i=(r+16)/116,o=isNaN(e)?i:i+e/500,a=isNaN(t)?i:i-t/200;return i=Tm*pc(i),o=_m*pc(o),a=Em*pc(a),[hc(3.1338561*o-1.6168667*i-.4906146*a),hc(-.9787684*o+1.9161415*i+.033454*a),hc(.0719453*o-.2289914*i+1.4052427*a),n]}function hc(r){return r=r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055,r<0?0:r>1?1:r}function pc(r){return r>Wi?r*r*r:Cm*(r-Mm)}function s5(r){const[e,t,n,i]=Lm(r),o=Math.sqrt(t*t+n*n);return[Math.round(o*1e4)?Sm(Math.atan2(n,t)*a5):NaN,o,e,i]}function l5([r,e,t,n]){return r=isNaN(r)?0:r*o5,Im([t,Math.cos(r)*e,Math.sin(r)*e,n])}function c5([r,e,t,n]){r=Sm(r),e/=100,t/=100;function i(o){const a=(o+r/30)%12,s=e*Math.min(t,1-t);return t-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),n]}const u5=Object.hasOwn||function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};function Am(r,e){return u5(r,e)?r[e]:void 0}function d5(r){if(r=r.toLowerCase().trim(),r==="transparent")return[0,0,0,0];const e=Am(h5,r);if(e){const[i,o,a]=e;return[i/255,o/255,a/255,1]}if(r.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(r)){const i=r.length<6?1:2;let o=1;return[Qa(r.slice(o,o+=i)),Qa(r.slice(o,o+=i)),Qa(r.slice(o,o+=i)),Qa(r.slice(o,o+i)||"ff")]}if(r.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=r.match(i);if(o){const[a,s,l,c,u,d,h,p,m,v,y,_]=o,w=[c||" ",h||" ",v].join("");if(w==="  "||w==="  /"||w===",,"||w===",,,"){const A=[l,d,m].join(""),T=A==="%%%"?100:A===""?255:0;if(T){const N=[Fi(+s/T,0,1),Fi(+u/T,0,1),Fi(+p/T,0,1),y?Cp(+y,_):1];if(Sp(N))return N}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,n=r.match(t);if(n){const[i,o,a,s,l,c,u,d,h]=n,p=[a||" ",l||" ",u].join("");if(p==="  "||p==="  /"||p===",,"||p===",,,"){const m=[+o,Fi(+s,0,100),Fi(+c,0,100),d?Cp(+d,h):1];if(Sp(m))return c5(m)}}}function Qa(r){return parseInt(r.padEnd(2,r),16)/255}function Cp(r,e){return Fi(e?r/100:r,0,1)}function Fi(r,e,t){return Math.min(Math.max(e,r),t)}function Sp(r){return!r.some(Number.isNaN)}const h5={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function pi(r,e,t){return r+t*(e-r)}function ra(r,e,t){return r.map((n,i)=>pi(n,e[i],t))}let et=class zi{constructor(e,t,n,i=1,o=!0){this.r=e,this.g=t,this.b=n,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof zi)return e;if(typeof e!="string")return;const t=d5(e);if(t)return new zi(...t,!1)}get rgb(){const{r:e,g:t,b:n,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[e/o,t/o,n/o,i])}get hcl(){return this.overwriteGetter("hcl",s5(this.rgb))}get lab(){return this.overwriteGetter("lab",Lm(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return`rgba(${[e,t,n].map(o=>Math.round(o*255)).join(",")},${i})`}static interpolate(e,t,n,i="rgb"){switch(i){case"rgb":{const[o,a,s,l]=ra(e.rgb,t.rgb,n);return new zi(o,a,s,l,!1)}case"hcl":{const[o,a,s,l]=e.hcl,[c,u,d,h]=t.hcl;let p,m;if(!isNaN(o)&&!isNaN(c)){let A=c-o;c>o&&A>180?A-=360:c<o&&o-c>180&&(A+=360),p=o+n*A}else isNaN(o)?isNaN(c)?p=NaN:(p=c,(s===1||s===0)&&(m=u)):(p=o,(d===1||d===0)&&(m=a));const[v,y,_,w]=l5([p,m??pi(a,u,n),pi(s,d,n),pi(l,h,n)]);return new zi(v,y,_,w,!1)}case"lab":{const[o,a,s,l]=Im(ra(e.lab,t.lab,n));return new zi(o,a,s,l,!1)}}}};et.black=new et(0,0,0,1);et.white=new et(1,1,1,1);et.transparent=new et(0,0,0,0);et.red=new et(1,0,0,1);class Md{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const p5=["bottom","center","top"];class cu{constructor(e,t,n,i,o,a){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=o,this.verticalAlign=a}}class dn{constructor(e){this.sections=e}static fromString(e){return new dn([new cu(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof dn?e:dn.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}}class wr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof wr)return e;if(typeof e=="number")return new wr([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new wr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new wr(ra(e.values,t.values,n))}}class _r{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof _r)return e;if(typeof e=="number")return new _r([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new _r(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new _r(ra(e.values,t.values,n))}}class tr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tr)return e;if(typeof e=="string"){const n=et.parse(e);return n?new tr([n]):void 0}if(!Array.isArray(e))return;const t=[];for(const n of e){if(typeof n!="string")return;const i=et.parse(n);if(!i)return;t.push(i)}return new tr(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,i="rgb"){const o=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let a=0;a<e.values.length;a++)o.push(et.interpolate(e.values[a],t.values[a],n,i));return new tr(o)}}let ot=class extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}};const g5=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Gr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Gr)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if(typeof n!="string"||!g5.has(n)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new Gr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const i=e.values,o=t.values;if(i.length!==o.length)throw new ot(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const a=[];for(let s=0;s<i.length;s+=2){if(i[s]!==o[s])throw new ot(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${i[s]}, to[${s}]: ${o[s]}`);a.push(i[s]);const[l,c]=i[s+1],[u,d]=o[s+1];a.push([pi(l,u,n),pi(c,d,n)])}return new Gr(a)}}class Zn{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Zn({name:e,available:!1}):null}}class br{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new br(e,t,n)}static parse(e){if(e instanceof br)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new br(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new br(e.from,e.to,e.transition);if(typeof e=="string")return new br(e,e,1)}}function Nm(r,e,t,n){return typeof r=="number"&&r>=0&&r<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[r,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[r,e,t,n]:[r,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function na(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof br||r instanceof et||r instanceof Md||r instanceof dn||r instanceof wr||r instanceof _r||r instanceof tr||r instanceof Gr||r instanceof Zn)return!0;if(Array.isArray(r)){for(const e of r)if(!na(e))return!1;return!0}else if(typeof r=="object"){for(const e in r)if(!na(r[e]))return!1;return!0}else return!1}function mt(r){if(r===null)return gl;if(typeof r=="string")return Ce;if(typeof r=="boolean")return Te;if(typeof r=="number")return H;if(r instanceof et)return $r;if(r instanceof br)return ml;if(r instanceof Md)return fl;if(r instanceof dn)return yl;if(r instanceof wr)return vl;if(r instanceof _r)return kl;if(r instanceof tr)return ea;if(r instanceof Gr)return bl;if(r instanceof Zn)return Sa;if(Array.isArray(r)){const e=r.length;let t;for(const n of r){const i=mt(n);if(!t)t=i;else{if(t===i)continue;t=we;break}}return Jt(t||we,e)}else return di}function Oo(r){const e=typeof r;return r===null?"":e==="string"||e==="number"||e==="boolean"?String(r):r instanceof et||r instanceof br||r instanceof dn||r instanceof wr||r instanceof _r||r instanceof tr||r instanceof Gr||r instanceof Zn?r.toString():JSON.stringify(r)}class no{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!na(e[1]))return t.error("invalid value");const n=e[1];let i=mt(n);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new no(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Xa={string:Ce,number:H,boolean:Te,object:di};class xr{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,i;const o=e[0];if(o==="array"){let s;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in Xa)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);s=Xa[c],n++}else s=we;let l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);l=e[2],n++}i=Jt(s,l)}else{if(!Xa[o])throw new Error(`Types doesn't contain name = ${o}`);i=Xa[o]}const a=[];for(;n<e.length;n++){const s=t.parse(e[n],n,we);if(!s)return null;a.push(s)}return new xr(i,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(ta(this.type,mt(n))){if(t===this.args.length-1)throw new ot(`Expected value to be of type ${Je(this.type)}, but found ${Je(mt(n))} instead.`)}else return n}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Lp={"to-boolean":Te,"to-color":$r,"to-number":H,"to-string":Ce};class jn{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!Lp[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=Lp[n],o=[];for(let a=1;a<e.length;a++){const s=t.parse(e[a],a,we);if(!s)return null;o.push(s)}return new jn(i,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof et)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=Nm(t[0],t[1],t[2],t[3]),!n))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ot(n||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=wr.parse(t);if(i)return i}throw new ot(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=_r.parse(t);if(i)return i}throw new ot(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=tr.parse(t);if(i)return i}throw new ot(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=Gr.parse(t);if(i)return i}throw new ot(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new ot(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return dn.fromString(Oo(this.args[0].evaluate(e)));case"resolvedImage":return Zn.fromString(Oo(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return Oo(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const m5=["Unknown","Point","LineString","Polygon"];class Om{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?m5[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=et.parse(e),this._parseColorCache.set(e,t)),t}}class xl{constructor(e,t,n=[],i,o=new Td,a=[]){this.registry=e,this.path=n,this.key=n.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=t}parse(e,t,n,i,o={}){return t?this.concat(t,n,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(i,o,a){return a==="assert"?new xr(o,[i]):a==="coerce"?new jn(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(e,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,l=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&l.kind==="value")a=n(a,s,t.typeAnnotation||"assert");else if(s.kind==="projectionDefinition"&&["string","array"].includes(l.kind)||["color","formatted","resolvedImage"].includes(s.kind)&&["value","string"].includes(l.kind)||["padding","numberArray"].includes(s.kind)&&["value","number","array"].includes(l.kind)||s.kind==="colorArray"&&["value","string","array"].includes(l.kind)||s.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(l.kind))a=n(a,s,t.typeAnnotation||"coerce");else if(this.checkSubtype(s,l))return null}if(!(a instanceof no)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new Om;try{a=new no(a.type,a.evaluate(s))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i=typeof e=="number"?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new xl(this.registry,this._isConstant,i,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new Rr(n,e))}checkSubtype(e,t){const n=ta(e,t);return n&&this.error(n),n}}class wl{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let o=1;o<e.length-1;o+=2){const a=e[o];if(typeof a!="string")return t.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=t.parse(e[o+1],o+1);if(!s)return null;n.push([a,s])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new wl(n,i):null}outputDefined(){return this.result.outputDefined()}}class _l{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new _l(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Cd{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,H),i=t.parse(e[2],2,Jt(t.expectedType||we));if(!n||!i)return null;const o=i.type;return new Cd(o.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ot(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new ot(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new ot(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Sd{constructor(e,t){this.type=Te,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,we),i=t.parse(e[2],2,we);return!n||!i?null:Ed(n.type,[Te,Ce,H,gl,we])?new Sd(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Je(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!hi(t,["boolean","string","number","null"]))throw new ot(`Expected first argument to be of type boolean, string, number or null, but found ${Je(mt(t))} instead.`);if(!hi(n,["string","array"]))throw new ot(`Expected second argument to be of type array or string, but found ${Je(mt(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Is{constructor(e,t,n){this.type=H,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,we),i=t.parse(e[2],2,we);if(!n||!i)return null;if(!Ed(n.type,[Te,Ce,H,gl,we]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Je(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,H);return o?new Is(n,i,o):null}else return new Is(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!hi(t,["boolean","string","number","null"]))throw new ot(`Expected first argument to be of type boolean, string, number or null, but found ${Je(mt(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),hi(n,["string"])){const o=n.indexOf(t,i);return o===-1?-1:[...n.slice(0,o)].length}else{if(hi(n,["array"]))return n.indexOf(t,i);throw new ot(`Expected second argument to be of type array or string, but found ${Je(mt(n))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Ld{constructor(e,t,n,i,o,a){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=o,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},a=[];for(let c=2;c<e.length-1;c+=2){let u=e[c];const d=e[c+1];Array.isArray(u)||(u=[u]);const h=t.concat(c);if(u.length===0)return h.error("Expected at least one branch label.");for(const m of u){if(typeof m!="number"&&typeof m!="string")return h.error("Branch labels must be numbers or strings.");if(typeof m=="number"&&Math.abs(m)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof m=="number"&&Math.floor(m)!==m)return h.error("Numeric branch labels must be integer values.");if(!n)n=mt(m);else if(h.checkSubtype(n,mt(m)))return null;if(typeof o[String(m)]<"u")return h.error("Branch labels must be unique.");o[String(m)]=a.length}const p=t.parse(d,c,i);if(!p)return null;i=i||p.type,a.push(p)}const s=t.parse(e[1],1,we);if(!s)return null;const l=t.parse(e[e.length-1],e.length-1,i);return!l||s.type.kind!=="value"&&t.concat(1).checkSubtype(n,s.type)?null:new Ld(n,i,s,o,a,l)}evaluate(e){const t=this.input.evaluate(e);return(mt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class Id{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const i=[];for(let a=1;a<e.length-1;a+=2){const s=t.parse(e[a],a,Te);if(!s)return null;const l=t.parse(e[a+1],a+1,n);if(!l)return null;i.push([s,l]),n=n||l.type}const o=t.parse(e[e.length-1],e.length-1,n);if(!o)return null;if(!n)throw new Error("Can't infer output type");return new Id(n,i,o)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class As{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,we),i=t.parse(e[2],2,H);if(!n||!i)return null;if(!Ed(n.type,[Jt(we),Ce,we]))return t.error(`Expected first argument to be of type array or string, but found ${Je(n.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,H);return o?new As(n.type,n,i,o):null}else return new As(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),hi(t,["string"]))return[...t].slice(n,i).join("");if(hi(t,["array"]))return t.slice(n,i);throw new ot(`Expected first argument to be of type array or string, but found ${Je(mt(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function Pm(r,e){const t=r.length-1;let n=0,i=t,o=0,a,s;for(;n<=i;)if(o=Math.floor((n+i)/2),a=r[o],s=r[o+1],a<=e){if(o===t||e<s)return o;n=o+1}else if(a>e)i=o-1;else throw new ot("Input is not a number.");return 0}class Tl{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of n)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,H);if(!n)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let a=1;a<e.length;a+=2){const s=a===1?-1/0:e[a],l=e[a+1],c=a,u=a+1;if(typeof s!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const d=t.parse(l,u,o);if(!d)return null;o=o||d.type,i.push([s,d])}return new Tl(o,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=Pm(t,i);return n[a].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function f5(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gc,Ip;function y5(){if(Ip)return gc;Ip=1,gc=r;function r(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}return r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var o=this.sampleCurveX(n)-e;if(Math.abs(o)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n=n-o/a}var s=0,l=1;for(n=e,i=0;i<20&&(o=this.sampleCurveX(n),!(Math.abs(o-e)<t));i++)e>o?s=n:l=n,n=(l-s)*.5+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},gc}var v5=y5(),k5=f5(v5);class Br{constructor(e,t,n,i,o){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(e,t,n,i){let o=0;if(e.name==="exponential")o=mc(t,e.base,n,i);else if(e.name==="linear")o=mc(t,1,n,i);else if(e.name==="cubic-bezier"){const a=e.controlPoints;o=new k5(a[0],a[1],a[2],a[3]).solve(mc(t,1,n,i))}return o}static parse(e,t){let[n,i,o,...a]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const c=i[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:c}}else if(i[0]==="cubic-bezier"){const c=i.slice(1);if(c.length!==4||c.some(u=>typeof u!="number"||u<0||u>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,H),!o)return null;const s=[];let l=null;(n==="interpolate-hcl"||n==="interpolate-lab")&&t.expectedType!=ea?l=$r:t.expectedType&&t.expectedType.kind!=="value"&&(l=t.expectedType);for(let c=0;c<a.length;c+=2){const u=a[c],d=a[c+1],h=c+3,p=c+4;if(typeof u!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(s.length&&s[s.length-1][0]>=u)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const m=t.parse(d,p,l);if(!m)return null;l=l||m.type,s.push([u,m])}return!Mn(l,H)&&!Mn(l,ml)&&!Mn(l,$r)&&!Mn(l,vl)&&!Mn(l,kl)&&!Mn(l,ea)&&!Mn(l,bl)&&!Mn(l,Jt(H))?t.error(`Type ${Je(l)} is not interpolatable.`):new Br(l,n,i,o,s)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const a=Pm(t,i),s=t[a],l=t[a+1],c=Br.interpolationFactor(this.interpolation,i,s,l),u=n[a].evaluate(e),d=n[a+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return pi(u,d,c);case"color":return et.interpolate(u,d,c);case"padding":return wr.interpolate(u,d,c);case"colorArray":return tr.interpolate(u,d,c);case"numberArray":return _r.interpolate(u,d,c);case"variableAnchorOffsetCollection":return Gr.interpolate(u,d,c);case"array":return ra(u,d,c);case"projectionDefinition":return br.interpolate(u,d,c)}case"interpolate-hcl":switch(this.type.kind){case"color":return et.interpolate(u,d,c,"hcl");case"colorArray":return tr.interpolate(u,d,c,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return et.interpolate(u,d,c,"lab");case"colorArray":return tr.interpolate(u,d,c,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function mc(r,e,t,n){const i=n-t,o=r-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class ia{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const i=t.expectedType;i&&i.kind!=="value"&&(n=i);const o=[];for(const a of e.slice(1)){const s=t.parse(a,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,o.push(s)}if(!n)throw new Error("No output type");return i&&o.some(a=>ta(i,a.type))?new ia(we,o):new ia(n,o)}evaluate(e){let t=null,n=0,i;for(const o of this.args)if(n++,t=o.evaluate(e),t&&t instanceof Zn&&!t.available&&(i||(i=t.name),t=null,n===this.args.length&&(t=i)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function Ap(r,e){return r==="=="||r==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function b5(r,e,t){return e===t}function x5(r,e,t){return e!==t}function w5(r,e,t){return e<t}function _5(r,e,t){return e>t}function T5(r,e,t){return e<=t}function E5(r,e,t){return e>=t}function Dm(r,e,t,n){return n.compare(e,t)===0}function M5(r,e,t,n){return!Dm(r,e,t,n)}function C5(r,e,t,n){return n.compare(e,t)<0}function S5(r,e,t,n){return n.compare(e,t)>0}function L5(r,e,t,n){return n.compare(e,t)<=0}function I5(r,e,t,n){return n.compare(e,t)>=0}function yo(r,e,t){const n=r!=="=="&&r!=="!=";return class Rm{constructor(o,a,s){this.type=Te,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let l=a.parse(o[1],1,we);if(!l)return null;if(!Ap(s,l.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Je(l.type)}'.`);let c=a.parse(o[2],2,we);if(!c)return null;if(!Ap(s,c.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Je(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${Je(l.type)}' and '${Je(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new xr(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new xr(l.type,[c])));let u=null;if(o.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(u=a.parse(o[3],3,fl),!u)return null}return new Rm(l,c,u)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){const l=mt(a),c=mt(s);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new ot(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=mt(a),c=mt(s);if(l.kind!=="string"||c.kind!=="string")return e(o,a,s)}return this.collator?t(o,a,s,this.collator.evaluate(o)):e(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const A5=yo("==",b5,Dm),N5=yo("!=",x5,M5),O5=yo("<",w5,C5),P5=yo(">",_5,S5),D5=yo("<=",T5,L5),R5=yo(">=",E5,I5);class El{constructor(e,t,n){this.type=fl,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,Te);if(!i)return null;const o=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,Te);if(!o)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,Ce),!a)?null:new El(i,o,a)}evaluate(e){return new Md(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class Ad{constructor(e,t,n,i,o){this.type=Ce,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,H);if(!n)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,Ce),!o))return null;let a=null;if(i.currency&&(a=t.parse(i.currency,1,Ce),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,H),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,H),!l)?null:new Ad(n,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Nd{constructor(e){this.type=yl,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=e.length-1;++a){const s=e[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let l=null;if(s["font-scale"]&&(l=t.parse(s["font-scale"],1,H),!l))return null;let c=null;if(s["text-font"]&&(c=t.parse(s["text-font"],1,Jt(Ce)),!c))return null;let u=null;if(s["text-color"]&&(u=t.parse(s["text-color"],1,$r),!u))return null;let d=null;if(s["vertical-align"]){if(typeof s["vertical-align"]=="string"&&!p5.includes(s["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${s["vertical-align"]}' instead.`);if(d=t.parse(s["vertical-align"],1,Ce),!d)return null}const h=i[i.length-1];h.scale=l,h.font=c,h.textColor=u,h.verticalAlign=d}else{const l=t.parse(e[a],1,we);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:l,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Nd(i)}evaluate(e){const t=n=>{const i=n.content.evaluate(e);return mt(i)===Sa?new cu("",i,null,null,null,n.verticalAlign?n.verticalAlign.evaluate(e):null):new cu(Oo(i),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null,n.verticalAlign?n.verticalAlign.evaluate(e):null)};return new dn(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class Od{constructor(e){this.type=Sa,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ce);return n?new Od(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Zn.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class Pd{constructor(e){this.type=H,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Je(n.type)} instead.`):new Pd(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new ot(`Expected value to be of type string or array, but found ${Je(mt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const Vr=8192;function j5(r,e){const t=q5(r[0]),n=z5(r[1]),i=Math.pow(2,e.z);return[Math.round(t*i*Vr),Math.round(n*i*Vr)]}function Dd(r,e){const t=Math.pow(2,e.z),n=(r[0]/Vr+e.x)/t,i=(r[1]/Vr+e.y)/t;return[F5(n),U5(i)]}function q5(r){return(180+r)/360}function F5(r){return r*360-180}function z5(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function U5(r){return 360/Math.PI*Math.atan(Math.exp((180-r*360)*Math.PI/180))-90}function La(r,e){r[0]=Math.min(r[0],e[0]),r[1]=Math.min(r[1],e[1]),r[2]=Math.max(r[2],e[0]),r[3]=Math.max(r[3],e[1])}function oa(r,e){return!(r[0]<=e[0]||r[2]>=e[2]||r[1]<=e[1]||r[3]>=e[3])}function $5(r,e,t){return e[1]>r[1]!=t[1]>r[1]&&r[0]<(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1])+e[0]}function G5(r,e,t){const n=r[0]-e[0],i=r[1]-e[1],o=r[0]-t[0],a=r[1]-t[1];return n*a-o*i===0&&n*o<=0&&i*a<=0}function Ml(r,e,t,n){const i=[e[0]-r[0],e[1]-r[1]],o=[n[0]-t[0],n[1]-t[1]];return Y5(o,i)===0?!1:!!(Np(r,e,t,n)&&Np(t,n,r,e))}function B5(r,e,t){for(const n of t)for(let i=0;i<n.length-1;++i)if(Ml(r,e,n[i],n[i+1]))return!0;return!1}function vo(r,e,t=!1){let n=!1;for(const i of e)for(let o=0;o<i.length-1;o++){if(G5(r,i[o],i[o+1]))return t;$5(r,i[o],i[o+1])&&(n=!n)}return n}function V5(r,e){for(const t of e)if(vo(r,t))return!0;return!1}function jm(r,e){for(const t of r)if(!vo(t,e))return!1;for(let t=0;t<r.length-1;++t)if(B5(r[t],r[t+1],e))return!1;return!0}function H5(r,e){for(const t of e)if(jm(r,t))return!0;return!1}function Y5(r,e){return r[0]*e[1]-r[1]*e[0]}function Np(r,e,t,n){const i=r[0]-t[0],o=r[1]-t[1],a=e[0]-t[0],s=e[1]-t[1],l=n[0]-t[0],c=n[1]-t[1],u=i*c-l*o,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function Rd(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=[];for(let a=0;a<r[i].length;a++){const s=j5(r[i][a],t);La(e,s),o.push(s)}n.push(o)}return n}function qm(r,e,t){const n=[];for(let i=0;i<r.length;i++){const o=Rd(r[i],e,t);n.push(o)}return n}function Fm(r,e,t,n){if(r[0]<t[0]||r[0]>t[2]){const i=n*.5;let o=r[0]-t[0]>i?-n:t[0]-r[0]>i?n:0;o===0&&(o=r[0]-t[2]>i?-n:t[2]-r[0]>i?n:0),r[0]+=o}La(e,r)}function Z5(r){r[0]=r[1]=1/0,r[2]=r[3]=-1/0}function Op(r,e,t,n){const i=Math.pow(2,n.z)*Vr,o=[n.x*Vr,n.y*Vr],a=[];for(const s of r)for(const l of s){const c=[l.x+o[0],l.y+o[1]];Fm(c,e,t,i),a.push(c)}return a}function Pp(r,e,t,n){const i=Math.pow(2,n.z)*Vr,o=[n.x*Vr,n.y*Vr],a=[];for(const s of r){const l=[];for(const c of s){const u=[c.x+o[0],c.y+o[1]];La(e,u),l.push(u)}a.push(l)}if(e[2]-e[0]<=i/2){Z5(e);for(const s of a)for(const l of s)Fm(l,e,t,i)}return a}function W5(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Rd(e.coordinates,n,i),a=Op(r.geometry(),t,n,i);if(!oa(t,n))return!1;for(const s of a)if(!vo(s,o))return!1}if(e.type==="MultiPolygon"){const o=qm(e.coordinates,n,i),a=Op(r.geometry(),t,n,i);if(!oa(t,n))return!1;for(const s of a)if(!V5(s,o))return!1}return!0}function K5(r,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=r.canonicalID();if(e.type==="Polygon"){const o=Rd(e.coordinates,n,i),a=Pp(r.geometry(),t,n,i);if(!oa(t,n))return!1;for(const s of a)if(!jm(s,o))return!1}if(e.type==="MultiPolygon"){const o=qm(e.coordinates,n,i),a=Pp(r.geometry(),t,n,i);if(!oa(t,n))return!1;for(const s of a)if(!H5(s,o))return!1}return!0}class gi{constructor(e,t){this.type=Te,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(na(e[1])){const n=e[1];if(n.type==="FeatureCollection"){const i=[];for(const o of n.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new gi(n,o)}}else if(n.type==="Feature"){const i=n.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new gi(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new gi(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return W5(e,this.geometries);if(e.geometryType()==="LineString")return K5(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class zm{constructor(e=[],t=(n,i)=>n<i?-1:n>i?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const o=e-1>>1,a=t[o];if(n(i,a)>=0)break;t[e]=a,e=o}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,o=t[e];for(;e<i;){let a=(e<<1)+1;const s=a+1;if(s<this.length&&n(t[s],t[a])<0&&(a=s),n(t[a],o)>=0)break;t[e]=t[a],e=a}t[e]=o}}function Q5(r,e){if(r.length<=1)return[r];const t=[];let n,i;for(const o of r){const a=X5(o);a!==0&&(o.area=Math.abs(a),i===void 0&&(i=a<0),i===a<0?(n&&t.push(n),n=[o]):n.push(o))}return n&&t.push(n),t}function X5(r){let e=0;for(let t=0,n=r.length,i=n-1,o,a;t<n;i=t++)o=r[t],a=r[i],e+=(a.x-o.x)*(o.y+a.y);return e}const J5=6378.137,Dp=1/298.257223563,Rp=Dp*(2-Dp),jp=Math.PI/180;class jd{constructor(e){const t=jp*J5*1e3,n=Math.cos(e*jp),i=1/(1-Rp*(1-n*n)),o=Math.sqrt(i);this.kx=t*o*n,this.ky=t*o*i*(1-Rp)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+i*i)}pointOnLine(e,t){let n=1/0,i,o,a,s;for(let l=0;l<e.length-1;l++){let c=e[l][0],u=e[l][1],d=this.wrap(e[l+1][0]-c)*this.kx,h=(e[l+1][1]-u)*this.ky,p=0;(d!==0||h!==0)&&(p=(this.wrap(t[0]-c)*this.kx*d+(t[1]-u)*this.ky*h)/(d*d+h*h),p>1?(c=e[l+1][0],u=e[l+1][1]):p>0&&(c+=d/this.kx*p,u+=h/this.ky*p)),d=this.wrap(t[0]-c)*this.kx,h=(t[1]-u)*this.ky;const m=d*d+h*h;m<n&&(n=m,i=c,o=u,a=l,s=p)}return{point:[i,o],index:a,t:Math.max(0,Math.min(1,s))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const uu=100,du=50;function Um(r,e){return e[0]-r[0]}function Ns(r){return r[1]-r[0]+1}function gn(r,e){return r[1]>=r[0]&&r[1]<e}function hu(r,e){if(r[0]>r[1])return[null,null];const t=Ns(r);if(e){if(t===2)return[r,null];const i=Math.floor(t/2);return[[r[0],r[0]+i],[r[0]+i,r[1]]]}if(t===1)return[r,null];const n=Math.floor(t/2)-1;return[[r[0],r[0]+n],[r[0]+n+1,r[1]]]}function pu(r,e){if(!gn(e,r.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let n=e[0];n<=e[1];++n)La(t,r[n]);return t}function gu(r){const e=[1/0,1/0,-1/0,-1/0];for(const t of r)for(const n of t)La(e,n);return e}function qp(r){return r[0]!==-1/0&&r[1]!==-1/0&&r[2]!==1/0&&r[3]!==1/0}function qd(r,e,t){if(!qp(r)||!qp(e))return NaN;let n=0,i=0;return r[2]<e[0]&&(n=e[0]-r[2]),r[0]>e[2]&&(n=r[0]-e[2]),r[1]>e[3]&&(i=r[1]-e[3]),r[3]<e[1]&&(i=e[1]-r[3]),t.distance([0,0],[n,i])}function oi(r,e,t){const n=t.pointOnLine(e,r);return t.distance(r,n.point)}function Fd(r,e,t,n,i){const o=Math.min(oi(r,[t,n],i),oi(e,[t,n],i)),a=Math.min(oi(t,[r,e],i),oi(n,[r,e],i));return Math.min(o,a)}function e3(r,e,t,n,i){if(!(gn(e,r.length)&&gn(n,t.length)))return 1/0;let o=1/0;for(let a=e[0];a<e[1];++a){const s=r[a],l=r[a+1];for(let c=n[0];c<n[1];++c){const u=t[c],d=t[c+1];if(Ml(s,l,u,d))return 0;o=Math.min(o,Fd(s,l,u,d,i))}}return o}function t3(r,e,t,n,i){if(!(gn(e,r.length)&&gn(n,t.length)))return NaN;let o=1/0;for(let a=e[0];a<=e[1];++a)for(let s=n[0];s<=n[1];++s)if(o=Math.min(o,i.distance(r[a],t[s])),o===0)return o;return o}function r3(r,e,t){if(vo(r,e,!0))return 0;let n=1/0;for(const i of e){const o=i[0],a=i[i.length-1];if(o!==a&&(n=Math.min(n,oi(r,[a,o],t)),n===0))return n;const s=t.pointOnLine(i,r);if(n=Math.min(n,t.distance(r,s.point)),n===0)return n}return n}function n3(r,e,t,n){if(!gn(e,r.length))return NaN;for(let o=e[0];o<=e[1];++o)if(vo(r[o],t,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const a=r[o],s=r[o+1];for(const l of t)for(let c=0,u=l.length,d=u-1;c<u;d=c++){const h=l[d],p=l[c];if(Ml(a,s,h,p))return 0;i=Math.min(i,Fd(a,s,h,p,n))}}return i}function Fp(r,e){for(const t of r)for(const n of t)if(vo(n,e,!0))return!0;return!1}function i3(r,e,t,n=1/0){const i=gu(r),o=gu(e);if(n!==1/0&&qd(i,o,t)>=n)return n;if(oa(i,o)){if(Fp(r,e))return 0}else if(Fp(e,r))return 0;let a=1/0;for(const s of r)for(let l=0,c=s.length,u=c-1;l<c;u=l++){const d=s[u],h=s[l];for(const p of e)for(let m=0,v=p.length,y=v-1;m<v;y=m++){const _=p[y],w=p[m];if(Ml(d,h,_,w))return 0;a=Math.min(a,Fd(d,h,_,w,t))}}return a}function zp(r,e,t,n,i,o){if(!o)return;const a=qd(pu(n,o),i,t);a<e&&r.push([a,o,[0,0]])}function Ja(r,e,t,n,i,o,a){if(!o||!a)return;const s=qd(pu(n,o),pu(i,a),t);s<e&&r.push([s,o,a])}function Os(r,e,t,n,i=1/0){let o=Math.min(n.distance(r[0],t[0][0]),i);if(o===0)return o;const a=new zm([[0,[0,r.length-1],[0,0]]],Um),s=gu(t);for(;a.length>0;){const l=a.pop();if(l[0]>=o)continue;const c=l[1],u=e?du:uu;if(Ns(c)<=u){if(!gn(c,r.length))return NaN;if(e){const d=n3(r,c,t,n);if(isNaN(d)||d===0)return d;o=Math.min(o,d)}else for(let d=c[0];d<=c[1];++d){const h=r3(r[d],t,n);if(o=Math.min(o,h),o===0)return 0}}else{const d=hu(c,e);zp(a,o,n,r,s,d[0]),zp(a,o,n,r,s,d[1])}}return o}function Ps(r,e,t,n,i,o=1/0){let a=Math.min(o,i.distance(r[0],t[0]));if(a===0)return a;const s=new zm([[0,[0,r.length-1],[0,t.length-1]]],Um);for(;s.length>0;){const l=s.pop();if(l[0]>=a)continue;const c=l[1],u=l[2],d=e?du:uu,h=n?du:uu;if(Ns(c)<=d&&Ns(u)<=h){if(!gn(c,r.length)&&gn(u,t.length))return NaN;let p;if(e&&n)p=e3(r,c,t,u,i),a=Math.min(a,p);else if(e&&!n){const m=r.slice(c[0],c[1]+1);for(let v=u[0];v<=u[1];++v)if(p=oi(t[v],m,i),a=Math.min(a,p),a===0)return a}else if(!e&&n){const m=t.slice(u[0],u[1]+1);for(let v=c[0];v<=c[1];++v)if(p=oi(r[v],m,i),a=Math.min(a,p),a===0)return a}else p=t3(r,c,t,u,i),a=Math.min(a,p)}else{const p=hu(c,e),m=hu(u,n);Ja(s,a,i,r,t,p[0],m[0]),Ja(s,a,i,r,t,p[0],m[1]),Ja(s,a,i,r,t,p[1],m[0]),Ja(s,a,i,r,t,p[1],m[1])}}return a}function o3(r,e){const t=r.geometry(),n=t.flat().map(a=>Dd([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new jd(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Ps(n,!1,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Ps(n,!1,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Os(n,!1,a.coordinates,i,o));break}if(o===0)return o}return o}function a3(r,e){const t=r.geometry(),n=t.flat().map(a=>Dd([a.x,a.y],r.canonical));if(t.length===0)return NaN;const i=new jd(n[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,Ps(n,!0,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Ps(n,!0,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Os(n,!0,a.coordinates,i,o));break}if(o===0)return o}return o}function s3(r,e){const t=r.geometry();if(t.length===0||t[0].length===0)return NaN;const n=Q5(t).map(a=>a.map(s=>s.map(l=>Dd([l.x,l.y],r.canonical)))),i=new jd(n[0][0][0][1]);let o=1/0;for(const a of e)for(const s of n){switch(a.type){case"Point":o=Math.min(o,Os([a.coordinates],!1,s,i,o));break;case"LineString":o=Math.min(o,Os(a.coordinates,!0,s,i,o));break;case"Polygon":o=Math.min(o,i3(s,a.coordinates,i,o));break}if(o===0)return o}return o}function fc(r){return r.type==="MultiPolygon"?r.coordinates.map(e=>({type:"Polygon",coordinates:e})):r.type==="MultiLineString"?r.coordinates.map(e=>({type:"LineString",coordinates:e})):r.type==="MultiPoint"?r.coordinates.map(e=>({type:"Point",coordinates:e})):[r]}class mi{constructor(e,t){this.type=H,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(na(e[1])){const n=e[1];if(n.type==="FeatureCollection")return new mi(n,n.features.map(i=>fc(i.geometry)).flat());if(n.type==="Feature")return new mi(n,fc(n.geometry));if("type"in n&&"coordinates"in n)return new mi(n,fc(n))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return o3(e,this.geometries);if(e.geometryType()==="LineString")return a3(e,this.geometries);if(e.geometryType()==="Polygon")return s3(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Ia{constructor(e){this.type=we,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return n==null?t.error("Global state property must be defined."):typeof n!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new Ia(n)}evaluate(e){var t;const n=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!n||Object.keys(n).length===0?null:Am(n,this.key)}eachChild(){}outputDefined(){return!1}}const zd={"==":A5,"!=":N5,">":P5,"<":O5,">=":R5,"<=":D5,array:xr,at:Cd,boolean:xr,case:Id,coalesce:ia,collator:El,format:Nd,image:Od,in:Sd,"index-of":Is,interpolate:Br,"interpolate-hcl":Br,"interpolate-lab":Br,length:Pd,let:wl,literal:no,match:Ld,number:xr,"number-format":Ad,object:xr,slice:As,step:Tl,string:xr,"to-boolean":jn,"to-color":jn,"to-number":jn,"to-string":jn,var:_l,within:gi,distance:mi,"global-state":Ia};class Tr{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=Tr.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let l=null;for(const[c,u]of s){l=new xl(t.registry,Ds,t.path,null,t.scope);const d=[];let h=!1;for(let p=1;p<e.length;p++){const m=e[p],v=Array.isArray(c)?c[p-1]:c.type,y=l.parse(m,1+d.length,v);if(!y){h=!0;break}d.push(y)}if(!h){if(Array.isArray(c)&&c.length!==d.length){l.error(`Expected ${c.length} arguments, but found ${d.length} instead.`);continue}for(let p=0;p<d.length;p++){const m=Array.isArray(c)?c[p]:c.type,v=d[p];l.concat(p+1).checkSubtype(m,v.type)}if(l.errors.length===0)return new Tr(n,o,u,d)}}if(s.length===1)t.errors.push(...l.errors);else{const c=(s.length?s:a).map(([d])=>c3(d)).join(" | "),u=[];for(let d=1;d<e.length;d++){const h=t.parse(e[d],1+u.length);if(!h)return null;u.push(Je(h.type))}t.error(`Expected arguments of type ${c}, but found (${u.join(", ")}) instead.`)}return null}static register(e,t){Tr.definitions=t;for(const n in t)e[n]=Tr}}function Up(r,[e,t,n,i]){e=e.evaluate(r),t=t.evaluate(r),n=n.evaluate(r);const o=i?i.evaluate(r):1,a=Nm(e,t,n,o);if(a)throw new ot(a);return new et(e/255,t/255,n/255,o,!1)}function $p(r,e){return r in e}function yc(r,e){const t=e[r];return typeof t>"u"?null:t}function l3(r,e,t,n){for(;t<=n;){const i=t+n>>1;if(e[i]===r)return!0;e[i]>r?n=i-1:t=i+1}return!1}function Qn(r){return{type:r}}Tr.register(zd,{error:[r5,[Ce],(r,[e])=>{throw new ot(e.evaluate(r))}],typeof:[Ce,[we],(r,[e])=>Je(mt(e.evaluate(r)))],"to-rgba":[Jt(H,4),[$r],(r,[e])=>{const[t,n,i,o]=e.evaluate(r).rgb;return[t*255,n*255,i*255,o]}],rgb:[$r,[H,H,H],Up],rgba:[$r,[H,H,H,H],Up],has:{type:Te,overloads:[[[Ce],(r,[e])=>$p(e.evaluate(r),r.properties())],[[Ce,di],(r,[e,t])=>$p(e.evaluate(r),t.evaluate(r))]]},get:{type:we,overloads:[[[Ce],(r,[e])=>yc(e.evaluate(r),r.properties())],[[Ce,di],(r,[e,t])=>yc(e.evaluate(r),t.evaluate(r))]]},"feature-state":[we,[Ce],(r,[e])=>yc(e.evaluate(r),r.featureState||{})],properties:[di,[],r=>r.properties()],"geometry-type":[Ce,[],r=>r.geometryType()],id:[we,[],r=>r.id()],zoom:[H,[],r=>r.globals.zoom],"heatmap-density":[H,[],r=>r.globals.heatmapDensity||0],elevation:[H,[],r=>r.globals.elevation||0],"line-progress":[H,[],r=>r.globals.lineProgress||0],accumulated:[we,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[H,Qn(H),(r,e)=>{let t=0;for(const n of e)t+=n.evaluate(r);return t}],"*":[H,Qn(H),(r,e)=>{let t=1;for(const n of e)t*=n.evaluate(r);return t}],"-":{type:H,overloads:[[[H,H],(r,[e,t])=>e.evaluate(r)-t.evaluate(r)],[[H],(r,[e])=>-e.evaluate(r)]]},"/":[H,[H,H],(r,[e,t])=>e.evaluate(r)/t.evaluate(r)],"%":[H,[H,H],(r,[e,t])=>e.evaluate(r)%t.evaluate(r)],ln2:[H,[],()=>Math.LN2],pi:[H,[],()=>Math.PI],e:[H,[],()=>Math.E],"^":[H,[H,H],(r,[e,t])=>Math.pow(e.evaluate(r),t.evaluate(r))],sqrt:[H,[H],(r,[e])=>Math.sqrt(e.evaluate(r))],log10:[H,[H],(r,[e])=>Math.log(e.evaluate(r))/Math.LN10],ln:[H,[H],(r,[e])=>Math.log(e.evaluate(r))],log2:[H,[H],(r,[e])=>Math.log(e.evaluate(r))/Math.LN2],sin:[H,[H],(r,[e])=>Math.sin(e.evaluate(r))],cos:[H,[H],(r,[e])=>Math.cos(e.evaluate(r))],tan:[H,[H],(r,[e])=>Math.tan(e.evaluate(r))],asin:[H,[H],(r,[e])=>Math.asin(e.evaluate(r))],acos:[H,[H],(r,[e])=>Math.acos(e.evaluate(r))],atan:[H,[H],(r,[e])=>Math.atan(e.evaluate(r))],min:[H,Qn(H),(r,e)=>Math.min(...e.map(t=>t.evaluate(r)))],max:[H,Qn(H),(r,e)=>Math.max(...e.map(t=>t.evaluate(r)))],abs:[H,[H],(r,[e])=>Math.abs(e.evaluate(r))],round:[H,[H],(r,[e])=>{const t=e.evaluate(r);return t<0?-Math.round(-t):Math.round(t)}],floor:[H,[H],(r,[e])=>Math.floor(e.evaluate(r))],ceil:[H,[H],(r,[e])=>Math.ceil(e.evaluate(r))],"filter-==":[Te,[Ce,we],(r,[e,t])=>r.properties()[e.value]===t.value],"filter-id-==":[Te,[we],(r,[e])=>r.id()===e.value],"filter-type-==":[Te,[Ce],(r,[e])=>r.geometryType()===e.value],"filter-<":[Te,[Ce,we],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Te,[we],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[Te,[Ce,we],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>i}],"filter-id->":[Te,[we],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[Te,[Ce,we],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Te,[we],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[Te,[Ce,we],(r,[e,t])=>{const n=r.properties()[e.value],i=t.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Te,[we],(r,[e])=>{const t=r.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[Te,[we],(r,[e])=>e.value in r.properties()],"filter-has-id":[Te,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Te,[Jt(Ce)],(r,[e])=>e.value.indexOf(r.geometryType())>=0],"filter-id-in":[Te,[Jt(we)],(r,[e])=>e.value.indexOf(r.id())>=0],"filter-in-small":[Te,[Ce,Jt(we)],(r,[e,t])=>t.value.indexOf(r.properties()[e.value])>=0],"filter-in-large":[Te,[Ce,Jt(we)],(r,[e,t])=>l3(r.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Te,overloads:[[[Te,Te],(r,[e,t])=>e.evaluate(r)&&t.evaluate(r)],[Qn(Te),(r,e)=>{for(const t of e)if(!t.evaluate(r))return!1;return!0}]]},any:{type:Te,overloads:[[[Te,Te],(r,[e,t])=>e.evaluate(r)||t.evaluate(r)],[Qn(Te),(r,e)=>{for(const t of e)if(t.evaluate(r))return!0;return!1}]]},"!":[Te,[Te],(r,[e])=>!e.evaluate(r)],"is-supported-script":[Te,[Ce],(r,[e])=>{const t=r.globals&&r.globals.isSupportedScript;return t?t(e.evaluate(r)):!0}],upcase:[Ce,[Ce],(r,[e])=>e.evaluate(r).toUpperCase()],downcase:[Ce,[Ce],(r,[e])=>e.evaluate(r).toLowerCase()],concat:[Ce,Qn(we),(r,e)=>e.map(t=>Oo(t.evaluate(r))).join("")],"resolved-locale":[Ce,[fl],(r,[e])=>e.evaluate(r).resolvedLocale()]});function c3(r){return Array.isArray(r)?`(${r.map(Je).join(", ")})`:`(${Je(r.type)}...)`}function Ds(r){if(r instanceof _l)return Ds(r.boundExpression);if(r instanceof Tr&&r.name==="error"||r instanceof El||r instanceof gi||r instanceof mi||r instanceof Ia)return!1;const e=r instanceof jn||r instanceof xr;let t=!0;return r.eachChild(n=>{e?t=t&&Ds(n):t=t&&n instanceof no}),t?Ud(r)&&Gd(r,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function Ud(r){if(r instanceof Tr&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof gi||r instanceof mi)return!1;let e=!0;return r.eachChild(t=>{e&&!Ud(t)&&(e=!1)}),e}function $d(r){if(r instanceof Tr&&r.name==="feature-state")return!1;let e=!0;return r.eachChild(t=>{e&&!$d(t)&&(e=!1)}),e}function Gd(r,e){if(r instanceof Tr&&e.indexOf(r.name)>=0)return!1;let t=!0;return r.eachChild(n=>{t&&!Gd(n,e)&&(t=!1)}),t}function mu(r){return{result:"success",value:r}}function Ui(r){return{result:"error",value:r}}function u3(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function d3(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function h3(r){return!!r.expression&&r.expression.interpolated}function $m(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&mt(r)===di}class p3{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Om,this._defaultValue=t?y3(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,o,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new ot(`Expected value to be one of ${Object.keys(this._enumValues).map(l=>JSON.stringify(l)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}}function g3(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in zd}function Gm(r,e){const t=new xl(zd,Ds,[],e?f3(e):void 0),n=t.parse(r,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?mu(new p3(n,e)):Ui(t.errors)}class Gp{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!$d(t.expression),this.globalStateRefs=Cl(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}}class Bp{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!$d(t.expression),this.globalStateRefs=Cl(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,a)}evaluate(e,t,n,i,o,a){return this._styleExpression.evaluate(e,t,n,i,o,a)}interpolationFactor(e,t,n){return this.interpolationType?Br.interpolationFactor(this.interpolationType,e,t,n):0}}function m3(r,e){const t=Gm(r,e);if(t.result==="error")return t;const n=t.value.expression,i=Ud(n);if(!i&&!u3(e))return Ui([new Rr("","data expressions not supported")]);const o=Gd(n,["zoom"]);if(!o&&!d3(e))return Ui([new Rr("","zoom expressions not supported")]);const a=ds(n);if(!a&&!o)return Ui([new Rr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Rr)return Ui([a]);if(a instanceof Br&&!h3(e))return Ui([new Rr("",'"interpolate" expressions cannot be used with this property')]);if(!a)return mu(i?new Gp("constant",t.value):new Gp("source",t.value));const s=a instanceof Br?a.interpolation:void 0;return mu(i?new Bp("camera",t.value,a.labels,s):new Bp("composite",t.value,a.labels,s))}function ds(r){let e=null;if(r instanceof wl)e=ds(r.result);else if(r instanceof ia){for(const t of r.args)if(e=ds(t),e)break}else(r instanceof Tl||r instanceof Br)&&r.input instanceof Tr&&r.input.name==="zoom"&&(e=r);return e instanceof Rr||r.eachChild(t=>{const n=ds(t);n instanceof Rr?e=n:!e&&n?e=new Rr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Rr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function Cl(r,e=new Set){return r instanceof Ia&&e.add(r.key),r.eachChild(t=>{Cl(t,e)}),e}function f3(r){const e={color:$r,string:Ce,number:H,enum:Ce,boolean:Te,formatted:yl,padding:vl,numberArray:kl,colorArray:ea,projectionDefinition:ml,resolvedImage:Sa,variableAnchorOffsetCollection:bl};return r.type==="array"?Jt(e[r.value]||we,r.length):e[r.type]}function y3(r){if(r.type==="color"&&$m(r.default))return new et(0,0,0,0);switch(r.type){case"color":return et.parse(r.default)||null;case"padding":return wr.parse(r.default)||null;case"numberArray":return _r.parse(r.default)||null;case"colorArray":return tr.parse(r.default)||null;case"variableAnchorOffsetCollection":return Gr.parse(r.default)||null;case"projectionDefinition":return br.parse(r.default)||null;default:return r.default===void 0?null:r.default}}function Bm(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const e of r.slice(1))if(!Bm(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const v3={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function k3(r){if(r==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Bm(r)||(r=Rs(r));const e=Gm(r,v3);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=Vm(r);return{filter:(n,i,o)=>e.value.evaluate(n,i,{},o),needGeometry:t,getGlobalStateRefs:()=>Cl(e.value.expression)}}}function b3(r,e){return r<e?-1:r>e?1:0}function Vm(r){if(!Array.isArray(r))return!1;if(r[0]==="within"||r[0]==="distance")return!0;for(let e=1;e<r.length;e++)if(Vm(r[e]))return!0;return!1}function Rs(r){if(!r)return!0;const e=r[0];return r.length<=1?e!=="any":e==="=="?vc(r[1],r[2],"=="):e==="!="?es(vc(r[1],r[2],"==")):e==="<"||e===">"||e==="<="||e===">="?vc(r[1],r[2],e):e==="any"?x3(r.slice(1)):e==="all"?["all"].concat(r.slice(1).map(Rs)):e==="none"?["all"].concat(r.slice(1).map(Rs).map(es)):e==="in"?Vp(r[1],r.slice(2)):e==="!in"?es(Vp(r[1],r.slice(2))):e==="has"?Hp(r[1]):e==="!has"?es(Hp(r[1])):!0}function vc(r,e,t){switch(r){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,r,e]}}function x3(r){return["any"].concat(r.map(Rs))}function Vp(r,e){if(e.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",r,["literal",e.sort(b3)]]:["filter-in-small",r,["literal",e]]}}function Hp(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function es(r){return["!",r]}function aa(r){return typeof r=="object"?["literal",r]:r}function w3(r,e){let t=r.stops;if(!t)return _3(r,e);const n=t&&typeof t[0][0]=="object",i=n||r.property!==void 0,o=n||!i;return t=t.map(a=>!i&&e.tokens&&typeof a[1]=="string"?[a[0],C3(a[1])]:[a[0],aa(a[1])]),n?T3(r,e,t):o?M3(r,e,t):fu(r,e,t)}function _3(r,e){const t=["get",r.property];if(r.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,r.default];{const n=[e.type==="color"?"to-color":e.type,t,aa(r.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function Bd(r){switch(r.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function T3(r,e,t){const n={},i={},o=[];for(let a=0;a<t.length;a++){const s=t[a],l=s[0].zoom;n[l]===void 0&&(n[l]={zoom:l,type:r.type,property:r.property,default:r.default},i[l]=[],o.push(l)),i[l].push([s[0].value,s[1]])}if(Hd({},e)==="exponential"){const a=[Bd(r),["linear"],["zoom"]];for(const s of o){const l=fu(n[s],e,i[s]);Ki(a,s,l,!1)}return a}else{const a=["step",["zoom"]];for(const s of o){const l=fu(n[s],e,i[s]);Ki(a,s,l,!0)}return Vd(a),a}}function E3(r,e){if(r!==void 0)return r;if(e!==void 0)return e}function Yp(r,e){const t=aa(E3(r.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function fu(r,e,t){const n=Hd(r,e),i=["get",r.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const a of t)o.push(["==",i,a[0]],a[1]);return o.push(Yp(r,e)),o}else if(n==="categorical"){const o=["match",i];for(const a of t)Ki(o,a[0],a[1],!1);return o.push(Yp(r,e)),o}else if(n==="interval"){const o=["step",["number",i]];for(const a of t)Ki(o,a[0],a[1],!0);return Vd(o),r.default===void 0?o:["case",["==",["typeof",i],"number"],o,aa(r.default)]}else if(n==="exponential"){const o=r.base!==void 0?r.base:1,a=[Bd(r),o===1?["linear"]:["exponential",o],["number",i]];for(const s of t)Ki(a,s[0],s[1],!1);return r.default===void 0?a:["case",["==",["typeof",i],"number"],a,aa(r.default)]}else throw new Error(`Unknown property function type ${n}`)}function M3(r,e,t,n=["zoom"]){const i=Hd(r,e);let o,a=!1;if(i==="interval")o=["step",n],a=!0;else if(i==="exponential"){const s=r.base!==void 0?r.base:1;o=[Bd(r),s===1?["linear"]:["exponential",s],n]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of t)Ki(o,s[0],s[1],a);return Vd(o),o}function Vd(r){r[0]==="step"&&r.length===3&&(r.push(0),r.push(r[3]))}function Ki(r,e,t,n){r.length>3&&e===r[r.length-2]||(n&&r.length===2||r.push(e),r.push(t))}function Hd(r,e){return r.type?r.type:e.expression.interpolated?"exponential":"interval"}function C3(r){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let i=t.exec(r);i!==null;i=t.exec(r)){const o=r.slice(n,t.lastIndex-i[0].length);n=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return r;if(n<r.length)e.push(r.slice(n));else if(e.length===2)return["to-string",e[1]];return e}const S3=Jw,L3={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},I3={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},A3=function(r,e){const t=m3(r,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},yu={},js={zoom:0};let ts,kc;function se(r,e,t,n,i,o,a){const s=r.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});const l=o[s];if(!l[t]){let c=(r[e]||yu)[t];const u=S3[`${e}_${r.type}`][t];c===void 0&&(c=u.default);let d=g3(c);if(!d&&$m(c)&&(c=w3(c,u),d=!0),d){const h=A3(c,u);l[t]=h.evaluate.bind(h)}else u.type=="color"&&(c=et.parse(c)),l[t]=function(){return c}}return js.zoom=n,l[t](js,i,a)}function Zp(r,e,t,n,i){return se(r,"layout",`${n}-allow-overlap`,e,t,i)?se(r,"layout",`${n}-ignore-placement`,e,t,i)?"none":"obstacle":"declutter"}function N3(r,e,t,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),r in i||(i[r]=k3(e).filter),js.zoom=n,i[r](js,t)}function Ln(r,e){if(r){if(r.a===0||e===0)return;const t=r.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(r.r*255/t)+","+Math.round(r.g*255/t)+","+Math.round(r.b*255/t)+","+t*e+")"}return r}const O3=/\{[^{}}]*\}/g;function bc(r,e){return r.replace(O3,function(t){return e[t.slice(1,-1)]||""})}const P3={};function Hm(r,e,t,n=Ur,i=void 0,o=void 0,a=void 0,s=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");P3[Fv(e,r)]=Array.from(arguments);let l,c,u;o&&M0(()=>o).then(async Y=>{let ie;if(typeof Image<"u"){const te=new Image;if(typeof Y=="string")te.crossOrigin="anonymous",te.src=Y;else{let le;Y instanceof Request?le=await fetch(Y):Y instanceof Response&&(le=Y);const R=await le.blob();ie=URL.createObjectURL(R),te.src=ie}te.addEventListener("load",function le(){te.removeEventListener("load",le),l=te,c=[te.width,te.height],r.changed(),ie&&URL.revokeObjectURL(ie)}),te.addEventListener("error",function le(){URL.revokeObjectURL(ie),te.removeEventListener("error",le)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const te=self;te.postMessage({action:"loadImage",src:Y}),te.addEventListener("message",function(le){le.data.action==="imageLoaded"&&le.data.src===Y&&(l=le.data.image,c=[l.width,l.height])})}});const d=wm(e.layers),h={},p=[],m={},v={},y=m0(e),_=zv(e);let w;for(let Y=0,ie=d.length;Y<ie;++Y){const te=d[Y],le=te.id;if(typeof t=="string"&&te.source==t||Array.isArray(t)&&t.indexOf(le)!==-1){const R=te["source-layer"];if(w){if(te.source!==w)throw new Error(`Layer "${le}" does not use source "${w}`)}else{w=te.source;const Q=e.sources[w];if(!Q)throw new Error(`Source "${w}" is not defined`);const C=Q.type;if(C!=="vector"&&C!=="geojson")throw new Error(`Source "${w}" is not of type "vector" or "geojson", but "${C}"`)}let D=h[R];D||(D=[],h[R]=D),D.push({layer:te,index:Y}),p.push(le)}}const A=new mr,T=new Fr,N=[],W=function(Y,ie,te){const le=Y.getProperties(),R=h[le.layer];if(!R)return;let D=n.indexOf(ie);D==-1&&(D=Gu(ie,n));const Q=L3[Y.getGeometry().getType()],C={id:Y.getId(),properties:le,type:Q},U=r.get("mapbox-featurestate")[Y.getId()];let J=-1;for(let ke=0,Le=R.length;ke<Le;++ke){const kt=R[ke],$=kt.layer,Lt=$.id;if(te!==void 0&&te!==Lt)continue;const Ke=$.layout||yu,_t=$.paint||yu;if(Ke.visibility==="none"||"minzoom"in $&&D<$.minzoom||"maxzoom"in $&&D>=$.maxzoom)continue;const lr=$.filter;if(!lr||N3(Lt,lr,C,D,_)){let bt,ht,Ue,Be,Ae,G;const cr=kt.index;if(Q==3&&($.type=="fill"||$.type=="fill-extrusion"))if(ht=se($,"paint",$.type+"-opacity",D,C,y,U),$.type+"-pattern"in _t){const K=se($,"paint",$.type+"-pattern",D,C,y,U);if(K){const ee=typeof K=="string"?bc(K,le):K.toString();if(l&&i&&i[ee]){++J,G=N[J],(!G||!G.getFill()||G.getStroke()||G.getText())&&(G=new Mt({fill:new Fr}),N[J]=G),Ue=G.getFill(),G.setZIndex(cr);const oe=ee+"."+ht;let ge=v[oe];if(!ge){const re=i[ee],ye=Uv(re.width,re.height),xe=ye.getContext("2d");xe.globalAlpha=ht,xe.drawImage(l,re.x,re.y,re.width,re.height,0,0,re.width,re.height),ge=xe.createPattern(ye,"repeat"),v[oe]=ge}Ue.setColor(ge)}}}else bt=Ln(se($,"paint",$.type+"-color",D,C,y,U),ht),$.type+"-outline-color"in _t&&(Ae=Ln(se($,"paint",$.type+"-outline-color",D,C,y,U),ht)),Ae||(Ae=bt),(bt||Ae)&&(++J,G=N[J],(!G||bt&&!G.getFill()||!bt&&G.getFill()||Ae&&!G.getStroke()||!Ae&&G.getStroke()||G.getText())&&(G=new Mt({fill:bt?new Fr:void 0,stroke:Ae?new mr:void 0}),N[J]=G),bt&&(Ue=G.getFill(),Ue.setColor(bt)),Ae&&(Be=G.getStroke(),Be.setColor(Ae),Be.setWidth(.5)),G.setZIndex(cr));if(Q!=1&&$.type=="line"){"line-pattern"in _t?bt=void 0:bt=Ln(se($,"paint","line-color",D,C,y,U),se($,"paint","line-opacity",D,C,y,U));const K=se($,"paint","line-width",D,C,y,U);bt&&K>0&&(++J,G=N[J],(!G||!G.getStroke()||G.getFill()||G.getText())&&(G=new Mt({stroke:new mr}),N[J]=G),Be=G.getStroke(),Be.setLineCap(se($,"layout","line-cap",D,C,y,U)),Be.setLineJoin(se($,"layout","line-join",D,C,y,U)),Be.setMiterLimit(se($,"layout","line-miter-limit",D,C,y,U)),Be.setColor(bt),Be.setWidth(K),Be.setLineDash(_t["line-dasharray"]?se($,"paint","line-dasharray",D,C,y,U).map(function(ee){return ee*K}):null),G.setZIndex(cr))}let k=!1,b=null,E=0,P,S,O;if((Q==1||Q==2)&&"icon-image"in Ke){const K=se($,"layout","icon-image",D,C,y,U);if(K){P=typeof K=="string"?bc(K,le):K.toString();let ee;const oe=s?s(r,P):void 0;if(l&&i&&i[P]||oe){const ge=se($,"layout","icon-rotation-alignment",D,C,y,U);if(Q==2){const re=Y.getGeometry();if(re.getFlatMidpoint||re.getFlatMidpoints){const ye=re.getExtent();if(Math.sqrt(Math.max(Math.pow((ye[2]-ye[0])/ie,2),Math.pow((ye[3]-ye[1])/ie,2)))>150){const xe=re.getType()==="MultiLineString"?re.getFlatMidpoints():re.getFlatMidpoint();if(kc||(ts=[NaN,NaN],kc=new Ht("Point",ts,[],2,{},void 0)),ee=kc,ts[0]=xe[0],ts[1]=xe[1],se($,"layout","symbol-placement",D,C,y,U)==="line"&&ge==="map"){const Pe=re.getStride(),je=re.getFlatCoordinates();for(let tt=0,Ot=je.length-Pe;tt<Ot;tt+=Pe){const Ve=je[tt],Ie=je[tt+1],Tt=je[tt+Pe],xt=je[tt+Pe+1],ur=Math.min(Ve,Tt),Et=Math.max(Ve,Tt),Lr=xe[0],Ra=xe[1],xo=(xt-Ie)*(Lr-Ve)-(Tt-Ve)*(Ra-Ie);if(Math.abs(xo)<.001&&Lr<=Et&&Lr>=ur){E=Math.atan2(Ie-xt,Tt-Ve);break}}}}}}if(Q!==2||ee){const re=se($,"layout","icon-size",D,C,y,U),ye=_t["icon-color"]!==void 0?se($,"paint","icon-color",D,C,y,U):null;if(!ye||ye.a!==0){const xe=se($,"paint","icon-halo-color",D,C,y,U),Pe=se($,"paint","icon-halo-width",D,C,y,U);let je=`${P}.${re}.${Pe}.${xe}`;if(ye!==null&&(je+=`.${ye}`),S=m[je],!S){const tt=Zp($,D,C,"icon",y);let Ot;"icon-offset"in Ke&&(Ot=se($,"layout","icon-offset",D,C,y,U).slice(0),Ot[0]*=re,Ot[1]*=-re);let Ve=ye?[ye.r*255,ye.g*255,ye.b*255,ye.a]:void 0;if(oe){const Ie={color:Ve,rotateWithView:ge==="map",displacement:Ot,declutterMode:tt,scale:re};typeof oe=="string"?Ie.src=oe:(Ie.img=oe,Ie.imgSize=[oe.width,oe.height]),S=new _i(Ie)}else{const Ie=i[P];let Tt,xt,ur;Pe?Ie.sdf?(Tt=zh(Uh(l,Ie,ye||[0,0,0,1]),{x:0,y:0,width:Ie.width,height:Ie.height,pixelRatio:Ie.pixelRatio},Pe,xe),Ve=void 0):Tt=zh(l,Ie,Pe,xe):(Ie.sdf?(u||(u=Uh(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1})),Tt=u):Tt=l,xt=[Ie.width,Ie.height],ur=[Ie.x,Ie.y]),S=new _i({color:Ve,img:Tt,imgSize:c,size:xt,offset:ur,rotateWithView:ge==="map",scale:re/Ie.pixelRatio,displacement:Ot,declutterMode:tt})}m[je]=S}}S&&(++J,G=N[J],(!G||!G.getImage()||G.getFill()||G.getStroke())&&(G=new Mt,N[J]=G),G.setGeometry(ee),S.setRotation(E+tc(se($,"layout","icon-rotate",D,C,y,U))),S.setOpacity(se($,"paint","icon-opacity",D,C,y,U)),S.setAnchor(I3[se($,"layout","icon-anchor",D,C,y,U)]),G.setImage(S),b=G.getText(),G.setText(void 0),G.setZIndex(cr),k=!0,O=!1)}else O=!0}}}if(Q==1&&$.type==="circle"){++J,G=N[J],(!G||!G.getImage()||G.getFill()||G.getStroke())&&(G=new Mt,N[J]=G);const K="circle-radius"in _t?se($,"paint","circle-radius",D,C,y,U):5,ee=Ln(se($,"paint","circle-stroke-color",D,C,y,U),se($,"paint","circle-stroke-opacity",D,C,y,U)),oe=se($,"paint","circle-translate",D,C,y,U),ge=Ln(se($,"paint","circle-color",D,C,y,U),se($,"paint","circle-opacity",D,C,y,U)),re=se($,"paint","circle-stroke-width",D,C,y,U),ye=K+"."+ee+"."+ge+"."+re+"."+oe[0]+"."+oe[1];S=m[ye],S||(S=new Yu({radius:K,displacement:[oe[0],-oe[1]],stroke:ee&&re>0?new mr({width:re,color:ee}):void 0,fill:ge?new Fr({color:ge}):void 0,declutterMode:"none"}),m[ye]=S),G.setImage(S),b=G.getText(),G.setText(void 0),G.setGeometry(void 0),G.setZIndex(cr),k=!0}let F,V,z,L,ce,X;if("text-field"in Ke){L=Math.round(se($,"layout","text-size",D,C,y,U));const K=se($,"layout","text-font",D,C,y,U);z=se($,"layout","text-line-height",D,C,y,U),V=$h(a?a(K,e.metadata?e.metadata["ol:webfonts"]:void 0):K,L,z),V.includes("sans-serif")||(V+=",sans-serif"),ce=se($,"layout","text-letter-spacing",D,C,y,U),X=se($,"layout","text-max-width",D,C,y,U);const ee=se($,"layout","text-field",D,C,y,U);typeof ee=="object"&&ee.sections?ee.sections.length===1?F=ee.toString():F=ee.sections.reduce((oe,ge,re)=>{const ye=ge.fontStack?ge.fontStack.split(","):K,xe=$h(a?a(ye):ye,L*(ge.scale||1),z);let Pe=ge.text;if(Pe===`
`)return oe.push(`
`,""),oe;if(Q==2)return oe.push(Gh(Pe,ce),xe),oe;Pe=Bh(Pe,xe,X,ce).split(`
`);for(let je=0,tt=Pe.length;je<tt;++je)je>0&&oe.push(`
`,""),oe.push(Pe[je],xe);return oe},[]):F=bc(ee,le).trim(),ht=se($,"paint","text-opacity",D,C,y,U)}if(F&&ht&&!O){k||(++J,G=N[J],(!G||!G.getText()||G.getFill()||G.getStroke())&&(G=new Mt,N[J]=G),G.setImage(void 0),G.setGeometry(void 0));const K=Zp($,D,C,"text",y);G.getText()||G.setText(b),b=G.getText(),(!b||"getDeclutterMode"in b&&b.getDeclutterMode()!==K)&&(b=new us({padding:[2,2,2,2],declutterMode:K}),G.setText(b));const ee=se($,"layout","text-transform",D,C,y,U);ee=="uppercase"?F=Array.isArray(F)?F.map((Et,Lr)=>Lr%2?Et:Et.toUpperCase()):F.toUpperCase():ee=="lowercase"&&(F=Array.isArray(F)?F.map((Et,Lr)=>Lr%2?Et:Et.toLowerCase()):F.toLowerCase());const oe=Array.isArray(F)?F:Q==2?Gh(F,ce):Bh(F,V,X,ce);if(b.setText(oe),b.setFont(V),b.setRotation(tc(se($,"layout","text-rotate",D,C,y,U))),typeof b.setKeepUpright=="function"){const Et=se($,"layout","text-keep-upright",D,C,y,U);b.setKeepUpright(Et)}const ge=se($,"layout","text-anchor",D,C,y,U),re=k||Q==1?"point":se($,"layout","symbol-placement",D,C,y,U);let ye;if(re==="line-center"?(b.setPlacement("line"),ye="center"):b.setPlacement(re),re==="line"&&typeof b.setRepeat=="function"){const Et=se($,"layout","symbol-spacing",D,C,y,U);b.setRepeat(Et*2)}b.setOverflow(re==="point");let xe=se($,"paint","text-halo-width",D,C,y,U);const Pe=se($,"layout","text-offset",D,C,y,U),je=se($,"paint","text-translate",D,C,y,U);let tt=0,Ot=0;if(re=="point"){ye="center",ge.indexOf("left")!==-1?(ye="left",Ot=xe):ge.indexOf("right")!==-1&&(ye="right",Ot=-xe);const Et=se($,"layout","text-rotation-alignment",D,C,y,U);b.setRotateWithView(Et=="map")}else b.setMaxAngle(tc(se($,"layout","text-max-angle",D,C,y,U))*F.length/oe.length),b.setRotateWithView(!1);b.setTextAlign(ye);let Ve="middle";ge.indexOf("bottom")==0?(Ve="bottom",tt=-xe-.5*(z-1)*L):ge.indexOf("top")==0&&(Ve="top",tt=xe+.5*(z-1)*L),b.setTextBaseline(Ve);const Ie=se($,"layout","text-justify",D,C,y,U);b.setJustify(Ie==="auto"?void 0:Ie),b.setOffsetX(Pe[0]*L+Ot+je[0]),b.setOffsetY(Pe[1]*L+tt+je[1]),T.setColor(Ln(se($,"paint","text-color",D,C,y,U),ht)),b.setFill(T);const Tt=Ln(se($,"paint","text-halo-color",D,C,y,U),ht);if(Tt&&xe>0){A.setColor(Tt),xe*=2;const Et=.5*L;A.setWidth(xe<=Et?xe:Et),b.setStroke(A)}else b.setStroke(void 0);const xt=se($,"layout","text-padding",D,C,y,U),ur=b.getPadding();xt!==ur[0]&&(ur[0]=xt,ur[1]=xt,ur[2]=xt,ur[3]=xt),G.setZIndex(cr)}}}if(J>-1)return N.length=J+1,N};return r.setStyle(W),r.set("mapbox-source",w),r.set("mapbox-layers",p),r.set("mapbox-featurestate",r.get("mapbox-featurestate")||{}),W}function Ym(r){return function(e){const t=e.buffers,n=e.meta,i=e.imageOps,o=e.width,a=e.height,s=t.length,l=t[0].byteLength;if(i){const h=new Array(s);for(let p=0;p<s;++p)h[p]=new ImageData(new Uint8ClampedArray(t[p]),o,a);return r(h,n).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(s),d=new Array(s);for(let h=0;h<s;++h)u[h]=new Uint8ClampedArray(t[h]),d[h]=[0,0,0,0];for(let h=0;h<l;h+=4){for(let m=0;m<s;++m){const v=u[m];d[m][0]=v[h],d[m][1]=v[h+1],d[m][2]=v[h+2],d[m][3]=v[h+3]}const p=r(d,n);c[h]=p[0],c[h+1]=p[1],c[h+2]=p[2],c[h+3]=p[3]}return c.buffer}}function D3(r,e){const t=Object.keys(r.lib||{}).map(function(i){return"const "+i+" = "+r.lib[i].toString()+";"}).concat(["const __minion__ = ("+Ym.toString()+")(",r.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(t.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(t,{type:"text/javascript"})));return n.addEventListener("message",e),n}function R3(r,e){const t=Ym(r.operation);let n=!1;return{postMessage:function(i){setTimeout(function(){n||e({data:{buffer:t(i),meta:i.meta}})},0)},terminate:function(){n=!0}}}class j3 extends Wu{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const n=new Array(t);if(t)for(let i=0;i<t;++i)n[i]=D3(e,this.onWorkerMessage_.bind(this,i));else n[0]=R3(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,i=e.inputs.map(function(l){return l.data.buffer}),o=this.workers_.length;if(this.running_=o,o===1){this.workers_[0].postMessage({buffers:i,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},i);return}const a=e.inputs[0].data.length,s=4*Math.ceil(a/4/o);for(let l=0;l<o;++l){const c=l*s,u=[];for(let d=0,h=i.length;d<h;++d)u.push(i[d].slice(c,c+s));this.workers_[l].postMessage({buffers:u,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},u)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,i;if(t===1)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),i=this.dataLookup_[0].meta;else{const o=e.inputs[0].data.length;n=new Uint8ClampedArray(o),i=new Array(t);const a=4*Math.ceil(o/4/t);for(let s=0;s<t;++s){const l=this.dataLookup_[s].buffer,c=s*a;n.set(new Uint8ClampedArray(l),c),i[s]=this.dataLookup_[s].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),i),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const Wp={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class Kp extends Yn{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class Zm extends sl{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=z3(e.sources);const t=this.changed.bind(this);for(let n=0,i=this.layers_.length;n<i;++n)this.layers_[n].addEventListener(Oe.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new q0(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Vo(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:F3(this.layers_),pixelRatio:1,pixelToCoordinateTransform:Vo(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:it(this),renderTargets:{}},this.setAttributions(function(n){const i=[];for(let o=0,a=e.sources.length;o<a;++o){const s=e.sources[o],l=s instanceof go?s:s.getSource();if(!l)continue;const c=l.getAttributions()?.(n);typeof c=="string"?i.push(c):c!==void 0&&i.push(...c)}return i}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new j3({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);const o=Hn(e);i.size[0]=Math.ceil(qt(e)/t),i.size[1]=Math.ceil(pn(e)/t),i.extent=[o[0]-i.size[0]*t/2,o[1]-i.size[1]*t/2,o[0]+i.size[0]*t/2,o[1]+i.size[1]*t/2],i.time=Date.now();const a=i.viewState;return a.center=o,a.projection=n,a.resolution=t,i}allSourcesReady_(){let e=!0,t;for(let n=0,i=this.layers_.length;n<i;++n)if(t=this.layers_[n].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,n,i){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const o=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=o,this.renderedImageCanvas_){const a=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();(t!==a||!bi(o.extent,s))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),o.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let o=0;o<t;++o){e.layerIndex=o,e.renderTargets={};const a=q3(this.layers_[o],e);if(a)n[o]=a;else return}const i={};this.dispatchEvent(new Kp(Wp.BEFOREOPERATIONS,e,i)),this.processor_.process(n,i,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,i){if(t||!n)return;const o=e.extent,a=e.viewState.resolution;if(a!==this.requestedFrameState_.viewState.resolution||!bi(o,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{const l=Math.round(qt(o)/a),c=Math.round(pn(o)/a);s=Zo(l,c),this.renderedImageCanvas_=new $k(o,a,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Kp(Wp.AFTEROPERATIONS,e,i))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,i=this.layers_.length;n<i&&(t=this.layers_[n].getSource().getResolutions(e),!t);++n);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}Zm.prototype.dispose;let Xn=null;function q3(r,e){const t=r.getRenderer();if(!t)throw new Error("Unsupported layer type: "+r);if(!t.prepareFrame(e))return null;const n=e.size[0],i=e.size[1];if(n===0||i===0)return null;const o=t.renderFrame(e,null);let a;if(o instanceof HTMLCanvasElement)a=o;else{if(o&&(a=o.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+a);if(a.width===n&&a.height===i)return a.getContext("2d").getImageData(0,0,n,i)}if(!Xn)Xn=Zo(n,i,void 0,{willReadFrequently:!0});else{const s=Xn.canvas;s.width!==n||s.height!==i?Xn=Zo(n,i,void 0,{willReadFrequently:!0}):Xn.clearRect(0,0,n,i)}return Xn.drawImage(a,0,0,n,i),Xn.getImageData(0,0,n,i)}function F3(r){return r.map(function(e){return e.getLayerState()})}function z3(r){const e=r.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=U3(r[n]);return t}function U3(r){let e;return r instanceof go?r instanceof Y0?e=new Ci({source:r}):r instanceof sl&&(e=new Ma({source:r})):e=r,e}function $3(r,e,t,n){const i=document.createElement("script"),o="olc_"+it(e);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=r+(r.includes("?")?"&":"?")+"callback="+o;const s=setTimeout(function(){a(),t&&t()},1e4);window[o]=function(l){clearTimeout(s),a(),e(l)},document.head.appendChild(i)}class Wm extends al{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:pe("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)$3(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let n;try{n=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(n)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=pe("EPSG:4326"),n=this.getProjection();let i;if(e.bounds!==void 0){const c=Zv(t,n);i=Wv(e.bounds,c)}const o=Ca(n),a=e.minzoom||0,s=e.maxzoom||22,l=sd({extent:o,maxZoom:s,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=ld(e.tiles,l),e.attribution&&!this.getAttributions()){const c=i!==void 0?i:o;this.setAttributions(function(u){return va(c,u.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}function G3(r,e){const t=r[0],n=t.width,i=t.height,o=t.data,a=new Uint8ClampedArray(o.length),s=e.resolution*2,l=n-1,c=i-1,u=[0,0,0,0],d=2*Math.PI,h=Math.PI/2,p=Math.PI*e.sunEl/180,m=Math.PI*e.sunAz/180,v=Math.cos(p),y=Math.sin(p),_=e.highlightColor,w=e.shadowColor,A=e.accentColor,T=e.encoding;let N,W,Y,ie,te,le,R,D,Q,C,U,J,ke,Le,kt,$,Lt,Ke,_t,lr,bt,ht;function Ue(Be,Ae="mapbox"){if(Ae==="mapbox")return(Be[0]*256*256+Be[1]*256+Be[2])*.1-1e4;if(Ae==="terrarium")return Be[0]*256+Be[1]+Be[2]/256-32768}for(W=0;W<=c;++W)for(te=W===0?0:W-1,le=W===c?c:W+1,N=0;N<=l;++N)Y=N===0?0:N-1,ie=N===l?l:N+1,R=(W*n+Y)*4,u[0]=o[R],u[1]=o[R+1],u[2]=o[R+2],u[3]=o[R+3],D=e.vert*Ue(u,T),R=(W*n+ie)*4,u[0]=o[R],u[1]=o[R+1],u[2]=o[R+2],u[3]=o[R+3],Q=e.vert*Ue(u,T),C=(Q-D)/s,R=(te*n+N)*4,u[0]=o[R],u[1]=o[R+1],u[2]=o[R+2],u[3]=o[R+3],D=e.vert*Ue(u,T),R=(le*n+N)*4,u[0]=o[R],u[1]=o[R+1],u[2]=o[R+2],u[3]=o[R+3],Q=e.vert*Ue(u,T),U=(Q-D)/s,ke=Math.atan2(U,-C),ke<0?ke=h-ke:ke>h?ke=d-ke+h:ke=h-ke,J=Math.atan(Math.sqrt(C*C+U*U)),ht=y*Math.cos(J)+v*Math.sin(J)*Math.cos(m-ke),Le=Math.cos(J),kt=255*ht,_t=Math.min(Math.max(2*e.sunEl,0),1),lr=1.875-e.opacity*1.75,bt=e.opacity!==.5?h*((Math.pow(lr,J)-1)/(Math.pow(lr,h)-1)):J,Lt={r:(1-Le)*A.r*_t*255,g:(1-Le)*A.g*_t*255,b:(1-Le)*A.b*_t*255,a:(1-Le)*A.a*_t*255},$=Math.abs(((ke+m)/Math.PI+.5)%2-1),Ke={r:(_.r*(1-$)+w.r*$)*kt,g:(_.g*(1-$)+w.g*$)*kt,b:(_.b*(1-$)+w.b*$)*kt,a:(_.a*(1-$)+w.a*$)*kt},R=(W*n+N)*4,a[R]=Lt.r*(1-$)+Ke.r,a[R+1]=Lt.g*(1-$)+Ke.g,a[R+2]=Lt.b*(1-$)+Ke.b,a[R+3]=o[R+3]*e.opacity*_t*Math.sin(bt);return new ImageData(a,n,i)}function B3(r,e=512){return r.getExtent()?sd({extent:r.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Ur}function Km(r,e){return e.accessToken||(e=Object.assign({},e),new URL(r).searchParams.forEach((t,n)=>{e.accessToken=t,e.accessTokenParam=n})),e}function V3(r,e,t="",n={},i=void 0){let o,a,s,l,c=!0;return typeof t!="string"&&!Array.isArray(t)?(s=t,l=s.source||s.layers,n=s):l=t,typeof n=="string"?(o=n,s={}):(o=n.styleUrl,s=n),s.updateSource===!1&&(c=!1),i||(i=s.resolutions),!o&&typeof e=="string"&&!e.trim().startsWith("{")&&(o=e),o&&(o=o.startsWith("data:")?location.href:Gc(o,s.accessToken),s=Km(o,s)),new Promise(function(u,d){g0(e,s).then(function(h){if(h.version!=8)return d(new Error("glStyle version 8 required."));if(!(r instanceof Yr||r instanceof cn))return d(new Error("Can only apply to VectorLayer or VectorTileLayer"));const p=r instanceof cn?"vector":"geojson";if(l?Array.isArray(l)?a=h.layers.find(function(T){return T.id===l[0]}).source:a=l:(a=Object.keys(h.sources).find(function(T){return h.sources[T].type===p}),l=a),!a)return d(new Error(`No ${p} source found in the glStyle.`));function m(){if(!c)return Promise.resolve();if(r instanceof cn)return Jm(h.sources[a],o,s).then(function(Y){const ie=r.getSource();ie?Y!==ie&&(ie.setTileUrlFunction(Y.getTileUrlFunction()),typeof ie.setUrls=="function"&&typeof Y.getUrls=="function"&&ie.setUrls(Y.getUrls()),ie.format_||(ie.format_=Y.format_),ie.getAttributions()||ie.setAttributions(Y.getAttributions()),ie.getTileLoadFunction()===xm&&ie.setTileLoadFunction(Y.getTileLoadFunction()),It(ie.getProjection(),Y.getProjection())&&(ie.tileGrid=Y.getTileGrid())):r.setSource(Y);const te=r.getSource().getTileGrid();!isFinite(r.getMaxResolution())&&!isFinite(r.getMinZoom())&&te.getMinZoom()>0&&r.setMaxResolution(Ao(Math.max(0,te.getMinZoom()-1e-12),te.getResolutions()))});const T=h.sources[a];let N=r.getSource();(!N||N.get("mapbox-source")!==T)&&(N=rf(T,o,s));const W=r.getSource();return W?N!==W&&(W.getAttributions()||W.setAttributions(N.getAttributions()),W.format_||(W.format_=N.getFormat()),W.url_=N.getUrl()):r.setSource(N),Promise.resolve()}let v,y,_,w;function A(){if(!w&&(!h.sprite||y)){if(s.projection&&!i){const T=pe(s.projection).getUnits();T!=="m"&&(i=Ur.map(N=>N/Ho[T]))}w=Hm(r,h,l,i,y,_,(T,N=s.webfonts)=>Yv(T,N),s.getImage),r.getStyle()?m().then(u).catch(d):d(new Error(`Nothing to show for source [${a}]`))}else w?(r.setStyle(w),m().then(u).catch(d)):d(new Error("Something went wrong trying to apply style."))}if(h.sprite){const T=new URL(Vv(h.sprite,s.accessToken,o||location.href));v=window.devicePixelRatio>=1.5?.5:1;const N=v==.5?"@2x":"";let W=T.origin+T.pathname+N+".json"+T.search;new Promise(function(Y,ie){ws("Sprite",W,s).then(Y).catch(function(te){W=T.origin+T.pathname+".json"+T.search,ws("Sprite",W,s).then(Y).catch(ie)})}).then(function(Y){if(Y===void 0&&d(new Error("No sprites found.")),y=Y,_=T.origin+T.pathname+N+".png"+T.search,s.transformRequest){const ie=s.transformRequest(_,"SpriteImage")||_;(ie instanceof Request||ie instanceof Promise)&&(_=ie)}A()}).catch(function(Y){d(new Error(`Sprites cannot be loaded: ${W}: ${Y.message}`))})}else A()}).catch(d)})}const On={};function Qm(r,e){let t;return r.some(function(n){if(n.id==e)return t=n.source,!0}),t}function H3(r,e){const t=r.bounds;if(t){const n=Bc([t[0],t[1]],e),i=Bc([t[2],t[3]],e);return[n[0],n[1],i[0],i[1]]}return pe(e).getExtent()}function Xm(r,e,t){const n=new Wm({tileJSON:e,tileSize:r.tileSize||e.tileSize||512}),i=n.getTileJSON(),o=n.getTileGrid(),a=pe(t.projection||"EPSG:3857"),s=H3(i,a),l=a.getExtent(),c=i.minzoom||0,u=i.maxzoom||22,d={attributions:n.getAttributions(),projection:a,tileGrid:new Si({origin:l?xs(l):o.getOrigin(0),extent:s||o.getExtent(),minZoom:c,resolutions:B3(a,e.tileSize).slice(0,u+1),tileSize:o.getTileSize(0)})};return Array.isArray(i.tiles)?d.urls=i.tiles:d.url=i.tiles,d}function Y3(r,e,t,n){const i={id:r.id,type:r.type},o=r.layout||{},a=r.paint||{};i.paint=a;const s=Gu(e,t.resolutions||Ur);let l;const c=se(i,"paint","background-color",s,On,n);return a["background-opacity"]!==void 0&&(l=se(i,"paint","background-opacity",s,On,n)),o.visibility=="none"?void 0:Ln(c,l)}function Z3(r,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new co({source:new go({}),render(i){const o=Y3(r,i.viewState.resolution,e,t);return n.style.backgroundColor=o,n}})}function Jm(r,e,t){return new Promise(function(n,i){f0(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=Xm(r,o,t);s.tileLoadFunction=a,s.format=new fd,n(new pl(s))}).catch(i)})}function W3(r,e,t){const n=new cn({declutter:!0,visible:!1});return Jm(r,e,t).then(function(i){i.set("mapbox-source",r),n.setSource(i)}).catch(function(i){n.setSource(void 0)}),n}function ef(r){return`{bbox-${(r?r.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function K3(r,e,t){return new Promise(function(n,i){f0(r,e,t).then(function({tileJson:o,tileLoadFunction:a}){const s=new Wm({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:o});s.tileGrid=Xm(r,o,t).tileGrid,t.projection&&(s.projection=pe(t.projection));const l=s.getTileUrlFunction();a&&s.setTileLoadFunction(a),s.setTileUrlFunction(function(c,u,d){const h=ef(d);let p=l(c,u,d);if(p.indexOf(h)!=-1){const m=s.getTileGrid().getTileCoordExtent(c);p=p.replace(h,m.toString())}return p}),s.set("mapbox-source",r),n(s)}).catch(function(o){i(o)})})}function tf(r,e,t){const n=new Ci;return K3(r,e,t).then(function(i){n.setSource(i)}).catch(function(){n.setSource(void 0)}),n}function Q3(r,e,t){const n=tf(r,e,t);return new Ma({source:new Zm({operationType:"image",operation:G3,sources:[n]})})}function rf(r,e,t){const n=t.projection?new Cs({dataProjection:t.projection}):new Cs,i=r.data,o={};if(typeof i=="string"){const[s]=Hv(i,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(s)){const c=(d,h,p)=>{const m=ef(p);return s.replace(m,`${d.join(",")}`)},u=new Mr({attributions:r.attribution,format:n,loader:(d,h,p,m,v)=>{const y=typeof c=="function"?c(d,h,p):c;ws("GeoJSON",y,t).then(_=>{const w=u.getFormat().readFeatures(_,{featureProjection:p});u.addFeatures(w),m(w)}).catch(_=>{u.removeLoadedExtent(d),v()})},strategy:Yi});return u.set("mapbox-source",r),u}const l=new Mr({attributions:r.attribution,format:n,url:s,loader:(c,u,d,h,p)=>{ws("GeoJSON",s,t).then(m=>{const v=l.getFormat().readFeatures(m,{featureProjection:d});l.addFeatures(v),h(v)}).catch(m=>{l.removeLoadedExtent(c),p()})}});return l}o.features=n.readFeatures(i,{featureProjection:"EPSG:3857"});const a=new Mr(Object.assign({attributions:r.attribution,format:n},o));return a.set("mapbox-source",r),a}function X3(r,e,t){return new Yr({declutter:!0,source:rf(r,e,t),visible:!1})}function J3(r,e,t){let n=null;return function(i){r.paint&&"raster-opacity"in r.paint&&i.frameState.viewState.zoom!==n&&(n=i.frameState.viewState.zoom,delete t[r.id],e_(r,e,n,t))}}function e_(r,e,t,n){const i=se(r,"paint","raster-opacity",t,On,n);e.setOpacity(i)}function t_(r,e){function t(){const n=e.get("mapbox-style");if(!n)return;const i=wm(n.layers),o=r.get("mapbox-layers"),a=i.filter(function(s){return o.includes(s.id)}).some(function(s){return!s.layout||!s.layout.visibility||s.layout.visibility==="visible"});r.get("visible")!==a&&r.setVisible(a)}r.on("change",t),t()}function r_(r,e,t,n){const i=m0(r),o=r.layers,a=t.type,s=t.source||Qm(o,t.ref),l=r.sources[s];let c;if(a=="background")c=Z3(t,n,i);else if(l.type=="vector")c=W3(l,e,n);else if(l.type=="raster")c=tf(l,e,n),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",J3(t,c,i));else if(l.type=="geojson")c=X3(l,e,n);else if(l.type=="raster-dem"&&t.type=="hillshade"){const d=Q3(l,e,n);c=d,d.getSource().on("beforeoperations",function(h){const p=h.data;p.resolution=Bv(n.projection||"EPSG:3857",h.resolution,Hn(h.extent),"m");const m=Gu(h.resolution,n.resolutions||Ur);p.encoding=l.encoding,p.vert=5*se(t,"paint","hillshade-exaggeration",m,On,i),p.sunAz=se(t,"paint","hillshade-illumination-direction",m,On,i),p.sunEl=35,p.opacity=.3,p.highlightColor=se(t,"paint","hillshade-highlight-color",m,On,i),p.shadowColor=se(t,"paint","hillshade-shadow-color",m,On,i),p.accentColor=se(t,"paint","hillshade-accent-color",m,On,i)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const u=s;return c&&c.set("mapbox-source",u),c}function Qp(r,e,t,n){const i=[];let o=null;if(e instanceof Bn){if(o=e.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const d=n.projection?pe(n.projection):o.getProjection();o=new nn(Object.assign(o.getProperties(),{maxResolution:Ur[0]/Ho[d.getUnits()],projection:n.projection||o.getProjection()})),e.setView(o)}"center"in r&&!o.getCenter()&&o.setCenter(Bc(r.center,o.getProjection())),"zoom"in r&&o.getZoom()===void 0&&o.setResolution(Ur[0]/Ho[o.getProjection().getUnits()]/Math.pow(2,r.zoom)),(!o.getCenter()||o.getZoom()===void 0)&&o.fit(o.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",r),e.set("mapbox-metadata",{styleUrl:t,options:n});const a=r.layers;let s=[],l,c,u;for(let d=0,h=a.length;d<h;++d){const p=a[d],m=p.type;if(m=="heatmap"){console.debug(`layers[${d}].type "${m}" not supported`);continue}else u=p.source||Qm(a,p.ref),(!u||u!=c)&&(s.length&&(i.push(Xp(l,s,r,t,e,n)),s=[]),l=r_(r,t,p,n),l instanceof Yr||l instanceof cn||(s=[]),c=l.get("mapbox-source")),s.push(p.id)}return i.push(Xp(l,s,r,t,e,n)),Promise.all(i)}function n_(r,e,t={}){let n,i;if(typeof r=="string"||r instanceof HTMLElement?i=new Bn({target:r}):i=r,typeof e=="string"){const o=e.startsWith("data:")?location.href:Gc(e,t.accessToken);t=Km(o,t),n=new Promise(function(a,s){g0(e,t).then(function(l){Qp(l,i,o,t).then(function(){a(i)}).catch(s)}).catch(function(l){s(new Error(`Could not load ${e}: ${l.message}`))})})}else n=new Promise(function(o,a){Qp(e,i,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:Gc(t.styleUrl,t.accessToken),t).then(function(){o(i)}).catch(a)});return n}function Xp(r,e,t,n,i,o={}){let a=24,s=0;const l=t.layers;for(let c=0,u=l.length;c<u;++c){const d=l[c];e.indexOf(d.id)!==-1&&(a=Math.min("minzoom"in d?d.minzoom:0,a),s=Math.max("maxzoom"in d?d.maxzoom:24,s))}return new Promise(function(c,u){const d=function(){const p=r.getSource();if(!p||p.getState()==="error"){u(new Error("Error accessing data for source "+r.get("mapbox-source")));return}if("getTileGrid"in p){const m=p.getTileGrid();if(m){const v=m.getMinZoom();(a>0||v>0)&&r.setMaxResolution(Math.min(Ao(Math.max(0,a-1e-12),Ur),Ao(Math.max(0,v-1e-12),m.getResolutions()))),s<24&&r.setMinResolution(Ao(s,Ur))}}else a>0&&r.setMaxResolution(Ao(Math.max(0,a-1e-12),Ur));p instanceof Mr||p instanceof pl?V3(r,t,e,Object.assign({styleUrl:n},o)).then(function(){t_(r,i),c()}).catch(u):c()};r.set("mapbox-layers",e);const h=i.getLayers();h.getArray().indexOf(r)===-1&&h.push(r),r.getSource()?d():r.once("change:source",d)})}const i_="EPSG:3857";function nf(r={}){const e=r.epsg?r.epsg:sr.epsg,t=r.extent?r.extent:Ca(e),n=r.tileSize?r.tileSize:512,i=r.resolutions?r.resolutions:sr.options.map(a=>a.resolution),o={extent:t,resolutions:i,minZoom:r.minZoom,tileSize:new Array(2).fill(n)};return r.origins?o.origins=r.origins:o.origin=r.origin?r.origin:[o.extent[0],o.extent[3]],new Si(o)}function o_(r={}){const e=[r.extent,r.tileSize,r.resolutions,r.origin,r.origins,r.minZoom],t=r.epsg?r.epsg.toUpperCase():r.epsg;return!e.every(n=>typeof n>"u")||t!==i_}function vu(r,e={}){e.epsg=e.epsg?e.epsg:sr.epsg;const t={projection:e.epsg,format:new fd,url:r,tileSize:e.tileSize,zDirection:e.zDirection,minZoom:e.minZoom,maxZoom:e.maxZoom};return o_(e)&&(t.tileGrid=nf(e)),new pl(t)}function a_(r={},{layerParams:e={},options:t={}}={}){if([r.id,r.name,r.url].some(o=>typeof o>"u")){console.error(`Cancelled creation of layer "${r.id}"(${r.name}) because of missing required parameters`);return}let n,i;return e.renderer==="webgl"?(i=vu(r.url,{...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing}),n=Qs({extent:i.getTileGrid().getExtent(),...r,...e,source:i}),n):(i=vu(r.url,r),n=new cn(Object.assign({id:r.id,name:r.name,attribution:r.olAttribution,extent:i.getTileGrid().getExtent(),minZoom:r.minZoom,maxZoom:r.maxZoom,source:i,declutter:!0},e)),t.style&&r.renderer!=="webgl"&&n.setStyle(t.style),n)}function s_(r,e,{options:t={}}={},n){Object.keys(e.sources).forEach(i=>{const o=i;if(e.sources[i].type!=="vector"&&e.sources[i].type!=="geojson"){const a=r.get("map");n_(a,n)}else Hm(r,e,t.sourceId?t.sourceId:o,t.resolutions,t.spriteData,t.spriteImageUrl,t.getFonts)})}const l_=Object.freeze(Object.defineProperty({__proto__:null,createLayer:a_,createLayerSource:vu,createTileGrid:nf,setStyle:s_},Symbol.toStringTag,{value:"Module"}));function c_(r,e,t,n){return r.ok?r:e(`Request to wfs-filter failed. Response status is ${r.statusText}`,t,n)}function u_(r){if(typeof r!="object"||r===null||!Array.isArray(r.links))return!1;for(let e=0;e<r.links.length;e++)if(typeof r.links[e]=="object"&&r.links[e]!==null&&typeof r.links[e].href=="string"&&r.links[e].rel==="next"&&r.links[e].type==="application/geo+json")return r.links[e].href;return!1}function of(r,e,{onErrorFn:t,success:n,failure:i},o,a=[]){fetch(r,{headers:{Accept:"application/geo+json"},method:"GET"}).then(s=>c_(s,t,o,i)).then(s=>s.json()).then(s=>{const l=u_(s);if(s.features.forEach(c=>a.push(c)),typeof l=="string"){of(l,e,{onErrorFn:Zi,success:n,failure:i},o,a);return}s.features=a,s.numberReturned=s.numberMatched,dl(e,e.getFormat().readFeatures(s),t,n,i,o)}).catch(s=>{t(s,o,i)})}function Yd(r,e){const t=e?.bbox||r.bbox,n=r.url;let i=typeof t=="string"&&t.length?t:null,o=null;return o=new URL(n),typeof r.collection=="string"&&(o.pathname.endsWith("/")?o.pathname+="collections/"+r.collection+"/items":o.pathname+="/collections/"+r.collection+"/items"),typeof r.limit=="number"&&o.searchParams.set("limit",r.limit),Array.isArray(t)&&t.length===4&&(i=t.join(",")),i&&(o.searchParams.set("bbox",t),typeof r.bboxCrs=="string"&&r.bboxCrs!==""&&o.searchParams.set("bbox-crs",r.bboxCrs)),typeof r.crs=="string"&&o.searchParams.set("crs",r.crs),typeof r.datetime=="string"&&r.datetime!==""&&o.searchParams.set("datetime",r.datetime),typeof r.params=="object"&&Object.keys(r.params).length&&Object.entries(r.params).forEach(([a,s])=>{o.searchParams.set(a,s)}),o}function d_(r,e){const t=new Cs;let n=null;function i(o,a,s,l,c){if(e.doNotLoadInitially){dl(n,[],Zi,l,c,e);return}const u=e.loadingStrategy===Yi?o:e.loadingParams.bbox,d=Yd(r,{...e.loadingParams,bbox:u});of(d,n,{onErrorFn:Zi,success:l,failure:c},e)}return n=wd(i,e.loadingStrategy,t),e.beforeLoading&&n.once("featuresloadstart",()=>e.beforeLoading()),r.clusterDistance?_d(n,r.clusterDistance,e.clusterGeometryFunction):n}function ku(r,e={}){e.loadingStrategy||(e.loadingStrategy=Yi);const t=d_(r,e);return r.renderer==="webgl"&&t.once("featuresloadend",n=>{to(n?.features,r.styleId,r.excludeTypesFromParsing,r.isPointLayer)}),t}function h_(r={},{layerParams:e={},options:t={}}={}){let n,i;return e.renderer==="webgl"?(i=ku({...r,renderer:e.renderer,styleId:e.styleId,excludeTypesFromParsing:e.excludeTypesFromParsing,isPointLayer:e.isPointLayer},t),n=Qs({...r,...e,source:i}),n):(i=ku(r,t),n=new Yr(Object.assign({source:i,id:r.id},e)),t.style?n.setStyle(t.style):r.style&&n.setStyle(r.style),n)}function p_(r,e){const t=Yd(r,r.version);fetch(t,e).then(n=>n.text()).then(n=>{e.addFeatures(e.getFormat().readFeatures(n))}).catch(n=>{console.error(n)})}const g_={createLayer:h_,createLayerSource:ku,createUrl:Yd,loadFeaturesManually:p_};function m_({backgroundImage:r,target:e}={}){const t=document.getElementById(e||sr.target);if(t){const n=`url(${typeof r=="string"?r:sr.backgroundImage})`;t.style.backgroundImage=n}}function f_({url:r,typ:e,capabilitiesUrl:t,...n}){const i=[];if(t)i.push(t);else if(e==="OAF")i.push(r);else if(e==="Entities3D")n.entities.forEach(o=>o.url?i.push(o.url):null);else if(e==="TileSet3D"||e==="Terrain3D")i.push(r);else if(e==="GeoJSON"){if(!r&&n.features)return Promise.resolve(200);r&&i.push(r)}else if(e==="VectorTile")i.push(r.replaceAll(/\{[xyz]\}/ig,"0"));else if(e==="WMTS"){const o=(r?[r]:n.urls).map(a=>a.replace(/\{Style\}/ig,n.style).replace(/\{TileMatrixSet\}/ig,n.tileMatrixSet).replaceAll(/\{(TileMatrix|TileRow|TileCol)\}/ig,"0"));i.push(...o)}else r&&i.push(`${r}?service=${e}&request=GetCapabilities`);return i.length?Promise.allSettled(i.map(o=>new Promise(a=>fetch(o,{method:"HEAD"}).then(({status:s})=>a(s)).catch(()=>a(900))))).then(o=>Math.max(...o.map(({value:a})=>a))):Promise.resolve(null)}const y_=`@charset "UTF-8";html{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;scroll-behavior:smooth;-webkit-text-size-adjust:100%;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body,[data-kern-theme=dark],.kern-dark,[data-kern-theme=light],.kern-light{background-color:var(--kern-color-layout-background-default)}body:has(.kern-dialog[open]){overflow:hidden}*:not(i){font-family:var(--kern-typography-font-family-default)}area[href]:not([tabindex="-1"]):focus,iframe:not([tabindex="-1"]):focus,[tabindex]:not([tabindex="-1"]):focus,[contentEditable=true]:not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}area[href]:not([tabindex="-1"]):focus:focus-visible,iframe:not([tabindex="-1"]):focus:focus-visible,[tabindex]:not([tabindex="-1"]):focus:focus-visible,[contentEditable=true]:not([tabindex="-1"]):focus:focus-visible{outline:0}.kern-sr-only{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only:not(caption){position:absolute!important}.kern-sr-only-mobile{display:inline}@media (max-width: 767px){.kern-sr-only-mobile{width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.kern-sr-only-mobile:not(caption){position:absolute!important}}.kern-error{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;gap:var(--kern-metric-space-small, 8px);align-items:flex-start;align-self:stretch}.kern-error .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09);margin:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-number{display:flex;width:28px;min-width:28px;height:28px;padding:2px 0;justify-content:center;align-items:center;border-radius:var(--kern-metric-border-radius-circle, 50%);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-layout-text-default, #171A2B);color:var(--kern-color-layout-text-default, #171A2B)}.kern-icon{display:inline-block;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--small{width:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-icon--default{width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-icon--large{width:var(--kern-metric-dimension-large, 32px);min-width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-icon--x-large{width:var(--kern-metric-dimension-x-large, 48px);min-width:var(--kern-metric-dimension-x-large, 48px);height:var(--kern-metric-dimension-x-large, 48px);min-height:var(--kern-metric-dimension-x-large, 48px)}.kern-icon--add{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M440-440H240q-17 0-28.5-11.5T200-480q0-17 11.5-28.5T240-520h200v-200q0-17 11.5-28.5T480-760q17 0 28.5 11.5T520-720v200h200q17 0 28.5 11.5T760-480q0 17-11.5 28.5T720-440H520v200q0 17-11.5 28.5T480-200q-17 0-28.5-11.5T440-240v-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--add{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-down{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-down{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-up{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-up{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-forward{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M647-440H200q-17 0-28.5-11.5T160-480q0-17 11.5-28.5T200-520h447L451-716q-12-12-11.5-28t12.5-28q12-11 28-11.5t28 11.5l264 264q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L508-188q-11 11-27.5 11T452-188q-12-12-12-28.5t12-28.5l195-195Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-forward{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--arrow-back{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-440 196 196q12 12 11.5 28T508-188q-12 11-28 11.5T452-188L188-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l264-264q11-11 27.5-11t28.5 11q12 12 12 28.5T508-715L313-520h447q17 0 28.5 11.5T800-480q0 17-11.5 28.5T760-440H313Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--arrow-back{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--autorenew{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-478q0 16 2 31.5t7 30.5q5 17-1 32.5T227-361q-16 8-31.5 1.5T175-383q-8-23-11.5-47t-3.5-48q0-134 93-228t227-94h7l-36-36q-11-11-11-28t11-28q11-11 28-11t28 11l104 104q12 12 12 28t-12 28L507-628q-11 11-28 11t-28-11q-11-11-11-28t11-28l36-36h-7q-100 0-170 70.5T240-478Zm480-4q0-16-2-31.5t-7-30.5q-5-17 1-32.5t21-22.5q16-8 31.5-1.5T785-577q8 23 11.5 47t3.5 48q0 134-93 228t-227 94h-7l36 36q11 11 11 28t-11 28q-11 11-28 11t-28-11L349-172q-12-12-12-28t12-28l104-104q11-11 28-11t28 11q11 11 11 28t-11 28l-36 36h7q100 0 170-70.5T720-482Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--autorenew{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--calendar-today{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--calendar-today{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--check{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--check{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--checklist{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--checklist{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--chevron-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--chevron-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--close{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--close{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--content-copy{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360ZM200-80q-33 0-56.5-23.5T120-160v-520q0-17 11.5-28.5T160-720q17 0 28.5 11.5T200-680v520h400q17 0 28.5 11.5T640-120q0 17-11.5 28.5T600-80H200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--content-copy{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--danger{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-79q-16 0-30.5-6T423-102L102-423q-11-12-17-26.5T79-480q0-16 6-31t17-26l321-321q12-12 26.5-17.5T480-881q16 0 31 5.5t26 17.5l321 321q12 11 17.5 26t5.5 31q0 16-5.5 30.5T858-423L537-102q-11 11-26 17t-31 6Zm0-361q17 0 28.5-11.5T520-480v-160q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v160q0 17 11.5 28.5T480-440Zm0 120q17 0 28.5-11.5T520-360q0-17-11.5-28.5T480-400q-17 0-28.5 11.5T440-360q0 17 11.5 28.5T480-320Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--delete{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm120-160q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--delete{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--download{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--download{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--draft{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h287q16 0 30.5 6t25.5 17l194 194q11 11 17 25.5t6 30.5v447q0 33-23.5 56.5T720-80H240Zm280-560q0 17 11.5 28.5T560-600h160L520-800v160Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--draft{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--drive-folder-upload{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm320-120q17 0 28.5-11.5T520-320v-128l36 36q11 11 28 11t28-11q11-11 11-28t-11-28L508-572q-12-12-28-12t-28 12L348-468q-11 11-11 28t11 28q11 11 28 11t28-11l36-36v128q0 17 11.5 28.5T480-280Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--drive-folder-upload{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--easy-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M120-274v-286q0-32 23.5-54t55.5-20q79 12 150.5 46.5T480-498q59-55 130.5-89.5T761-634q32-2 55.5 20t23.5 54v286q0 32-21 54.5T766-195q-64 10-124 33t-112 61q-11 9-23.5 13.5T480-83q-14 0-26.5-4.5T430-101q-52-38-112-61t-124-33q-32-2-53-24.5T120-274Zm360-326q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--easy-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--edit{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-120q-17 0-28.5-11.5T120-160v-97q0-16 6-30.5t17-25.5l505-504q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L313-143q-11 11-25.5 17t-30.5 6h-97Zm544-528 56-56-56-56-56 56 56 56Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--edit{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--home{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--home{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--help{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm2 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Zm4-172q25 0 43.5 16t18.5 40q0 22-13.5 39T502-525q-23 20-40.5 44T444-427q0 14 10.5 23.5T479-394q15 0 25.5-10t13.5-25q4-21 18-37.5t30-31.5q23-22 39.5-48t16.5-58q0-51-41.5-83.5T484-720q-38 0-72.5 16T359-655q-7 12-4.5 25.5T368-609q14 8 29 5t25-17q11-15 27.5-23t34.5-8Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--help{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--info{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-280q17 0 28.5-11.5T520-320v-160q0-17-11.5-28.5T480-520q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm0-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-left{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-left{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--keyboard-double-arrow-right{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M383-480 228-636q-11-11-11.5-27.5T228-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L284-268q-11 11-27.5 11.5T228-268q-11-11-11-28t11-28l155-156Zm264 0L492-636q-11-11-11.5-27.5T492-692q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L548-268q-11 11-27.5 11.5T492-268q-11-11-11-28t11-28l155-156Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--keyboard-double-arrow-right{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--logout{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--logout{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--mail{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-287q5 0 10.5-1.5T501-453l283-177q8-5 12-12.5t4-16.5q0-20-17-30t-35 1L480-520 212-688q-18-11-35-.5T160-659q0 10 4 17.5t12 11.5l283 177q5 3 10.5 4.5T480-447Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--mail{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--more-vert{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--more-vert{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--open-in-new{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h560v-240q0-17 11.5-28.5T800-480q17 0 28.5 11.5T840-440v240q0 33-23.5 56.5T760-120H200Zm560-584L416-360q-11 11-28 11t-28-11q-11-11-11-28t11-28l344-344H600q-17 0-28.5-11.5T560-800q0-17 11.5-28.5T600-840h200q17 0 28.5 11.5T840-800v200q0 17-11.5 28.5T800-560q-17 0-28.5-11.5T760-600v-104Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--open-in-new{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--question-mark{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M584-637q0-43-28.5-69T480-732q-29 0-52.5 12.5T387-683q-16 23-43.5 26.5T296-671q-14-13-15.5-32t9.5-36q32-48 81.5-74.5T480-840q97 0 157.5 55T698-641q0 45-19 81t-70 85q-37 35-50 54.5T542-376q-4 24-20.5 40T482-320q-23 0-39.5-15.5T426-374q0-39 17-71.5t57-68.5q51-45 67.5-69.5T584-637ZM480-80q-33 0-56.5-23.5T400-160q0-33 23.5-56.5T480-240q33 0 56.5 23.5T560-160q0 33-23.5 56.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--question-mark{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--search{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M380-320q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l224 224q11 11 11 28t-11 28q-11 11-28 11t-28-11L532-372q-30 24-69 38t-83 14Zm0-80q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--search{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--sign-language{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M200-40q-17 0-28.5-11.5T160-80q0-17 11.5-28.5T200-120h160v-40H120q-17 0-28.5-11.5T80-200q0-17 11.5-28.5T120-240h240v-40H80q-17 0-28.5-11.5T40-320q0-17 11.5-28.5T80-360h280v-40H160q-17 0-28.5-11.5T120-440q0-17 11.5-28.5T160-480h244l-34-60q-12-21-9.5-44.5T380-625l4-3q11-11 25.5-12t26.5 8l236 176q23 17 35.5 42t12.5 54v200q0 50-35 85t-85 35H200Zm593-374q-10 0-18-5.5T763-436q-9-20-23-37t-32-31L524-641 303-807q-14-10-16-26t8-30q10-14 26-16.5t30 7.5l224 169 24-33-160-120q-14-10-16.5-26t7.5-30q10-14 26-16t30 8l196 146 9-69q3-24 19-41t39-21l6-1q15-2 27 6t17 22l84 283q8 27 3 55t-22 51l-48 64q-5 6-10.5 8.5T793-414ZM248-599q10-14 25.5-16t29.5 8q14 10 16.5 25.5T312-552q-10 14-26 16.5t-30-7.5q-14-10-16-26t8-30Zm15-88q-14-10-16-26t8-30q10-14 26-16t30 8l32 25q15 12 15.5 27t-8.5 27q-9 12-24 16t-30-7l-33-24Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--sign-language{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--success{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m424-408-86-86q-11-11-28-11t-28 11q-11 11-11 28t11 28l114 114q12 12 28 12t28-12l226-226q11-11 11-28t-11-28q-11-11-28-11t-28 11L424-408Zm56 328q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-134 0-244.5-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q64-118 174.5-190T480-800q134 0 244.5 72T899-538q5 9 7.5 18.5T909-500q0 10-2.5 19.5T899-462q-64 118-174.5 190T480-200Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--visibility-off{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M764-84 624-222q-35 11-71 16.5t-73 5.5q-134 0-245-72T61-462q-5-9-7.5-18.5T51-500q0-10 2.5-19.5T61-538q22-39 47-76t58-66l-83-84q-11-11-11-27.5T84-820q11-11 28-11t28 11l680 680q11 11 11.5 27.5T820-84q-11 11-28 11t-28-11ZM480-320q11 0 21-1t20-4L305-541q-3 10-4 20t-1 21q0 75 52.5 127.5T480-320Zm0-480q134 0 245.5 72.5T900-537q5 8 7.5 17.5T910-500q0 10-2 19.5t-7 17.5q-19 37-42.5 70T806-331q-14 14-33 13t-33-15l-80-80q-7-7-9-16.5t1-19.5q4-13 6-25t2-26q0-75-52.5-127.5T480-680q-14 0-26 2t-25 6q-10 3-20 1t-17-9l-33-33q-19-19-12.5-44t31.5-32q25-5 50.5-8t51.5-3Zm79 226q11 13 18.5 28.5T587-513q1 8-6 11t-13-3l-82-82q-6-6-2.5-13t11.5-7q19 2 35 10.5t29 22.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--visibility-off{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--warning{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm371-120q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--brightness-medium{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M346-160H240q-33 0-56.5-23.5T160-240v-106l-77-78q-11-12-17-26.5T60-480q0-15 6-29.5T83-536l77-78v-106q0-33 23.5-56.5T240-800h106l78-77q12-11 26.5-17t29.5-6q15 0 29.5 6t26.5 17l78 77h106q33 0 56.5 23.5T800-720v106l77 78q11 12 17 26.5t6 29.5q0 15-6 29.5T877-424l-77 78v106q0 33-23.5 56.5T720-160H614l-78 77q-12 11-26.5 17T480-60q-15 0-29.5-6T424-83l-78-77Zm34-80 100 100 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140Zm100-40q83 0 141.5-58.5T680-480q0-83-58.5-141.5T480-680v400Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--brightness-medium{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--light-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-440q-17 0-28.5-11.5T40-480q0-17 11.5-28.5T80-520h80q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440H80Zm720 0q-17 0-28.5-11.5T760-480q0-17 11.5-28.5T800-520h80q17 0 28.5 11.5T920-480q0 17-11.5 28.5T880-440h-80ZM480-760q-17 0-28.5-11.5T440-800v-80q0-17 11.5-28.5T480-920q17 0 28.5 11.5T520-880v80q0 17-11.5 28.5T480-760Zm0 720q-17 0-28.5-11.5T440-80v-80q0-17 11.5-28.5T480-200q17 0 28.5 11.5T520-160v80q0 17-11.5 28.5T480-40ZM226-678l-43-42q-12-11-11.5-28t11.5-29q12-12 29-12t28 12l42 43q11 12 11 28t-11 28q-11 12-27.5 11.5T226-678Zm494 495-42-43q-11-12-11-28.5t11-27.5q11-12 27.5-11.5T734-282l43 42q12 11 11.5 28T777-183q-12 12-29 12t-28-12Zm-42-495q-12-11-11.5-27.5T678-734l42-43q11-12 28-11.5t29 11.5q12 12 12 29t-12 28l-43 42q-12 11-28 11t-28-11ZM183-183q-12-12-12-29t12-28l43-42q12-11 28.5-11t27.5 11q12 11 11.5 27.5T282-226l-42 43q-11 12-28 11.5T183-183Zm297-297Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--light-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-icon--dark-mode{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-120q-151 0-255.5-104.5T120-480q0-138 90-239.5T440-838q13-2 23 3.5t16 14.5q6 9 6.5 21t-7.5 23q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q11-7 22.5-6.5T819-479q10 5 15.5 15t3.5 24q-14 138-117.5 229T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z'/%3E%3C/svg%3E");background-color:var(--kern-color-layout-text-default, #171a2b)}@media (forced-colors: active){.kern-icon--dark-mode{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;border-radius:var(--kern-metric-border-radius-none, 0px);border-top:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3)}.kern-accordion+.kern-accordion{margin-top:calc(var(--kern-metric-border-width-light) * -1)}.kern-accordion[open]>summary:after{-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-528 324-372q-11 11-28 11t-28-11q-11-11-11-28t11-28l184-184q12-12 28-12t28 12l184 184q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-528Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion[open]>summary:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header{display:flex;justify-content:space-between;align-items:center;gap:var(--kern-metric-space-small, 8px);flex:1 0 0;padding:var(--kern-metric-space-default, 16px) var(--kern-metric-space-x-small, 4px);list-style-type:none}.kern-accordion__header::-webkit-details-marker,.kern-accordion__header::marker{display:none}.kern-accordion__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-accordion__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-accordion__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-accordion__header:not([tabindex="-1"]):focus-visible{position:relative;z-index:1;outline-color:transparent;box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-accordion__header:not([tabindex="-1"]):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-accordion__header .kern-title{color:var(--kern-color-action-default, #1A3DA5);flex:1;overflow-wrap:break-word}.kern-accordion__body{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-small, 4px)}.kern-alert{border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-default, 2px) solid transparent}.kern-alert--info{border-color:var(--kern-color-feedback-info, #006490);background-color:var(--kern-color-feedback-info-background, #E0F4FC)}.kern-alert--info .kern-icon--info{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-alert--info .kern-icon--info{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--success{border-color:var(--kern-color-feedback-success, #006B51);background-color:var(--kern-color-feedback-success-background, #DEF6ED)}.kern-alert--success .kern-icon--success{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-alert--success .kern-icon--success{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--warning{border-color:var(--kern-color-feedback-warning, #8A4F00);background-color:var(--kern-color-feedback-warning-background, #FFEFD0)}.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-alert--warning .kern-icon--warning{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert--danger{border-color:var(--kern-color-feedback-danger, #BD0F09);background-color:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-alert--danger .kern-icon--danger{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-alert__header{display:flex;padding:var(--kern-metric-space-default, 16px);align-items:center}.kern-alert__header .kern-icon{width:var(--kern-component-alert-icon-size, 32px);min-width:var(--kern-component-alert-icon-size, 32px);height:var(--kern-component-alert-icon-size, 32px);min-height:var(--kern-component-alert-icon-size, 32px)}.kern-alert .kern-title{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}.kern-alert__body{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-large, 24px);background:var(--kern-color-layout-background-default, #FFF);display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px)}.kern-badge{display:inline-flex;align-items:center;padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-default, 16px) var(--kern-metric-space-2x-small, 2px) var(--kern-component-badge-space-left, 12px);border-radius:var(--kern-metric-border-radius-default, 4px);min-height:var(--kern-metric-dimension-large, 32px)}.kern-badge .kern-label{padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-small, 4px)}.kern-badge .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px)}.kern-badge--info{background:var(--kern-color-feedback-info-background, #E0F4FC);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-info, #006490)}.kern-badge--info .kern-icon{background-color:var(--kern-color-feedback-info, #006490)}@media (forced-colors: active){.kern-badge--info .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--success{background:var(--kern-color-feedback-success-background, #DEF6ED);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-success, #006B51)}.kern-badge--success .kern-icon{background-color:var(--kern-color-feedback-success, #006B51)}@media (forced-colors: active){.kern-badge--success .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--warning{background:var(--kern-color-feedback-warning-background, #FFEFD0);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-warning, #8A4F00)}.kern-badge--warning .kern-icon{background-color:var(--kern-color-feedback-warning, #8A4F00)}@media (forced-colors: active){.kern-badge--warning .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-badge--danger{background:var(--kern-color-feedback-danger-background, #FEECE8);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-feedback-danger, #BD0F09)}.kern-badge--danger .kern-icon{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-badge--danger .kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn{display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);position:relative}.kern-btn:has(.kern-sr-only){width:var(--kern-metric-dimension-x-large, 48px)}@media (max-width: 767px){.kern-btn:has(.kern-sr-only-mobile){width:var(--kern-metric-dimension-x-large, 48px)}}.kern-btn .kern-label{padding:var(--kern-metric-space-small, 8px)}.kern-btn:not(:disabled):hover,.kern-btn:not([aria-disabled=true]):hover{cursor:pointer}.kern-btn:not([disabled]):not([tabindex="-1"]):focus,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-btn:not([disabled]):not([tabindex="-1"]):focus:focus-visible,.kern-btn:not([aria-disabled=true]):not([tabindex="-1"]):focus:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-btn:disabled,.kern-btn[disabled],.kern-btn[aria-disabled=true]{cursor:not-allowed!important}.kern-btn--block{width:100%}.kern-btn--primary{background:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--primary{border:3px solid transparent}}.kern-btn--primary .kern-label{color:var(--kern-color-action-on-default, #FFF)}.kern-btn--primary>.kern-icon{background-color:var(--kern-color-action-on-default, #FFF)}@media (forced-colors: active){.kern-btn--primary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--primary:not(:disabled):hover,.kern-btn--primary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-shade-hover)}.kern-btn--primary:active{background:var(--kern-color-action-state-indicator-shade-active)}.kern-btn--primary:disabled,.kern-btn--primary[disabled],.kern-btn--primary[aria-disabled=true]{background:var(--action-default, #1A3DA5);opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--secondary{border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);background:transparent}.kern-btn--secondary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--secondary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--secondary:not(:disabled):hover,.kern-btn--secondary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--secondary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--secondary:disabled,.kern-btn--secondary[disabled],.kern-btn--secondary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}@media (forced-colors: active){.kern-btn--secondary{border:1px solid transparent!important}}.kern-btn--tertiary{background:transparent}.kern-btn--tertiary .kern-label{color:var(--kern-color-action-default, #1A3DA5)}.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-btn--tertiary>.kern-icon{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-btn--tertiary:not(:disabled):hover,.kern-btn--tertiary:not([aria-disabled=true]):hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-btn--tertiary:active{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-btn--tertiary:disabled,.kern-btn--tertiary[disabled],.kern-btn--tertiary[aria-disabled=true]{opacity:var(--action-state-opacity-disabled, .4)}.kern-btn--tertiary .kern-label{text-decoration:underline}.kern-btn--tertiary:hover .kern-label{text-decoration-thickness:var(--kern-3, 3px)}.kern-btn--tertiary:hover:disabled .kern-label,.kern-btn--tertiary:hover[disabled] .kern-label,.kern-btn--tertiary:hover[aria-disabled=true] .kern-label{text-decoration-thickness:var(--kern-metric-border-width-light, 1px)}.kern-btn--tertiary:has(.kern-icon) .kern-label{text-decoration:none}.kern-card{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex-shrink:0;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);height:100%}.kern-card--hug,.kern-card--hug .kern-card__container{height:auto}.kern-card__media{display:flex;padding:0px var(--kern-metric-space-none, 0px);justify-content:center;align-items:center;align-self:stretch}.kern-card__media *{width:100%;overflow:hidden;border-top-left-radius:var(--kern-metric-border-radius-default, 4px);border-top-right-radius:var(--kern-metric-border-radius-default, 4px)}.kern-card__container{display:flex;padding:var(--kern-metric-space-large, 24px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;height:100%}.kern-card__header{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-card__body{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px);align-self:stretch;flex:1 1 auto}.kern-card__footer{display:flex;flex-direction:row;flex-wrap:wrap;padding-top:var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch}.kern-card__footer .kern-btn{flex:1 1 0;min-width:fit-content}.kern-card--active,.kern-card--interactive{position:relative}.kern-card--active .kern-link--stretched,.kern-card--interactive .kern-link--stretched{color:var(--kern-color-action-default, #1A3DA5);letter-spacing:var(--kern-metric-space-none, 0px);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-2, 2px);text-underline-position:from-font}.kern-card--active .kern-link--stretched:after,.kern-card--interactive .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-card--active .kern-link--stretched:hover,.kern-card--interactive .kern-link--stretched:hover{text-decoration-thickness:3px}.kern-card--active .kern-link--stretched:hover:after,.kern-card--interactive .kern-link--stretched:hover:after{background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-card--active .kern-link--stretched:active:after,.kern-card--interactive .kern-link--stretched:active:after{background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-card--active .kern-link--stretched:focus-visible,.kern-card--interactive .kern-link--stretched:focus-visible{outline-color:transparent}.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-card--active .kern-link--stretched:focus-visible:after,.kern-card--interactive .kern-link--stretched:focus-visible:after{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-card--small .kern-card__container{padding:var(--kern-metric-space-default, 16px);gap:var(--kern-metric-space-small, 8px)}.kern-card--small .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--small .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-card--large .kern-card__container{padding:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-large, 24px)}.kern-card--large .kern-card__container .kern-card__header .kern-preline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-card--large .kern-card__container .kern-card__header .kern-subline{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-card--large .kern-card__container .kern-card__body .kern-body{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-form-check{display:grid;grid-template-columns:var(--kern-metric-dimension-large, 32px) auto;align-items:start;padding-right:var(--kern-metric-space-default, 16px)}.kern-form-check__radio,.kern-form-check__checkbox{width:var(--kern-metric-dimension-large, 32px);height:var(--kern-metric-dimension-large, 32px);border:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);margin:var(--kern-metric-space-none, 0px);-webkit-appearance:none;-moz-appearance:none;appearance:none}.kern-form-check__radio:hover,.kern-form-check__checkbox:hover{border:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-default, 2px);outline:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:focus,.kern-form-check__radio:focus-visible,.kern-form-check__checkbox:focus,.kern-form-check__checkbox:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:focus:hover,.kern-form-check__radio:focus-visible:hover,.kern-form-check__checkbox:focus:hover,.kern-form-check__checkbox:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171a2b);outline-offset:var(--kern-metric-border-width-bold, 4px);outline-color:transparent;border:var(--kern-metric-border-width-none, 0px);forced-color-adjust:none}@media (forced-colors: active){.kern-form-check__radio:checked:focus,.kern-form-check__radio:checked:focus-visible,.kern-form-check__checkbox:checked:focus,.kern-form-check__checkbox:checked:focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}.kern-form-check__radio:checked:focus:hover,.kern-form-check__radio:checked:focus-visible:hover,.kern-form-check__checkbox:checked:focus:hover,.kern-form-check__checkbox:checked:focus-visible:hover{border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09);outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:focus,.kern-form-check__radio--error:focus-visible,.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #bd0f09)!important;outline:var(--kern-metric-border-width-none, 0px)}@media (forced-colors: active){.kern-form-check__radio--error:checked:focus,.kern-form-check__radio--error:checked:focus-visible,.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-layout-background-inverted)!important;background-color:var(--kern-color-layout-background-default)!important}}.kern-form-check__radio[disabled],.kern-form-check__radio[aria-disabled=true],.kern-form-check__checkbox[disabled],.kern-form-check__checkbox[aria-disabled=true]{outline:0;opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-check__radio[disabled]:checked,.kern-form-check__radio[aria-disabled=true]:checked,.kern-form-check__checkbox[disabled]:checked,.kern-form-check__checkbox[aria-disabled=true]:checked{outline:var(--kern-metric-border-width-none, 0px)}.kern-form-check__radio[disabled]:hover,.kern-form-check__radio[aria-disabled=true]:hover,.kern-form-check__checkbox[disabled]:hover,.kern-form-check__checkbox[aria-disabled=true]:hover{cursor:default}.kern-form-check__radio[disabled]~.kern-label,.kern-form-check__radio[aria-disabled=true]~.kern-label,.kern-form-check__checkbox[disabled]~.kern-label,.kern-form-check__checkbox[aria-disabled=true]~.kern-label{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:default}.kern-form-check .kern-label{font-weight:var(--kern-typography-font-weight-regular, 400);padding-top:var(--kern-metric-space-x-small, 4px);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-check .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-check .kern-error{grid-column:span 2;padding-top:var(--kern-metric-space-small, 8px)}.kern-form-check .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-check--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #bd0f09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-check--error .kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #bd0f09)!important;outline-color:var(--kern-color-feedback-danger, #bd0f09)!important;background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-check--error .kern-form-check__radio:before{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-check__checkbox{border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-form-check__checkbox:before{content:""}.kern-form-check__checkbox:focus:before,.kern-form-check__checkbox:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox:checked:before{display:block;position:relative;left:var(--kern-3, 3px);top:var(--kern-8, 8px);transform:rotate(47deg) translate(-50%,-50%);background-color:transparent;border-width:var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-border-width-default, 2px) var(--kern-metric-space-none, 0px);border-color:var(--kern-color-form-input-border, #171A2B);border-style:solid;height:var(--kern-metric-dimension-x-small, 16px);width:var(--kern-metric-dimension-2x-small, 8px);margin:4px}.kern-form-check__checkbox:checked:hover:before{margin:var(--kern-metric-space-2x-small, 2px)}.kern-form-check__checkbox:checked:focus:before,.kern-form-check__checkbox:checked:focus-visible:before{margin:var(--kern-6, 6px)}.kern-form-check__checkbox--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__checkbox--error:checked:before{border-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-check__checkbox--error:checked:focus,.kern-form-check__checkbox--error:checked:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-form-check__checkbox--error:focus,.kern-form-check__checkbox--error:focus-visible{box-shadow:0 0 0 var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09);outline:var(--kern-metric-border-width-none, 0px);border:var(--kern-metric-border-width-none, 0px)}.kern-dialog{max-width:var(--kern-small, 768px);border-radius:var(--kern-metric-border-radius-large, 8px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:var(--kern-color-layout-background-default, #FFF);padding:var(--kern-metric-space-none, 0px)}.kern-dialog__header{display:flex;justify-content:space-between;min-height:var(--kern-metric-dimension-3x-large, 64px);padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-x-large, 32px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog .kern-title{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);flex:1 0 0}.kern-dialog__body{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px)}.kern-dialog__footer{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-end;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);padding:var(--kern-metric-space-large, 24px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px) var(--kern-metric-space-x-large, 32px);border-top:1px solid var(--kern-color-layout-border, #A5AAC3)}@media (max-width: 576px){.kern-dialog__footer{flex-direction:column}}.kern-dialog__footer .kern-btn{flex-grow:1;align-self:stretch}.kern-dialog__footer .kern-btn+.kern-btn{margin-left:var(--kern-metric-space-none, 0px)}.kern-dialog::backdrop{background:var(--kern-color-layout-background-overlay)}@media (max-width: 768px){.kern-dialog{overflow-y:auto;min-width:100%;max-width:100%;margin-bottom:var(--kern-metric-space-none, 0px);border-radius:var(--border-radius-large, 8px) var(--kern-metric-border-radius-large, 8px) var(--kern-metric-border-radius-none, 0px) var(--kern-metric-border-radius-none, 0px)}}.kern-description-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-description-list p{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}.kern-description-list--col .kern-description-list-item{gap:var(--kern-metric-border-width-none, 0px)}.kern-description-list--col .kern-description-list-item__key,.kern-description-list--col .kern-description-list-item__value{width:100%;max-width:100%}.kern-description-list-item{display:flex;padding:var(--kern-metric-space-none, 0px);align-items:flex-start;align-content:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;flex-wrap:wrap;flex-direction:column;word-break:break-word}@media (min-width: 768px){.kern-description-list-item{flex-direction:row;gap:var(--kern-metric-space-x-large, 32px)}}.kern-description-list-item__key{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);font-weight:var(--kern-typography-font-weight-semi-bold, 600)}@media (min-width: 768px){.kern-description-list-item__key{width:30%;max-width:var(--kern-component-description-list-term-max-width, 352px)}}.kern-description-list-item__value{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-description-list-item__value ul{list-style:none;padding-left:var(--kern-metric-border-width-none, 0px)}@media (min-width: 768px){.kern-description-list-item__value{width:calc(70% - var(--kern-metric-space-x-large, 32px))}}.kern-divider{border:var(--kern-metric-border-radius-none, 0px);margin:var(--kern-metric-space-none, 0px);height:var(--kern-metric-border-width-light, 1px);background-color:var(--kern-color-layout-border, #A5AAC3)}@media (forced-colors: active){.kern-divider{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown{position:relative}.kern-dropdown[open] .kern-dropdown__header:before{content:"";width:100vw;height:100vh;position:fixed;top:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);cursor:auto}.kern-dropdown__header{cursor:pointer;list-style-type:none;display:inline-flex;min-height:var(--kern-metric-dimension-x-large, 48px);justify-content:center;align-items:center;vertical-align:top;gap:var(--kern-metric-space-none, 0px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__header:after{content:"";width:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");-webkit-mask-size:cover;mask-size:cover;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:var(--kern-color-action-default, #1A3DA5)}@media (forced-colors: active){.kern-dropdown__header:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__header:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__header .kern-label{color:var(--kern-color-action-default, #1A3DA5);padding:var(--kern-metric-space-small, 8px)}.kern-dropdown__body{display:flex;z-index:99;position:absolute;left:0;flex-direction:column;border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);margin:2px;white-space:nowrap;background:var(--kern-color-layout-background-default);border-radius:var(--kern-metric-border-radius-default)}.kern-dropdown__body .kern-list{padding:0}.kern-dropdown__body .kern-list li{margin-bottom:var(--kern-metric-space-none, 0px);padding:.25rem 1rem .25rem 0;list-style:none;position:relative}.kern-dropdown__body .kern-list li:hover{background:var(--kern-color-action-state-indicator-tint-hover-opacity);cursor:pointer}.kern-dropdown__body .kern-list li .kern-link{text-decoration:none}.kern-dropdown__body .kern-list li:has(input:checked):before{content:"";-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default, #1A3DA5);position:absolute;top:8px;left:8px;width:24px;height:24px}@media (forced-colors: active){.kern-dropdown__body .kern-list li:has(input:checked):before{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-dropdown__body .kern-list li label{width:100%;display:block;padding-left:2.5rem;color:var(--kern-color-action-default, #1A3DA5)}.kern-dropdown__body .kern-list li label input{all:unset}.kern-fieldset{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px)}.kern-fieldset--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-fieldset legend{float:left}.kern-fieldset legend.kern-label{margin-bottom:var(--kern-metric-space-small, 8px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px)}.kern-fieldset:has(.kern-hint) legend.kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-fieldset .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-fieldset .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-fieldset .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-fieldset__body{width:100%;display:flex;flex-direction:column;gap:var(--kern-metric-space-default, 16px)}.kern-fieldset__body--horizontal{flex-direction:row;flex-wrap:wrap}.kern-fieldset .kern-error{margin-top:var(--kern-metric-space-small, 8px)}.kern-fieldset .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input{display:flex;padding:var(--kern-metric-space-none, 0px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(input[disabled],textarea[disabled],input[aria-disabled=true],textarea[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input .kern-label{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-label:has(.kern-label__optional){display:flex;align-items:center;align-content:center;gap:var(--kern-metric-space-none, 0px) var(--kern-metric-space-small, 8px);align-self:stretch;flex-wrap:wrap}.kern-form-input .kern-label__optional{color:var(--kern-color-layout-text-muted, #404565);font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-form-input:has(.kern-hint) .kern-label{margin-bottom:var(--kern-metric-space-none, 0px)}.kern-form-input .kern-hint{margin-bottom:var(--kern-metric-space-small, 8px)}.kern-form-input__input{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);height:var(--kern-metric-dimension-x-large, 48px);align-items:center;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border:none;border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);-webkit-box-orient:vertical;-webkit-line-clamp:1;line-clamp:1;text-overflow:ellipsis}@media (forced-colors: active){.kern-form-input__input{border:1px solid transparent!important}}.kern-form-input__input:hover{border-width:var(--kern-metric-border-width-bold, 4px);padding-top:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B);background:var(--kern-color-form-input-background, #F7F7F9);border:none;padding-bottom:calc(var(--kern-metric-border-width-bold, 4px) - var(--kern-metric-border-width-default, 2px))}.kern-form-input__input:focus:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border-radius:var(--kern-metric-border-radius-none, 0px);border-bottom:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-layout-border, #A5AAC3);background:inherit;cursor:not-allowed}@media (forced-colors: active){.kern-form-input__input[readonly],.kern-form-input__input[readonly=readonly]{border:1px solid transparent!important}}.kern-form-input__input[readonly]:hover,.kern-form-input__input[readonly=readonly]:hover{padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input[readonly]:focus,.kern-form-input__input[readonly=readonly]:focus{border-radius:var(--kern-metric-border-radius-small, 2px);padding-top:var(--kern-metric-border-width-light, 1px);border-width:var(--kern-metric-border-width-none, 0)}.kern-form-input__input[disabled],.kern-form-input__input[disabled=disabled],.kern-form-input__input[aria-disabled=true]{opacity:var(--kern-color-action-state-opacity-disabled, .4);cursor:not-allowed}.kern-form-input__input[disabled]:hover,.kern-form-input__input[disabled=disabled]:hover,.kern-form-input__input[aria-disabled=true]:hover{border-width:var(--kern-metric-border-width-default, 2px);padding-top:var(--kern-metric-space-none, 0px)}.kern-form-input__input--error{border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8)}@media (forced-colors: active){.kern-form-input__input--error{border:1px solid transparent!important}}.kern-form-input__input--error:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09);background:var(--kern-color-feedback-danger-background, #FEECE8);border:none}.kern-form-input__input--width-2{max-width:var(--kern-metric-dimension-2x-large)}.kern-form-input__input--width-4{max-width:var(--kern-metric-dimension-4x-large)}.kern-form-input input[type=file].kern-form-input__input{order:4;display:flex;padding:var(--kern-metric-space-large, 24px);gap:16px var(--kern-metric-space-default, 16px);align-items:flex-start;align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);border:none;height:inherit}.kern-form-input input[type=file].kern-form-input__input:hover{outline:none;box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-form-input-border, #171A2B);cursor:pointer}@media (forced-colors: active){.kern-form-input input[type=file].kern-form-input__input:hover{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-layout-background-inverted);outline-offset:-4px}}.kern-form-input input[type=file].kern-form-input__input:focus{outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171A2B)}.kern-form-input input[type=file].kern-form-input__input:focus:hover{box-shadow:none}.kern-form-input input[type=file].kern-form-input__input[disabled],.kern-form-input input[type=file].kern-form-input__input[disabled=disabled],.kern-form-input input[type=file].kern-form-input__input[aria-disabled=true]{outline:var(--kern-metric-border-width-default, 2px) dashed var(--kern-color-form-input-border, #171A2B);box-shadow:none;cursor:not-allowed}.kern-form-input input[type=file].kern-form-input__input::file-selector-button{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);margin-right:var(--kern-metric-space-default, 16px);min-height:var(--kern-metric-dimension-x-large, 48px);padding:var(--kern-metric-space-none, 0px) var(--kern-metric-space-default, 16px);border:none;border-radius:var(--kern-metric-border-radius-default, 4px);border:var(--kern-metric-border-width-light, 1px) solid var(--kern-color-action-default, #1A3DA5);color:var(--kern-color-action-default, #1A3DA5);background:#1a3da500}.kern-form-input .kern-error{order:5;margin-top:var(--kern-metric-space-small, 8px)}.kern-form-input .kern-error .kern-icon{width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);min-width:var(--kern-metric-dimension-default, 24px);min-height:var(--kern-metric-dimension-default, 24px)}.kern-form-input--error{border-left:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-feedback-danger, #BD0F09);padding-left:var(--kern-metric-space-default, 16px)}.kern-form-input--error input[type=file].kern-form-input__input,.kern-form-input--error .kern-form-input__input[type=file]{outline-color:var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:hover,.kern-form-input--error .kern-form-input__input[type=file]:hover{background:var(--kern-color-feedback-danger-background, #FEECE8);box-shadow:inset var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-border-width-bold, 4px) var(--kern-color-feedback-danger, #BD0F09)}.kern-form-input--error input[type=file].kern-form-input__input:focus,.kern-form-input--error .kern-form-input__input[type=file]:focus{outline-color:var(--kern-color-feedback-danger, #BD0F09)}textarea{padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px)!important;min-height:var(--kern-metric-dimension-5x-large, 96px)}textarea.kern-form-input__input:hover{padding-top:var(--kern-metric-space-none, 0px)}input[type=checkbox],input[type=color],input[type=file],input[type=radio],input[type=range],input[type=file]::-webkit-file-upload-button,label,option,select{cursor:pointer}.kern-kopfzeile{background:var(--kern-color-layout-background-hued, #F7F7F9);padding:var(--kern-component-kopfzeile-padding, 5px) var(--kern-metric-space-none, 0px)}@media (forced-colors: active){.kern-kopfzeile{border-bottom:1px solid transparent}}.kern-kopfzeile__content{display:flex;padding:var(--kern-1, 1px) var(--kern-metric-space-none, 0px);align-items:center;gap:var(--kern-metric-space-small, 8px)}.kern-kopfzeile__flagge{display:flex;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-small, 20px);padding:var(--kern-metric-space-2x-small, 2px) var(--kern-metric-space-none, 0px)}.kern-kopfzeile__flagge svg{vertical-align:baseline;outline:var(--kern-1, 1px) solid #FFFFFF}.kern-kopfzeile__label{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-component-kopfzeile-font-family, "Fira Sans");font-style:normal;font-weight:400;font-size:var(--kern-component-kopfzeile-font-size, 16px);line-height:var(--kern-component-kopfzeile-line-height, 20px)}@media only screen and (max-width: 768px){.kern-kopfzeile__flagge{width:var(--kern-18, 18px);height:var(--kern-16, 16px)}.kern-kopfzeile__label{font-size:var(--kern-14, 14px);line-height:var(--kern-16, 16px)}.kern-kopfzeile .kern-container,.kern-kopfzeile .kern-container-fluid{padding-left:var(--kern-metric-space-small, 8px);padding-right:var(--kern-metric-space-small, 8px)}}.kern-loader{display:none;box-sizing:border-box;border-width:10px;border-style:solid;border-color:var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader-background) var(--kern-color-feedback-loader);width:var(--kern-metric-dimension-5x-large, 96px);height:var(--kern-metric-dimension-5x-large, 96px);border-radius:50%;animation:rotation 1.5s linear infinite;position:relative}@media (forced-colors: active){.kern-loader{border-color:var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-default) var(--kern-color-layout-background-inverted);forced-color-adjust:none;outline-color:transparent;box-shadow:0 0 0 1px var(--kern-color-layout-background-inverted),inset 0 0 0 1px var(--kern-color-layout-background-inverted)}}.kern-loader:before,.kern-loader:after{content:"";height:var(--semantic-size-xs, 10px);background:var(--kern-color-feedback-loader);position:absolute}.kern-loader:before{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);top:var(--kern-metric-space-2x-small, 2px);transform:rotate(-45deg)}.kern-loader:after{width:var(--kern-metric-border-radius-small, 2px);border-radius:var(--kern-metric-space-none, 0px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-border-radius-small, 2px) var(--kern-metric-space-none, 0px);left:var(--kern-7, 7px);bottom:var(--kern-metric-space-2x-small, 2px);transform:rotate(45deg)}.kern-loader--visible{display:block}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.kern-progress{display:flex;flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-small, 8px)}.kern-progress progress[value]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;width:100%;height:var(--kern-metric-dimension-2x-small, 8px);border-radius:var(--kern-metric-border-radius-small, 2px);background:var(--kern-color-feedback-loader-background, #DFE1EA);color:var(--kern-color-feedback-loader)}.kern-progress progress[value]::-webkit-progress-bar{background:var(--kern-color-feedback-loader-background, #DFE1EA);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-feedback-loader);border-radius:var(--kern-metric-border-radius-small, 2px)}@media (forced-colors: active){.kern-progress progress[value]{background-color:var(--kern-color-layout-background-default);border:1px solid var(--kern-color-layout-background-inverted);color:var(--kern-color-layout-background-inverted);forced-color-adjust:none}.kern-progress progress[value]::-webkit-progress-bar{background-color:var(--kern-color-layout-background-default)}.kern-progress progress[value]::-webkit-progress-value{background-color:var(--kern-color-layout-background-inverted)}.kern-progress progress[value]::-moz-progress-bar{background-color:var(--kern-color-layout-background-inverted)}}.kern-form-check__radio{display:flex;border-radius:100%}.kern-form-check__radio:before{border-radius:100%;content:"";margin:auto}.kern-form-check__radio:checked:before{background-color:var(--kern-color-form-input-border, #171A2B);height:var(--kern-12, 12px);width:var(--kern-12, 12px)}.kern-form-check__radio--error{border-color:var(--kern-color-feedback-danger, #BD0F09)!important;outline-color:var(--kern-color-feedback-danger, #BD0F09)!important;background:var(--kern-color-feedback-danger-background, #FEECE8)}.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-feedback-danger, #BD0F09)}@media (forced-colors: active){.kern-form-check__radio--error.kern-form-check__radio:checked:before{background-color:var(--kern-color-layout-background-inverted)!important}}.kern-form-input:has(select[disabled]),.kern-form-input:has(select[aria-disabled=true]){cursor:not-allowed}.kern-form-input:has(select[disabled]) .kern-label,.kern-form-input:has(select[aria-disabled=true]) .kern-label{cursor:not-allowed}.kern-form-input__select-wrapper:has(.kern-form-input__select--error){border-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):after{background-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper:has(.kern-form-input__select--error):hover{border-color:var(--kern-color-feedback-danger, #bd0f09)}.kern-form-input__select-wrapper{position:relative;display:flex;height:var(--kern-metric-dimension-x-large, 48px);gap:var(--kern-metric-space-none, 0px);align-self:stretch;border-radius:var(--kern-metric-border-radius-small, 2px);border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9)}@media (forced-colors: active){.kern-form-input__select-wrapper{border:1px solid transparent!important}}.kern-form-input__select-wrapper:has(select[disabled]),.kern-form-input__select-wrapper:has(select[aria-disabled=true]){opacity:var(--kern-color-action-state-opacity-disabled, .4)}.kern-form-input__select-wrapper:hover{border-bottom:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-space-small, 8px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}@media (forced-colors: active){.kern-form-input__select-wrapper:hover .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(.kern-form-input__select:focus) .kern-form-input__select{padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:hover:has(select[disabled]),.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]){border-bottom:var(--kern-metric-border-width-default, 2px) solid var(--kern-color-form-input-border, #171a2b)}.kern-form-input__select-wrapper:hover:has(select[disabled]) .kern-form-input__select,.kern-form-input__select-wrapper:hover:has(select[aria-disabled=true]) .kern-form-input__select{padding:var(--kern-metric-space-small, 6px) var(--kern-metric-space-default, 16px) var(--kern-4, 4px) var(--kern-metric-space-default, 16px)}.kern-form-input__select-wrapper:after{content:" ";display:inline-block;position:absolute;right:var(--kern-metric-dimension-x-small, 16px);top:var(--kern-metric-dimension-default, 24px);transform:translateY(-50%);pointer-events:none;width:var(--kern-metric-dimension-default, 24px);height:var(--kern-metric-dimension-default, 24px);-webkit-mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='' viewBox='0 -960 960 960' width='' fill='%23000000'%3E%3Cpath d='M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z'/%3E%3C/svg%3E");background-color:var(--kern-color-action-default)}@media (forced-colors: active){.kern-form-input__select-wrapper:after{background-color:var(--kern-color-layout-background-inverted)!important;forced-color-adjust:none}}.kern-form-input__select{background-color:transparent;box-sizing:border-box;width:100%;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;overflow:hidden;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-40, 40px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-default, 16px)}.kern-form-input__select:focus{border-radius:var(--kern-metric-border-radius-small, 2px);outline:var(--kern-metric-border-width-bold, 4px) solid var(--kern-color-form-input-border, #171a2b);background:var(--kern-color-form-input-background, #f7f7f9);border:none}.kern-form-input__select--error:focus{outline-color:var(--kern-color-feedback-danger, #bd0f09);background:var(--kern-color-feedback-danger-background, #feece8)}.kern-form-input__select option{margin:40px;background:var(--kern-color-form-input-background, #f7f7f9)}.kern-form-input__select[disabled],.kern-form-input__select[disabled=disabled],.kern-form-input__select[aria-disabled=true]{opacity:.7;cursor:not-allowed}.kern-summary-group__header{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;padding:var(--kern-metric-baseline-heading-medium-padding-top, 8px) var(--kern-metric-space-none, 0px) calc(var(--kern-metric-baseline-heading-medium-padding-bottom, 8px) + var(--kern-metric-space-default, 16px)) var(--kern-metric-space-none, 0px);margin-top:var(--kern-metric-space-x-large, 32px)}.kern-summary-group__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-summary__header{display:flex;padding:var(--kern-metric-space-default, 16px) var(--skern-pace-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-self:stretch}.kern-summary__header .kern-number{margin-top:var(--kern-metric-space-x-small, 4px)}.kern-summary .kern-title{font-weight:var(--kern-typography-font-weight-regular, 400)}.kern-summary__body{display:flex;padding:var(--kern-metric-space-default, 16px);flex-direction:column;gap:var(--kern-metric-space-x-large, 32px);border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #f7f7f9)}@media (forced-colors: active){.kern-summary__body{border:1px solid transparent!important}}.kern-table{width:100%;border-spacing:var(--kern-metric-space-none, 0px);border-collapse:collapse}.kern-table--small .kern-title{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-table--small .kern-table__header,.kern-table--small .kern-table__cell{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-small-padding-top, 7px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-small-padding-bottom, 1px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table--small .kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__header,.kern-table--striped .kern-table__body .kern-table__row:nth-child(odd) .kern-table__cell{background-color:var(--kern-color-layout-background-hued, #F7F7F9)}.kern-table .kern-title{display:table-caption;text-align:left}.kern-table__header,.kern-table__cell{text-align:left;vertical-align:top;box-shadow:inset 0 -1px 0 0 var(--kern-color-layout-border, #A5AAC3);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:calc(var(--kern-metric-baseline-body-default-padding-top, 6px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px)) calc(var(--kern-metric-baseline-body-default-padding-bottom, 2px) + var(--kern-metric-space-small, 8px)) calc(var(--kern-metric-space-none, 0px) + var(--kern-metric-space-x-small, 4px))}.kern-table__header--numeric,.kern-table__cell--numeric{text-align:right}@media (forced-colors: active){.kern-table__header,.kern-table__cell{border-bottom:1px solid transparent}}.kern-table__header{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table__footer{box-shadow:inset 0 1px 0 0 var(--kern-color-layout-border, #A5AAC3)}.kern-table__footer .kern-table__cell{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}.kern-task-list{display:block}.kern-task-list-group{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header{display:flex;padding-bottom:var(--kern-metric-space-default, 16px);flex-direction:column;align-items:flex-start;gap:var(--kern-metric-space-default, 16px);align-self:stretch;margin-top:var(--kern-metric-space-x-large, 32px)}.kern-task-list__header:first-of-type{margin-top:var(--kern-metric-space-none, 0px)}.kern-task-list__header .kern-heading{display:flex;align-items:flex-start;gap:var(--kern-metric-space-none, 0px);align-self:stretch;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-task-list__list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;display:flex;flex-direction:column;gap:var(--kern-metric-space-small, 8px);align-self:stretch;list-style:none}.kern-task-list__item{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-default, 16px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex:1 0 0;justify-content:space-between;position:relative;border-radius:var(--kern-metric-border-radius-default, 4px);background:var(--kern-color-layout-background-hued, #F7F7F9)}@media (forced-colors: active){.kern-task-list__item{border:1px solid transparent!important}}.kern-task-list__item .kern-number{margin-top:var(--kern-12, 12px)}.kern-task-list__item:has(.kern-link){color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item:has(.kern-link) .kern-number{color:var(--kern-color-action-default, #1A3DA5);border-color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__item .kern-link--stretched:after{position:absolute;top:var(--kern-metric-space-none, 0px);right:var(--kern-metric-space-none, 0px);bottom:var(--kern-metric-space-none, 0px);left:var(--kern-metric-space-none, 0px);z-index:1;pointer-events:auto;content:"";background-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible{outline-color:transparent}.kern-task-list__item .kern-link--stretched:focus-visible:after{border-radius:var(--kern-metric-border-radius-default, .25rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}.kern-task-list__item:has(.kern-link--stretched:hover){background:var(--kern-color-action-state-indicator-tint-hover-opacity)}.kern-task-list__item:has(.kern-link--stretched:active){background:var(--kern-color-action-state-indicator-tint-active-opacity)}.kern-task-list__title{display:flex;padding:var(--kern-metric-space-small, 8px) var(--kern-metric-space-none, 0px);align-items:flex-start;gap:var(--kern-metric-space-default, 16px);flex-grow:1;flex-wrap:wrap}@media all and (min-width: 768px){.kern-task-list__title{flex-wrap:nowrap}}.kern-task-list__title .kern-link:visited{color:var(--kern-color-action-default, #1A3DA5)}.kern-task-list__title .kern-link,.kern-task-list__title .kern-body{flex-grow:1}.kern-task-list__status{text-align:right;white-space:nowrap}.kern-body{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-body--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-body--bold{font-weight:var(--kern-typography-font-weight-semi-bold, 600)}.kern-body--muted{color:var(--kern-color-layout-text-muted, #404565)}.kern-hint{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-layout-text-muted, #404565)}.kern-heading-display{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-display-padding-top, 12px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-display-padding-bottom, 12px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-2x-large, 48px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-2x-large, 56px)}.kern-heading-x-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-x-large-padding-top, 9px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-x-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-x-large, 32px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-adaptive-x-large, 40px)}.kern-heading-large{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-heading-medium{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-medium-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-medium-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-heading-small{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-heading-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-heading-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-label{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-label--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-label--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-label-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-label-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-link{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5);text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-1, 1px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font;display:inline-flex;align-items:flex-start;gap:var(--kern-metric-space-x-small, 4px)}.kern-link .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:has(.kern-icon){text-decoration:none}.kern-link:has(.kern-icon):active,.kern-link:has(.kern-icon):hover{text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:var(--kern-3, 3px);text-underline-offset:var(--kern-metric-space-2x-small, 2px);text-underline-position:from-font}.kern-link:hover{text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active{color:var(--kern-color-action-default, #1A3DA5);text-decoration-thickness:var(--kern-3, 3px)}.kern-link:active .kern-icon{background-color:var(--kern-color-action-default, #1A3DA5)}.kern-link:visited{color:var(--kern-color-action-visited, #75009E)}.kern-link:visited .kern-icon{background-color:var(--kern-color-action-visited, #75009E)}.kern-link--small{gap:var(--kern-metric-space-2x-small, 2px);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-link--small .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-link:not(.kern-link--stretched):focus-visible{position:relative;z-index:1;outline-color:transparent;border-radius:var(--kern-metric-border-radius-small, .125rem);box-shadow:var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 2px var(--kern-color-action-on-default),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 4px var(--kern-color-action-focus-border-inside),var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) var(--kern-metric-space-none, 0px) 6px var(--kern-color-action-focus-border-outside)}@media (forced-colors: active){.kern-link:not(.kern-link--stretched):focus-visible{outline-offset:4px!important;outline-width:3px!important;outline-color:transparent!important}}a.kern-btn{text-decoration:none}.kern-list{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;list-style:none;display:flex;flex-direction:column;gap:var(--kern-metric-space-none, 0);color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);padding-left:var(--kern-metric-space-none, 0)}.kern-list--small{font-size:var(--kern-typography-font-size-static-small, 16px);line-height:var(--kern-typography-line-height-static-medium, 24px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px)}.kern-list--small .kern-link{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-body-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);color:var(--kern-color-action-default, #1A3DA5)}.kern-list--small .kern-link .kern-icon{width:var(--kern-metric-dimension-small, 20px);height:var(--kern-metric-dimension-small, 20px);min-width:var(--kern-metric-dimension-small, 20px);min-height:var(--kern-metric-dimension-small, 20px)}.kern-list--large{font-size:var(--kern-typography-font-size-static-large, 21px);line-height:var(--kern-typography-line-height-static-large, 32px);padding:var(--kern-metric-baseline-body-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-body-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px)}.kern-list--bullet{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:disc}.kern-list--number{padding-left:var(--kern-metric-space-x-large, 32px);gap:var(--kern-metric-space-default, 16px);list-style-type:decimal}.kern-list--horizontal{flex-direction:row;gap:var(--kern-metric-space-none, 0) var(--kern-metric-space-default, 16px);flex-wrap:wrap}.kern-subline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-subline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-subline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-subline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-subline-small-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-medium, 500);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-preline{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-default-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-default-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px);width:fit-content}.kern-preline--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-large-padding-top, 1px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-large-padding-bottom, 7px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-large, 21px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-large, 32px)}.kern-preline--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);color:var(--kern-color-layout-text-muted, #404565);padding:var(--kern-metric-baseline-preline-small-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-preline-small-padding-bottom, 1px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-small, 16px);font-weight:var(--kern-typography-font-weight-regular, 400);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-title{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline;color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-default-padding-top, 5px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-default-padding-bottom, 3px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-medium, 21px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-medium, 24px)}.kern-title--large{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-large-padding-top, 7px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-large-padding-bottom, 9px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-adaptive-large, 26px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-adaptive-large, 32px)}.kern-title--small{color:var(--kern-color-layout-text-default, #171A2B);font-family:var(--kern-typography-font-family-default, "Fira Sans");font-style:normal;letter-spacing:var(--kern-metric-space-none, 0px);padding:var(--kern-metric-baseline-title-small-padding-top, 6px) var(--kern-metric-space-none, 0px) var(--kern-metric-baseline-title-small-padding-bottom, 2px) var(--kern-metric-space-none, 0px);font-size:var(--kern-typography-font-size-static-medium, 18px);font-weight:var(--kern-typography-font-weight-semi-bold, 600);line-height:var(--kern-typography-line-height-static-medium, 24px)}.kern-container-fluid,.kern-container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem;box-sizing:border-box}[class^=kern-col],[class*=kern-col]{padding:1rem;box-sizing:border-box}.kern-container{max-width:1600px}.kern-row{display:flex;flex-wrap:wrap;margin-left:-1rem;margin-right:-1rem;box-sizing:border-box}.kern-row>*{flex-shrink:0;width:100%;max-width:100%}.kern-col{flex:1 0 0%}.kern-align-items-start{align-items:flex-start!important}.kern-align-items-center{align-items:center!important}.kern-align-items-end{align-items:flex-end!important}.kern-align-self-start{align-self:flex-start!important}.kern-align-self-center{align-self:center!important}.kern-align-self-end{align-self:flex-end!important}.kern-justify-content-start{justify-content:flex-start!important}.kern-justify-content-center{justify-content:center!important}.kern-justify-content-end{justify-content:flex-end!important}.kern-justify-content-around{justify-content:space-around!important}.kern-justify-content-between{justify-content:space-between!important}.kern-justify-content-evenly{justify-content:space-evenly!important}.kern-col-1{flex:0 0 auto;width:8.3333333333%}.kern-col-offset-1{margin-left:8.3333333333%}.kern-col-2{flex:0 0 auto;width:16.6666666667%}.kern-col-offset-2{margin-left:16.6666666667%}.kern-col-3{flex:0 0 auto;width:25%}.kern-col-offset-3{margin-left:25%}.kern-col-4{flex:0 0 auto;width:33.3333333333%}.kern-col-offset-4{margin-left:33.3333333333%}.kern-col-5{flex:0 0 auto;width:41.6666666667%}.kern-col-offset-5{margin-left:41.6666666667%}.kern-col-6{flex:0 0 auto;width:50%}.kern-col-offset-6{margin-left:50%}.kern-col-7{flex:0 0 auto;width:58.3333333333%}.kern-col-offset-7{margin-left:58.3333333333%}.kern-col-8{flex:0 0 auto;width:66.6666666667%}.kern-col-offset-8{margin-left:66.6666666667%}.kern-col-9{flex:0 0 auto;width:75%}.kern-col-offset-9{margin-left:75%}.kern-col-10{flex:0 0 auto;width:83.3333333333%}.kern-col-offset-10{margin-left:83.3333333333%}.kern-col-11{flex:0 0 auto;width:91.6666666667%}.kern-col-offset-11{margin-left:91.6666666667%}.kern-col-12{flex:0 0 auto;width:100%}.kern-col-offset-12{margin-left:100%}@media (min-width: 576px){.kern-container{max-width:96%}.kern-col-sm-offset-0{margin-left:0}.kern-col-sm-1{width:8.3333333333%}.kern-col-sm-offset-1{margin-left:8.3333333333%}.kern-col-sm-2{width:16.6666666667%}.kern-col-sm-offset-2{margin-left:16.6666666667%}.kern-col-sm-3{width:25%}.kern-col-sm-offset-3{margin-left:25%}.kern-col-sm-4{width:33.3333333333%}.kern-col-sm-offset-4{margin-left:33.3333333333%}.kern-col-sm-5{width:41.6666666667%}.kern-col-sm-offset-5{margin-left:41.6666666667%}.kern-col-sm-6{width:50%}.kern-col-sm-offset-6{margin-left:50%}.kern-col-sm-7{width:58.3333333333%}.kern-col-sm-offset-7{margin-left:58.3333333333%}.kern-col-sm-8{width:66.6666666667%}.kern-col-sm-offset-8{margin-left:66.6666666667%}.kern-col-sm-9{width:75%}.kern-col-sm-offset-9{margin-left:75%}.kern-col-sm-10{width:83.3333333333%}.kern-col-sm-offset-10{margin-left:83.3333333333%}.kern-col-sm-11{width:91.6666666667%}.kern-col-sm-offset-11{margin-left:91.6666666667%}.kern-col-sm-12{width:100%}.kern-col-sm-offset-12{margin-left:100%}}@media (min-width: 768px){.kern-container{max-width:96%}.kern-col-md-offset-0{margin-left:0}.kern-col-md-1{width:8.3333333333%}.kern-col-md-offset-1{margin-left:8.3333333333%}.kern-col-md-2{width:16.6666666667%}.kern-col-md-offset-2{margin-left:16.6666666667%}.kern-col-md-3{width:25%}.kern-col-md-offset-3{margin-left:25%}.kern-col-md-4{width:33.3333333333%}.kern-col-md-offset-4{margin-left:33.3333333333%}.kern-col-md-5{width:41.6666666667%}.kern-col-md-offset-5{margin-left:41.6666666667%}.kern-col-md-6{width:50%}.kern-col-md-offset-6{margin-left:50%}.kern-col-md-7{width:58.3333333333%}.kern-col-md-offset-7{margin-left:58.3333333333%}.kern-col-md-8{width:66.6666666667%}.kern-col-md-offset-8{margin-left:66.6666666667%}.kern-col-md-9{width:75%}.kern-col-md-offset-9{margin-left:75%}.kern-col-md-10{width:83.3333333333%}.kern-col-md-offset-10{margin-left:83.3333333333%}.kern-col-md-11{width:91.6666666667%}.kern-col-md-offset-11{margin-left:91.6666666667%}.kern-col-md-12{width:100%}.kern-col-md-offset-12{margin-left:100%}}@media (min-width: 992px){.kern-container{max-width:96%}.kern-col-lg-offset-0{margin-left:0}.kern-col-lg-1{width:8.3333333333%}.kern-col-lg-offset-1{margin-left:8.3333333333%}.kern-col-lg-2{width:16.6666666667%}.kern-col-lg-offset-2{margin-left:16.6666666667%}.kern-col-lg-3{width:25%}.kern-col-lg-offset-3{margin-left:25%}.kern-col-lg-4{width:33.3333333333%}.kern-col-lg-offset-4{margin-left:33.3333333333%}.kern-col-lg-5{width:41.6666666667%}.kern-col-lg-offset-5{margin-left:41.6666666667%}.kern-col-lg-6{width:50%}.kern-col-lg-offset-6{margin-left:50%}.kern-col-lg-7{width:58.3333333333%}.kern-col-lg-offset-7{margin-left:58.3333333333%}.kern-col-lg-8{width:66.6666666667%}.kern-col-lg-offset-8{margin-left:66.6666666667%}.kern-col-lg-9{width:75%}.kern-col-lg-offset-9{margin-left:75%}.kern-col-lg-10{width:83.3333333333%}.kern-col-lg-offset-10{margin-left:83.3333333333%}.kern-col-lg-11{width:91.6666666667%}.kern-col-lg-offset-11{margin-left:91.6666666667%}.kern-col-lg-12{width:100%}.kern-col-lg-offset-12{margin-left:100%}}@media (min-width: 1200px){.kern-container{max-width:96%}.kern-col-xl-offset-0{margin-left:0}.kern-col-xl-1{width:8.3333333333%}.kern-col-xl-offset-1{margin-left:8.3333333333%}.kern-col-xl-2{width:16.6666666667%}.kern-col-xl-offset-2{margin-left:16.6666666667%}.kern-col-xl-3{width:25%}.kern-col-xl-offset-3{margin-left:25%}.kern-col-xl-4{width:33.3333333333%}.kern-col-xl-offset-4{margin-left:33.3333333333%}.kern-col-xl-5{width:41.6666666667%}.kern-col-xl-offset-5{margin-left:41.6666666667%}.kern-col-xl-6{width:50%}.kern-col-xl-offset-6{margin-left:50%}.kern-col-xl-7{width:58.3333333333%}.kern-col-xl-offset-7{margin-left:58.3333333333%}.kern-col-xl-8{width:66.6666666667%}.kern-col-xl-offset-8{margin-left:66.6666666667%}.kern-col-xl-9{width:75%}.kern-col-xl-offset-9{margin-left:75%}.kern-col-xl-10{width:83.3333333333%}.kern-col-xl-offset-10{margin-left:83.3333333333%}.kern-col-xl-11{width:91.6666666667%}.kern-col-xl-offset-11{margin-left:91.6666666667%}.kern-col-xl-12{width:100%}.kern-col-xl-offset-12{margin-left:100%}}@media (min-width: 1600px){.kern-container{max-width:1536px}.kern-col-xxl-offset-0{margin-left:0}.kern-col-xxl-1{width:8.3333333333%}.kern-col-xxl-offset-1{margin-left:8.3333333333%}.kern-col-xxl-2{width:16.6666666667%}.kern-col-xxl-offset-2{margin-left:16.6666666667%}.kern-col-xxl-3{width:25%}.kern-col-xxl-offset-3{margin-left:25%}.kern-col-xxl-4{width:33.3333333333%}.kern-col-xxl-offset-4{margin-left:33.3333333333%}.kern-col-xxl-5{width:41.6666666667%}.kern-col-xxl-offset-5{margin-left:41.6666666667%}.kern-col-xxl-6{width:50%}.kern-col-xxl-offset-6{margin-left:50%}.kern-col-xxl-7{width:58.3333333333%}.kern-col-xxl-offset-7{margin-left:58.3333333333%}.kern-col-xxl-8{width:66.6666666667%}.kern-col-xxl-offset-8{margin-left:66.6666666667%}.kern-col-xxl-9{width:75%}.kern-col-xxl-offset-9{margin-left:75%}.kern-col-xxl-10{width:83.3333333333%}.kern-col-xxl-offset-10{margin-left:83.3333333333%}.kern-col-xxl-11{width:91.6666666667%}.kern-col-xxl-offset-11{margin-left:91.6666666667%}.kern-col-xxl-12{width:100%}.kern-col-xxl-offset-12{margin-left:100%}}:root{--kern-darkblue-025-lightness: 97.29%;--kern-darkblue-025-chroma: .0081;--kern-darkblue-025-hue: 261.5;--kern-darkblue-050-lightness: 95.28%;--kern-darkblue-050-chroma: .0144;--kern-darkblue-050-hue: 267.3;--kern-darkblue-100-lightness: 90.65%;--kern-darkblue-100-chroma: .0284;--kern-darkblue-100-hue: 265.8;--kern-darkblue-150-lightness: 87.02%;--kern-darkblue-150-chroma: .0397;--kern-darkblue-150-hue: 264.3;--kern-darkblue-200-lightness: 82.15%;--kern-darkblue-200-chroma: .0557;--kern-darkblue-200-hue: 265.6;--kern-darkblue-250-lightness: 78.4%;--kern-darkblue-250-chroma: .0671;--kern-darkblue-250-hue: 265.4;--kern-darkblue-300-lightness: 73.65%;--kern-darkblue-300-chroma: .083;--kern-darkblue-300-hue: 265.2;--kern-darkblue-350-lightness: 69.99%;--kern-darkblue-350-chroma: .0926;--kern-darkblue-350-hue: 265;--kern-darkblue-400-lightness: 66.28%;--kern-darkblue-400-chroma: .1035;--kern-darkblue-400-hue: 264.7;--kern-darkblue-450-lightness: 61.27%;--kern-darkblue-450-chroma: .1195;--kern-darkblue-450-hue: 265.5;--kern-darkblue-500-lightness: 57.58%;--kern-darkblue-500-chroma: .1302;--kern-darkblue-500-hue: 265.1;--kern-darkblue-550-lightness: 52.55%;--kern-darkblue-550-chroma: .1462;--kern-darkblue-550-hue: 265.4;--kern-darkblue-600-lightness: 48.97%;--kern-darkblue-600-chroma: .1552;--kern-darkblue-600-hue: 264.9;--kern-darkblue-650-lightness: 45%;--kern-darkblue-650-chroma: .166;--kern-darkblue-650-hue: 265.1;--kern-darkblue-700-lightness: 40.4%;--kern-darkblue-700-chroma: .1713;--kern-darkblue-700-hue: 265.1;--kern-darkblue-750-lightness: 36.29%;--kern-darkblue-750-chroma: .1831;--kern-darkblue-750-hue: 265;--kern-darkblue-800-lightness: 32.18%;--kern-darkblue-800-chroma: .1841;--kern-darkblue-800-hue: 265;--kern-darkblue-850-lightness: 28.85%;--kern-darkblue-850-chroma: .1905;--kern-darkblue-850-hue: 264.9;--kern-darkblue-900-lightness: 24.13%;--kern-darkblue-900-chroma: .1635;--kern-darkblue-900-hue: 266.4;--kern-darkblue-950-lightness: 19.3%;--kern-darkblue-950-chroma: .1283;--kern-darkblue-950-hue: 268.4}:root{--kern-lightblue-025-lightness: 97.93%;--kern-lightblue-025-chroma: .0112;--kern-lightblue-025-hue: 225.1;--kern-lightblue-050-lightness: 95.27%;--kern-lightblue-050-chroma: .0248;--kern-lightblue-050-hue: 223.4;--kern-lightblue-100-lightness: 90.47%;--kern-lightblue-100-chroma: .0495;--kern-lightblue-100-hue: 225.8;--kern-lightblue-150-lightness: 86.16%;--kern-lightblue-150-chroma: .0716;--kern-lightblue-150-hue: 224.5;--kern-lightblue-200-lightness: 82.29%;--kern-lightblue-200-chroma: .0929;--kern-lightblue-200-hue: 223.5;--kern-lightblue-250-lightness: 77.87%;--kern-lightblue-250-chroma: .1157;--kern-lightblue-250-hue: 223.4;--kern-lightblue-300-lightness: 72.6%;--kern-lightblue-300-chroma: .1365;--kern-lightblue-300-hue: 224.1;--kern-lightblue-350-lightness: 69.31%;--kern-lightblue-350-chroma: .1331;--kern-lightblue-350-hue: 226.5;--kern-lightblue-400-lightness: 65.7%;--kern-lightblue-400-chroma: .126;--kern-lightblue-400-hue: 226.3;--kern-lightblue-450-lightness: 60.49%;--kern-lightblue-450-chroma: .1218;--kern-lightblue-450-hue: 230.9;--kern-lightblue-500-lightness: 56.36%;--kern-lightblue-500-chroma: .1102;--kern-lightblue-500-hue: 228.3;--kern-lightblue-550-lightness: 51.87%;--kern-lightblue-550-chroma: .1098;--kern-lightblue-550-hue: 234.8;--kern-lightblue-600-lightness: 47.63%;--kern-lightblue-600-chroma: .1034;--kern-lightblue-600-hue: 236.6;--kern-lightblue-650-lightness: 42.88%;--kern-lightblue-650-chroma: .0984;--kern-lightblue-650-hue: 240.1;--kern-lightblue-700-lightness: 39.45%;--kern-lightblue-700-chroma: .0961;--kern-lightblue-700-hue: 243.4;--kern-lightblue-750-lightness: 34.98%;--kern-lightblue-750-chroma: .0901;--kern-lightblue-750-hue: 246.1;--kern-lightblue-800-lightness: 31%;--kern-lightblue-800-chroma: .0905;--kern-lightblue-800-hue: 251.1;--kern-lightblue-850-lightness: 26.58%;--kern-lightblue-850-chroma: .0837;--kern-lightblue-850-hue: 253.7;--kern-lightblue-900-lightness: 22.62%;--kern-lightblue-900-chroma: .0845;--kern-lightblue-900-hue: 258.2;--kern-lightblue-950-lightness: 18.48%;--kern-lightblue-950-chroma: .0867;--kern-lightblue-950-hue: 262.2}:root{--kern-turquoise-025-lightness: 97.64%;--kern-turquoise-025-chroma: .0123;--kern-turquoise-025-hue: 172.2;--kern-turquoise-050-lightness: 95.45%;--kern-turquoise-050-chroma: .0269;--kern-turquoise-050-hue: 171.7;--kern-turquoise-100-lightness: 90.68%;--kern-turquoise-100-chroma: .0593;--kern-turquoise-100-hue: 170.5;--kern-turquoise-150-lightness: 85.52%;--kern-turquoise-150-chroma: .0888;--kern-turquoise-150-hue: 171;--kern-turquoise-200-lightness: 81.34%;--kern-turquoise-200-chroma: .1071;--kern-turquoise-200-hue: 170.7;--kern-turquoise-250-lightness: 77.21%;--kern-turquoise-250-chroma: .1209;--kern-turquoise-250-hue: 170.3;--kern-turquoise-300-lightness: 72.07%;--kern-turquoise-300-chroma: .1298;--kern-turquoise-300-hue: 170.4;--kern-turquoise-350-lightness: 68.64%;--kern-turquoise-350-chroma: .1341;--kern-turquoise-350-hue: 170;--kern-turquoise-400-lightness: 63.71%;--kern-turquoise-400-chroma: .1258;--kern-turquoise-400-hue: 170.2;--kern-turquoise-450-lightness: 59.21%;--kern-turquoise-450-chroma: .1187;--kern-turquoise-450-hue: 168.9;--kern-turquoise-500-lightness: 54.7%;--kern-turquoise-500-chroma: .1094;--kern-turquoise-500-hue: 169.1;--kern-turquoise-550-lightness: 51.64%;--kern-turquoise-550-chroma: .1031;--kern-turquoise-550-hue: 169.3;--kern-turquoise-600-lightness: 46.91%;--kern-turquoise-600-chroma: .0948;--kern-turquoise-600-hue: 168.1;--kern-turquoise-650-lightness: 42.12%;--kern-turquoise-650-chroma: .0848;--kern-turquoise-650-hue: 168.5;--kern-turquoise-700-lightness: 38.81%;--kern-turquoise-700-chroma: .079;--kern-turquoise-700-hue: 167.5;--kern-turquoise-750-lightness: 33.77%;--kern-turquoise-750-chroma: .0682;--kern-turquoise-750-hue: 168.2;--kern-turquoise-800-lightness: 30.31%;--kern-turquoise-800-chroma: .0608;--kern-turquoise-800-hue: 168.9;--kern-turquoise-850-lightness: 26.7%;--kern-turquoise-850-chroma: .0545;--kern-turquoise-850-hue: 167.3;--kern-turquoise-900-lightness: 21.11%;--kern-turquoise-900-chroma: .0425;--kern-turquoise-900-hue: 168.5;--kern-turquoise-950-lightness: 17.16%;--kern-turquoise-950-chroma: .0342;--kern-turquoise-950-hue: 169.5}:root{--kern-green-025-lightness: 97.95%;--kern-green-025-chroma: .0066;--kern-green-025-hue: 151.9;--kern-green-050-lightness: 95.9%;--kern-green-050-chroma: .0151;--kern-green-050-hue: 148.4;--kern-green-100-lightness: 90.51%;--kern-green-100-chroma: .0375;--kern-green-100-hue: 148.6;--kern-green-150-lightness: 86.51%;--kern-green-150-chroma: .0556;--kern-green-150-hue: 148.3;--kern-green-200-lightness: 81.85%;--kern-green-200-chroma: .074;--kern-green-200-hue: 149;--kern-green-250-lightness: 77.04%;--kern-green-250-chroma: .092;--kern-green-250-hue: 148.1;--kern-green-300-lightness: 72.45%;--kern-green-300-chroma: .1087;--kern-green-300-hue: 148.5;--kern-green-350-lightness: 68.55%;--kern-green-350-chroma: .1228;--kern-green-350-hue: 148.4;--kern-green-400-lightness: 63.71%;--kern-green-400-chroma: .1312;--kern-green-400-hue: 148.6;--kern-green-450-lightness: 59.26%;--kern-green-450-chroma: .1414;--kern-green-450-hue: 148.4;--kern-green-500-lightness: 54.55%;--kern-green-500-chroma: .1469;--kern-green-500-hue: 148.4;--kern-green-550-lightness: 50.64%;--kern-green-550-chroma: .1479;--kern-green-550-hue: 147.7;--kern-green-600-lightness: 45.99%;--kern-green-600-chroma: .1381;--kern-green-600-hue: 146.6;--kern-green-650-lightness: 42.82%;--kern-green-650-chroma: .1318;--kern-green-650-hue: 145.7;--kern-green-700-lightness: 38.01%;--kern-green-700-chroma: .118;--kern-green-700-hue: 145.4;--kern-green-750-lightness: 34.7%;--kern-green-750-chroma: .1103;--kern-green-750-hue: 144.6;--kern-green-800-lightness: 29.62%;--kern-green-800-chroma: .095;--kern-green-800-hue: 144.4;--kern-green-850-lightness: 26.11%;--kern-green-850-chroma: .0844;--kern-green-850-hue: 144.1;--kern-green-900-lightness: 20.63%;--kern-green-900-chroma: .0664;--kern-green-900-hue: 144.2;--kern-green-950-lightness: 16.76%;--kern-green-950-chroma: .0542;--kern-green-950-hue: 144.1}:root{--kern-limette-025-lightness: 97.02%;--kern-limette-025-chroma: .0694;--kern-limette-025-hue: 120.6;--kern-limette-050-lightness: 95.09%;--kern-limette-050-chroma: .1155;--kern-limette-050-hue: 120.8;--kern-limette-100-lightness: 90.24%;--kern-limette-100-chroma: .1656;--kern-limette-100-hue: 120.8;--kern-limette-150-lightness: 86.02%;--kern-limette-150-chroma: .1845;--kern-limette-150-hue: 121.2;--kern-limette-200-lightness: 81.36%;--kern-limette-200-chroma: .1887;--kern-limette-200-hue: 120.7;--kern-limette-250-lightness: 77.69%;--kern-limette-250-chroma: .1864;--kern-limette-250-hue: 121;--kern-limette-300-lightness: 73.21%;--kern-limette-300-chroma: .1755;--kern-limette-300-hue: 120.9;--kern-limette-350-lightness: 68.65%;--kern-limette-350-chroma: .1645;--kern-limette-350-hue: 120.9;--kern-limette-400-lightness: 65.38%;--kern-limette-400-chroma: .1582;--kern-limette-400-hue: 121.8;--kern-limette-450-lightness: 60.7%;--kern-limette-450-chroma: .1467;--kern-limette-450-hue: 121.7;--kern-limette-500-lightness: 55.93%;--kern-limette-500-chroma: .135;--kern-limette-500-hue: 121.6;--kern-limette-550-lightness: 51.06%;--kern-limette-550-chroma: .1231;--kern-limette-550-hue: 121.4;--kern-limette-600-lightness: 47.75%;--kern-limette-600-chroma: .115;--kern-limette-600-hue: 121.3;--kern-limette-650-lightness: 42.55%;--kern-limette-650-chroma: .1032;--kern-limette-650-hue: 122;--kern-limette-700-lightness: 39.09%;--kern-limette-700-chroma: .0946;--kern-limette-700-hue: 121.8;--kern-limette-750-lightness: 35.55%;--kern-limette-750-chroma: .0858;--kern-limette-750-hue: 121.6;--kern-limette-800-lightness: 30%;--kern-limette-800-chroma: .0727;--kern-limette-800-hue: 121.9;--kern-limette-850-lightness: 26.21%;--kern-limette-850-chroma: .0631;--kern-limette-850-hue: 121.3;--kern-limette-900-lightness: 22.14%;--kern-limette-900-chroma: .0541;--kern-limette-900-hue: 122.7;--kern-limette-950-lightness: 18.08%;--kern-limette-950-chroma: .0434;--kern-limette-950-hue: 121.1}:root{--kern-yellow-025-lightness: 97.15%;--kern-yellow-025-chroma: .1207;--kern-yellow-025-hue: 106.7;--kern-yellow-050-lightness: 94.9%;--kern-yellow-050-chroma: .1515;--kern-yellow-050-hue: 104.1;--kern-yellow-100-lightness: 90.5%;--kern-yellow-100-chroma: .1776;--kern-yellow-100-hue: 98.18;--kern-yellow-150-lightness: 86.85%;--kern-yellow-150-chroma: .1781;--kern-yellow-150-hue: 94.26;--kern-yellow-200-lightness: 82.83%;--kern-yellow-200-chroma: .1699;--kern-yellow-200-hue: 94.33;--kern-yellow-250-lightness: 78.01%;--kern-yellow-250-chroma: .1597;--kern-yellow-250-hue: 92.52;--kern-yellow-300-lightness: 73.93%;--kern-yellow-300-chroma: .1513;--kern-yellow-300-hue: 92.61;--kern-yellow-350-lightness: 69.79%;--kern-yellow-350-chroma: .1428;--kern-yellow-350-hue: 92.72;--kern-yellow-400-lightness: 65.58%;--kern-yellow-400-chroma: .1343;--kern-yellow-400-hue: 92.85;--kern-yellow-450-lightness: 61.31%;--kern-yellow-450-chroma: .1255;--kern-yellow-450-hue: 92.99;--kern-yellow-500-lightness: 56.96%;--kern-yellow-500-chroma: .1166;--kern-yellow-500-hue: 93.17;--kern-yellow-550-lightness: 52.05%;--kern-yellow-550-chroma: .1064;--kern-yellow-550-hue: 91.55;--kern-yellow-600-lightness: 47.57%;--kern-yellow-600-chroma: .0973;--kern-yellow-600-hue: 91.85;--kern-yellow-650-lightness: 44.52%;--kern-yellow-650-chroma: .0911;--kern-yellow-650-hue: 92.09;--kern-yellow-700-lightness: 39.84%;--kern-yellow-700-chroma: .0815;--kern-yellow-700-hue: 92.54;--kern-yellow-750-lightness: 34.74%;--kern-yellow-750-chroma: .071;--kern-yellow-750-hue: 91.44;--kern-yellow-800-lightness: 31.21%;--kern-yellow-800-chroma: .0638;--kern-yellow-800-hue: 90.35;--kern-yellow-850-lightness: 25.99%;--kern-yellow-850-chroma: .0531;--kern-yellow-850-hue: 90.14;--kern-yellow-900-lightness: 22.55%;--kern-yellow-900-chroma: .0461;--kern-yellow-900-hue: 91.64;--kern-yellow-950-lightness: 18.61%;--kern-yellow-950-chroma: .038;--kern-yellow-950-hue: 89.88}:root{--kern-orange-025-lightness: 98%;--kern-orange-025-chroma: .0188;--kern-orange-025-hue: 81.5;--kern-orange-050-lightness: 95.85%;--kern-orange-050-chroma: .0433;--kern-orange-050-hue: 84.57;--kern-orange-100-lightness: 91.5%;--kern-orange-100-chroma: .0891;--kern-orange-100-hue: 84.2;--kern-orange-150-lightness: 87.38%;--kern-orange-150-chroma: .1245;--kern-orange-150-hue: 81.4;--kern-orange-200-lightness: 83.3%;--kern-orange-200-chroma: .1517;--kern-orange-200-hue: 77.01;--kern-orange-250-lightness: 79.67%;--kern-orange-250-chroma: .1689;--kern-orange-250-hue: 71.24;--kern-orange-300-lightness: 74.41%;--kern-orange-300-chroma: .1646;--kern-orange-300-hue: 66.86;--kern-orange-350-lightness: 70.85%;--kern-orange-350-chroma: .1565;--kern-orange-350-hue: 67.04;--kern-orange-400-lightness: 66.63%;--kern-orange-400-chroma: .1493;--kern-orange-400-hue: 65.13;--kern-orange-450-lightness: 61.81%;--kern-orange-450-chroma: .1382;--kern-orange-450-hue: 65.47;--kern-orange-500-lightness: 57.6%;--kern-orange-500-chroma: .1306;--kern-orange-500-hue: 63.7;--kern-orange-550-lightness: 52.64%;--kern-orange-550-chroma: .1189;--kern-orange-550-hue: 64.21;--kern-orange-600-lightness: 48.42%;--kern-orange-600-chroma: .1108;--kern-orange-600-hue: 62.67;--kern-orange-650-lightness: 44.59%;--kern-orange-650-chroma: .1015;--kern-orange-650-hue: 63.27;--kern-orange-700-lightness: 40.32%;--kern-orange-700-chroma: .0927;--kern-orange-700-hue: 62.06;--kern-orange-750-lightness: 36.35%;--kern-orange-750-chroma: .0829;--kern-orange-750-hue: 63.06;--kern-orange-800-lightness: 32.01%;--kern-orange-800-chroma: .0733;--kern-orange-800-hue: 62.53;--kern-orange-850-lightness: 27.62%;--kern-orange-850-chroma: .0632;--kern-orange-850-hue: 62.68;--kern-orange-900-lightness: 22.99%;--kern-orange-900-chroma: .0528;--kern-orange-900-hue: 62.35;--kern-orange-950-lightness: 18.36%;--kern-orange-950-chroma: .0413;--kern-orange-950-hue: 64.82}:root{--kern-red-025-lightness: 98.03%;--kern-red-025-chroma: .0083;--kern-red-025-hue: 25.06;--kern-red-050-lightness: 95.36%;--kern-red-050-chroma: .0217;--kern-red-050-hue: 32.68;--kern-red-100-lightness: 91.24%;--kern-red-100-chroma: .0436;--kern-red-100-hue: 28.25;--kern-red-150-lightness: 87.71%;--kern-red-150-chroma: .0621;--kern-red-150-hue: 29.89;--kern-red-200-lightness: 83.28%;--kern-red-200-chroma: .0854;--kern-red-200-hue: 30.18;--kern-red-250-lightness: 79.59%;--kern-red-250-chroma: .1043;--kern-red-250-hue: 29.15;--kern-red-300-lightness: 75.15%;--kern-red-300-chroma: .1265;--kern-red-300-hue: 28.4;--kern-red-350-lightness: 71.18%;--kern-red-350-chroma: .143;--kern-red-350-hue: 28.92;--kern-red-400-lightness: 67.04%;--kern-red-400-chroma: .1611;--kern-red-400-hue: 28.5;--kern-red-450-lightness: 63.35%;--kern-red-450-chroma: .1717;--kern-red-450-hue: 29.1;--kern-red-500-lightness: 58.93%;--kern-red-500-chroma: .1871;--kern-red-500-hue: 29.12;--kern-red-550-lightness: 54.9%;--kern-red-550-chroma: .1972;--kern-red-550-hue: 29.28;--kern-red-600-lightness: 50.78%;--kern-red-600-chroma: .202;--kern-red-600-hue: 29.22;--kern-red-650-lightness: 46%;--kern-red-650-chroma: .1888;--kern-red-650-hue: 29.23;--kern-red-700-lightness: 41.84%;--kern-red-700-chroma: .1717;--kern-red-700-hue: 29.23;--kern-red-750-lightness: 37.56%;--kern-red-750-chroma: .1541;--kern-red-750-hue: 29.23;--kern-red-800-lightness: 32.04%;--kern-red-800-chroma: .1315;--kern-red-800-hue: 29.23;--kern-red-850-lightness: 28.62%;--kern-red-850-chroma: .1174;--kern-red-850-hue: 29.23;--kern-red-900-lightness: 23.88%;--kern-red-900-chroma: .098;--kern-red-900-hue: 29.23;--kern-red-950-lightness: 18.89%;--kern-red-950-chroma: .0775;--kern-red-950-hue: 29.23}:root{--kern-violet-025-lightness: 97.97%;--kern-violet-025-chroma: .0094;--kern-violet-025-hue: 311;--kern-violet-050-lightness: 95.12%;--kern-violet-050-chroma: .0215;--kern-violet-050-hue: 312.8;--kern-violet-100-lightness: 91.07%;--kern-violet-100-chroma: .0444;--kern-violet-100-hue: 314;--kern-violet-150-lightness: 88%;--kern-violet-150-chroma: .0602;--kern-violet-150-hue: 313.2;--kern-violet-200-lightness: 83.03%;--kern-violet-200-chroma: .0861;--kern-violet-200-hue: 313;--kern-violet-250-lightness: 79.26%;--kern-violet-250-chroma: .106;--kern-violet-250-hue: 313.5;--kern-violet-300-lightness: 75.52%;--kern-violet-300-chroma: .123;--kern-violet-300-hue: 313.3;--kern-violet-350-lightness: 71.06%;--kern-violet-350-chroma: .1442;--kern-violet-350-hue: 313.8;--kern-violet-400-lightness: 67.51%;--kern-violet-400-chroma: .1583;--kern-violet-400-hue: 313.6;--kern-violet-450-lightness: 63.1%;--kern-violet-450-chroma: .1778;--kern-violet-450-hue: 313.2;--kern-violet-500-lightness: 59.14%;--kern-violet-500-chroma: .1931;--kern-violet-500-hue: 313.6;--kern-violet-550-lightness: 55.43%;--kern-violet-550-chroma: .2052;--kern-violet-550-hue: 313.9;--kern-violet-600-lightness: 50.94%;--kern-violet-600-chroma: .2144;--kern-violet-600-hue: 313.2;--kern-violet-650-lightness: 47.11%;--kern-violet-650-chroma: .2224;--kern-violet-650-hue: 313.7;--kern-violet-700-lightness: 42.44%;--kern-violet-700-chroma: .2119;--kern-violet-700-hue: 312.4;--kern-violet-750-lightness: 38.09%;--kern-violet-750-chroma: .1911;--kern-violet-750-hue: 311.5;--kern-violet-800-lightness: 32.98%;--kern-violet-800-chroma: .1651;--kern-violet-800-hue: 311.9;--kern-violet-850-lightness: 28.25%;--kern-violet-850-chroma: .1427;--kern-violet-850-hue: 310.2;--kern-violet-900-lightness: 23.95%;--kern-violet-900-chroma: .1205;--kern-violet-900-hue: 311;--kern-violet-950-lightness: 19.14%;--kern-violet-950-chroma: .0967;--kern-violet-950-hue: 310.2}:root{--kern-neutral-025-lightness: 97.46%;--kern-neutral-025-chroma: .0028;--kern-neutral-025-hue: 286.3;--kern-neutral-050-lightness: 95.79%;--kern-neutral-050-chroma: .0053;--kern-neutral-050-hue: 275;--kern-neutral-100-lightness: 91.42%;--kern-neutral-100-chroma: .012;--kern-neutral-100-hue: 276;--kern-neutral-150-lightness: 87.05%;--kern-neutral-150-chroma: .0183;--kern-neutral-150-hue: 275.9;--kern-neutral-200-lightness: 82.73%;--kern-neutral-200-chroma: .0236;--kern-neutral-200-hue: 275.8;--kern-neutral-250-lightness: 78.2%;--kern-neutral-250-chroma: .0305;--kern-neutral-250-hue: 276.7;--kern-neutral-300-lightness: 74.59%;--kern-neutral-300-chroma: .0358;--kern-neutral-300-hue: 276.5;--kern-neutral-350-lightness: 70.15%;--kern-neutral-350-chroma: .042;--kern-neutral-350-hue: 275.3;--kern-neutral-400-lightness: 65.51%;--kern-neutral-400-chroma: .0464;--kern-neutral-400-hue: 278.2;--kern-neutral-450-lightness: 61.18%;--kern-neutral-450-chroma: .0496;--kern-neutral-450-hue: 277;--kern-neutral-500-lightness: 56.84%;--kern-neutral-500-chroma: .0521;--kern-neutral-500-hue: 275.8;--kern-neutral-550-lightness: 52.32%;--kern-neutral-550-chroma: .054;--kern-neutral-550-hue: 276.6;--kern-neutral-600-lightness: 48.66%;--kern-neutral-600-chroma: .0561;--kern-neutral-600-hue: 276.4;--kern-neutral-650-lightness: 44.06%;--kern-neutral-650-chroma: .0569;--kern-neutral-650-hue: 277.1;--kern-neutral-700-lightness: 39.76%;--kern-neutral-700-chroma: .0529;--kern-neutral-700-hue: 277;--kern-neutral-750-lightness: 35.13%;--kern-neutral-750-chroma: .0511;--kern-neutral-750-hue: 277.7;--kern-neutral-800-lightness: 30.72%;--kern-neutral-800-chroma: .0459;--kern-neutral-800-hue: 276.7;--kern-neutral-850-lightness: 27%;--kern-neutral-850-chroma: .0409;--kern-neutral-850-hue: 277.5;--kern-neutral-900-lightness: 22.43%;--kern-neutral-900-chroma: .0333;--kern-neutral-900-hue: 275.7;--kern-neutral-950-lightness: 18.2%;--kern-neutral-950-chroma: .0301;--kern-neutral-950-hue: 277.2}:root{--kern-black-lightness: 0%;--kern-black-chroma: 0;--kern-black-hue: 0;--kern-white-lightness: 100%;--kern-white-chroma: 0;--kern-white-hue: 0}:root{--kern-typography-font-family-fira-sans: "Fira Sans", sans-serif;--kern-typography-font-family-fira-mono: "Fira Mono", monospace;--kern-font-size-12: .75rem;--kern-font-size-16: 1rem;--kern-font-size-18: 1.125rem;--kern-font-size-20: 1.25rem;--kern-font-size-21: 1.3125rem;--kern-font-size-24: 1.5rem;--kern-font-size-26: 1.625rem;--kern-font-size-32: 2rem;--kern-font-size-40: 2.5rem;--kern-font-size-48: 3rem;--kern-font-size-56: 3.5rem;--kern-font-size-72: 4.5rem;--kern-font-size-80: 5rem}:root{--kern-0: 0rem;--kern-1: .0625rem;--kern-2: .125rem;--kern-3: .1875rem;--kern-4: .25rem;--kern-5: .3125rem;--kern-6: .375rem;--kern-7: .4375rem;--kern-8: .5rem;--kern-9: .5625rem;--kern-10: .625rem;--kern-14: .875rem;--kern-12: .75rem;--kern-16: 1rem;--kern-18: 1.125rem;--kern-20: 1.25rem;--kern-24: 1.5rem;--kern-32: 2rem;--kern-40: 2.5rem;--kern-48: 3rem;--kern-56: 3.5rem;--kern-64: 4rem;--kern-80: 5rem;--kern-96: 6rem;--kern-128: 8rem;--kern-160: 10rem;--kern-192: 12rem;--kern-224: 14rem;--kern-240: 15rem;--kern-256: 16rem;--kern-352: 22rem;--kern-360: 22.5rem;--kern-384: 24rem;--kern-480: 30rem;--kern-512: 32rem;--kern-736: 46rem;--kern-768: 48rem;--kern-992: 62rem;--kern-1024: 64rem;--kern-1140: 71.25rem;--kern-1248: 78rem;--kern-1280: 80rem;--kern-1504: 94rem;--kern-1536: 96rem;--kern-1600: 100rem;--kern-1920: 120rem}:root{--kern-metric-border-width-none: var(--kern-0);--kern-metric-border-width-light: var(--kern-1);--kern-metric-border-width-default: var(--kern-2);--kern-metric-border-width-bold: var(--kern-4);--kern-metric-border-width-heavy: var(--kern-8);--kern-metric-border-radius-none: var(--kern-0);--kern-metric-border-radius-small: var(--kern-2);--kern-metric-border-radius-default: var(--kern-4);--kern-metric-border-radius-large: var(--kern-8);--kern-metric-border-radius-circle: 50%;--kern-component-badge-space-left: var(--kern-12);--kern-component-description-list-term-max-width: var(--kern-352);--kern-component-alert-icon-size: var(--kern-32);--kern-component-kopfzeile-font-family: "Fira Sans", "Fira Sans Regular", "Noto Sans", "Noto Sans Regular", "SF Pro Text", "Segoe UI", SegoeUI, Roboto, Arial, Helvetica, sans-serif;--kern-component-kopfzeile-font-size: var(--kern-font-size-14);--kern-component-kopfzeile-line-height: var(--kern-font-size-16);--kern-component-kopfzeile-padding: var(--kern-7);--kern-metric-dimension-2x-small: var(--kern-8);--kern-metric-dimension-x-small: var(--kern-16);--kern-metric-dimension-small: var(--kern-20);--kern-metric-dimension-default: var(--kern-24);--kern-metric-dimension-large: var(--kern-32);--kern-metric-dimension-x-large: var(--kern-48);--kern-metric-dimension-2x-large: var(--kern-56);--kern-metric-dimension-3x-large: var(--kern-64);--kern-metric-dimension-4x-large: var(--kern-80);--kern-metric-dimension-5x-large: var(--kern-96);--kern-metric-dimension-media-small: var(--kern-96);--kern-metric-dimension-media-default: var(--kern-160);--kern-metric-dimension-media-large: var(--kern-240);--kern-metric-screen-size: var(--kern-360);--kern-metric-space-none: var(--kern-0);--kern-metric-space-2x-small: var(--kern-2);--kern-metric-space-x-small: var(--kern-4);--kern-metric-space-small: var(--kern-8);--kern-metric-space-default: var(--kern-16);--kern-metric-space-large: var(--kern-24);--kern-metric-space-x-large: var(--kern-32);--kern-typography-font-family-default: var(--kern-typography-font-family-fira-sans);--kern-typography-line-height-static-medium: var(--kern-font-size-24);--kern-typography-line-height-static-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-24);--kern-typography-line-height-adaptive-large: var(--kern-font-size-32);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-56);--kern-typography-font-size-static-small: var(--kern-font-size-16);--kern-typography-font-size-static-medium: var(--kern-font-size-18);--kern-typography-font-size-static-large: var(--kern-font-size-21);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-21);--kern-typography-font-size-adaptive-large: var(--kern-font-size-26);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-48);--kern-metric-baseline-body-default-padding-top: var(--kern-6);--kern-metric-baseline-body-default-padding-bottom: var(--kern-2);--kern-metric-baseline-body-large-padding-top: var(--kern-1);--kern-metric-baseline-body-large-padding-bottom: var(--kern-7);--kern-metric-baseline-body-small-padding-top: var(--kern-7);--kern-metric-baseline-body-small-padding-bottom: var(--kern-1);--kern-metric-baseline-heading-display-padding-top: var(--kern-12);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-large-padding-top: var(--kern-7);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-9);--kern-metric-baseline-heading-medium-padding-top: var(--kern-5);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-3);--kern-metric-baseline-heading-small-padding-top: var(--kern-6);--kern-metric-baseline-heading-small-padding-bottom: var(--kern-2);--kern-metric-baseline-title-large-padding-top: var(--kern-7);--kern-metric-baseline-title-large-padding-bottom: var(--kern-9);--kern-metric-baseline-title-default-padding-top: var(--kern-5);--kern-metric-baseline-title-default-padding-bottom: var(--kern-3);--kern-metric-baseline-title-small-padding-top: var(--kern-6);--kern-metric-baseline-title-small-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-large-padding-top: var(--kern-1);--kern-metric-baseline-preline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-preline-default-padding-top: var(--kern-6);--kern-metric-baseline-preline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-preline-small-padding-top: var(--kern-7);--kern-metric-baseline-preline-small-padding-bottom: var(--kern-1);--kern-metric-baseline-subline-large-padding-top: var(--kern-1);--kern-metric-baseline-subline-large-padding-bottom: var(--kern-7);--kern-metric-baseline-subline-default-padding-top: var(--kern-6);--kern-metric-baseline-subline-default-padding-bottom: var(--kern-2);--kern-metric-baseline-subline-small-padding-top: var(--kern-7);--kern-metric-baseline-subline-small-padding-bottom: var(--kern-9);--kern-metric-baseline-label-large-padding-top: var(--kern-1);--kern-metric-baseline-label-large-padding-bottom: var(--kern-7);--kern-metric-baseline-label-default-padding-top: var(--kern-6);--kern-metric-baseline-label-default-padding-bottom: var(--kern-2);--kern-metric-baseline-label-small-padding-top: var(--kern-7);--kern-metric-baseline-label-small-padding-bottom: var(--kern-1);--kern-typography-font-weight-regular: 400;--kern-typography-font-weight-medium: 500;--kern-typography-font-weight-semi-bold: 600}@media (min-width: 768px){:root{--kern-component-kopfzeile-padding: var(--kern-7);--kern-component-alert-icon-size: var(--kern-40);--kern-component-kopfzeile-font-size: var(--kern-font-size-16);--kern-component-kopfzeile-line-height: var(--kern-font-size-20);--kern-component-kopfzeile-padding: var(--kern-5);--kern-metric-dimension-media-small: var(--kern-128);--kern-metric-dimension-media-default: var(--kern-192);--kern-metric-dimension-media-large: var(--kern-360);--kern-metric-screen-size: var(--kern-1920);--kern-typography-line-height-adaptive-medium: var(--kern-font-size-32);--kern-typography-line-height-adaptive-large: var(--kern-font-size-40);--kern-typography-line-height-adaptive-x-large: var(--kern-font-size-56);--kern-typography-line-height-adaptive-2x-large: var(--kern-font-size-80);--kern-typography-font-size-adaptive-medium: var(--kern-font-size-24);--kern-typography-font-size-adaptive-large: var(--kern-font-size-32);--kern-typography-font-size-adaptive-x-large: var(--kern-font-size-48);--kern-typography-font-size-adaptive-2x-large: var(--kern-font-size-72);--kern-metric-baseline-heading-x-large-padding-top: var(--kern-12);--kern-metric-baseline-heading-x-large-padding-bottom: var(--kern-12);--kern-metric-baseline-heading-large-padding-top: var(--kern-9);--kern-metric-baseline-heading-large-padding-bottom: var(--kern-7);--kern-metric-baseline-heading-medium-padding-top: var(--kern-8);--kern-metric-baseline-heading-medium-padding-bottom: var(--kern-8);--kern-metric-baseline-heading-display-padding-top: var(--kern-16);--kern-metric-baseline-heading-display-padding-bottom: var(--kern-16);--kern-metric-baseline-title-large-padding-top: var(--kern-9);--kern-metric-baseline-title-large-padding-bottom: var(--kern-7);--kern-metric-baseline-title-default-padding-top: var(--kern-8);--kern-metric-baseline-title-default-padding-bottom: var(--kern-8)}}@media (prefers-color-scheme: dark){:root{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}@media (prefers-color-scheme: light){:root{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}}[data-kern-theme=light],.kern-light{--kern-color-action-default: oklch(var(--kern-darkblue-700-lightness) var(--kern-darkblue-700-chroma) var(--kern-darkblue-700-hue));--kern-color-action-on-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-action-visited: oklch(var(--kern-violet-700-lightness) var(--kern-violet-700-chroma) var(--kern-violet-700-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-200-lightness) var(--kern-neutral-200-chroma) var(--kern-neutral-200-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 92%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-600-lightness) var(--kern-red-600-chroma) var(--kern-red-600-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-050-lightness) var(--kern-red-050-chroma) var(--kern-red-050-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-600-lightness) var(--kern-lightblue-600-chroma) var(--kern-lightblue-600-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-050-lightness) var(--kern-lightblue-050-chroma) var(--kern-lightblue-050-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-600-lightness) var(--kern-turquoise-600-chroma) var(--kern-turquoise-600-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-050-lightness) var(--kern-turquoise-050-chroma) var(--kern-turquoise-050-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-600-lightness) var(--kern-orange-600-chroma) var(--kern-orange-600-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-050-lightness) var(--kern-orange-050-chroma) var(--kern-orange-050-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-100-lightness) var(--kern-neutral-100-chroma) var(--kern-neutral-100-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-border: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-background-default: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-025-lightness) var(--kern-neutral-025-chroma) var(--kern-neutral-025-hue));--kern-color-layout-background-inverted: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue));--kern-color-layout-background-overlay: oklch(var(--kern-white-lightness) var(--kern-white-chroma) var(--kern-white-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), white calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}[data-kern-theme=dark],.kern-dark{--kern-color-action-default: oklch(var(--kern-darkblue-300-lightness) var(--kern-darkblue-300-chroma) var(--kern-darkblue-300-hue));--kern-color-action-on-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-action-visited: oklch(var(--kern-violet-300-lightness) var(--kern-violet-300-chroma) var(--kern-violet-300-hue));--kern-color-action-focus-background: oklch(var(--kern-neutral-400-lightness) var(--kern-neutral-400-chroma) var(--kern-neutral-400-hue));--kern-color-action-focus-border-inside: oklch(var(--kern-neutral-500-lightness) var(--kern-neutral-500-chroma) var(--kern-neutral-500-hue));--kern-color-action-focus-border-outside: oklch(var(--kern-neutral-800-lightness) var(--kern-neutral-800-chroma) var(--kern-neutral-800-hue));--kern-color-action-state-indicator-default: var(--kern-color-action-default);--kern-color-action-state-indicator-shade: var(--kern-color-layout-text-default);--kern-color-action-state-indicator-tint: var(--kern-color-action-on-default);--kern-color-action-state-opacity-hover: 88%;--kern-color-action-state-opacity-pressed: .32;--kern-color-action-state-opacity-selected: .12;--kern-color-action-state-opacity-disabled: .4;--kern-color-action-state-opacity-active: 84%;--kern-color-action-state-opacity-overlay: .72;--kern-color-feedback-danger: oklch(var(--kern-red-400-lightness) var(--kern-red-400-chroma) var(--kern-red-400-hue));--kern-color-feedback-danger-background: oklch(var(--kern-red-900-lightness) var(--kern-red-900-chroma) var(--kern-red-900-hue));--kern-color-feedback-info: oklch(var(--kern-lightblue-400-lightness) var(--kern-lightblue-400-chroma) var(--kern-lightblue-400-hue));--kern-color-feedback-info-background: oklch(var(--kern-lightblue-900-lightness) var(--kern-lightblue-900-chroma) var(--kern-lightblue-900-hue));--kern-color-feedback-success: oklch(var(--kern-turquoise-400-lightness) var(--kern-turquoise-400-chroma) var(--kern-turquoise-400-hue));--kern-color-feedback-success-background: oklch(var(--kern-turquoise-900-lightness) var(--kern-turquoise-900-chroma) var(--kern-turquoise-900-hue));--kern-color-feedback-warning: oklch(var(--kern-orange-400-lightness) var(--kern-orange-400-chroma) var(--kern-orange-400-hue));--kern-color-feedback-warning-background: oklch(var(--kern-orange-900-lightness) var(--kern-orange-900-chroma) var(--kern-orange-900-hue));--kern-color-feedback-loader: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-feedback-loader-background: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-form-input-background: oklch(var(--kern-neutral-900-lightness) var(--kern-neutral-900-chroma) var(--kern-neutral-900-hue));--kern-color-form-input-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-form-input-border: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-border: oklch(var(--kern-neutral-700-lightness) var(--kern-neutral-700-chroma) var(--kern-neutral-700-hue));--kern-color-layout-text-default: oklch(var(--kern-neutral-050-lightness) var(--kern-neutral-050-chroma) var(--kern-neutral-050-hue));--kern-color-layout-text-inverse: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-text-muted: oklch(var(--kern-neutral-300-lightness) var(--kern-neutral-300-chroma) var(--kern-neutral-300-hue));--kern-color-layout-background-default: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-hued: oklch(var(--kern-neutral-950-lightness) var(--kern-neutral-950-chroma) var(--kern-neutral-950-hue));--kern-color-layout-background-inverted: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue));--kern-color-layout-background-overlay: oklch(var(--kern-black-lightness) var(--kern-black-chroma) var(--kern-black-hue) / var(--kern-color-action-state-opacity-overlay));--kern-color-action-state-indicator-shade-hover: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-hover)));--kern-color-action-state-indicator-shade-active: color-mix(in oklch, var(--kern-color-action-default), black calc(100% - var(--kern-color-action-state-opacity-active)));--kern-color-action-state-indicator-tint-hover-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-hover));--kern-color-action-state-indicator-tint-active-opacity: color-mix(in oklch, var(--kern-color-action-default), transparent var(--kern-color-action-state-opacity-active))}
`,af=new CSSStyleSheet;af.replaceSync(`@layer kern-ux-icons {
	
		.kern-icon-fill--layers {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE1MS0zODZxLTEyLTguOTQtMTEuNS0yMy40N1QxNTIuMDgtNDMzcTguMy02IDE4LjExLTYgOS44MSAwIDE3LjgxIDZsMjkyIDIyNyAyOTItMjI3cTguMzItNiAxOC4xNi02dDE4LjA5IDUuOTdxMTIgOC45NSAxMi4zOCAyMy40OVE4MjEtMzk1IDgwOS0zODZMNTE3LTE1OXEtMTYuNSAxMy0zNi43NSAxM1Q0NDMtMTU5TDE1MS0zODZabTI5MiA3NUwxODEtNTE1cS0yMy0xNy44OC0yMy00Ni45NFQxODEtNjA5bDI2Mi0yMDRxMTYuNS0xMyAzNi43NS0xM1Q1MTctODEzbDI2MiAyMDRxMjMgMTcuODggMjMgNDYuOTRUNzc5LTUxNUw1MTctMzExcS0xNi41IDEzLTM2Ljc1IDEzVDQ0My0zMTFaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--filter-alt {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ0MC0xNjBxLTE3IDAtMjguNS0xMS41VDQwMC0yMDB2LTI0MEwxNjEtNzQ1cS0xNC0xNy00LTM2dDMxLTE5aDU4NHEyMSAwIDMxIDE5dC00IDM2TDU2MC00NDB2MjQwcTAgMTctMTEuNSAyOC41VDUyMC0xNjBoLTgwWm00MC0yNzYgMjQwLTMwNEgyNDBsMjQwIDMwNFptMCAwWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen-exit {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTI1My0yNTNIMTUwcS0xMi43NSAwLTIxLjM3LTguNjgtOC42My04LjY3LTguNjMtMjEuNSAwLTEyLjgyIDguNjMtMjEuMzIgOC42Mi04LjUgMjEuMzctOC41aDEzM3ExMi43NSAwIDIxLjM4IDguNjJRMzEzLTI5NS43NSAzMTMtMjgzdjEzM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMDNabTQ1NCAwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTY2NC4yNS0zMTMgNjc3LTMxM2gxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUg3MDdaTTI1My03MDd2LTEwM3EwLTEyLjc1IDguNjgtMjEuMzggOC42Ny04LjYyIDIxLjUtOC42MiAxMi44MiAwIDIxLjMyIDguNjIgOC41IDguNjMgOC41IDIxLjM4djEzM3EwIDEyLjc1LTguNjIgMjEuMzdRMjk1Ljc1LTY0NyAyODMtNjQ3SDE1MHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMDNabTQ1NCAwaDEwM3ExMi43NSAwIDIxLjM4IDguNjggOC42MiA4LjY3IDguNjIgMjEuNSAwIDEyLjgyLTguNjIgMjEuMzItOC42MyA4LjUtMjEuMzggOC41SDY3N3EtMTIuNzUgMC0yMS4zNy04LjYzUTY0Ny02NjQuMjUgNjQ3LTY3N3YtMTMzcTAtMTIuNzUgOC42OC0yMS4zOCA4LjY3LTguNjIgMjEuNS04LjYyIDEyLjgyIDAgMjEuMzIgOC42MiA4LjUgOC42MyA4LjUgMjEuMzh2MTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQxMy00MTMgMTM3LTUyMHEtMTAtNC0xNC41LTEydC00LjUtMTdxMC05IDQuNS0xNnQxNC41LTExbDY0MS0yNDFxOS00IDE3LjUtMS41VDgxMC04MTBxNiA2IDguNSAxNC41VDgxNy03NzhMNTc2LTEzN3EtNCAxMC0xMSAxNC41dC0xNiA0LjVxLTkgMC0xNy00LjVUNTIwLTEzN0w0MTMtNDEzWm0xMzIgMTc5IDE5Mi01MDMtNTAyIDE5MiAyMjQgODYgODYgMjI1Wm0tODYtMjI1WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--near-me-disabled {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTUyMC0xMzcgNDEzLTQxMyAxMzctNTIwcS0xMC00LTE0LjUtMTJ0LTQuNS0xN3EwLTkgNC41LTE2dDE0LjUtMTFsMjAwLTc1LTE5OC0xOThxLTktOS05LTIxLjV0OS0yMS41cTktOSAyMS41LTl0MjEuNSA5bDcxMCA3MTBxOSA5IDkgMjF0LTkgMjFxLTkgOS0yMS41IDl0LTIxLjUtOUw2NTEtMzM3bC03NSAyMDBxLTQgMTAtMTEgMTQuNXQtMTYgNC41cS05IDAtMTctNC41VDUyMC0xMzdabTI5MC02NzNxNiA2IDguNSAxNC41VDgxNy03NzhMNzE1LTUwN3EtNiAxNi0yMi41IDE5LjVUNjY0LTQ5NnEtNy03LTguNS0xNnQxLjUtMTdsODAtMjA4LTIwOCA4MHEtOCAzLTE3IDEuNXQtMTYtOC41cS0xMi0xMi04LjUtMjguNVQ1MDctNzE1bDI3MS0xMDJxOS00IDE3LjUtMS41VDgxMC04MTBaTTU0NS0yMzRsNTgtMTUxLTIxOC0yMTgtMTUwIDU4IDIyNCA4NiA4NiAyMjVabTM1LTM0NlptLTg2IDg2WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--home {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIyMC0xODBoMTUwdi0yMjBxMC0xMi43NSA4LjYzLTIxLjM4UTM4Ny4yNS00MzAgNDAwLTQzMGgxNjBxMTIuNzUgMCAyMS4zOCA4LjYyUTU5MC00MTIuNzUgNTkwLTQwMHYyMjBoMTUwdi0zOTBMNDgwLTc2NSAyMjAtNTcwdjM5MFptLTYwIDB2LTM5MHEwLTE0LjI1IDYuMzgtMjcgNi4zNy0xMi43NSAxNy42Mi0yMWwyNjAtMTk1cTE1LjY4LTEyIDM1Ljg0LTEyUTUwMC04MjUgNTE2LTgxM2wyNjAgMTk1cTExLjI1IDguMjUgMTcuNjMgMjEgNi4zNyAxMi43NSA2LjM3IDI3djM5MHEwIDI0Ljc1LTE3LjYyIDQyLjM3UTc2NC43NS0xMjAgNzQwLTEyMEg1NjBxLTEyLjc1IDAtMjEuMzctOC42M1E1MzAtMTM3LjI1IDUzMC0xNTB2LTIyMEg0MzB2MjIwcTAgMTIuNzUtOC42MiAyMS4zN1E0MTIuNzUtMTIwIDQwMC0xMjBIMjIwcS0yNC43NSAwLTQyLjM3LTE3LjYzUTE2MC0xNTUuMjUgMTYwLTE4MFptMzIwLTI5M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--fullscreen {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC0xODBoMTAzcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTUwcS0xMi43NSAwLTIxLjM3LTguNjNRMTIwLTEzNy4yNSAxMjAtMTUwdi0xMzNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMDNabTYwMCAwdi0xMDNxMC0xMi43NSA4LjY4LTIxLjM4IDguNjctOC42MiAyMS41LTguNjIgMTIuODIgMCAyMS4zMiA4LjYyIDguNSA4LjYzIDguNSAyMS4zOHYxMzNxMCAxMi43NS04LjYyIDIxLjM3UTgyMi43NS0xMjAgODEwLTEyMEg2NzdxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoMTAzWk0xODAtNzgwdjEwM3EwIDEyLjc1LTguNjggMjEuMzctOC42NyA4LjYzLTIxLjUgOC42My0xMi44MiAwLTIxLjMyLTguNjMtOC41LTguNjItOC41LTIxLjM3di0xMzNxMC0xMi43NSA4LjYzLTIxLjM4UTEzNy4yNS04NDAgMTUwLTg0MGgxMzNxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxODBabTYwMCAwSDY3N3EtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWgxMzNxMTIuNzUgMCAyMS4zOCA4LjYyUTg0MC04MjIuNzUgODQwLTgxMHYxMzNxMCAxMi43NS04LjY4IDIxLjM3LTguNjcgOC42My0yMS41IDguNjMtMTIuODIgMC0yMS4zMi04LjYzLTguNS04LjYyLTguNS0yMS4zN3YtMTAzWiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--draw {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0xMjBxLTEzIDAtMjEuNS04LjVUMTYwLTE1MHYtNzNxMC0xMiA1LTIzLjV0MTMtMTkuNWw1NTMtNTUzcTExLTExIDIyLjUtMTZ0MjQuNS01cTEyIDAgMjMuNSA1dDIyLjUgMTZsMzUgMzVxMTEgMTAgMTYgMjEuNXQ1IDI0LjVxMCAxMi01IDI0dC0xNiAyM0wzMDYtMTM4cS04IDgtMTkuNSAxM3QtMjMuNSA1aC03M1ptNTYzLTU0OSA2OC02OC00NC00NC02OCA2OCA0NCA0NFpNNTYwLTEyMHE3OCAwIDEzOS0zNi41VDc2MC0yNjBxMC0zNi0yNC02NnQtNzQtNTJxLTExLTUtMjMuNS00VDYxOS0zNzBxLTcgMTEtNC41IDI0dDEzLjUgMThxMzMgMTUgNTIuNSAzMi41VDcwMC0yNjBxMCAzMi00MC41IDU2VDU2MC0xODBxLTEyIDAtMjEgOC41dC05IDIxLjVxMCAxMiA5IDIxdDIxIDlaTTM3MC03MTlxMCAyMC0xOSAzNXQtODUgMzlxLTk0IDM0LTEyMCA2MnQtMjYgNjNxMCAzOCAyNyA2MXQ2MCAzNXExMiA1IDIzLS41dDE1LTE3LjVxNC0xMi0xLTIyLjVUMjI3LTQ4MHEtMjMtOS0zNS0xOXQtMTItMjFxMC0xNiAyMS41LTMwLjVUMjkwLTU5MHE4My0zMSAxMTEuNS01OS41VDQzMC03MTlxMC01Ni00MS04OC41VDI4MC04NDBxLTQyIDAtNzYgMTQuNVQxNTMtNzg5cS04IDktNy41IDIxdDExLjUgMjBxMTAgOCAyMi41IDYuNVQyMDAtNzUxcTE1LTE1IDM0LTIydDQ2LTdxNDYgMCA2OCAxOHQyMiA0M1oiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--all-inclusive {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTIxMi0yNjBxLTkwIDAtMTUxLTY1LjVUMC00ODJxMC05MCA2MS41LTE1NFQyMTItNzAwcTM2IDAgNjkuNSAxMnQ1OS41IDM3bDkzIDkwLTQyIDQyLTg5LTg3cS0xOC0xOC00MS41LTI2dC00OS41LThxLTY0IDAtMTA4IDQ2LjVUNjAtNDgycTAgNjYgNDMuNSAxMTRUMjEyLTMyMHEyNSAwIDQ4LjUtOHQ0Mi41LTI1bDMxNi0yOThxMjYtMjUgNTkuNS0zN3Q2OC41LTEycTkwIDAgMTUxLjUgNjRUOTYwLTQ4MnEwIDkxLTYxLjUgMTU2LjVUNzQ3LTI2MHEtMzUgMC02OS0xMS41VDYxOS0zMDhsLTkxLTkwIDQyLTQyIDg3IDg3cTE3IDE3IDQxIDI1dDQ5IDhxNjUgMCAxMDktNDh0NDQtMTE0cTAtNjUtNDQuNS0xMTEuNVQ3NDctNjQwcS0yNSAwLTQ4LjUgOVQ2NTctNjA1TDM0MS0zMDdxLTI2IDI0LTYwIDM1LjVUMjEyLTI2MFoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--history {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ3Ny0xMjBxLTE0MiAwLTI0My41LTk1LjVUMTIxLTQ1MXEtMS0xMiA3LjUtMjF0MjEuNS05cTEyIDAgMjAuNSA4LjVUMTgxLTQ1MXExMSAxMTUgOTUgMTkzdDIwMSA3OHExMjcgMCAyMTUtODl0ODgtMjE2cTAtMTI0LTg5LTIwOS41VDQ3Ny03ODBxLTY4IDAtMTI3LjUgMzFUMjQ2LTY2N2g3NXExMyAwIDIxLjUgOC41VDM1MS02MzdxMCAxMy04LjUgMjEuNVQzMjEtNjA3SDE3MnEtMTMgMC0yMS41LTguNVQxNDItNjM3di0xNDhxMC0xMyA4LjUtMjEuNVQxNzItODE1cTEzIDAgMjEuNSA4LjVUMjAyLTc4NXY3NnE1Mi02MSAxMjMuNS05NlQ0NzctODQwcTc1IDAgMTQxIDI4dDExNS41IDc2LjVRNzgzLTY4NyA4MTEuNS02MjJUODQwLTQ4MnEwIDc1LTI4LjUgMTQxdC03OCAxMTVRNjg0LTE3NyA2MTgtMTQ4LjVUNDc3LTEyMFptMzQtMzc0IDExNSAxMTNxOSA5IDkgMjEuNXQtOSAyMS41cS05IDktMjEgOXQtMjEtOUw0NjAtNDYwcS01LTUtNy0xMC41dC0yLTExLjV2LTE3MXEwLTEzIDguNS0yMS41VDQ4MS02ODNxMTMgMCAyMS41IDguNVQ1MTEtNjUzdjE1OVoiLz48L3N2Zz4=");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--timeline {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTEwOS45MS0yNDBRODEtMjQwIDYwLjUtMjYwLjU5IDQwLTI4MS4xOCA0MC0zMTAuMDl0MjAuNDktNDkuNDFxMjAuNS0yMC41IDQ5LjI4LTIwLjUgNS4yMyAwIDEwLjIzLjV0MTMgMi41bDIwMC0yMDBxLTItOC0yLjUtMTN0LS41LTEwLjIzcTAtMjguNzggMjAuNTktNDkuMjhRMzcxLjE4LTY3MCA0MDAuMDktNjcwdDQ5LjQxIDIwLjYzcTIwLjUgMjAuNjQgMjAuNSA0OS42MSAwIDEuNzYtMyAyMi43NmwxMTAgMTEwcTgtMiAxMy0yLjV0MTAtLjVxNSAwIDEwIC41dDEzIDIuNWwxNjAtMTYwcS0yLTgtMi41LTEzdC0uNS0xMC4yM3EwLTI4Ljc4IDIwLjU5LTQ5LjI4UTgyMS4xOC03MjAgODUwLjA5LTcyMHQ0OS40MSAyMC41OXEyMC41IDIwLjU5IDIwLjUgNDkuNXQtMjAuNDkgNDkuNDFxLTIwLjUgMjAuNS00OS4yOCAyMC41LTUuMjMgMC0xMC4yMy0uNXQtMTMtMi41TDY2Ny00MjNxMiA4IDIuNSAxM3QuNSAxMC4yM3EwIDI4Ljc4LTIwLjU5IDQ5LjI4UTYyOC44Mi0zMzAgNTk5LjkxLTMzMHQtNDkuNDEtMjAuNDlxLTIwLjUtMjAuNS0yMC41LTQ5LjI4IDAtNS4yMy41LTEwLjIzdDIuNS0xM0w0MjMtNTMzcS04IDItMTMgMi41dC0xMC4yNS41cS0xLjc1IDAtMjIuNzUtM0wxNzctMzMzcTIgOCAyLjUgMTN0LjUgMTAuMjNxMCAyOC43OC0yMC41OSA0OS4yOFExMzguODItMjQwIDEwOS45MS0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--calendar-month {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE4MC04MHEtMjQgMC00Mi0xOHQtMTgtNDJ2LTYyMHEwLTI0IDE4LTQydDQyLTE4aDY1di0yOHEwLTEzLjYgOS4yLTIyLjggOS4yLTkuMiAyMi44LTkuMiAxNC4wMiAwIDIzLjUxIDkuMlEzMTAtODYxLjYgMzEwLTg0OHYyOGgzNDB2LTI4cTAtMTMuNiA5LjItMjIuOCA5LjItOS4yIDIyLjgtOS4yIDE0LjAzIDAgMjMuNTEgOS4yUTcxNS04NjEuNiA3MTUtODQ4djI4aDY1cTI0IDAgNDIgMTh0MTggNDJ2NjIwcTAgMjQtMTggNDJ0LTQyIDE4SDE4MFptMC02MGg2MDB2LTQzMEgxODB2NDMwWm0wLTQ5MGg2MDB2LTEzMEgxODB2MTMwWm0wIDB2LTEzMCAxMzBabTMwMCAyMzBxLTE3IDAtMjguNS0xMS41VDQ0MC00NDBxMC0xNyAxMS41LTI4LjVUNDgwLTQ4MHExNyAwIDI4LjUgMTEuNVQ1MjAtNDQwcTAgMTctMTEuNSAyOC41VDQ4MC00MDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTQ0MHEwLTE3IDExLjUtMjguNVQzMjAtNDgwcTE3IDAgMjguNSAxMS41VDM2MC00NDBxMCAxNy0xMS41IDI4LjVUMzIwLTQwMFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC00NDBxMC0xNyAxMS41LTI4LjVUNjQwLTQ4MHExNyAwIDI4LjUgMTEuNVQ2ODAtNDQwcTAgMTctMTEuNSAyOC41VDY0MC00MDBaTTQ4MC0yNDBxLTE3IDAtMjguNS0xMS41VDQ0MC0yODBxMC0xNyAxMS41LTI4LjVUNDgwLTMyMHExNyAwIDI4LjUgMTEuNVQ1MjAtMjgwcTAgMTctMTEuNSAyOC41VDQ4MC0yNDBabS0xNjAgMHEtMTcgMC0yOC41LTExLjVUMjgwLTI4MHEwLTE3IDExLjUtMjguNVQzMjAtMzIwcTE3IDAgMjguNSAxMS41VDM2MC0yODBxMCAxNy0xMS41IDI4LjVUMzIwLTI0MFptMzIwIDBxLTE3IDAtMjguNS0xMS41VDYwMC0yODBxMC0xNyAxMS41LTI4LjVUNjQwLTMyMHExNyAwIDI4LjUgMTEuNVQ2ODAtMjgwcTAgMTctMTEuNSAyOC41VDY0MC0yNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--drag-handle {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTE5MC0zOTBxLTEyLjc1IDAtMjEuMzctOC42OC04LjYzLTguNjctOC42My0yMS41IDAtMTIuODIgOC42My0yMS4zMiA4LjYyLTguNSAyMS4zNy04LjVoNTgwcTEyLjc1IDAgMjEuMzggOC42OCA4LjYyIDguNjcgOC42MiAyMS41IDAgMTIuODItOC42MiAyMS4zMi04LjYzIDguNS0yMS4zOCA4LjVIMTkwWm0wLTEyMHEtMTIuNzUgMC0yMS4zNy04LjY4LTguNjMtOC42Ny04LjYzLTIxLjUgMC0xMi44MiA4LjYzLTIxLjMyIDguNjItOC41IDIxLjM3LTguNWg1ODBxMTIuNzUgMCAyMS4zOCA4LjY4IDguNjIgOC42NyA4LjYyIDIxLjUgMCAxMi44Mi04LjYyIDIxLjMyLTguNjMgOC41LTIxLjM4IDguNUgxOTBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon-fill--settings {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQyMS04MHEtMTQgMC0yNS05dC0xMy0yM2wtMTUtOTRxLTE5LTctNDAtMTl0LTM3LTI1bC04NiA0MHEtMTQgNi0yOCAxLjVUMTU1LTIyNkw5Ny0zMzBxLTgtMTMtNC41LTI3dDE1LjUtMjNsODAtNTlxLTItOS0yLjUtMjAuNVQxODUtNDgwcTAtOSAuNS0yMC41VDE4OC01MjFsLTgwLTU5cS0xMi05LTE1LjUtMjN0NC41LTI3bDU4LTEwNHE4LTEzIDIyLTE3LjV0MjggMS41bDg2IDQwcTE2LTEzIDM3LTI1dDQwLTE4bDE1LTk1cTItMTQgMTMtMjN0MjUtOWgxMThxMTQgMCAyNSA5dDEzIDIzbDE1IDk0cTE5IDcgNDAuNSAxOC41VDY2OS03MTBsODYtNDBxMTQtNiAyNy41LTEuNVQ4MDQtNzM0bDU5IDEwNHE4IDEzIDQuNSAyNy41VDg1Mi01ODBsLTgwIDU3cTIgMTAgMi41IDIxLjV0LjUgMjEuNXEwIDEwLS41IDIxdC0yLjUgMjFsODAgNThxMTIgOCAxNS41IDIyLjVUODYzLTMzMGwtNTggMTA0cS04IDEzLTIyIDE3LjV0LTI4LTEuNWwtODYtNDBxLTE2IDEzLTM2LjUgMjUuNVQ1OTItMjA2bC0xNSA5NHEtMiAxNC0xMyAyM3QtMjUgOUg0MjFabTU5LTI3MHE1NCAwIDkyLTM4dDM4LTkycTAtNTQtMzgtOTJ0LTkyLTM4cS01NCAwLTkyIDM4dC0zOCA5MnEwIDU0IDM4IDkydDkyIDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--deselect {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTgyMi01MCA1ODYtMjg1SDM0NXEtMjQuNzUgMC00Mi4zNy0xNy42M1EyODUtMzIwLjI1IDI4NS0zNDV2LTI0MUw1OS04MTJxLTktOC41LTktMjEuMjVUNTguNjEtODU1cTkuMzktOSAyMS44Ni05IDEyLjQ2IDAgMjEuNTMgOUw4NjUtOTJxOSA5IDkgMjF0LTkgMjEuMzlRODU2LTQxIDg0My41LTQxVDgyMi01MFpNNTI2LTM0NSAzNDUtNTI2djE4MWgxODFabTE0OS0yMi02MC02MHYtMTg4SDQyN2wtNjAtNjBoMjQ4cTI0Ljc1IDAgNDIuMzggMTcuNjJRNjc1LTYzOS43NSA2NzUtNjE1djI0OFpNMzE0LjgyLTc4MHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm02NjAgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0tNjYwIDE2NXEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41Wm0xNjUgMHEtMTIuODIgMC0yMS4zMi04LjY4LTguNS04LjY3LTguNS0yMS41IDAtMTIuODIgOC42OC0yMS4zMiA4LjY3LTguNSAyMS41LTguNSAxMi44MiAwIDIxLjMyIDguNjggOC41IDguNjcgOC41IDIxLjUgMCAxMi44Mi04LjY4IDIxLjMyLTguNjcgOC41LTIxLjUgOC41WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--close {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4MC00MzggMjcwLTIyOHEtOSA5LTIxIDl0LTIxLTlxLTktOS05LTIxdDktMjFsMjEwLTIxMC0yMTAtMjEwcS05LTktOS0yMXQ5LTIxcTktOSAyMS05dDIxIDlsMjEwIDIxMCAyMTAtMjEwcTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMNTIyLTQ4MGwyMTAgMjEwcTkgOSA5IDIxdC05IDIxcS05IDktMjEgOXQtMjEtOUw0ODAtNDM4WiIvPjwvc3ZnPg==");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--arrow-back {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0ibTI3NC00NTAgMjI3IDIyN3E5IDkgOSAyMXQtOSAyMXEtOSA5LTIxIDl0LTIxLTlMMTgxLTQ1OXEtNS01LTctMTB0LTItMTFxMC02IDItMTF0Ny0xMGwyNzgtMjc4cTktOSAyMS05dDIxIDlxOSA5IDkgMjF0LTkgMjFMMjc0LTUxMGg0OTZxMTMgMCAyMS41IDguNVQ4MDAtNDgwcTAgMTMtOC41IDIxLjVUNzcwLTQ1MEgyNzRaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	

		.kern-icon--info {
			mask: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIiIGhlaWdodD0iIiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCI+PHBhdGggZD0iTTQ4My4xOC0yODBxMTIuODIgMCAyMS4zMi04LjYzIDguNS04LjYyIDguNS0yMS4zN3YtMTgwcTAtMTIuNzUtOC42OC0yMS4zOC04LjY3LTguNjItMjEuNS04LjYyLTEyLjgyIDAtMjEuMzIgOC42Mi04LjUgOC42My04LjUgMjEuMzh2MTgwcTAgMTIuNzUgOC42OCAyMS4zNyA4LjY3IDguNjMgMjEuNSA4LjYzWm0tMy4yLTMxNHExNC4wMiAwIDIzLjUyLTkuMlQ1MTMtNjI2cTAtMTQuNDUtOS40OC0yNC4yMi05LjQ4LTkuNzgtMjMuNS05Ljc4dC0yMy41MiA5Ljc4UTQ0Ny02NDAuNDUgNDQ3LTYyNnEwIDEzLjYgOS40OCAyMi44IDkuNDggOS4yIDIzLjUgOS4yWm0uMjkgNTE0cS04Mi43NCAwLTE1NS41LTMxLjVRMjUyLTE0MyAxOTcuNS0xOTcuNXQtODYtMTI3LjM0UTgwLTM5Ny42OCA4MC00ODAuNXQzMS41LTE1NS42NlExNDMtNzA5IDE5Ny41LTc2M3QxMjcuMzQtODUuNVEzOTcuNjgtODgwIDQ4MC41LTg4MHQxNTUuNjYgMzEuNVE3MDktODE3IDc2My03NjN0ODUuNSAxMjdRODgwLTU2MyA4ODAtNDgwLjI3cTAgODIuNzQtMzEuNSAxNTUuNVE4MTctMjUyIDc2My0xOTcuNjhxLTU0IDU0LjMxLTEyNyA4NlE1NjMtODAgNDgwLjI3LTgwWm0uMjMtNjBRNjIyLTE0MCA3MjEtMjM5LjV0OTktMjQxUTgyMC02MjIgNzIxLjE5LTcyMVQ0ODAtODIwcS0xNDEgMC0yNDAuNSA5OC44MVQxNDAtNDgwcTAgMTQxIDk5LjUgMjQwLjV0MjQxIDk5LjVabS0uNS0zNDBaIi8+PC9zdmc+");
			background-color: var(--kern-color-layout-text-default, #171a2b);
		}
	
}`);function sf(r,e=[]){return Object.entries(r).flatMap(([t,n])=>{const i=[...e,t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase())];return typeof n=="string"?[[`kern-${i.join("-")}`,n]]:sf(n,i)})}function v_(r){const e=new CSSStyleSheet,t=sf(r);return e.replaceSync(`
		@layer kern-ux-theme {
			:host {
				${t.map(([n,i])=>`--${n}: ${i} !important;`).join(`
`)}
			}
		}
	`),e}function k_(r,e={}){r.adoptedStyleSheets.push(af);const t=new CSSStyleSheet;t.replaceSync(`
		@layer kern-ux {
			${y_.replaceAll(":root",":host")}
		}
	`),r.adoptedStyleSheets.push(t),typeof e.typography?.font?.family?.default<"u"&&Promise.resolve({});const n=v_(e);r.adoptedStyleSheets.push(n)}const b_=r=>({...r,layers:r.layers.map(e=>typeof e.minZoom<"u"?{...e,minZoom:e.minZoom-1}:e)}),x_={class:"kern-label kern-sr-only"},Jp=.1,w_=Fe({__name:"MoveHandle.ce",setup(r){let e=0,t=0,n=null,i=!1;const o=ct(),a=a0(),{deviceIsHorizontal:s}=dt(o),{actionButton:l,closeLabel:c,closeIcon:u,component:d,top:h}=dt(a),p=Un("handleElement"),m=at(!1),v=at(Number.MAX_SAFE_INTEGER),y=fe(()=>i?{move:"touchmove",end:"touchend"}:{move:"mousemove",end:"mouseup"});ao(()=>{const{clientHeight:Q}=o.shadowRoot.host;h.value===null&&(h.value=Q*.55);const C=p.value;C.style.position="fixed",C.style.width="100%",C.style["z-index"]=1,C.style.left="0",C.style.top=`${w(h.value,Q,v.value)}px`,n=new ResizeObserver(D),n.observe(C),C.focus(),D()}),Zs(()=>{n!==null&&(n.disconnect(),n=null),h.value=null}),At(s,Q=>{Q||D()}),At(m,Q=>{const{move:C,end:U}=y.value;if(Q){p.value.classList.add("polar-move-handle-is-moving"),document.addEventListener(C,N),document.addEventListener(U,W,{once:!0});return}p.value.classList.remove("polar-move-handle-is-moving"),document.removeEventListener(C,N),document.removeEventListener(U,W)}),At(v,(Q,C)=>{Q<C&&(te(),le(0))});function _(Q){a.closeFunction(Q),a.$reset()}function w(Q,C,U){let J=Q;return C-J<C*Jp&&(J=C-C*Jp),C-J>C*U&&(J=C-C*U),h.value=J,J}function A(Q){(Q==="ArrowUp"||Q==="ArrowDown")&&(te(),le(Q==="ArrowUp"?-5:5))}function T(Q){i=!1,R(Q)}function N(Q){const C=Q instanceof MouseEvent?Q.clientX:Q.touches[0].clientX,U=Q instanceof MouseEvent?Q.clientY:Q.touches[0].clientY,J=U-e;(C<0||C>window.innerWidth||U<0||U>window.innerHeight)&&(m.value=!1),le(J)}function W(){m.value=!1}function Y(Q){i=!0,R(Q)}function ie(Q){e=Q instanceof MouseEvent?Q.clientY:Q.touches[0].clientY}function te(){t=p.value.offsetTop}function le(Q){p.value.style.top=`${w(Math.round(t+Q),o.shadowRoot.host.clientHeight,v.value)}px`}function R(Q){ie(Q),te(),m.value=!0}function D(){v.value=p.value.clientHeight/o.shadowRoot.host.clientHeight}return(Q,C)=>(B(),de("div",{id:"polar-move-handle",ref_key:"handleElement",ref:p,tabindex:"0",onKeydown:C[1]||(C[1]=qn(U=>A(U.key),["stop"])),onMousedown:qn(T,["stop"]),onTouchstart:qn(Y,["stop"])},[C[2]||(C[2]=_e("span",{class:"kern-icon kern-icon--drag-handle","aria-hidden":"true"},null,-1)),_e("div",{class:ft(["polar-move-handle-actions",{"polar-move-handle-has-action-button":Z(l)!==null}])},[Z(l)?(B(),qe(Bt(Z(l)),{key:0})):Nt("",!0),_e("button",{class:"kern-btn kern-btn--tertiary",onClick:C[0]||(C[0]=U=>_(!0))},[_e("span",{class:ft(`kern-icon ${Z(u)}`),"aria-hidden":"true"},null,2),_e("span",x_,ut(Z(c)),1)])],2),(B(),qe(Bt(Z(d))))],544))}}),__="#polar-move-handle{&[data-v-e0291d1d]{position:static;height:auto;width:auto;display:flex;flex-direction:column;align-items:center;background:var(--kern-color-layout-background-default);cursor:ns-resize;box-shadow:#0000004d 0 19px 38px,#00000038 0 15px 12px}&[data-v-e0291d1d]:focus{outline:solid var(--kern-color-action-default)}}.polar-move-handle-actions[data-v-e0291d1d]{display:flex;justify-content:flex-end;width:100%;padding:0 var(--kern-metric-space-small)}.polar-move-handle-has-action-button[data-v-e0291d1d]{justify-content:space-between}.polar-move-handle-is-moving[data-v-e0291d1d]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none!important;user-select:none}[data-v-e0291d1d] .kern-card{box-shadow:none!important;width:100%;border:none}",T_=st(w_,[["styles",[__]],["__scopeId","data-v-e0291d1d"]]);function E_(r){return Array.isArray(r.layers)?r.layers:typeof r.layerConf>"u"||r.layerConf===sr.layerConf?sr.layers:[]}let M_=0;const C_={wms:Gb,wmts:B2,wfs:aw,geojson:hw,vectortile:l_,oaf:g_},eg=Bn.prototype.addLayer;function lf(r){return r.getLayers?r.getLayers().getArray().map(e=>lf(e)).flat(1):[r]}function tg(r,e){lf(r).forEach(t=>{const n=t.getSource?.();n?(n.on?.("tileloaderror",e),n.on?.("imageloaderror",e),n.on?.("featuresloaderror",e),n.on?.("error",e)):console.error("Could not register error callback on layer:",t)})}function S_(r,e){const t=e?.visibility??e?.layerParams?.visibility??!0,n=e?.transparency??e?.layerParams?.transparency??0,i={...e?.layerParams||{},visibility:t,transparency:n},o=typeof e?.errorCallback=="function"?e?.errorCallback:console.error;let a,s;if(typeof r=="string"){const l=Ws.getLayerWhere({id:r});return l?(s=C_[l.typ.toLowerCase()],s?(a=s.createLayer(l,{layerParams:i},{map:this}),a.setVisible(typeof t=="boolean"?t:!0),a.setOpacity(typeof n=="number"?(100-n)/100:1),tg(a,o),eg.call(this,a),a):(console.error("Layer with id '"+r+"' has unknown type '"+l.typ+"'. No layer added to map."),null)):(console.error("Layer with id '"+r+"' not found. No layer added to map."),null)}return tg(r,o),eg.call(this,r)}Bn.prototype.addLayer=S_;function L_(r=sr,{mapParams:e,callback:t,errorCallback:n}={}){vb.registerProjections(r.namedProjections),m_(r),gv(r.gazetteerUrl);const i=Object.assign({},{dragPan:!1,altShiftDragRotate:!1,pinchRotate:!1},r.mapInteractions?.interactionModes),o=new Bn(Object.assign({target:r.target||sr.target,interactions:nd(i).extend([new _s({condition:function(a){return a.originalEvent.shiftKey?!1:!a.originalEvent.pointerType||a.originalEvent.pointerType==="mouse"||r.mapInteractions?.interactionModes?.twoFingerPan&&this.getPointerCount()===2||!r.mapInteractions?.interactionModes?.twoFingerPan}})]),controls:[],view:hb(r),keyboardEventTarget:r.mapInteractions?.keyboardEventTarget?document:!1},e));return o.set("mapMode","2D"),o.set("id",`map2D_${M_++}`),Ws.initializeLayerList(r.layerConf,(a,s)=>(E_(r).forEach(l=>{o.addLayer(l.id,{layerParams:l,errorCallback:n})}),typeof t=="function"?t(a,s):null)),o}let rs,cf;function bu(){if(rs===void 0){const r=document.createElement("canvas");r.setAttribute("style","image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; image-rendering: pixelated;");const e=r.style.imageRendering;rs=!!e,rs&&(cf=e)}return rs}function I_(){return bu(),cf||""}function hs(r){return r.get("olcs_projection")||r.getProjection()}let A_=0;function Xe(r){return r.olcs_uid||(r.olcs_uid=++A_)}function xc(r){const e=r;return e.readyPromise||(e.ready!==void 0?e.ready?Promise.resolve(r):new Promise((n,i)=>{const o=setInterval(()=>{e.ready&&(clearInterval(o),n(r))},20)}):Promise.reject("Not a readyable object"))}function N_(r){const e=r.load||el,t=r.imageExtent,n=r.crossOrigin??null;return()=>{const i=new Image;return i.crossOrigin=n,e(i,r.url).then(o=>{const a=qt(t)/o.width,s=pn(t)/o.height;return{image:o,extent:t,resolution:a!==s?[a,s]:s,pixelRatio:1}})}}class uf extends sl{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,n=e.imageLoadFunction!==void 0?e.imageLoadFunction:Z0;super({attributions:e.attributions,interpolate:e.interpolate,projection:pe(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new Xs(this.imageExtent_,void 0,1,N_({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(i,o)=>(this.image.setImage(i),n(this.image,o),el(i))})),this.image.addEventListener(Oe.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,n,i){return va(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}function df(){const r=document.createElement("canvas");return r.width=1,r.height=1,r}class O_{source_;projection_;fallbackProj_;map_;shouldRequestNextLevel;emptyCanvas_=df();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_;ready_;rectangle_;get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;proxy;get _ready(){return this.ready_}get tileWidth(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[0]:t}return 256}get tileHeight(){const e=this.source_.getTileGrid();if(e){const t=e.getTileSize(0);return Array.isArray(t)?t[1]:t}return 256}get maximumLevel(){const e=this.source_.getTileGrid();return e?e.getMaxZoom():18}get minimumLevel(){return 0}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e,t,n){this.source_=t,this.projection_=null,this.ready_=!1,this.fallbackProj_=n||null,this.tilingScheme_=new Cesium.WebMercatorTilingScheme,this.rectangle_=null,this.map_=e,this.shouldRequestNextLevel=!1;const i=this.source_.get("olcs_proxy");i&&(typeof i=="function"?this.proxy={getURL:i}:typeof i=="string"&&(this.proxy=new Cesium.DefaultProxy(i))),this.source_.on("change",o=>{this.handleSourceChanged_()}),this.handleSourceChanged_()}handleSourceChanged_(){if(!this.ready_&&this.source_.getState()=="ready"){this.projection_=hs(this.source_)||this.fallbackProj_;const e={numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1};if(this.source_.getTileGrid()!==null&&this.source_.getTileGrid().forEachTileCoord(this.projection_.getExtent(),0,([t,n,i])=>{e.numberOfLevelZeroTilesX=n+1,e.numberOfLevelZeroTilesY=i+1}),this.projection_.getCode()==="EPSG:4326")this.shouldRequestNextLevel=e.numberOfLevelZeroTilesX===1&&e.numberOfLevelZeroTilesY===1,this.tilingScheme_=new Cesium.GeographicTilingScheme(e);else if(this.projection_.getCode()==="EPSG:3857")this.shouldRequestNextLevel=!1,this.tilingScheme_=new Cesium.WebMercatorTilingScheme(e);else return;this.rectangle_=this.tilingScheme_.rectangle,this.ready_=!0}}getTileCredits(e,t,n){const i=this.source_.getAttributions();if(!i)return[];const o=this.map_.getView().calculateExtent(this.map_.getSize()),a=this.map_.getView().getCenter(),s=this.shouldRequestNextLevel?n+1:n;return pf(i,s,a,o)}requestImage(e,t,n,i){const o=this.source_.getTileUrlFunction();if(o&&this.projection_){const a=this.shouldRequestNextLevel?n+1:n;let s=o.call(this.source_,[a,e,t],1,this.projection_);return this.proxy&&(s=this.proxy.getURL(s)),s?Cesium.ImageryProvider.loadImage(this,s):this.emptyCanvasPromise_}else return this.emptyCanvasPromise_}}const P_=new fd({featureClass:Ht}),D_=[new Mt({stroke:new mr({color:"blue",width:2})})];class R_{urls;emptyCanvas_=df();emptyCanvasPromise_=Promise.resolve(this.emptyCanvas_);tilingScheme_=new Cesium.WebMercatorTilingScheme;ready_=!0;rectangle_;tileRectangle_;tileWidth=256;tileHeight=256;maximumLevel=20;minimumLevel_=0;get minimumLevel(){return this.minimumLevel_}featureCache;tileCache;tileFunction_;styleFunction_;projection_=pe("EPSG:3857");get ready(){return this.ready_}get rectangle(){return this.rectangle_}get tilingScheme(){return this.tilingScheme_}errorEvent=new Cesium.Event;credit;getTileCredits(e,t,n){return[]}proxy;get _ready(){return this.ready_}get tileDiscardPolicy(){}get hasAlphaChannel(){return!0}pickFeatures(e,t,n,i,o){}constructor(e){this.urls=e.urls,this.rectangle_=e.rectangle||this.tilingScheme.rectangle,this.credit=e.credit,this.styleFunction_=e.styleFunction||(()=>D_),this.tileRectangle_=new Cesium.Rectangle;const t=e.cacheSize!==void 0?e.cacheSize:50;this.tileCache=new Fh(t),this.featureCache=e.featureCache||new Fh(t),this.minimumLevel_=e.minimumLevel||0;const n=il(this.projection_);this.tileFunction_=ld(this.urls,n)}getTileFeatures(e,t,n){const i=this.getCacheKey_(e,t,n);let o;if(this.featureCache.containsKey(i)&&(o=this.featureCache.get(i)),!o){const a=this.getUrl_(e,t,n);if(o=fetch(a).then(s=>s.ok?s:Promise.reject(s)).then(s=>s.arrayBuffer()).then(s=>this.readFeaturesFromBuffer(s)),this.featureCache.set(i,o),this.featureCache.getCount()>2*this.featureCache.highWaterMark)for(;this.featureCache.canExpireCache();)this.featureCache.pop()}return o}readFeaturesFromBuffer(e){const t=P_.readFeatures(e),n=this.tileWidth/4096;return t.forEach(i=>{const o=i.getFlatCoordinates();for(let a=0;a<o.length;++a)o[a]*=n}),t}getUrl_(e,t,n){return this.tileFunction_([e,t,n],1,this.projection_)}getCacheKey_(e,t,n){return`${e}_${t}_${n}`}requestImage(e,t,n,i){if(n<this.minimumLevel_)return this.emptyCanvasPromise_;try{const o=this.getCacheKey_(n,e,t);let a;if(this.tileCache.containsKey(o)&&(a=this.tileCache.get(o)),!a&&(a=this.getTileFeatures(n,e,t).then(s=>{this.tilingScheme.tileXYToNativeRectangle(e,t,n,this.tileRectangle_);const l=(this.tileRectangle_.east-this.tileRectangle_.west)/this.tileWidth;return this.rasterizeFeatures(s,this.styleFunction_,l)}),this.tileCache.set(o,a),this.tileCache.getCount()>2*this.tileCache.highWaterMark))for(;this.tileCache.canExpireCache();)this.tileCache.pop();return a}catch(o){console.trace(o),this.errorEvent.raiseEvent("could not render pbf to tile",o)}}rasterizeFeatures(e,t,n){const i=document.createElement("canvas"),o=Uk(i.getContext("2d"),{size:[this.tileWidth,this.tileHeight]});return e.forEach(a=>{const s=t(a,n);s&&(Array.isArray(s)?s.forEach(l=>{o.setStyle(l),o.drawGeometry(a)}):(o.setStyle(s),o.drawGeometry(a)))}),i}}function j_(r,e){const t=r.camera.getPickRay(e);return r.globe.pick(t,r)||r.camera.pickEllipsoid(e)}function q_(r){const e=r.canvas,t=new Cesium.Cartesian2(e.clientWidth/2,e.clientHeight/2);return j_(r,t)}function Zd(r,e){if(r&&e){const t=ci(r,e,"EPSG:4326");return Cesium.Rectangle.fromDegrees(t[0],t[1],t[2],t[3])}else return null}function F_(r,e,t,n){const i=e.get("olcs_skip");if(i)return null;let o=null;if(e instanceof ud&&e.getUrl()){const a={olcs_proxy:e.get("olcs_proxy"),olcs_extent:e.get("olcs_extent"),olcs_projection:e.get("olcs_projection"),"olcs.imagesource":e},s=e.getImageLoadFunction(),l=e.get("olcs_tileLoadFunction")||function(c,u){s(c,u)};e=new cd({url:e.getUrl(),attributions:e.getAttributions(),projection:e.getProjection(),tileLoadFunction:l,params:e.getParams()}),e.setProperties(a)}if(e instanceof al){let a=hs(e);if(a||(a=t),ng(a))o=new O_(r,e,t);else return null}else if(e instanceof uf){let a=hs(e);if(a||(a=t),ng(a)){const s=Cesium.Rectangle.fromDegrees(e.getImageExtent()[0],e.getImageExtent()[1],e.getImageExtent()[2],e.getImageExtent()[3],new Cesium.Rectangle);o=new Cesium.SingleTileImageryProvider({url:e.getUrl(),rectangle:s})}else return null}else if(e instanceof pl&&n instanceof cn){let a=hs(e);if(a||(a=t),i===!1){const s=a.getCode().split(":")[1],l=e.urls.map(v=>v.replace(s,"3857")),c=n.getExtent(),u=Zd(c,a),d=e.get("olcs_minimumLevel"),h=e.getAttributions(),p=n.getStyleFunction();let m;if(c&&h){const v=Hn(c);m=pf(h,0,v,c)[0]}return o=new R_({credit:m,rectangle:u,minimumLevel:d,styleFunction:p,urls:l}),o}return null}else return null;return o}function hf(r,e,t){if(!(e instanceof Ci)&&!(e instanceof Ma)&&!(e instanceof cn))return null;const n=e.getSource();if(!n)return null;let i=n.get("olcs_provider");if(i||(i=F_(r,n,t,e)),!i)return null;const o={},a=e.get("olcs_extent")||e.getExtent();return a&&(o.rectangle=Zd(a,t)),new Cesium.ImageryLayer(i,o)}function qs(r,e){let t=1,n=!0;[r.layer].concat(r.parents).forEach(i=>{const o=i.getOpacity();o!==void 0&&(t*=o);const a=i.getVisible();a!==void 0&&(n=n&&a)}),e.alpha=t,e.show=n}function Hi(r){const e=r;return e.length>2?Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]):Cesium.Cartesian3.fromDegrees(e[0],e[1])}function wc(r){console.assert(r!==null);const e=Hi,t=[];for(let n=0;n<r.length;++n)t.push(e(r[n]));return t}function ns(r,e){console.assert(e);const t=pe("EPSG:4326"),n=pe(e);if(n.getCode()!==t.getCode()){const i=r.getProperties();r=r.clone(),r.transform(n,t),r.setProperties(i)}return r}function rg(r){if(r=r||"black",Array.isArray(r))return new Cesium.Color(Cesium.Color.byteToFloat(r[0]),Cesium.Color.byteToFloat(r[1]),Cesium.Color.byteToFloat(r[2]),r[3]);if(typeof r=="string")return Cesium.Color.fromCssColorString(r);if(r instanceof CanvasPattern||r instanceof CanvasGradient){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=e.height=256,t.fillStyle=r,t.fillRect(0,0,e.width,e.height),new Cesium.ImageMaterialProperty({image:e})}console.assert(!1,"impossible")}function ng(r){const e=r.getCode()==="EPSG:3857",t=r.getCode()==="EPSG:4326";return e||t}function pf(r,e,t,n){if(!r)return[];let i=r({viewState:{zoom:e,center:t,projection:void 0,resolution:void 0,rotation:void 0},extent:n});return Array.isArray(i)||(i=[i]),i.map(o=>new Cesium.Credit(o,!0))}function z_(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=r*i.clientHeight,l=Math.cos(Math.abs(e));return s*a*l/2/Math.tan(o/2)}function U_(r,e,t,n){const i=t.canvas,o=t.camera.frustum.fovy;console.assert(!isNaN(o));const a=n.getMetersPerUnit(),s=2*r*Math.tan(o/2),l=Math.cos(Math.abs(e));return s/a/l/i.clientHeight}class $_{ol3d;scene_;canvas_;_boundNotifyRepaintRequired;repaintEventNames_=["mousemove","mousedown","mouseup","touchstart","touchend","touchmove","pointerdown","pointerup","pointermove","wheel"];constructor(e){this.ol3d=e,this.scene_=e.getCesiumScene(),this.canvas_=this.scene_.canvas,this._boundNotifyRepaintRequired=this.notifyRepaintRequired.bind(this),this.enable()}enable(){this.scene_.requestRenderMode=!0,this.scene_.maximumRenderTimeChange=1e3;for(const e of this.repaintEventNames_)this.canvas_.addEventListener(e,this._boundNotifyRepaintRequired,!1);window.addEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().on("change",this._boundNotifyRepaintRequired)}disable(){for(const e of this.repaintEventNames_)this.canvas_.removeEventListener(e,this._boundNotifyRepaintRequired,!1);window.removeEventListener("resize",this._boundNotifyRepaintRequired,!1),this.ol3d.getOlMap().getLayerGroup().un("change",this._boundNotifyRepaintRequired),this.scene_.requestRenderMode=!1}restartRenderLoop(){this.notifyRepaintRequired()}notifyRepaintRequired(){this.scene_.isDestroyed()||this.scene_.requestRender()}}function is(r){return r*180/Math.PI}function So(r){return r*Math.PI/180}function os(r,e,t){const n=t||r.length;if(e)for(let i=0;i<n;++i)e[i]=r[i];return r}class G_{scene_;cam_;map_;view_;viewListenKey_=null;toLonLat_=os;fromLonLat_=os;tilt_=0;distance_=0;lastCameraViewMatrix_=null;viewUpdateInProgress_=!1;constructor(e,t){this.scene_=e,this.cam_=e.camera,this.map_=t,this.map_.on("change:view",n=>{this.setView_(this.map_.getView())}),this.setView_(this.map_.getView())}destroy(){Dr(this.viewListenKey_),this.viewListenKey_=null}setView_(e){if(Dr(this.viewListenKey_),this.viewListenKey_=null,this.view_=e,e){const t=ks(e.getProjection(),"EPSG:4326"),n=ks("EPSG:4326",e.getProjection());console.assert(t&&n),this.toLonLat_=t,this.fromLonLat_=n,this.viewListenKey_=e.on("propertychange",i=>this.handleViewChangedEvent_()),this.readFromView()}else this.toLonLat_=os,this.fromLonLat_=os}handleViewChangedEvent_(){this.viewUpdateInProgress_||this.readFromView()}setHeading(e){this.view_&&this.view_.setRotation(e)}getHeading(){return this.view_?this.view_.getRotation()||0:void 0}setTilt(e){this.tilt_=e,this.updateCamera_()}getTilt(){return this.tilt_}setDistance(e){this.distance_=e,this.updateCamera_(),this.updateView()}getDistance(){return this.distance_}setCenter(e){this.view_&&this.view_.setCenter(e)}getCenter(){if(this.view_)return this.view_.getCenter()}setPosition(e){if(!this.toLonLat_)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(So(t[0]),So(t[1]),this.getAltitude());this.cam_.setView({destination:Cesium.Ellipsoid.WGS84.cartographicToCartesian(n)}),this.updateView()}getPosition(){if(!this.fromLonLat_)return;const e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position),t=this.fromLonLat_([is(e.longitude),is(e.latitude)]);return console.assert(t),t}setAltitude(e){const t=Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position);t.height=e,this.cam_.position=Cesium.Ellipsoid.WGS84.cartographicToCartesian(t),this.updateView()}getAltitude(){return Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.cam_.position).height}updateCamera_(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(!e)return;const t=this.toLonLat_(e);console.assert(t);const n=new Cesium.Cartographic(So(t[0]),So(t[1]));if(this.scene_.globe){const a=this.scene_.globe.getHeight(n);n.height=a||0}const i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(n),o={pitch:this.tilt_-Cesium.Math.PI_OVER_TWO,heading:-this.view_.getRotation(),roll:void 0};this.cam_.setView({destination:i,orientation:o}),this.cam_.moveBackward(this.distance_),this.checkCameraChange(!0)}readFromView(){if(!this.view_||!this.toLonLat_)return;const e=this.view_.getCenter();if(e==null)return;const t=this.toLonLat_(e);console.assert(t);const n=this.view_.getResolution();this.distance_=this.calcDistanceForResolution(n||0,So(t[1])),this.updateCamera_()}updateView(){if(!this.view_||!this.fromLonLat_)return;this.viewUpdateInProgress_=!0;const e=Cesium.Ellipsoid.WGS84,t=this.scene_,n=q_(t);let i=n;if(!i){const a=t.globe,s=this.cam_.positionCartographic.clone(),l=a.getHeight(s);s.height=l||0,i=Cesium.Ellipsoid.WGS84.cartographicToCartesian(s)}this.distance_=Cesium.Cartesian3.distance(i,this.cam_.position);const o=e.cartesianToCartographic(i);if(this.view_.setCenter(this.fromLonLat_([is(o.longitude),is(o.latitude)])),this.view_.setResolution(this.calcResolutionForDistance(this.distance_,o?o.latitude:0)),n){const a=this.cam_.position,s=new Cesium.Cartesian3;e.geocentricSurfaceNormal(n,s);const l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(a,n,l),Cesium.Cartesian3.normalize(l,l);const c=this.cam_.up,u=this.cam_.right,d=new Cesium.Cartesian3(-n.y,n.x,0),h=Cesium.Cartesian3.angleBetween(u,d),p=Cesium.Cartesian3.cross(n,c,new Cesium.Cartesian3).z;this.view_.setRotation(p<0?h:-h);const m=Math.acos(Cesium.Cartesian3.dot(s,l));this.tilt_=isNaN(m)?0:m}else this.view_.setRotation(this.cam_.heading),this.tilt_=-this.cam_.pitch+Math.PI/2;setTimeout(()=>this.viewUpdateInProgress_=!1,1e3)}checkCameraChange(e){const t=this.lastCameraViewMatrix_,n=this.cam_.viewMatrix;(!t||!Cesium.Matrix4.equalsEpsilon(t,n,1e-7))&&(this.lastCameraViewMatrix_=n.clone(),e!==!0&&this.updateView())}calcDistanceForResolution(e,t){return z_(e,t,this.scene_,this.view_.getProjection())}calcResolutionForDistance(e,t){return U_(e,t,this.scene_,this.view_.getProjection())}}class Wd{map;view;scene;olLayers;mapLayerGroup;layerMap={};olLayerListenKeys={};olGroupListenKeys_={};constructor(e,t){this.map=e,this.view=e.getView(),this.scene=t,this.olLayers=e.getLayerGroup().getLayers(),this.mapLayerGroup=e.getLayerGroup()}synchronize(){this.destroyAll(),this.addLayers_(this.mapLayerGroup)}orderLayers(){}addLayers_(e){const t=[{layer:e,parents:[]}];for(;t.length>0;){const n=t.splice(0,1)[0],i=n.layer,o=Xe(i).toString();this.olLayerListenKeys[o]=[],console.assert(!this.layerMap[o]);let a=null;if(i instanceof Zr)this.listenForGroupChanges_(i),i!==this.mapLayerGroup&&(a=this.createSingleLayerCounterparts(n)),a||i.getLayers().forEach(s=>{if(s){const l={layer:s,parents:i===this.mapLayerGroup?[]:[n.layer].concat(n.parents)};t.push(l)}});else if(a=this.createSingleLayerCounterparts(n),!a){const s=o,l=n,c=()=>{const u=this.createSingleLayerCounterparts(l);u&&(l.layer.un("change",c),this.addCesiumObjects_(u,s,l.layer),this.orderLayers())};this.olLayerListenKeys[o].push(l.layer.on("change",c))}a&&this.addCesiumObjects_(a,o,i)}this.orderLayers()}addCesiumObjects_(e,t,n){this.layerMap[t]=e,this.olLayerListenKeys[t].push(n.on("change:zIndex",()=>this.orderLayers())),e.forEach(i=>{this.addCesiumObject(i)})}removeAndDestroySingleLayer_(e){const t=Xe(e).toString(),n=this.layerMap[t];return n&&(n.forEach(i=>{this.removeSingleCesiumObject(i,!1),this.destroyCesiumObject(i)}),this.olLayerListenKeys[t].forEach(Dr),delete this.olLayerListenKeys[t]),delete this.layerMap[t],!!n}unlistenSingleGroup_(e){if(e===this.mapLayerGroup)return;const t=Xe(e).toString();this.olGroupListenKeys_[t].forEach(n=>{Dr(n)}),delete this.olGroupListenKeys_[t],delete this.layerMap[t]}removeLayer_(e){if(e){const t=[e];for(;t.length>0;){const n=t.splice(0,1)[0],i=this.removeAndDestroySingleLayer_(n);n instanceof Zr&&(this.unlistenSingleGroup_(n),i||n.getLayers().forEach(o=>{t.push(o)}))}}}listenForGroupChanges_(e){const t=Xe(e).toString();console.assert(this.olGroupListenKeys_[t]===void 0);const n=[];this.olGroupListenKeys_[t]=n;let i=[];const o=(function(){const a=e.getLayers();a&&(i=[a.on("add",s=>{this.addLayers_(s.element)}),a.on("remove",s=>{this.removeLayer_(s.element)})],n.push(...i))}).bind(this);o(),n.push(e.on("change:layers",a=>{i.forEach(s=>{const l=n.indexOf(s);l>=0&&n.splice(l,1),Dr(s)}),o()}))}destroyAll(){this.removeAllCesiumObjects(!0);let e;for(e in this.olGroupListenKeys_)this.olGroupListenKeys_[e].forEach(Dr);for(e in this.olLayerListenKeys)this.olLayerListenKeys[e].forEach(Dr);this.olGroupListenKeys_={},this.olLayerListenKeys={},this.layerMap={}}}class B_ extends Wd{cesiumLayers_;ourLayers_;constructor(e,t){super(e,t),this.cesiumLayers_=t.imageryLayers,this.ourLayers_=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers_.add(e),this.ourLayers_.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers_.remove(e,t),this.ourLayers_.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers_.length;++t)this.cesiumLayers_.remove(this.ourLayers_.get(t),e);this.ourLayers_.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n=hf(this.map,e,t);return n?[n]:null}createSingleLayerCounterparts(e){const t=e.layer,n=Xe(t).toString(),i=this.view.getProjection();console.assert(i);const o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];if([e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)qs(e,o[l])}))}),t instanceof ju){let s=t.getStyleFunction();a.push(t.on("change",()=>{const l=t.getStyleFunction();if(s!==l){s=l;for(let c=0;c<o.length;++c){const u=o[c];u._imageryCache&&(u._imageryCache={});const d=u.imageryProvider;d&&(d.tileCache?.clear(),d.styleFunction_=l)}this.scene.requestRender()}}))}for(let s=0;s<o.length;++s)qs(e,o[s]);a.push(t.on("change:extent",s=>{for(let l=0;l<o.length;++l)this.cesiumLayers_.remove(o[l],!0),this.ourLayers_.remove(o[l],!1);delete this.layerMap[Xe(t)],this.synchronize()})),a.push(t.on("change",s=>{for(let l=0;l<o.length;++l){const c=this.cesiumLayers_.indexOf(o[l]);c>=0&&(this.cesiumLayers_.remove(o[l],!1),this.cesiumLayers_.add(o[l],c))}})),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[Xe(i)]=i.getZIndex()||0,i instanceof Zr){const o=i.getLayers();o&&n.unshift(...o.getArray())}}e.sort((i,o)=>t[Xe(i)]-t[Xe(o)]),e.forEach(i=>{const o=Xe(i).toString(),a=this.layerMap[o];a&&a.forEach(s=>{this.raiseToTop(s)})})}raiseToTop(e){this.cesiumLayers_.raiseToTop(e)}}class V_{olListenKeys=[];context;rootCollection_;constructor(e,t){const n=new Cesium.BillboardCollection({scene:t}),i=new Cesium.PrimitiveCollection;this.rootCollection_=new Cesium.PrimitiveCollection,this.context={projection:e,billboards:n,featureToCesiumMap:{},primitives:i},this.rootCollection_.add(n),this.rootCollection_.add(i)}destroy(){this.olListenKeys.forEach(Dr),this.olListenKeys.length=0}getRootPrimitive(){return this.rootCollection_}}class H_{scene;boundOnRemoveOrClearFeatureListener_=this.onRemoveOrClearFeature_.bind(this);defaultBillboardEyeOffset_=new Cesium.Cartesian3(0,0,10);constructor(e){this.scene=e,this.scene=e}onRemoveOrClearFeature_(e){const t=e.target;console.assert(t instanceof Mr);const n=t.olcs_cancellers;if(n){const i=e.feature;if(i){const o=Xe(i),a=n[o];a&&(a(),delete n[o])}else{for(const o in n)n.hasOwnProperty(o)&&n[o]();t.olcs_cancellers={}}}}setReferenceForPicking(e,t,n){n.olLayer=e,n.olFeature=t}createColoredPrimitive(e,t,n,i,o,a){const s=function(h,p){const m=new Cesium.GeometryInstance({geometry:h});return p&&!(p instanceof Cesium.ImageMaterialProperty)&&(m.attributes={color:Cesium.ColorGeometryInstanceAttribute.fromColor(p)}),m},l={flat:!0,renderState:{depthTest:{enabled:!0}}};a!==void 0&&(l.renderState.lineWidth=a);const c=s(i,o),u=this.getHeightReference(e,t,n);let d;if(u===Cesium.HeightReference.CLAMP_TO_GROUND){if(!("createShadowVolume"in c.geometry.constructor))return null;d=new Cesium.GroundPrimitive({geometryInstances:c})}else d=new Cesium.Primitive({geometryInstances:c});if(o instanceof Cesium.ImageMaterialProperty){const h=o.image.getValue().toDataURL();d.appearance=new Cesium.MaterialAppearance({flat:!0,renderState:{depthTest:{enabled:!0}},material:new Cesium.Material({fabric:{type:"Image",uniforms:{image:h}}})})}else d.appearance=new Cesium.MaterialAppearance({...l,material:new Cesium.Material({translucent:o.alpha!==1,fabric:{type:"Color",uniforms:{color:o}}})}),d instanceof Cesium.Primitive&&(t.get("olcs_shadows")||e.get("olcs_shadows"))&&(d.shadows=1);return this.setReferenceForPicking(e,t,d),d}extractColorFromOlStyle(e,t){const n=e.getFill()?.getColor(),i=e.getStroke()?e.getStroke().getColor():null;let o="black";i&&t?o=i:n&&(o=n);const a=rg(o);return"red"in a?a:Cesium.Color.BLACK}extractLineWidthFromOlStyle(e){const t=e.getStroke()?e.getStroke().getWidth():void 0;return t!==void 0?t:1}wrapFillAndOutlineGeometries(e,t,n,i,o,a){const s=this.extractColorFromOlStyle(a,!1),l=this.extractColorFromOlStyle(a,!0),c=new Cesium.PrimitiveCollection;if(a.getFill()){const u=this.createColoredPrimitive(e,t,n,i,s);console.assert(!!u),c.add(u)}if(a.getStroke()&&o){const u=this.extractLineWidthFromOlStyle(a),d=this.createColoredPrimitive(e,t,n,o,l,u);d&&c.add(d)}return c}addTextStyle(e,t,n,i,o){let a;if(o instanceof Cesium.PrimitiveCollection?a=o:(a=new Cesium.PrimitiveCollection,a.add(o)),!i.getText())return a;const s=i.getText(),l=this.olGeometry4326TextPartToCesium(e,t,n,s);return l&&a.add(l),a}csAddBillboard(e,t,n,i,o,a){t.eyeOffset||(t.eyeOffset=this.defaultBillboardEyeOffset_);const s=e.add(t);return this.setReferenceForPicking(n,i,s),s}olCircleGeometryToCesium(e,t,n,i,o){n=ns(n,i),console.assert(n.getType()=="Circle");const a=n.getCenter(),s=a.length==3?a[2]:0,l=a.slice();l[0]+=n.getRadius();const c=Hi(a),u=Hi(l),d=Cesium.Cartesian3.distance(c,u),h=new Cesium.CircleGeometry({center:c,radius:d,height:s});let p,m;if(this.getHeightReference(e,t,n)===Cesium.HeightReference.CLAMP_TO_GROUND){const y=this.extractLineWidthFromOlStyle(o);if(y){const _=bv(n.getCenter(),d),w=wc(_.getLinearRing(0).getCoordinates()),A=p=new Cesium.GroundPolylinePrimitive({geometryInstances:new Cesium.GeometryInstance({geometry:new Cesium.GroundPolylineGeometry({positions:w,width:y})}),appearance:new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),classificationType:Cesium.ClassificationType.TERRAIN});xc(p).then(()=>{this.setReferenceForPicking(e,t,A._primitive)})}}else m=new Cesium.CircleOutlineGeometry({center:c,radius:d,extrudedHeight:s,height:s});const v=this.wrapFillAndOutlineGeometries(e,t,n,h,m,o);return p&&v.add(p),this.addTextStyle(e,t,n,o,v)}olLineStringGeometryToCesium(e,t,n,i,o){n=ns(n,i),console.assert(n.getType()=="LineString");const a=wc(n.getCoordinates()),s=this.extractLineWidthFromOlStyle(o);let l;const c=this.getHeightReference(e,t,n),u=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)});if(c===Cesium.HeightReference.CLAMP_TO_GROUND){const d=new Cesium.GroundPolylineGeometry({positions:a,width:s}),h=l=new Cesium.GroundPolylinePrimitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})});xc(l).then(()=>{this.setReferenceForPicking(e,t,h._primitive)})}else{const d=new Cesium.PolylineGeometry({positions:a,width:s,vertexFormat:u.vertexFormat});l=new Cesium.Primitive({appearance:u,geometryInstances:new Cesium.GeometryInstance({geometry:d})})}return this.setReferenceForPicking(e,t,l),this.addTextStyle(e,t,n,o,l)}olPolygonGeometryToCesium(e,t,n,i,o){n=ns(n,i),console.assert(n.getType()=="Polygon");const a=this.getHeightReference(e,t,n);let s,l,c;if(n.getCoordinates()[0].length==5&&t.get("olcs_polygon_kind")==="rectangle"){const d=n.getCoordinates()[0],h=Fu(d),p=Cesium.Rectangle.fromDegrees(h[0],h[1],h[2],h[3]);let m=0;if(d[0].length==3)for(let y=0;y<d.length;y++)m=Math.max(m,d[y][2]);const v=t.get("olcs_extruded_height");s=new Cesium.RectangleGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:m,extrudedHeight:v}),l=new Cesium.RectangleOutlineGeometry({ellipsoid:Cesium.Ellipsoid.WGS84,rectangle:p,height:m,extrudedHeight:v})}else{const d=n.getLinearRings(),h={positions:[],holes:[]},p=h;console.assert(d.length>0);for(let v=0;v<d.length;++v){const y=d[v].getCoordinates(),_=wc(y);console.assert(_&&_.length>0),v===0?h.positions=_:h.holes.push({positions:_,holes:[]})}const m=t.get("olcs_extruded_height");if(s=new Cesium.PolygonGeometry({polygonHierarchy:p,perPositionHeight:!0,extrudedHeight:m}),a===Cesium.HeightReference.CLAMP_TO_GROUND){const v=this.extractLineWidthFromOlStyle(o);if(v>0){const y=[h.positions];if(h.holes)for(let A=0;A<h.holes.length;++A)y.push(h.holes[A].positions);const _=new Cesium.PolylineMaterialAppearance({material:this.olStyleToCesium(t,o,!0)}),w=[];for(const A of y){const T=new Cesium.GroundPolylineGeometry({positions:A,width:v});w.push(new Cesium.GeometryInstance({geometry:T}))}c=new Cesium.GroundPolylinePrimitive({appearance:_,geometryInstances:w}),xc(c).then(()=>{this.setReferenceForPicking(e,t,c._primitive)})}}else l=new Cesium.PolygonOutlineGeometry({polygonHierarchy:h,perPositionHeight:!0,extrudedHeight:m})}const u=this.wrapFillAndOutlineGeometries(e,t,n,s,l,o);return c&&u.add(c),this.addTextStyle(e,t,n,o,u)}getHeightReference(e,t,n){let i=n.get("altitudeMode");i===void 0&&(i=t.get("altitudeMode")),i===void 0&&(i=e.get("altitudeMode"));let o=Cesium.HeightReference.NONE;return i==="clampToGround"?o=Cesium.HeightReference.CLAMP_TO_GROUND:i==="relativeToGround"&&(o=Cesium.HeightReference.RELATIVE_TO_GROUND),o}createBillboardFromImage(e,t,n,i,o,a,s,l){a instanceof _i&&a.load();const c=a.getImage(1),u=function(h){return h.src!=""&&h.naturalHeight!=0&&h.naturalWidth!=0&&h.complete},d=(function(){if(!c||!(c instanceof HTMLCanvasElement||c instanceof Image||c instanceof HTMLImageElement))return;const h=n.getCoordinates(),p=Hi(h);let m;const v=a.getOpacity();v!==void 0&&(m=new Cesium.Color(1,1,1,v));const y=a.getScale(),_=this.getHeightReference(e,t,n),w={image:c,color:m,scale:Array.isArray(y)?(y[0]+y[1])/2:y,heightReference:_,position:p};if(Object.assign(w,t.get("cesiumOptions")),a instanceof _i){const T=a.getAnchor();if(T){const N=Array.isArray(y)?y[0]:y,W=Array.isArray(y)?y[1]:y;w.pixelOffset=new Cesium.Cartesian2((c.width/2-T[0])*N,(c.height/2-T[1])*W)}}const A=this.csAddBillboard(s,w,e,t,n,o);l&&l(A)}).bind(this);if(c instanceof Image&&!u(c)){let h=!1;const p=e.getSource(),m=function(){h=!0};p.on(["removefeature","clear"],this.boundOnRemoveOrClearFeatureListener_);let v=p.olcs_cancellers;v||(v=p.olcs_cancellers={});const y=Xe(t);v[y]&&v[y](),v[y]=m;const _=function(){c.removeEventListener("load",_),!s.isDestroyed()&&!h&&d()};c.addEventListener("load",_)}else d()}olPointGeometryToCesium(e,t,n,i,o,a,s){console.assert(n.getType()=="Point"),n=ns(n,i);let l=null;const c=o.getImage();if(c){const u=n.get("olcs_model")||t.get("olcs_model");if(u){l=new Cesium.PrimitiveCollection;const d=u(),h=Object.assign({},{scene:this.scene},d.cesiumOptions);if("fromGltf"in Cesium.Model){const p=Cesium.Model.fromGltf(h);l.add(p)}else Cesium.Model.fromGltfAsync(h).then(p=>{l.add(p)});d.debugModelMatrix&&l.add(new Cesium.DebugModelMatrixPrimitive({modelMatrix:d.debugModelMatrix}))}else this.createBillboardFromImage(e,t,n,i,o,c,a,s)}return o.getText()?this.addTextStyle(e,t,n,o,l||new Cesium.Primitive):l}olMultiGeometryToCesium(e,t,n,i,o,a,s){switch(n.getType()){case"MultiPoint":{const l=n.getPoints();if(o.getText()){const c=new Cesium.PrimitiveCollection;return l.forEach(u=>{console.assert(u);const d=this.olPointGeometryToCesium(e,t,u,i,o,a,s);d&&c.add(d)}),c}else return l.forEach(c=>{console.assert(c),this.olPointGeometryToCesium(e,t,c,i,o,a,s)}),null}case"MultiLineString":{const l=n.getLineStrings(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olLineStringGeometryToCesium(e,t,u,i,o);c.add(d)}),c}case"MultiPolygon":{const l=n.getPolygons(),c=new Cesium.PrimitiveCollection;return l.forEach(u=>{const d=this.olPolygonGeometryToCesium(e,t,u,i,o);c.add(d)}),c}default:console.assert(!1,`Unhandled multi geometry type${n.getType()}`)}}olGeometry4326TextPartToCesium(e,t,n,i){const o=i.getText();if(!o)return null;const a=new Cesium.LabelCollection({scene:this.scene}),s=Hn(n.getExtent());if(n instanceof ka){const m=n.getFirstCoordinate();s[2]=m.length==3?m[2]:0}const l={position:Hi(s)};l.text=Array.isArray(o)?o.join(" "):o,l.heightReference=this.getHeightReference(e,t,n);const c=i.getOffsetX(),u=i.getOffsetY();if(c!=0||u!=0){const m=new Cesium.Cartesian2(c,u);l.pixelOffset=m}l.font=i.getFont()||"10px sans-serif";let d;i.getFill()&&(l.fillColor=this.extractColorFromOlStyle(i,!1),d=Cesium.LabelStyle.FILL),i.getStroke()&&(l.outlineWidth=this.extractLineWidthFromOlStyle(i),l.outlineColor=this.extractColorFromOlStyle(i,!0),d=Cesium.LabelStyle.OUTLINE),i.getFill()&&i.getStroke()&&(d=Cesium.LabelStyle.FILL_AND_OUTLINE),l.style=d;let h;switch(i.getTextAlign()){case"left":h=Cesium.HorizontalOrigin.LEFT;break;case"right":h=Cesium.HorizontalOrigin.RIGHT;break;case"center":default:h=Cesium.HorizontalOrigin.CENTER}if(l.horizontalOrigin=h,i.getTextBaseline()){let m;switch(i.getTextBaseline()){case"top":m=Cesium.VerticalOrigin.TOP;break;case"middle":m=Cesium.VerticalOrigin.CENTER;break;case"bottom":m=Cesium.VerticalOrigin.BOTTOM;break;case"alphabetic":m=Cesium.VerticalOrigin.TOP;break;case"hanging":m=Cesium.VerticalOrigin.BOTTOM;break;default:console.assert(!1,`unhandled baseline ${i.getTextBaseline()}`)}l.verticalOrigin=m}const p=a.add(l);return this.setReferenceForPicking(e,t,p),a}olStyleToCesium(e,t,n){const i=t.getFill(),o=t.getStroke();if(n&&!o||!n&&!i)return null;const a=n?o.getColor():i.getColor(),s=rg(a),l=o.getLineDash();return n&&l?Cesium.Material.fromType("PolylineDash",{dashPattern:Y_(l),color:s}):Cesium.Material.fromType("Color",{color:s})}computePlainStyle(e,t,n,i){const o=t.getStyleFunction();let a=null;return o&&(a=o(t,i)),!a&&n&&(a=n(t,i)),a?Array.isArray(a)?a:[a]:null}getGeometryFromFeature(e,t,n){if(n)return n;const i=e.get("olcs_3d_geometry");if(i&&i instanceof vs)return i;if(t){const o=t.getGeometryFunction()(e);if(o instanceof vs)return o}return e.getGeometry()}olFeatureToCesium(e,t,n,i,o){const a=this.getGeometryFromFeature(t,n,o);if(!a)return null;const s=i.projection,l=function(c){const u=i.featureToCesiumMap[Xe(t)];u instanceof Array?u.push(c):i.featureToCesiumMap[Xe(t)]=[c]};switch(a.getType()){case"GeometryCollection":const c=new Cesium.PrimitiveCollection;return a.getGeometriesArray().forEach(h=>{if(h){const p=this.olFeatureToCesium(e,t,n,i,h);p&&c.add(p)}}),c;case"Point":const u=i.billboards;return this.olPointGeometryToCesium(e,t,a,s,n,u,l)||null;case"Circle":return this.olCircleGeometryToCesium(e,t,a,s,n);case"LineString":return this.olLineStringGeometryToCesium(e,t,a,s,n);case"Polygon":return this.olPolygonGeometryToCesium(e,t,a,s,n);case"MultiPoint":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiLineString":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"MultiPolygon":return this.olMultiGeometryToCesium(e,t,a,s,n,i.billboards,l)||null;case"LinearRing":throw new Error("LinearRing should only be part of polygon.");default:throw new Error(`Ol geom type not handled : ${a.getType()}`)}}olVectorLayerToCesium(e,t,n){const i=t.getProjection(),o=t.getResolution();if(o===void 0||!i)throw console.assert(!1,"View not ready"),new Error("View not ready");let a=e.getSource();a instanceof Ea&&(a=a.getSource()),console.assert(a instanceof Mr);const s=a.getFeatures(),l=new V_(i,this.scene),c=l.context;for(let u=0;u<s.length;++u){const d=s[u];if(!d)continue;const h=e.getStyleFunction(),p=this.computePlainStyle(e,d,h,o);if(!p||!p.length)continue;let m=null;for(let v=0;v<p.length;v++){const y=this.olFeatureToCesium(e,d,p[v],c);if(y){if(!m)m=y;else if(y){let _=0,w;for(;w=y.get(_);)m.add(w),_++}}}m&&(n[Xe(d)]=m,l.getRootPrimitive().add(m))}return l}convert(e,t,n,i){const o=t.getProjection(),a=t.getResolution();if(a==null||!o)return null;const s=e.getStyleFunction(),l=this.computePlainStyle(e,n,s,a);if(!l||!l.length)return null;i.projection=o;let c=null;for(let u=0;u<l.length;u++){const d=this.olFeatureToCesium(e,n,l[u],i);if(!c)c=d;else if(d){let h=0,p;for(;p=d.get(h);)c.add(p),h++}}return c}}function Y_(r){r.length<2&&(r=[1,1]);const e=r.length%2===0?r:[...r,...r],t=e.reduce((i,o)=>i+o,0)/16;let n=e.map((i,o)=>{const a=o%2===0?"1":"0";let s=Math.round(i/t);return o===0&&s===0&&(s=1),a.repeat(s)}).join("");return n.length<16?n=n.padEnd(16,"0"):n.length>16&&(n=n.substring(0,16)),n[15]==="1"&&(n=n.substring(0,15)+"0"),console.assert(n.length===16),parseInt(n,2)}class gf extends Wd{converter;csAllPrimitives_;constructor(e,t,n){super(e,t),this.converter=n||new H_(t),this.csAllPrimitives_=new Cesium.PrimitiveCollection,t.primitives.add(this.csAllPrimitives_),this.csAllPrimitives_.destroyPrimitives=!1}addCesiumObject(e){console.assert(e);const t=e.getRootPrimitive();t.counterpart=e,this.csAllPrimitives_.add(e.getRootPrimitive())}destroyCesiumObject(e){e.getRootPrimitive().destroy()}removeSingleCesiumObject(e,t){e.destroy(),this.csAllPrimitives_.destroyPrimitives=t,this.csAllPrimitives_.remove(e.getRootPrimitive()),this.csAllPrimitives_.destroyPrimitives=!1}removeAllCesiumObjects(e){if(this.csAllPrimitives_.destroyPrimitives=e,e)for(let t=0;t<this.csAllPrimitives_.length;++t)this.csAllPrimitives_.get(t).counterpart.destroy();this.csAllPrimitives_.removeAll(),this.csAllPrimitives_.destroyPrimitives=!1}updateLayerVisibility(e,t){let n=!0;[e.layer].concat(e.parents).forEach(i=>{const o=i.getVisible();o!==void 0?n=n&&o:n=!1}),t.show=n}createSingleLayerCounterparts(e){const t=e.layer;if(!(t instanceof Yr)||t instanceof cn)return null;console.assert(t instanceof co);let n=t.getSource();if(n instanceof Ea&&(n=n.getSource()),!n)return null;console.assert(n instanceof Mr),console.assert(this.view);const i=this.view,o={},a=this.converter.olVectorLayerToCesium(t,i,o),s=a.getRootPrimitive(),l=a.olListenKeys;[e.layer].concat(e.parents).forEach(d=>{l.push(d.on("change:visible",()=>{this.updateLayerVisibility(e,s)}))}),this.updateLayerVisibility(e,s);const c=d=>{const h=a.context,p=this.converter.convert(t,i,d,h);p&&(o[Xe(d)]=p,s.add(p))},u=d=>{const h=Xe(d),p=a.context,m=p.featureToCesiumMap[h];m&&(delete p.featureToCesiumMap[h],m.forEach(y=>{y instanceof Cesium.Billboard&&p.billboards.remove(y)}));const v=o[h];delete o[h],v&&s.remove(v)};return l.push(n.on("addfeature",d=>{console.assert(d.feature),c(d.feature)})),l.push(n.on("removefeature",d=>{console.assert(d.feature),u(d.feature)})),l.push(n.on("changefeature",d=>{const h=d.feature;console.assert(h),u(h),c(h)})),a?[a]:null}}function Z_(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function W_(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function mf(r,e){const t=r.cloneNode();r.nodeName==="CANVAS"&&t.getContext("2d").drawImage(r,0,0),e&&e.appendChild(t),r.nodeType!==Node.TEXT_NODE&&t.addEventListener("click",i=>{r.dispatchEvent(new MouseEvent("click",i)),i.stopPropagation()});const n=r.childNodes;for(let i=0;i<n.length;i++)n[i]&&mf(n[i],t);return t}class K_ extends zk{scenePostRenderListenerRemover_=null;scene_;synchronizer_;parent_;positionWGS84_;observer_;attributeObserver_=[];listenerKeys_;constructor(e){const t=e.parent;super(t.getOptions()),this.scene_=e.scene,this.synchronizer_=e.synchronizer,this.parent_=t,this.positionWGS84_=void 0,this.observer_=new MutationObserver(this.handleElementChanged.bind(this)),this.attributeObserver_=[],this.listenerKeys_=[];const n=i=>this.setPropertyFromEvent_(i);this.listenerKeys_.push(this.parent_.on("change:element",n)),this.listenerKeys_.push(this.parent_.on("change:offset",n)),this.listenerKeys_.push(this.parent_.on("change:position",n)),this.listenerKeys_.push(this.parent_.on("change:positioning",n)),this.setProperties(this.parent_.getProperties()),this.handleMapChanged(),this.handleElementChanged(),this.handlePositionChanged()}observeTarget_(e){if(this.observer_){this.observer_.disconnect(),this.observer_.observe(e,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),this.attributeObserver_.forEach(t=>{t.disconnect()}),this.attributeObserver_.length=0;for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(n.nodeType===1){const i=new MutationObserver(this.handleElementChanged.bind(this));i.observe(n,{attributes:!0,subtree:!0}),this.attributeObserver_.push(i)}}}}setPropertyFromEvent_(e){e.target&&e.key&&this.set(e.key,e.target.get(e.key))}getScene(){return this.scene_}handleMapChanged(){this.scenePostRenderListenerRemover_&&(this.scenePostRenderListenerRemover_(),Z_(this.element)),this.scenePostRenderListenerRemover_=null;const e=this.getScene();if(e){this.scenePostRenderListenerRemover_=e.postRender.addEventListener(this.updatePixelPosition.bind(this)),this.updatePixelPosition();const t=this.stopEvent?this.synchronizer_.getOverlayContainerStopEvent():this.synchronizer_.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}}handlePositionChanged(){if(!this.parent_)return;const e=this.getPosition();if(e){const t=this.parent_.getMap().getView().getProjection();this.positionWGS84_=Yo(e,t,"EPSG:4326")}else this.positionWGS84_=void 0;this.updatePixelPosition()}handleElementChanged(){W_(this.element);const e=this.getElement();if(e&&e.parentNode&&e.parentNode.childNodes)for(const t of Array.from(e.parentNode.childNodes)){const n=mf(t,null);this.element.appendChild(n)}e.parentNode&&this.observeTarget_(e.parentNode)}updatePixelPosition(){const e=this.positionWGS84_;if(!this.scene_||!e){this.setVisible(!1);return}let t=0;if(e.length===2){const c=this.scene_.globe.getHeight(Cesium.Cartographic.fromDegrees(e[0],e[1]));c&&this.scene_.globe.tilesLoaded&&(e[2]=c),c&&(t=c)}else t=e[2];const n=Cesium.Cartesian3.fromDegrees(e[0],e[1],t),i=this.scene_.camera,o=new Cesium.BoundingSphere(new Cesium.Cartesian3,6356752);if(!new Cesium.Occluder(o,i.position).isPointVisible(n)){this.setVisible(!1);return}if(i.frustum.computeCullingVolume(i.position,i.direction,i.up).computeVisibility(new Cesium.BoundingSphere(n))!==1){this.setVisible(!1);return}this.setVisible(!0);const a=this.scene_.cartesianToCanvasCoordinates(n),s=[a.x,a.y],l=[this.scene_.canvas.width,this.scene_.canvas.height];this.updateRenderedPosition(s,l)}destroy(){this.scenePostRenderListenerRemover_&&this.scenePostRenderListenerRemover_(),this.observer_&&this.observer_.disconnect(),Dr(this.listenerKeys_),this.listenerKeys_.splice(0),"removeNode"in this.element?this.element.removeNode(!0):this.element.remove(),this.element=null}}class ff{map;scene;overlayCollection_;overlayContainerStopEvent_;overlayContainer_;overlayMap_=new Map;overlayEvents=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];listenerKeys_=[];constructor(e,t){this.map=e,this.scene=t,this.map=e,this.overlayCollection_=this.map.getOverlays(),this.scene=t,this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.overlayEvents.forEach(n=>{this.overlayContainerStopEvent_.addEventListener(n,i=>i.stopPropagation())}),this.scene.canvas.parentElement.appendChild(this.overlayContainerStopEvent_),this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.scene.canvas.parentElement.appendChild(this.overlayContainer_)}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOverlayContainer(){return this.overlayContainer_}synchronize(){this.destroyAll(),this.overlayCollection_.forEach(e=>{this.addOverlay(e)}),this.listenerKeys_.push(this.overlayCollection_.on("add",e=>this.addOverlay(e.element))),this.listenerKeys_.push(this.overlayCollection_.on("remove",e=>this.removeOverlay(e.element)))}addOverlay(e){if(!e)return;const t=new K_({scene:this.scene,synchronizer:this,parent:e});this.overlayMap_.set(Xe(e),t)}removeOverlay(e){const t=Xe(e),n=this.overlayMap_.get(t);n&&(n.destroy(),this.overlayMap_.delete(t))}destroyAll(){this.overlayMap_.forEach(e=>{e.destroy()}),this.overlayMap_.clear(),Dr(this.listenerKeys_),this.listenerKeys_.length=0}}const _c={DONE:0,PENDING:1,FAILED:2};class Kd{autoRenderLoop_=null;map_;time_;to4326Transform_;resolutionScale_=1;canvasClientWidth_=0;canvasClientHeight_=0;resolutionScaleChanged_=!0;container_;isOverMap_;canvas_;enabled_=!1;pausedInteractions_=[];hiddenRootGroup_=null;scene_;camera_;globe_;dataSourceCollection_;dataSourceDisplay_;lastFrameTime_=0;renderId_;targetFrameRate_=Number.POSITIVE_INFINITY;blockCesiumRendering_=!1;warmingUp_=!1;trackedFeature_=null;trackedEntity_=null;entityView_=null;needTrackedEntityUpdate_=!1;boundingSphereScratch_=new Cesium.BoundingSphere;synchronizers_;refresh2DAfterCameraMoveEndOnly=!1;moveEndRemoveCallback_;constructor(e){this.map_=e.map,this.time_=e.time||function(){return Cesium.JulianDate.now()},this.to4326Transform_=ks(this.map_.getView().getProjection(),"EPSG:4326");const t="position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none;";this.container_=document.createElement("DIV");const n=document.createAttribute("style");n.value=`${t}visibility:hidden;`,this.container_.setAttributeNode(n);let i=e.target||this.map_.getViewport();if(typeof i=="string"&&(i=document.getElementById(i)),i.appendChild(this.container_),this.isOverMap_=!e.target,this.isOverMap_&&e.stopOpenLayersEventsPropagation){const c=["click","dblclick","mousedown","touchstart","pointerdown","mousewheel","wheel"];for(let u=0,d=c.length;u<d;++u)this.container_.addEventListener(c[u],h=>h.stopPropagation())}this.canvas_=document.createElement("canvas");const o=document.createAttribute("style");o.value=t,this.canvas_.setAttributeNode(o),bu()&&(this.canvas_.style.imageRendering=I_()),this.canvas_.oncontextmenu=function(){return!1},this.canvas_.onselectstart=function(){return!1},this.container_.appendChild(this.canvas_);const a=e.sceneOptions!==void 0?{...e.sceneOptions,canvas:this.canvas_,scene3DOnly:!0}:{canvas:this.canvas_,scene3DOnly:!0};this.scene_=new Cesium.Scene(a);const s=this.scene_.screenSpaceCameraController;Array.isArray(s.tiltEventTypes)?(s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}),s.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT})):console.log("sscc is not an array"),s.enableLook=!1,this.scene_.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z,this.camera_=new G_(this.scene_,this.map_),this.globe_=new Cesium.Globe(Cesium.Ellipsoid.WGS84),this.globe_.baseColor=Cesium.Color.WHITE,this.scene_.globe=this.globe_,this.scene_.skyAtmosphere=new Cesium.SkyAtmosphere;const l=new Cesium.SingleTileImageryProvider({tileHeight:1,tileWidth:1,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",rectangle:Cesium.Rectangle.fromDegrees(0,0,1,1)});this.globe_.imageryLayers.addImageryProvider(l,0),this.dataSourceCollection_=new Cesium.DataSourceCollection,this.dataSourceDisplay_=new Cesium.DataSourceDisplay({scene:this.scene_,dataSourceCollection:this.dataSourceCollection_}),this.synchronizers_=e.createSynchronizers?e.createSynchronizers(this.map_,this.scene_,this.dataSourceCollection_):[new B_(this.map_,this.scene_),new gf(this.map_,this.scene_),new ff(this.map_,this.scene_)],this.handleResize_();for(let c=this.synchronizers_.length-1;c>=0;--c)this.synchronizers_[c].synchronize();new Cesium.EventHelper().add(this.scene_.postRender,Kd.prototype.updateTrackedEntity_,this),this.moveEndRemoveCallback_=this.scene_.camera.moveEnd.addEventListener(()=>{this.refresh2DAfterCameraMoveEndOnly&&this.camera_.checkCameraChange()})}destroy(){cancelAnimationFrame(this.renderId_),this.renderId_=void 0,this.synchronizers_.forEach(e=>e.destroyAll()),this.camera_.destroy(),this.scene_.destroy(),this.scene_._postRender=null,this.moveEndRemoveCallback_(),this.container_.remove()}render_(){this.renderId_!==void 0&&(cancelAnimationFrame(this.renderId_),this.renderId_=void 0),(this.enabled_||this.warmingUp_)&&!this.blockCesiumRendering_&&(this.renderId_=requestAnimationFrame(this.onAnimationFrame_.bind(this)))}onAnimationFrame_(e){this.renderId_=void 0;const t=1e3/this.targetFrameRate_;if(e-this.lastFrameTime_<t){this.render_();return}this.lastFrameTime_=e;const n=this.time_();if(this.scene_.initializeFrame(),this.handleResize_(),this.dataSourceDisplay_.update(n),this.entityView_){const i=this.trackedEntity_;this.dataSourceDisplay_.getBoundingSphere(i,!1,this.boundingSphereScratch_)===_c.DONE&&(this.boundingSphereScratch_.radius=1,this.entityView_.update(n,this.boundingSphereScratch_))}this.scene_.render(n),this.refresh2DAfterCameraMoveEndOnly||this.camera_.checkCameraChange(),this.render_()}updateTrackedEntity_(){if(!this.needTrackedEntityUpdate_)return;const e=this.trackedEntity_,t=this.scene_,n=this.dataSourceDisplay_.getBoundingSphere(e,!1,this.boundingSphereScratch_);if(n===_c.PENDING)return;t.screenSpaceCameraController.enableTilt=!1;const i=n!==_c.FAILED?this.boundingSphereScratch_:void 0;i&&(i.radius=1),this.entityView_=new Cesium.EntityView(e,t,t.mapProjection.ellipsoid),this.entityView_.update(this.time_(),i),this.needTrackedEntityUpdate_=!1}handleResize_(){let e=this.canvas_.clientWidth,t=this.canvas_.clientHeight;if(e===0||t===0||e===this.canvasClientWidth_&&t===this.canvasClientHeight_&&!this.resolutionScaleChanged_)return;let n=this.resolutionScale_;bu()||(n*=window.devicePixelRatio||1),this.resolutionScaleChanged_=!1,this.canvasClientWidth_=e,this.canvasClientHeight_=t,e*=n,t*=n,this.canvas_.width=e,this.canvas_.height=t,this.scene_.camera.frustum.aspectRatio=e/t}getCamera(){return this.camera_}getOlMap(){return this.map_}getOlView(){const e=this.map_.getView();return console.assert(e),e}getCesiumScene(){return this.scene_}getDataSources(){return this.dataSourceCollection_}getDataSourceDisplay(){return this.dataSourceDisplay_}getEnabled(){return this.enabled_}setEnabled(e){if(this.enabled_===e)return;this.enabled_=e,this.container_.style.visibility=this.enabled_?"visible":"hidden";let t;if(this.enabled_){if(this.throwOnUnitializedMap_(),this.isOverMap_){t=this.map_.getInteractions(),t.forEach((i,o,a)=>{this.pausedInteractions_.push(i)}),t.clear(),this.map_.addInteraction=i=>this.pausedInteractions_.push(i),this.map_.removeInteraction=i=>{let o=!1;return this.pausedInteractions_=this.pausedInteractions_.filter(a=>{const s=a!==i;return o||(o=s),s}),o?i:void 0};const n=this.map_.getLayerGroup();n.getVisible()&&(this.hiddenRootGroup_=n,this.hiddenRootGroup_.setVisible(!1)),this.map_.getOverlayContainer().classList.add("olcs-hideoverlay")}this.camera_.readFromView(),this.render_()}else this.isOverMap_&&(t=this.map_.getInteractions(),this.pausedInteractions_.forEach(n=>{t.push(n)}),this.pausedInteractions_.length=0,this.map_.addInteraction=n=>this.map_.getInteractions().push(n),this.map_.removeInteraction=n=>this.map_.getInteractions().remove(n),this.map_.getOverlayContainer().classList.remove("olcs-hideoverlay"),this.hiddenRootGroup_&&(this.hiddenRootGroup_.setVisible(!0),this.hiddenRootGroup_=null)),this.camera_.updateView()}warmUp(e,t){if(this.enabled_)return;this.throwOnUnitializedMap_(),this.camera_.readFromView();const n=this.globe_.ellipsoid,i=this.scene_.camera,o=n.cartesianToCartographic(i.position);o.height<e&&(o.height=e,i.position=n.cartographicToCartesian(o)),this.warmingUp_=!0,this.render_(),setTimeout(()=>{this.warmingUp_=!1},t)}setBlockCesiumRendering(e){this.blockCesiumRendering_!==e&&(this.blockCesiumRendering_=e,this.render_())}enableAutoRenderLoop(){this.autoRenderLoop_||(this.autoRenderLoop_=new $_(this))}getAutoRenderLoop(){return this.autoRenderLoop_}setResolutionScale(e){e=Math.max(0,e),e!==this.resolutionScale_&&(this.resolutionScale_=Math.max(0,e),this.resolutionScaleChanged_=!0,this.autoRenderLoop_&&this.autoRenderLoop_.restartRenderLoop())}setTargetFrameRate(e){this.targetFrameRate_!==e&&(this.targetFrameRate_=e,this.render_())}setRefresh2DAfterCameraMoveEndOnly(e){this.refresh2DAfterCameraMoveEndOnly=e}throwOnUnitializedMap_(){const e=this.map_.getView(),t=e.getCenter();if(!e.isDef()||isNaN(t[0])||isNaN(t[1]))throw new Error(`The OpenLayers map is not properly initialized: ${t} / ${e.getResolution()}`)}get trackedFeature(){return this.trackedFeature_}set trackedFeature(e){if(this.trackedFeature_!==e){const t=this.scene_;if(!e||!e.getGeometry()){this.needTrackedEntityUpdate_=!1,t.screenSpaceCameraController.enableTilt=!0,this.trackedEntity_&&this.dataSourceDisplay_.defaultDataSource.entities.remove(this.trackedEntity_),this.trackedEntity_=null,this.trackedFeature_=null,this.entityView_=null,t.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);return}this.trackedFeature_=e,this.needTrackedEntityUpdate_=!0;const n=this.to4326Transform_,i=function(){const a=e.getGeometry();console.assert(a instanceof Gn);const s=a instanceof Gn?a.getCoordinates():[],l=n(s,void 0,s.length);return Hi(l)},o={position:new Cesium.CallbackProperty((a,s)=>i(),!1),point:{pixelSize:1,color:Cesium.Color.TRANSPARENT}};this.trackedEntity_=this.dataSourceDisplay_.defaultDataSource.entities.add(o)}}}class Q_ extends ff{constructor(e,t){super(e,t)}addOverlays(){this.overlays_.forEach(e=>{e.getId()!==void 0&&this.addOverlay(e)})}}class X_ extends Wd{constructor(e,t){super(e,t),this.cesiumLayers=t.imageryLayers,this.ourLayers=new Cesium.ImageryLayerCollection}addCesiumObject(e){this.cesiumLayers.add(e),this.ourLayers.add(e)}destroyCesiumObject(e){e.destroy()}removeSingleCesiumObject(e,t){this.cesiumLayers.remove(e,t),this.ourLayers.remove(e,!1)}removeAllCesiumObjects(e){for(let t=0;t<this.ourLayers.length;++t)this.cesiumLayers.remove(this.ourLayers.get(t),e);this.ourLayers.removeAll(!1)}convertLayerToCesiumImageries(e,t){const n={show:!1};let i={},o={},a=null;if(!(e instanceof Ci)&&!(e instanceof Ma))return null;if(i=e.getSource(),i instanceof cd)a=this.createProviderForTileWMS(i,t,e);else{if(i instanceof ud)return o=this.createImageryLayerForImageWMS(e,t),o?[o]:null;if(i instanceof uf)a=this.createProviderForStaticImageSource(i);else if(i instanceof ll){if(typeof i.getUrls!="function"||!Array.isArray(i.getUrls()))return null;a=new Cesium.WebMapTileServiceImageryProvider({url:i.getUrls()[0],format:i.getFormat(),layer:i.getLayer(),style:i.getStyle(),tileMatrixSetID:i.getMatrixSet(),tileMatrixLabels:i.getTileGrid().getMatrixIds(),credit:i.getAttributions()})}else return console.warn("Sources other than TileImage are currently not supported."),null}return o=new Cesium.ImageryLayer(a,n),o?[o]:null}createProviderForTileWMS(e,t,n){const i=e.getParams(),o={url:e.getUrls()[0],parameters:i,layers:i.LAYERS,show:!1},a=e.getTileGrid();if(typeof i.CQL_FILTER>"u"&&delete i.CQL_FILTER,a){const s=n.getExtent();if(s&&t){o.rectangle=Zd(s,t);const l=this.getMinMaxLevelFromTileGrid(a,s,t);o.tileWidth=a.getTileSize(0)[0],o.tileHeight=a.getTileSize(0)[1],o.minimumLevel=l[0],o.maximumLevel=l[1]}}return new Cesium.WebMapServiceImageryProvider(o)}createImageryLayerForImageWMS(e,t){return hf(this.map,e,t)}createProviderForStaticImageSource(e){const t=e.getImageExtent(),n={url:e.getUrl(),show:!1},i=Er(e.getProjection().getCode(),"EPSG:4326",Xl(t)),o=Er(e.getProjection().getCode(),"EPSG:4326",Jl(t));return n.rectangle=Cesium.Rectangle.fromDegrees(i[0],i[1],o[0],o[1]),new Cesium.SingleTileImageryProvider(n)}getExtentPoints(e,t){const n=ci(e,t,"EPSG:4326");return[Xl(n),jh(n),Jl(n),xs(n)].map(i=>Cesium.Cartographic.fromDegrees(i[0],i[1]))}getMinMaxLevelFromTileGrid(e,t,n){const i=[Xl(t),jh(t),Jl(t),xs(t)],o=e.getResolutions().slice(-1).pop(),a=i.map(p=>e.getTileCoordForCoordAndResolution(p,o)),s=Math.abs(a[0][1]-a[1][1]),l=Math.abs(a[0][2]-a[3][2]),c=this.getExtentPoints(t,n),u=new Cesium.GeographicTilingScheme({});let d=0,h=20;for(;d<h;){const p=c.map(v=>u.positionToTileXY(v,d)),m=[];if(m.push(Math.abs(p[0].x-p[1].x)),m.push(Math.abs(p[0].y-p[3].y)),m[0]>1||m[1]>1){d--;break}d++}for(;h>d;){const p=c.map(v=>u.positionToTileXY(v,h)),m=[];if(m.push(Math.abs(p[0].x-p[1].x)),m.push(Math.abs(p[0].y-p[3].y)),m[0]<s||m[1]<l){h++;break}h--}return[d,h]}createSingleLayerCounterparts(e){const t=e.layer,n=Xe(t).toString(),i=this.view.getProjection(),o=this.convertLayerToCesiumImageries(t,i);if(o){const a=[];[e.layer].concat(e.parents).forEach(s=>{a.push(s.on(["change:opacity","change:visible"],()=>{console.assert(o);for(let l=0;l<o.length;++l)qs(e,o[l])}))});for(let s=0;s<o.length;++s)qs(e,o[s]);a.push(t.on("change:extent",function(){for(let s=0;s<o.length;++s)this.cesiumLayers.remove(o[s],!0),this.ourLayers.remove(o[s],!1);delete this.layerMap[Xe(t)],this.synchronize()},this)),a.push(t.on("change",(function(){for(let s=0;s<o.length;++s){const l=this.cesiumLayers.indexOf(o[s]);l>=0&&(this.cesiumLayers.remove(o[s],!1),this.cesiumLayers.add(o[s],l))}}).bind(this))),this.olLayerListenKeys[n].push(...a)}return Array.isArray(o)?o:null}orderLayers(){const e=[],t={},n=[this.mapLayerGroup];for(;n.length>0;){const i=n.splice(0,1)[0];if(e.push(i),t[Xe(i)]=i.getZIndex(),i instanceof Zr){const o=i.getLayers();o&&n.unshift(...o.getArray())}}lk(e,(i,o)=>t[Xe(i)]-t[Xe(o)]),e.forEach(function(i){const o=Xe(i).toString(),a=this.layerMap[o];a&&a.forEach(this.raiseToTop,this)},this)}raiseToTop(e){this.cesiumLayers.raiseToTop(e)}}let J_=0;function sa(r,e){if(!r||!e||typeof e!="object"){console.warn("setCesiumSceneParams: Invalid scene or params.");return}Object.entries(e).forEach(([t,n])=>{["0","1","2","heading","tilt","altitude","pitch"].includes(t)||(typeof n=="object"&&r[t]?sa(r[t],n):r[t]=n)})}function yf(r,e,t){if(!r||!e){console.warn("setCameraParameter: Missing parameters or map3D instance.");return}let n=e.getCesiumScene()?.camera;const i=parseFloat(r.heading??r.camera?.heading??0),o=parseFloat(r.pitch??r.camera?.pitch??0),a=parseFloat(r.roll??0),s=parseFloat(r.tilt??r.camera?.tilt??0),l=parseFloat(r.altitude??r.camera?.altitude??0);if(r.cameraPosition||r.camera?.cameraPosition){const c=r.cameraPosition??r.camera.cameraPosition,u=t.Cartesian3.fromDegrees(c[0],c[1],c[2]),d={heading:t.Math.toRadians(i),pitch:t.Math.toRadians(o),roll:t.Math.toRadians(a)};r.cameraPosition?n.setView({destination:u,orientation:d}):n.flyTo({destination:u,orientation:d});return}n=e.getCamera(),s&&n.setTilt(s),i&&n.setHeading(i),l&&n.setAltitude(l)}function vf(r){const e=new Kd({map:r.map2D,time:r?.shadowTime,stopOpenLayersEventsPropagation:!0,createSynchronizers:(t,n)=>[new X_(t,n),new gf(t,n),new Q_(t,n)]});return e.id=`map3D_${J_++}`,e.mapMode="3D",sa(e.getCesiumScene(),sr.sceneOptions),r?.cesiumParameter&&(sa(e.getCesiumScene(),r.cesiumParameter),yf(r.cesiumParameter,e,Cesium)),e}function e4(r){const e=this.scene,t=e.camera.getPickRay(r.position),n=e.globe.pick(t,e),i=this.map3D.getOlView().getProjection();let o,a,s,l,c,u,d,h,p,m;if(n){if(document.querySelector(".nav li")?.classList.contains("open")&&document.querySelector(".nav li").classList.remove("open"),s=e.globe.ellipsoid.cartesianToCartographic(n),a=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)],o=e.globe.getHeight(s),o&&(a=a.concat([o])),l=Cesium.Cartesian3.distance(n,e.camera.position),c=this.map3D.getCamera().calcResolutionForDistance(l,s.latitude),u=Yo(a,pe("EPSG:4326"),i),d=null,e.pickPositionSupported){const v=e.pick(r.position);h=e.pickPosition(r.position),!h&&v?.primitive instanceof window.Cesium.Billboard&&(h=v.primitive?.position),h&&(p=e.globe.ellipsoid.cartesianToCartographic(h),d=Yo([Cesium.Math.toDegrees(p.longitude),Cesium.Math.toDegrees(p.latitude)],pe("EPSG:4326"),i),d.push(p.height))}m={map3D:this,position:r.position,pickedPosition:d,coordinate:u,latitude:a[0],longitude:a[1],resolution:c,originalEvent:r}}return this.callback(m)}function t4(r){let e;Cesium&&(e=new Cesium.ScreenSpaceEventHandler(r.scene.canvas),e.setInputAction(e4.bind(r),Cesium.ScreenSpaceEventType.LEFT_CLICK))}function r4(r,e,t){const n=r.camera;let i=Object.prototype.hasOwnProperty.call(t,"cameraParameter")?t.cameraParameter:{};return i=e?.altitude?Object.assign(i||{},{altitude:e?.altitude}):i,i=e?.heading?Object.assign(i||{},{heading:e?.heading}):i,i=e?.tilt?Object.assign(i||{},{tilt:e?.tilt}):i,Object.keys(i).length>0&&sa(r,{camera:i}),n}const n4=Object.freeze(Object.defineProperty({__proto__:null,createMap:vf,handle3DEvents:t4,prepareCamera:r4,setCameraParameter:yf,setCesiumSceneParams:sa},Symbol.toStringTag,{value:"Module"})),i4={createMap:function(r,e="2D",t={}){return{"2D":L_,"3D":vf}[e](r,t)},olcsMap:n4},o4={map:i4};var ig={exports:{}},og;function a4(){return og||(og=1,(function(r){(function(e,t,n,i){var o=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),s="function",l=Math.round,c=Math.abs,u=Date.now;function d(g,f,x){return setTimeout(A(g,x),f)}function h(g,f,x){return Array.isArray(g)?(p(g,x[f],x),!0):!1}function p(g,f,x){var M;if(g)if(g.forEach)g.forEach(f,x);else if(g.length!==i)for(M=0;M<g.length;)f.call(x,g[M],M,g),M++;else for(M in g)g.hasOwnProperty(M)&&f.call(x,g[M],M,g)}function m(g,f,x){var M="DEPRECATED METHOD: "+f+`
`+x+` AT 
`;return function(){var j=new Error("get-stack-trace"),he=j&&j.stack?j.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ne=e.console&&(e.console.warn||e.console.log);return Ne&&Ne.call(e.console,M,he),g.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(g){if(g===i||g===null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(g),x=1;x<arguments.length;x++){var M=arguments[x];if(M!==i&&M!==null)for(var j in M)M.hasOwnProperty(j)&&(f[j]=M[j])}return f}:v=Object.assign;var y=m(function(g,f,x){for(var M=Object.keys(f),j=0;j<M.length;)(!x||x&&g[M[j]]===i)&&(g[M[j]]=f[M[j]]),j++;return g},"extend","Use `assign`."),_=m(function(g,f){return y(g,f,!0)},"merge","Use `assign`.");function w(g,f,x){var M=f.prototype,j;j=g.prototype=Object.create(M),j.constructor=g,j._super=M,x&&v(j,x)}function A(g,f){return function(){return g.apply(f,arguments)}}function T(g,f){return typeof g==s?g.apply(f&&f[0]||i,f):g}function N(g,f){return g===i?f:g}function W(g,f,x){p(le(f),function(M){g.addEventListener(M,x,!1)})}function Y(g,f,x){p(le(f),function(M){g.removeEventListener(M,x,!1)})}function ie(g,f){for(;g;){if(g==f)return!0;g=g.parentNode}return!1}function te(g,f){return g.indexOf(f)>-1}function le(g){return g.trim().split(/\s+/g)}function R(g,f,x){if(g.indexOf&&!x)return g.indexOf(f);for(var M=0;M<g.length;){if(x&&g[M][x]==f||!x&&g[M]===f)return M;M++}return-1}function D(g){return Array.prototype.slice.call(g,0)}function Q(g,f,x){for(var M=[],j=[],he=0;he<g.length;){var Ne=g[he][f];R(j,Ne)<0&&M.push(g[he]),j[he]=Ne,he++}return M=M.sort(function(rt,vr){return rt[f]>vr[f]}),M}function C(g,f){for(var x,M,j=f[0].toUpperCase()+f.slice(1),he=0;he<o.length;){if(x=o[he],M=x?x+j:f,M in g)return M;he++}return i}var U=1;function J(){return U++}function ke(g){var f=g.ownerDocument||g;return f.defaultView||f.parentWindow||e}var Le=/mobile|tablet|ip(ad|hone|od)|android/i,kt="ontouchstart"in e,$=C(e,"PointerEvent")!==i,Lt=kt&&Le.test(navigator.userAgent),Ke="touch",_t="pen",lr="mouse",bt="kinect",ht=25,Ue=1,Be=2,Ae=4,G=8,cr=1,k=2,b=4,E=8,P=16,S=k|b,O=E|P,F=S|O,V=["x","y"],z=["clientX","clientY"];function L(g,f){var x=this;this.manager=g,this.callback=f,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(M){T(g.options.enable,[g])&&x.handler(M)},this.init()}L.prototype={handler:function(){},init:function(){this.evEl&&W(this.element,this.evEl,this.domHandler),this.evTarget&&W(this.target,this.evTarget,this.domHandler),this.evWin&&W(ke(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Y(this.element,this.evEl,this.domHandler),this.evTarget&&Y(this.target,this.evTarget,this.domHandler),this.evWin&&Y(ke(this.element),this.evWin,this.domHandler)}};function ce(g){var f,x=g.options.inputClass;return x?f=x:$?f=xo:Lt?f=ja:kt?f=Bl:f=xt,new f(g,X)}function X(g,f,x){var M=x.pointers.length,j=x.changedPointers.length,he=f&Ue&&M-j===0,Ne=f&(Ae|G)&&M-j===0;x.isFirst=!!he,x.isFinal=!!Ne,he&&(g.session={}),x.eventType=f,K(g,x),g.emit("hammer.input",x),g.recognize(x),g.session.prevInput=x}function K(g,f){var x=g.session,M=f.pointers,j=M.length;x.firstInput||(x.firstInput=ge(f)),j>1&&!x.firstMultiple?x.firstMultiple=ge(f):j===1&&(x.firstMultiple=!1);var he=x.firstInput,Ne=x.firstMultiple,rt=Ne?Ne.center:he.center,vr=f.center=re(M);f.timeStamp=u(),f.deltaTime=f.timeStamp-he.timeStamp,f.angle=je(rt,vr),f.distance=Pe(rt,vr),ee(x,f),f.offsetDirection=xe(f.deltaX,f.deltaY);var Xt=ye(f.deltaTime,f.deltaX,f.deltaY);f.overallVelocityX=Xt.x,f.overallVelocityY=Xt.y,f.overallVelocity=c(Xt.x)>c(Xt.y)?Xt.x:Xt.y,f.scale=Ne?Ot(Ne.pointers,M):1,f.rotation=Ne?tt(Ne.pointers,M):0,f.maxPointers=x.prevInput?f.pointers.length>x.prevInput.maxPointers?f.pointers.length:x.prevInput.maxPointers:f.pointers.length,oe(x,f);var Ar=g.element;ie(f.srcEvent.target,Ar)&&(Ar=f.srcEvent.target),f.target=Ar}function ee(g,f){var x=f.center,M=g.offsetDelta||{},j=g.prevDelta||{},he=g.prevInput||{};(f.eventType===Ue||he.eventType===Ae)&&(j=g.prevDelta={x:he.deltaX||0,y:he.deltaY||0},M=g.offsetDelta={x:x.x,y:x.y}),f.deltaX=j.x+(x.x-M.x),f.deltaY=j.y+(x.y-M.y)}function oe(g,f){var x=g.lastInterval||f,M=f.timeStamp-x.timeStamp,j,he,Ne,rt;if(f.eventType!=G&&(M>ht||x.velocity===i)){var vr=f.deltaX-x.deltaX,Xt=f.deltaY-x.deltaY,Ar=ye(M,vr,Xt);he=Ar.x,Ne=Ar.y,j=c(Ar.x)>c(Ar.y)?Ar.x:Ar.y,rt=xe(vr,Xt),g.lastInterval=f}else j=x.velocity,he=x.velocityX,Ne=x.velocityY,rt=x.direction;f.velocity=j,f.velocityX=he,f.velocityY=Ne,f.direction=rt}function ge(g){for(var f=[],x=0;x<g.pointers.length;)f[x]={clientX:l(g.pointers[x].clientX),clientY:l(g.pointers[x].clientY)},x++;return{timeStamp:u(),pointers:f,center:re(f),deltaX:g.deltaX,deltaY:g.deltaY}}function re(g){var f=g.length;if(f===1)return{x:l(g[0].clientX),y:l(g[0].clientY)};for(var x=0,M=0,j=0;j<f;)x+=g[j].clientX,M+=g[j].clientY,j++;return{x:l(x/f),y:l(M/f)}}function ye(g,f,x){return{x:f/g||0,y:x/g||0}}function xe(g,f){return g===f?cr:c(g)>=c(f)?g<0?k:b:f<0?E:P}function Pe(g,f,x){x||(x=V);var M=f[x[0]]-g[x[0]],j=f[x[1]]-g[x[1]];return Math.sqrt(M*M+j*j)}function je(g,f,x){x||(x=V);var M=f[x[0]]-g[x[0]],j=f[x[1]]-g[x[1]];return Math.atan2(j,M)*180/Math.PI}function tt(g,f){return je(f[1],f[0],z)+je(g[1],g[0],z)}function Ot(g,f){return Pe(f[0],f[1],z)/Pe(g[0],g[1],z)}var Ve={mousedown:Ue,mousemove:Be,mouseup:Ae},Ie="mousedown",Tt="mousemove mouseup";function xt(){this.evEl=Ie,this.evWin=Tt,this.pressed=!1,L.apply(this,arguments)}w(xt,L,{handler:function(g){var f=Ve[g.type];f&Ue&&g.button===0&&(this.pressed=!0),f&Be&&g.which!==1&&(f=Ae),this.pressed&&(f&Ae&&(this.pressed=!1),this.callback(this.manager,f,{pointers:[g],changedPointers:[g],pointerType:lr,srcEvent:g}))}});var ur={pointerdown:Ue,pointermove:Be,pointerup:Ae,pointercancel:G,pointerout:G},Et={2:Ke,3:_t,4:lr,5:bt},Lr="pointerdown",Ra="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Lr="MSPointerDown",Ra="MSPointerMove MSPointerUp MSPointerCancel");function xo(){this.evEl=Lr,this.evWin=Ra,L.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w(xo,L,{handler:function(g){var f=this.store,x=!1,M=g.type.toLowerCase().replace("ms",""),j=ur[M],he=Et[g.pointerType]||g.pointerType,Ne=he==Ke,rt=R(f,g.pointerId,"pointerId");j&Ue&&(g.button===0||Ne)?rt<0&&(f.push(g),rt=f.length-1):j&(Ae|G)&&(x=!0),!(rt<0)&&(f[rt]=g,this.callback(this.manager,j,{pointers:f,changedPointers:[g],pointerType:he,srcEvent:g}),x&&f.splice(rt,1))}});var V1={touchstart:Ue,touchmove:Be,touchend:Ae,touchcancel:G},H1="touchstart",Y1="touchstart touchmove touchend touchcancel";function xh(){this.evTarget=H1,this.evWin=Y1,this.started=!1,L.apply(this,arguments)}w(xh,L,{handler:function(g){var f=V1[g.type];if(f===Ue&&(this.started=!0),!!this.started){var x=Z1.call(this,g,f);f&(Ae|G)&&x[0].length-x[1].length===0&&(this.started=!1),this.callback(this.manager,f,{pointers:x[0],changedPointers:x[1],pointerType:Ke,srcEvent:g})}}});function Z1(g,f){var x=D(g.touches),M=D(g.changedTouches);return f&(Ae|G)&&(x=Q(x.concat(M),"identifier")),[x,M]}var W1={touchstart:Ue,touchmove:Be,touchend:Ae,touchcancel:G},K1="touchstart touchmove touchend touchcancel";function ja(){this.evTarget=K1,this.targetIds={},L.apply(this,arguments)}w(ja,L,{handler:function(g){var f=W1[g.type],x=Q1.call(this,g,f);x&&this.callback(this.manager,f,{pointers:x[0],changedPointers:x[1],pointerType:Ke,srcEvent:g})}});function Q1(g,f){var x=D(g.touches),M=this.targetIds;if(f&(Ue|Be)&&x.length===1)return M[x[0].identifier]=!0,[x,x];var j,he,Ne=D(g.changedTouches),rt=[],vr=this.target;if(he=x.filter(function(Xt){return ie(Xt.target,vr)}),f===Ue)for(j=0;j<he.length;)M[he[j].identifier]=!0,j++;for(j=0;j<Ne.length;)M[Ne[j].identifier]&&rt.push(Ne[j]),f&(Ae|G)&&delete M[Ne[j].identifier],j++;if(rt.length)return[Q(he.concat(rt),"identifier"),rt]}var X1=2500,wh=25;function Bl(){L.apply(this,arguments);var g=A(this.handler,this);this.touch=new ja(this.manager,g),this.mouse=new xt(this.manager,g),this.primaryTouch=null,this.lastTouches=[]}w(Bl,L,{handler:function(g,f,x){var M=x.pointerType==Ke,j=x.pointerType==lr;if(!(j&&x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents)){if(M)J1.call(this,f,x);else if(j&&ey.call(this,x))return;this.callback(g,f,x)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function J1(g,f){g&Ue?(this.primaryTouch=f.changedPointers[0].identifier,_h.call(this,f)):g&(Ae|G)&&_h.call(this,f)}function _h(g){var f=g.changedPointers[0];if(f.identifier===this.primaryTouch){var x={x:f.clientX,y:f.clientY};this.lastTouches.push(x);var M=this.lastTouches,j=function(){var he=M.indexOf(x);he>-1&&M.splice(he,1)};setTimeout(j,X1)}}function ey(g){for(var f=g.srcEvent.clientX,x=g.srcEvent.clientY,M=0;M<this.lastTouches.length;M++){var j=this.lastTouches[M],he=Math.abs(f-j.x),Ne=Math.abs(x-j.y);if(he<=wh&&Ne<=wh)return!0}return!1}var Th=C(a.style,"touchAction"),Eh=Th!==i,Mh="compute",Ch="auto",Vl="manipulation",Wn="none",wo="pan-x",_o="pan-y",qa=ry();function Hl(g,f){this.manager=g,this.set(f)}Hl.prototype={set:function(g){g==Mh&&(g=this.compute()),Eh&&this.manager.element.style&&qa[g]&&(this.manager.element.style[Th]=g),this.actions=g.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var g=[];return p(this.manager.recognizers,function(f){T(f.options.enable,[f])&&(g=g.concat(f.getTouchAction()))}),ty(g.join(" "))},preventDefaults:function(g){var f=g.srcEvent,x=g.offsetDirection;if(this.manager.session.prevented){f.preventDefault();return}var M=this.actions,j=te(M,Wn)&&!qa[Wn],he=te(M,_o)&&!qa[_o],Ne=te(M,wo)&&!qa[wo];if(j){var rt=g.pointers.length===1,vr=g.distance<2,Xt=g.deltaTime<250;if(rt&&vr&&Xt)return}if(!(Ne&&he)&&(j||he&&x&S||Ne&&x&O))return this.preventSrc(f)},preventSrc:function(g){this.manager.session.prevented=!0,g.preventDefault()}};function ty(g){if(te(g,Wn))return Wn;var f=te(g,wo),x=te(g,_o);return f&&x?Wn:f||x?f?wo:_o:te(g,Vl)?Vl:Ch}function ry(){if(!Eh)return!1;var g={},f=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(x){g[x]=f?e.CSS.supports("touch-action",x):!0}),g}var Fa=1,dr=2,Ii=4,xn=8,Qr=xn,To=16,Ir=32;function Xr(g){this.options=v({},this.defaults,g||{}),this.id=J(),this.manager=null,this.options.enable=N(this.options.enable,!0),this.state=Fa,this.simultaneous={},this.requireFail=[]}Xr.prototype={defaults:{},set:function(g){return v(this.options,g),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(g){if(h(g,"recognizeWith",this))return this;var f=this.simultaneous;return g=za(g,this),f[g.id]||(f[g.id]=g,g.recognizeWith(this)),this},dropRecognizeWith:function(g){return h(g,"dropRecognizeWith",this)?this:(g=za(g,this),delete this.simultaneous[g.id],this)},requireFailure:function(g){if(h(g,"requireFailure",this))return this;var f=this.requireFail;return g=za(g,this),R(f,g)===-1&&(f.push(g),g.requireFailure(this)),this},dropRequireFailure:function(g){if(h(g,"dropRequireFailure",this))return this;g=za(g,this);var f=R(this.requireFail,g);return f>-1&&this.requireFail.splice(f,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(g){return!!this.simultaneous[g.id]},emit:function(g){var f=this,x=this.state;function M(j){f.manager.emit(j,g)}x<xn&&M(f.options.event+Sh(x)),M(f.options.event),g.additionalEvent&&M(g.additionalEvent),x>=xn&&M(f.options.event+Sh(x))},tryEmit:function(g){if(this.canEmit())return this.emit(g);this.state=Ir},canEmit:function(){for(var g=0;g<this.requireFail.length;){if(!(this.requireFail[g].state&(Ir|Fa)))return!1;g++}return!0},recognize:function(g){var f=v({},g);if(!T(this.options.enable,[this,f])){this.reset(),this.state=Ir;return}this.state&(Qr|To|Ir)&&(this.state=Fa),this.state=this.process(f),this.state&(dr|Ii|xn|To)&&this.tryEmit(f)},process:function(g){},getTouchAction:function(){},reset:function(){}};function Sh(g){return g&To?"cancel":g&xn?"end":g&Ii?"move":g&dr?"start":""}function Lh(g){return g==P?"down":g==E?"up":g==k?"left":g==b?"right":""}function za(g,f){var x=f.manager;return x?x.get(g):g}function yr(){Xr.apply(this,arguments)}w(yr,Xr,{defaults:{pointers:1},attrTest:function(g){var f=this.options.pointers;return f===0||g.pointers.length===f},process:function(g){var f=this.state,x=g.eventType,M=f&(dr|Ii),j=this.attrTest(g);return M&&(x&G||!j)?f|To:M||j?x&Ae?f|xn:f&dr?f|Ii:dr:Ir}});function Ua(){yr.apply(this,arguments),this.pX=null,this.pY=null}w(Ua,yr,{defaults:{event:"pan",threshold:10,pointers:1,direction:F},getTouchAction:function(){var g=this.options.direction,f=[];return g&S&&f.push(_o),g&O&&f.push(wo),f},directionTest:function(g){var f=this.options,x=!0,M=g.distance,j=g.direction,he=g.deltaX,Ne=g.deltaY;return j&f.direction||(f.direction&S?(j=he===0?cr:he<0?k:b,x=he!=this.pX,M=Math.abs(g.deltaX)):(j=Ne===0?cr:Ne<0?E:P,x=Ne!=this.pY,M=Math.abs(g.deltaY))),g.direction=j,x&&M>f.threshold&&j&f.direction},attrTest:function(g){return yr.prototype.attrTest.call(this,g)&&(this.state&dr||!(this.state&dr)&&this.directionTest(g))},emit:function(g){this.pX=g.deltaX,this.pY=g.deltaY;var f=Lh(g.direction);f&&(g.additionalEvent=this.options.event+f),this._super.emit.call(this,g)}});function Yl(){yr.apply(this,arguments)}w(Yl,yr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wn]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.scale-1)>this.options.threshold||this.state&dr)},emit:function(g){if(g.scale!==1){var f=g.scale<1?"in":"out";g.additionalEvent=this.options.event+f}this._super.emit.call(this,g)}});function Zl(){Xr.apply(this,arguments),this._timer=null,this._input=null}w(Zl,Xr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ch]},process:function(g){var f=this.options,x=g.pointers.length===f.pointers,M=g.distance<f.threshold,j=g.deltaTime>f.time;if(this._input=g,!M||!x||g.eventType&(Ae|G)&&!j)this.reset();else if(g.eventType&Ue)this.reset(),this._timer=d(function(){this.state=Qr,this.tryEmit()},f.time,this);else if(g.eventType&Ae)return Qr;return Ir},reset:function(){clearTimeout(this._timer)},emit:function(g){this.state===Qr&&(g&&g.eventType&Ae?this.manager.emit(this.options.event+"up",g):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Wl(){yr.apply(this,arguments)}w(Wl,yr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wn]},attrTest:function(g){return this._super.attrTest.call(this,g)&&(Math.abs(g.rotation)>this.options.threshold||this.state&dr)}});function Kl(){yr.apply(this,arguments)}w(Kl,yr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:S|O,pointers:1},getTouchAction:function(){return Ua.prototype.getTouchAction.call(this)},attrTest:function(g){var f=this.options.direction,x;return f&(S|O)?x=g.overallVelocity:f&S?x=g.overallVelocityX:f&O&&(x=g.overallVelocityY),this._super.attrTest.call(this,g)&&f&g.offsetDirection&&g.distance>this.options.threshold&&g.maxPointers==this.options.pointers&&c(x)>this.options.velocity&&g.eventType&Ae},emit:function(g){var f=Lh(g.offsetDirection);f&&this.manager.emit(this.options.event+f,g),this.manager.emit(this.options.event,g)}});function $a(){Xr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}w($a,Xr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Vl]},process:function(g){var f=this.options,x=g.pointers.length===f.pointers,M=g.distance<f.threshold,j=g.deltaTime<f.time;if(this.reset(),g.eventType&Ue&&this.count===0)return this.failTimeout();if(M&&j&&x){if(g.eventType!=Ae)return this.failTimeout();var he=this.pTime?g.timeStamp-this.pTime<f.interval:!0,Ne=!this.pCenter||Pe(this.pCenter,g.center)<f.posThreshold;this.pTime=g.timeStamp,this.pCenter=g.center,!Ne||!he?this.count=1:this.count+=1,this._input=g;var rt=this.count%f.taps;if(rt===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=Qr,this.tryEmit()},f.interval,this),dr):Qr}return Ir},failTimeout:function(){return this._timer=d(function(){this.state=Ir},this.options.interval,this),Ir},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Qr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function wn(g,f){return f=f||{},f.recognizers=N(f.recognizers,wn.defaults.preset),new Ql(g,f)}wn.VERSION="2.0.7",wn.defaults={domEvents:!1,touchAction:Mh,enable:!0,inputTarget:null,inputClass:null,preset:[[Wl,{enable:!1}],[Yl,{enable:!1},["rotate"]],[Kl,{direction:S}],[Ua,{direction:S},["swipe"]],[$a],[$a,{event:"doubletap",taps:2},["tap"]],[Zl]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ny=1,Ih=2;function Ql(g,f){this.options=v({},wn.defaults,f||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=ce(this),this.touchAction=new Hl(this,this.options.touchAction),Ah(this,!0),p(this.options.recognizers,function(x){var M=this.add(new x[0](x[1]));x[2]&&M.recognizeWith(x[2]),x[3]&&M.requireFailure(x[3])},this)}Ql.prototype={set:function(g){return v(this.options,g),g.touchAction&&this.touchAction.update(),g.inputTarget&&(this.input.destroy(),this.input.target=g.inputTarget,this.input.init()),this},stop:function(g){this.session.stopped=g?Ih:ny},recognize:function(g){var f=this.session;if(!f.stopped){this.touchAction.preventDefaults(g);var x,M=this.recognizers,j=f.curRecognizer;(!j||j&&j.state&Qr)&&(j=f.curRecognizer=null);for(var he=0;he<M.length;)x=M[he],f.stopped!==Ih&&(!j||x==j||x.canRecognizeWith(j))?x.recognize(g):x.reset(),!j&&x.state&(dr|Ii|xn)&&(j=f.curRecognizer=x),he++}},get:function(g){if(g instanceof Xr)return g;for(var f=this.recognizers,x=0;x<f.length;x++)if(f[x].options.event==g)return f[x];return null},add:function(g){if(h(g,"add",this))return this;var f=this.get(g.options.event);return f&&this.remove(f),this.recognizers.push(g),g.manager=this,this.touchAction.update(),g},remove:function(g){if(h(g,"remove",this))return this;if(g=this.get(g),g){var f=this.recognizers,x=R(f,g);x!==-1&&(f.splice(x,1),this.touchAction.update())}return this},on:function(g,f){if(g!==i&&f!==i){var x=this.handlers;return p(le(g),function(M){x[M]=x[M]||[],x[M].push(f)}),this}},off:function(g,f){if(g!==i){var x=this.handlers;return p(le(g),function(M){f?x[M]&&x[M].splice(R(x[M],f),1):delete x[M]}),this}},emit:function(g,f){this.options.domEvents&&iy(g,f);var x=this.handlers[g]&&this.handlers[g].slice();if(!(!x||!x.length)){f.type=g,f.preventDefault=function(){f.srcEvent.preventDefault()};for(var M=0;M<x.length;)x[M](f),M++}},destroy:function(){this.element&&Ah(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ah(g,f){var x=g.element;if(x.style){var M;p(g.options.cssProps,function(j,he){M=C(x.style,he),f?(g.oldCssProps[M]=x.style[M],x.style[M]=j):x.style[M]=g.oldCssProps[M]||""}),f||(g.oldCssProps={})}}function iy(g,f){var x=t.createEvent("Event");x.initEvent(g,!0,!0),x.gesture=f,f.target.dispatchEvent(x)}v(wn,{INPUT_START:Ue,INPUT_MOVE:Be,INPUT_END:Ae,INPUT_CANCEL:G,STATE_POSSIBLE:Fa,STATE_BEGAN:dr,STATE_CHANGED:Ii,STATE_ENDED:xn,STATE_RECOGNIZED:Qr,STATE_CANCELLED:To,STATE_FAILED:Ir,DIRECTION_NONE:cr,DIRECTION_LEFT:k,DIRECTION_RIGHT:b,DIRECTION_UP:E,DIRECTION_DOWN:P,DIRECTION_HORIZONTAL:S,DIRECTION_VERTICAL:O,DIRECTION_ALL:F,Manager:Ql,Input:L,TouchAction:Hl,TouchInput:ja,MouseInput:xt,PointerEventInput:xo,TouchMouseInput:Bl,SingleTouchInput:xh,Recognizer:Xr,AttrRecognizer:yr,Tap:$a,Pan:Ua,Swipe:Kl,Pinch:Yl,Rotate:Wl,Press:Zl,on:W,off:Y,each:p,merge:_,extend:y,assign:v,inherit:w,bindFn:A,prefixed:C});var oy=typeof e<"u"?e:typeof self<"u"?self:{};oy.Hammer=wn,r.exports?r.exports=wn:e[n]=wn})(window,document,"Hammer")})(ig)),ig.exports}var s4=a4();const l4=dk(s4);function Tc(r){const e=at(r()),t=()=>{e.value=r()};return ao(()=>{kr.on("languageChanged",t)}),dy(()=>{kr.off("languageChanged",t)}),e}function c4(r,e){r.layers.map(({id:t})=>({id:t,service:e.find(({id:n})=>n===t)})).filter(t=>t.service?!0:(console.warn(`@polar/polar(core/utils/checkServiceAvailability:26:6)
`,`Service with id "${t.id}" not found in service register.`),!1)).map(({service:t})=>({ping:f_(t),serviceId:t.id,serviceName:t.name})).forEach(({ping:t,serviceId:n,serviceName:i})=>{t.then(o=>{o!==200&&(Ik("warning",()=>gr(a=>a.error.serviceUnavailable,{ns:"core",serviceId:n,serviceName:i})),console.error(`@polar/polar(core/utils/checkServiceAvailability:54:7)
`,`Ping to "${n}" returned "${o}".`))}).catch(o=>{console.error(`@polar/polar(core/utils/checkServiceAvailability:58:6)
`,o)})})}function u4(r,e){return r?[new _s,new Jc]:[new _s({condition:function(){return e?this.getPointerCount()>1:!0}}),new Jc({condition:Rk})]}function ag(r){const e=r.originalEvent.composedPath()[0],{tagName:t}=e;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.isContentEditable}const d4=()=>[new F0({condition:ag}),new z0({condition:ag})];function h4(r,e,t){if(e.get("features"))return e;const n=r.getLayers().getArray().find(o=>o.get("id")===e.get(t));if(!(n instanceof Yr))throw new Error(`@polar/lib-get-cluster: The layer with the id ${t} either does not exist or is not a VectorLayer.`);const i=n.getSource().getFeatures().find(o=>o.get("features").includes(e));if(!(i instanceof Ti))throw new Error("@polar/lib-get-cluster: No cluster could be found for the given feature.");return i.set("features",[...i.get("features").filter(o=>o!==e),e]),i.set(t,e.get(t),!0),i}class ko{constructor(e,t,n){this.feature=e,this.style=t,this.isClustered=n,this.attributes={},this.legendInfos=[],this.styleMultiGeomOnlyWithRule=!1,this.nullStyle=!1}setFeature(e){this.feature=e}setStyle(e){this.style=e}getStyle(){return this.style}overwriteStyling(e){e?(this.nullStyle=!1,Object.keys(e).forEach(t=>{const n=e[t];this.attributes[t]=n})):this.nullStyle=!0}setIsClustered(e){this.isClustered=e}getLegendInfos(){return this.legendInfos}createLegendId(e,t){const n=t?.conditions?t.conditions:null;return encodeURIComponent(e+JSON.stringify(n))}createLegendLabel(e,t){if(t?.attributes?.legendValue)return t.attributes.legendValue.toString();if(e?.conditions){let n="";return e.conditions?.properties&&(n=Object.values(e.conditions.properties).join(", ")),e.conditions?.sequence&&Array.isArray(e.conditions.sequence)&&e.conditions.sequence.every(i=>typeof i=="number")&&e.conditions.sequence.length===2&&e.conditions.sequence[1]>=e.conditions.sequence[0]&&(n=n+" ("+e.conditions.sequence.join("-")+")"),n}return null}addLegendInfo(e,t,n){const{legendInfos:i}=t,o=this.createLegendId(e,n);i.some(a=>a.id===o)||this.legendInfos.push({id:o,geometryType:e,styleObject:t.attributes.type==="NOMINAL"?{attributes:t.attributes,style:t.style}:t.attributes,label:this.createLegendLabel(n,t)})}prepareField(e,t){const n=t.startsWith("@");let i=t;return n?(i=iv(e,i),typeof i>"u"&&(i="undefined")):i=Object.prototype.hasOwnProperty.call(e,t)?e[t]:"undefined",i}}const sg={draw:[{type:"line",parameters:[[1,-.5],[-.5,1]]},{type:"line",parameters:[[1.5,0],[0,1.5]]}]},lg={draw:[{type:"line",parameters:[[0,-.25],[.75,.5],[0,1.25]]}]},p4={diagonal:sg,"zig-line":lg,"diagonal-right":{...sg,rotate:90},"zig-line-horizontal":{...lg,rotate:90},rectangle:{draw:[{type:"rect",parameters:[[.125,.125,.25,.25],[.625,.625,.25,.25]]}]},triangle:{draw:[{type:"line",parameters:[[.25,0],[.5,.5],[0,.5],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,1],[.5,1],[.75,.5]]}]},diamond:{draw:[{type:"line",parameters:[[.25,0],[.5,.25],[.25,.5],[0,.25],[.25,0]]},{type:"line",parameters:[[.75,.5],[1,.75],[.75,1],[.5,.75],[.75,.5]]}]},circle:{draw:[{type:"arc",parameters:[.25,.25,({size:r,lineWidth:e})=>(r-2*e)/4]},{type:"arc",parameters:[.75,.75,({size:r,lineWidth:e})=>(r-2*e)/4]}]}};function Ec(r){return e=>e*r}function g4(r,e,{type:t,parameters:n}){const i=Ec(e);if(r.beginPath(),t==="rect")n.forEach(o=>r.rect(...o.map(i)));else if(t==="line"){const[o,...a]=n;r.moveTo(...o.map(i)),a.forEach(s=>r.lineTo(...s.map(i)))}else if(t==="arc"){const[o,a,s,l,c,u]=n,d=typeof s=="function"?s({size:e,lineWidth:r.lineWidth}):s;r.arc(Ec(e)(o),Ec(e)(a),d,l||0,c||2*Math.PI,u||!1)}else{console.error(`polygonStyleHatches: Unknown segment type "${t}". Skipping segment.`);return}r.stroke()}function m4(r,e,t=90){const n=.5*e;r.translate(n,n),r.rotate(t*Math.PI/180),r.translate(-n,-n)}function f4(r,e,t){const n=typeof t=="string"?p4[t]:t;if(n){const{draw:i,rotate:o}=n;o&&m4(r,e,o),i&&i.forEach(a=>g4(r,e,a))}else console.error(`polygonStyleHatches: Unknown polygon style "${t}". Skipping hatching.`)}class xu extends ko{constructor(){super(),this.attributes={...wi.polygon}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.attributes.polygonFillColor,t=this.attributes.polygonFillHatch;return new Mt({stroke:new mr({lineCap:this.attributes.polygonStrokeCap,lineJoin:this.attributes.polygonStrokeJoin,lineDash:this.attributes.polygonStrokeDash,lineDashOffset:this.attributes.polygonStrokeDashOffset,miterLimit:this.attributes.polygonStrokeMiterLimit,color:this.attributes.polygonStrokeColor,width:this.attributes.polygonStrokeWidth}),fill:new Fr({color:t?this.getPolygonFillHatch(t).getContext("2d").fillStyle:e})})}getPolygonFillHatch({pattern:e="diagonal",size:t=30,lineWidth:n=10,backgroundColor:i=[0,0,0,1],patternColor:o=[255,255,255,1]}){const a=document.createElement("canvas"),s=a.getContext("2d");return a.width=t,a.height=t,s.fillStyle=`rgba(${i.join(",")})`,s.fillRect(0,0,a.width,a.height),s.lineWidth=n,s.strokeStyle=`rgba(${o.join(",")})`,f4(s,t,e),s.fillStyle=s.createPattern(a,"repeat"),a}getPolygonFillHatchLegendDataUrl(e){const t=this.getPolygonFillHatch(e.polygonFillHatch),n=er(e.polygonStrokeColor,"hex"),i=parseInt(e.polygonStrokeWidth,10),o=e.polygonStrokeColor[3].toString()||0,a=document.createElement("canvas"),s=a.getContext("2d"),l=i/2,c=i*2;return a.width=t.width+c,a.height=t.height+c,s.drawImage(t,i,i),s.lineCap="round",s.lineJoin="round",s.strokeStyle=n,s.lineWidth=i,s.globalAlpha=o,s.strokeRect(l,l,a.width-i,a.height-i),a.toDataURL()}}const y4=new xu,kf="data:image/svg+xml,",bf=r=>typeof r=="string"?"":`<defs>
    <pattern id="img" patternUnits="userSpaceOnUse" x="0" y="0" width="${r.size||30}" height="${r.size||30}">
      <image href="${y4.getPolygonFillHatch(r).toDataURL()}" width="${r.size||30}" height="${r.size||30}"/>
    </pattern>
  </defs>`,v4=({fill:r,size:e,stroke:t,strokeWidth:n})=>`${kf}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>DB6C494E-88E8-49F1-89CE-97CBEC3A5240</title>
  ${bf(r)}
  <path
    d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"
    stroke="${t}"
    stroke-width="${n}"
    fill="${typeof r=="string"?r:"url(#img)"}"
    fill-rule="nonzero"
  />
</svg>
`)}`,k4=({fill:r,clusterSize:e,stroke:t,strokeWidth:n})=>`${kf}${encodeURIComponent(`
<svg width="${e[0]}" height="${e[1]}" viewBox="0 0 30 43" xmlns="http://www.w3.org/2000/svg">
  <title>0A6F4952-4A5A-4E86-88E4-4B3D2EA1E3DF</title>
  ${bf(r)}
  <g stroke="${t}" stroke-width="${n}" fill="${typeof r=="string"?r:"url(#img)"}" fill-rule="nonzero">
    <path d="M22.584 1C15.101 1 9 7.101 9 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C36.168 7.054 30.068 1 22.584 1z"/>
    <path d="M18.584 1C11.101 1 5 7.101 5 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C32.168 7.054 26.068 1 18.584 1z"/>
    <path d="M14.584 1C7.101 1 1 7.101 1 14.584c0 8.103 7.865 20.448 11.63 25.93a2.36 2.36 0 0 0 3.908 0c3.766-5.482 11.63-17.922 11.63-25.93C28.168 7.054 22.068 1 14.584 1z"/>
  </g>
</svg>
`)}`,b4=[.5,1],x4=r=>{const e=new Map,t=new Map;return(n,i)=>{const o=i?t:e;if(o.has(n))return o.get(n);const a=r(n,i);return o.set(n,a),o.size>1e3&&console.warn(`@polar/polar(core/utils/markers:86:4)
`,"1000+ styles have been created. This is possibly a memory leak. Please mind that the methods exported by this module are memoized. You *may* be calling the methods with constantly newly generated objects, or maybe there's just a lot of styles."),a}},w4=(r,e=!1)=>new Mt({image:new _i({src:(e?k4:v4)(r),anchor:b4})}),Fs=x4(w4),Sl=[26,36],Ll=[40,36],Il="#FFFFFF",Al="2",_4={clusterSize:Ll,fill:"#005CA9",size:Sl,stroke:Il,strokeWidth:Al},T4={clusterSize:Ll,fill:"#7B1045",size:Sl,stroke:Il,strokeWidth:Al},E4={clusterSize:Ll,fill:"#679100",size:Sl,stroke:Il,strokeWidth:Al},M4={clusterSize:Ll,fill:"#333333",size:Sl,stroke:Il,strokeWidth:Al};let Qd=[],wu=0;function la(r){return Qd.find(e=>e.id===r)}function Xd(r){return Qd.some(({id:e})=>e===r.get("id"))}function C4(r,e){return r.getLayers().getArray().find(t=>t.get("id")===e)}function S4(r,e){const t=e.get("features"),n=Bo();t.forEach(i=>Jg(n,i.getGeometry()?.getExtent()||[])),r.getView().fit(n,{duration:400,padding:[80,30,80,30]})}function _u(r,e,t=!1){const n=xa();if(n.selected?.setStyle(void 0),n.selected=null,e===null)return;const i=e.get("_polarLayerId"),o=typeof C4(r,i)?.getSource().getDistance=="function"?h4(r,e,"_polarLayerId"):e;o.setStyle(Fs(la(e.get("_polarLayerId")).selectionStyle,o.get("features")?.length>1)),n.selected=ai(o),t&&uo().centerOnFeature(n.selected)}function Jd(r,e){if(e.get("_polarLayerId"))return;const t=r.getLayers().getArray().find(n=>{if(n instanceof Yr){let i=n;for(;i instanceof Yr||i instanceof Ea;)if(i=i.getSource(),i.hasFeature(e))return!0;return i.hasFeature(e)}return!1})?.get("id");t&&e.set("_polarLayerId",t,!0)}function L4(r){const e=xa(),t=e.configuration;t&&(Qd=t.layers.map(n=>ln({defaultStyle:_4,hoverStyle:T4,selectionStyle:E4,unselectableStyle:M4,isSelectable:()=>!0},n)),wu=r.getView().getZoom(),r.getLayers().getArray().filter(Xd).forEach(n=>{const i=n.getSource();i!==null&&(i.geometryFunction=a=>hk(a)?a.getGeometry():null);const o=la(n.get("id"));n.setStyle(a=>Fs(o.isSelectable(a)?o.defaultStyle:o.unselectableStyle,a.get("features")?.length>1))}),At(()=>e.hovered,n=>{if(n!==null&&n!==sn(e.selected)&&(e.hovered?.setStyle(void 0),e.hovered=null),n!==null&&n!==sn(e.selected)){e.hovered=ai(n);const i=e.hovered.get("features")?.length>1,o=Fs(la(n.get("_polarLayerId")).hoverStyle,i);e.hovered.setStyle(o)}}),r.on("moveend",I4),r.on("pointermove",A4),r.on("click",N4),r.on("singleclick",O4))}let xf=null;function I4({map:r}){const e=xa(),t=r.getView().getZoom();if(t!==wu&&(wu=t,e.selected)){const n=e.selected.get("features")?.[0]||e.selected;Jd(r,n),_u(r,n)}}function A4({map:r,pixel:e}){const t=xa(),n=r.getFeaturesAtPixel(e,{layerFilter:Xd})[0];if(n===sn(t.selected)||n instanceof Ht||(sn(t.hovered)!==null&&sn(t.hovered)!==sn(t.selected)&&(t.hovered?.setStyle(void 0),t.hovered=null),!n))return;Jd(r,n);const i=la(n.get("_polarLayerId"));if(!i.isSelectable(n))return;const o=n.get("features")?.length>1;n.setStyle(Fs(i.hoverStyle,o)),t.hovered=ai(n)}function N4(r){const e=xa(),t=r.map;e.selected!==null&&_u(t,null);const n=t.getFeaturesAtPixel(r.pixel,{layerFilter:Xd})[0];if(!n||n instanceof Ht||(Jd(t,n),!la(n.get("_polarLayerId")).isSelectable(n)))return;const i=n.get("features")?.length>1;xf=r,r.stopPropagation();const o=t.getView().getZoom()!==t.getView().getMaxZoom();if(e.clusterClickZoom&&i&&o){S4(t,n);return}if(e.hovered?.setStyle(void 0),e.hovered=null,_u(t,n,!0),e.callOnMapSelect){const a=uo(),{action:s,payload:l,pluginName:c}=e.callOnMapSelect;if(!c){a[s](l);return}const u=$u().getPluginStore(c);if(!u){console.error(`@polar/polar(core/utils/map/setupMarkers:335:4)
`,`Plugin ${c} does not exist or is not configured or has no store module. Action ${s} could not be called.`);return}u[s](l)}}function O4(r){r.originalEvent===xf?.originalEvent&&r.stopPropagation()}function wf(r,e){if(typeof r=="object"){const{value:t,isDegree:n}=r;if(h0(t)&&e!==void 0){const i=parseInt(p0(e,t),10);return n?i*Math.PI/180:i}return n?parseInt(t,10)*Math.PI/180:parseInt(t,10)}return 0}function Tu(r,e,t){const n=t&&e.get("features")?.length>1,i=n?r.clusterImageName:r.imageName,o=n?r.clusterImageOffsetY:r.imageOffsetX,a=n?r.clusterImageOffsetX:r.imageOffsetY,s=n?r.clusterImageScale:r.imageScale,l=r.imagePath;let c={},u=i;return!i.startsWith("https:")&&!i.startsWith("<svg")&&(u=l+i),c={crossOrigin:"anonymous",src:u.startsWith("<svg")?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u):u,scale:s,anchor:[parseFloat(o),parseFloat(a)]},n||(c.anchorXUnits=r.imageOffsetXUnit,c.anchorYUnits=r.imageOffsetYUnit,c.rotation=e?wf(r.rotation,e.getProperties()):0),new Mt({image:new _i(c)})}function _f(r){return new Mt({image:new _i({crossOrigin:"anonymous",src:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)})})}function P4(r,e,t){const n=t&&e.get("features")?.length>1,i=parseFloat(n?r.clusterCircleRadius:r.circleRadius,10),o=n?er(r.clusterCircleFillColor,"rgb"):er(r.circleFillColor,"rgb"),a=n?er(r.clusterCircleStrokeColor,"rgb"):er(r.circleStrokeColor,"rgb"),s=parseFloat(n?r.clusterCircleStrokeWidth:r.circleStrokeWidth,10);return new Mt({image:new Yu({radius:i,fill:new Fr({color:o}),stroke:new mr({color:a,width:s})}),zIndex:-1})}function D4(r){const e=parseFloat(r.rsRadius,10),t=parseFloat(r.rsRadius2,10),n=parseFloat(r.rsPoints,10),i=parseFloat(r.rsAngle,10),o=wf(r.rotation),a=r.rsScale,s=er(r.rsFillColor,"rgb"),l=er(r.rsStrokeColor,"rgb"),c=parseFloat(r.rsStrokeWidth,10);return new Mt({image:new ak({radius:e,radius2:t,points:n,scale:a,rotation:o,angle:i,fill:new Fr({color:s}),stroke:new mr({color:l,width:c})})})}function R4(r,e,t,n){let i=n*2;return r*e+t>=i&&(i=i+r*e+t),i}function j4(r,e,t,n){let i;return t>=0?i=r/2-e-t*n:t<0?i=r/2+e-t*n:i=0,i}function q4(r,e,t,n,i,o,a,s){let l="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return l=l+"<line x1='"+r/2+"' y1='"+r/2+"' x2='"+r/2+"' y2='"+e+"' stroke='"+o+"' stroke-width='"+a+"' />",l=l+"<circle cx='"+r/2+"' cy='"+r/2+"' r='"+s+"' stroke='"+n+"' stroke-width='"+i+"' fill='"+t+"' />",l=l+"</svg>",l}function F4(r,e){const t=parseFloat(e.circleBarScalingFactor),n=parseFloat(e.circleBarRadius,10),i=parseFloat(e.circleBarLineStroke,10),o=er(e.circleBarCircleFillColor,"hex"),a=er(e.circleBarCircleStrokeColor,"hex"),s=e.circleBarCircleStrokeWidth,l=er(e.circleBarLineStrokeColor,"hex"),c=r.getProperties(),u=ca.prototype.prepareField(c,e.scalingAttribute),d=u==="undefined"?void 0:u,h=d!==void 0&&d.indexOf(" ")!==-1?d.split(" ")[0]:d,p=R4(h,t,i,n),m=j4(p,n,h,t);return ca.prototype.setSize(p),q4(p,m,o,a,s,l,i,n)}function z4(r,e){const t=e.scalingShape.toUpperCase(),n=t==="CIRCLE_BAR"?F4(r,e):"";return _f(n)}function U4(r,e,t,n,i){const o=r/2;let a="<svg width='"+r+"' height='"+r+"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>";return a=a+"<circle cx='"+o+"' cy='"+o+"' r='"+e+"' stroke='"+t+"' stroke-width='"+n+"' fill='"+t+"' fill-opacity='"+i+"'/>",a}function $4(r,e){const t=r===void 0||Object.keys(r).length===0?{empty:0}:r;let n=e;return n===void 0||(n=n.split(" | "),n.forEach(function(i){Object.prototype.hasOwnProperty.call(t,i)?t[i]=t[i]+1:t.empty=t.empty+1})),t}function G4(r){const e={};let t;if(r!==void 0)for(t in r)e[t]=0;return e.empty=0,e}function B4(r,e,t,n,i){const o=Math.PI/180,a=n/2,s=r===0&&e===360,l=s?e/2:e,c=s?0:i,u=(r+c/2)*o,d=(l-c/2)*o,h=a+Math.cos(u)*t,p=a-Math.sin(u)*t,m=a+Math.cos(d)*t,v=a-Math.sin(d)*t;return s?["M",h,p,"A",t,t,0,0,0,m,v,"A",t,t,0,0,0,h,p].join(" "):["M",h,p,"A",t,t,0,0,0,m,v].join(" ")}function V4(r,e,t,n){return r+"<path fill='none' stroke-width='"+e+"' stroke='"+t+"' d='"+n+"'/>"}function H4(r,e){const t=parseFloat(e.circleSegmentsRadius,10),n=parseFloat(e.circleSegmentsStrokeWidth,10),i=e.circleSegmentsBackgroundColor,o=Array.isArray(i)&&i[i.length-1],a=er(e.circleSegmentsBackgroundColor,"hex"),s=er(e.scalingValueDefaultColor,"hex"),l=e.scalingValues,c=G4(l),u=r.get(e.scalingAttribute),d=$4(c,u),h=Object.values(d).reduce(function(ie,te){return ie+te},0),p=h>=0?360/h:360,m=parseFloat(e.circleSegmentsGap,10);let v=10,y=0,_=p,w,A,T,N,W,Y;(t+n)*2>=v&&(v=v+(t+n)*2),ca.prototype.setSize(v),w=U4(v,t,a,n,o);for(W in d)for(Y=d[W],l!==void 0&&W!=="empty"?T=er(l[W],"hex"):T=s,N=0;N<Y;N++)A=B4(y,_,t,v,m),w=V4(w,n,T,A),y=y+p,_=_+p;return w=w+"</svg>",w}function Y4(r,e,t){const n=Array.isArray(e.get("features"))?e.get("features")[0]:e,i=r.scalingShape.toUpperCase(),o=r.imageName;let a,s,l;return i==="CIRCLESEGMENTS"&&(a=H4(n,r),s=_f(a),s.type="CIRCLESEGMENTS",s.scalingAttribute=n.get(r.scalingAttribute)),o!==t&&(l=Tu(r,e),l.type="imageStyle",s=[s,l]),s}class ca extends ko{constructor(){super(),this.attributes={...wi.point}}initialize(e,t,n,i){i!==void 0?this.setImagePath(i):console.warn("wfsImgPath at Config.js is not defined"),this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered;let t=this.attributes.type.toLowerCase();return e&&this.feature.get("features")?.length>1&&(t=this.attributes.clusterType.toLowerCase()),t==="icon"?Tu(this.attributes,this.feature,e):t==="circle"?P4(this.attributes,this.feature,e):t==="nominal"?e?Tu(this.attributes,this.feature,e):Y4(this.attributes,this.feature,wi.point.imageName):t==="interval"?z4(this.feature,this.attributes):t==="regularshape"?D4(this.attributes):new Mt}setCircleSegmentsBackgroundColor(e){this.attributes.circleSegmentsBackgroundColor=e}setSize(e){this.size=e}getSize(){return this.size}setImagePath(e){this.attributes.imagePath=e}}class Z4 extends ko{constructor(){super(),this.attributes={...wi.text}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=this.isClustered,t=this.feature,n=this.attributes.labelField;return e&&t.get("features")?.length>1&&this.attributes.clusterTextType!=="none"?this.createClusteredTextStyle():n?this.createLabeledTextStyle():new us}getRotationValue(e,t){if(typeof e=="object"){const{value:n,isDegree:i}=e;if(h0(n)&&t!==void 0){const o=parseInt(p0(t,n),10);return i?o*Math.PI/180:o}return i?parseInt(n,10)*Math.PI/180:parseInt(n,10)}return 0}createClusteredTextStyle(){const e=this.feature;let t;return this.attributes.clusterTextType==="counter"?t=e.get("features").length.toString():this.attributes.clusterTextType==="text"&&typeof this.attributes.clusterText=="string"?t=this.attributes.clusterText:t="undefined",new us({text:t,textAlign:this.attributes.clusterTextAlign,offsetX:this.attributes.clusterTextOffsetX,offsetY:this.attributes.clusterTextOffsetY,font:this.attributes.clusterTextFont,scale:this.attributes.clusterTextScale,fill:new Fr({color:this.attributes.clusterTextFillColor}),stroke:new mr({color:this.attributes.clusterTextStrokeColor,width:this.attributes.clusterTextStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,e.getProperties())})}createLabeledTextStyle(){const e=this.feature,t=e.getProperties(),n=this.attributes.textSuffix;let i=jv(t,this.attributes.labelField,!1)??"";return n!==""&&(i=i+" "+n),new us({text:i.toString(),textAlign:this.attributes.textAlign,offsetX:this.attributes.textOffsetX,offsetY:this.attributes.textOffsetY,font:this.attributes.textFont,scale:this.attributes.textScale,fill:new Fr({color:this.attributes.textFillColor}),stroke:new mr({color:this.attributes.textStrokeColor,width:this.attributes.textStrokeWidth}),rotation:this.getRotationValue(this.attributes.rotation,t)})}}class cg extends ko{constructor(){super(),this.attributes={...wi.line}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){return this.nullStyle?null:new Mt({stroke:new mr({lineCap:this.attributes.lineStrokeCap,lineJoin:this.attributes.lineStrokeJoin,lineDash:this.attributes.lineStrokeDash,lineDashOffset:this.attributes.lineStrokeDashOffset,miterLimit:this.attributes.lineStrokeMiterLimit,color:this.attributes.lineStrokeColor,width:this.attributes.lineStrokeWidth})})}}class ug extends ko{constructor(){super(),this.attributes={...wi.circle}}initialize(e,t,n){this.setFeature(e),this.setIsClustered(n),this.overwriteStyling(t),this.setStyle(this.createStyle())}createStyle(){if(this.nullStyle)return null;const e=new Fr({color:this.attributes.circleFillColor}),t=new mr({color:this.attributes.circleStrokeColor,width:this.attributes.circleStrokeWidth});return new Mt({image:new Yu({fill:e,stroke:t,radius:0}),fill:e,stroke:t})}}class W4 extends ko{constructor(){super(),this.attributes={...wi.point},this.conditions=[]}initialize(e){this.overwriteStyling(e.style),this.setConditions(e.conditions),this.setStyle(this.createStyle())}createStyle(){return this.createCondition(this.attributes.conditions,this.style)}createCondition(e,t){const n=t?.color||this.attributes.color,i=[];let o;return e&&Object.keys(e).length>0?(Object.keys(e).forEach(a=>{const s=e[a];i.push([a,s])}),o=[this.createCesiumConditionForRule(i),n]):o=["true",n],o}createCesiumConditionForRule(e){let t=[],n="";return e.forEach(i=>{const o="${"+i[0]+"}";let a=i[1],s,l;Array.isArray(a)?(s=a[0],l=a[1],n="("+o+" > "+s+" && "+o+" <= "+l+")"):(typeof a=="string"&&(a="'"+a+"'"),n="("+o+" === "+a+")"),t.push(n)}),t="("+t.join(" && ")+")",t}setConditions(e){this.attributes.conditions=e}}const Po=[];let Eu=0;function Do(r){return r==="MultiPoint"||r==="MultiLineString"||r==="MultiPolygon"||r==="GeometryCollection"||r==="cesium"}function Qi(r,e,t,n,i){const o=t?.style,a=o?o.legendValue:null;let s,l=null;if(e&&(e.legendValue=a||null),r==="Point")s=new ca(e,o,n),n&&(l=new ca(e,o,!1));else if(r==="LineString")s=new cg(e,o,n),n&&(l=new cg(e,o,!1));else if(r==="Polygon")s=new xu(e,o,n),n&&(l=new xu(e,o,!1));else{if(r==="cesium")return s=new W4(t),s.initialize(t),s.addLegendInfo("cesium",s,t),s.legendValue=a,s;if(r==="Circle")s=new ug(e,o,n),n&&(l=new ug(e,o,!1));else return r==="LinearRing"?(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Mt):(console.warn("Geometry type not implemented: "+r+" default style ist used for feature "+e),new Mt)}return l!==null&&(l.initialize(e,o,!1,i),l.legendValue=a),s.initialize(e,o,n,i),s.addLegendInfo(r,l===null?s:l,t),s.legendValue=a,s}function Mu(r,e,t,n,i){const o=[];let a=[];if(typeof e=="object")r==="MultiPoint"?a=e.getGeometry().getPoints():r==="MultiLineString"?a=e.getGeometry().getLineStrings():r==="MultiPolygon"?a=e.getGeometry().getPolygons():r==="GeometryCollection"&&(a=e.getGeometry().getGeometries()),a.forEach((s,l)=>{const c=s.getType(),u=t?Dv(t,l):void 0,d=Qi(c,e,u,n,i);Do(c)?console.warn("Multi encapsulated multiGeometries are not supported."):(!d.styleMultiGeomOnlyWithRule||u)&&(d.getStyle()?.setGeometry(s),o.push(d))});else if(r==="cesium")t.forEach(s=>{const l=Qi(r,e,s,n,i);o.push(l)});else{const s=Qi(r,e,t,n,i);s.getStyle()?.setGeometry(r),o.push(s)}return o}function Tf(r,e,t,n){const i=r?r.getGeometry().getType():"cesium";return!Do(i)&&Object.prototype.hasOwnProperty.call(e,0)&&Object.prototype.hasOwnProperty.call(e[0],"style")?Qi(i,r,e[0],t,n):Do(i)&&e.length>0&&e.every(o=>o?.style)?Mu(i,r,e,t,n):(console.warn("No valid styling rule found. Falling back to defaults"),Do(i)?Mu(i,r,void 0,t,n):Qi(i,r,void 0,t,n))}function Cu(r,e,t){const n=new Z4(r,e,t);return n.initialize(r,e,t),n.getStyle()}function dg(r,e){let t=Po.find(n=>n.id===r);if(t||(t={id:r,legendInformation:[]},Po.push(t)),r==="default"&&t.legendInformation!==e)t.legendInformation=e,Eu=e.length;else if(!t.legendInformation.find(n=>n.label===e[0].label)){t.legendInformation.push(e[0]);const n=new CustomEvent("legendCaptured");n.id=t.id,this instanceof EventTarget&&typeof this.dispatchEvent=="function"&&this.dispatchEvent(n)}}function K4(r,e,t,n){const i=Pv(r,e),o=Array.isArray(i)&&i.length>0?i[0].style:null,a=o?.labelField,s=Tf(e,i,t,n),l=Array.isArray(s)?s[0].legendInfos:s.legendInfos;let c=null;if(Array.isArray(s)?(c=[],s.forEach(u=>{u.getStyle()!==null&&c.push(u.getStyle())})):c=s.getStyle(),Array.isArray(s)&&s.length>1)for(const u in s)dg(r.styleId,s[u].legendInfos);else dg(r.styleId,l);return c!==null&&(t||a)&&(Array.isArray(c)?c[0].setText(Cu(e,o,t)):c.setText(Cu(e,o,t))),(e?.getGeometry().getType()==="Point"||e?.getGeometry().getType()==="MultiPoint")&&e.setStyle(c),c}async function Q4(r){return new Promise(function(e){const t=Po.find(n=>n.id===r);t&&(r.id!=="default"||t.legendInformation.length===Eu)&&e(t),this&&this.addEventListener("legendCaptured",n=>{n.id===r&&n.id!=="default"?e(Po.find(i=>i.id===n.id)):t&&t.legendInformation.length===Eu&&e(Po.find(i=>i.id===n.id))},!1)})}const X4={isMultiGeometry:Do,getSimpleGeometryStyle:Qi,getMultiGeometryStyle:Mu,getGeometryStyle:Tf,getLabelStyle:Cu,createStyle:K4,returnLegendByStyleId:Q4},J4=()=>{};async function eT(r,e,t){if(e.featureStyles&&Array.isArray(t)){await Rh.initializeStyleList({},{styleConf:e.featureStyles},e.layers.map(i=>{const o=t.find(a=>a.id===i.id);return o?{...i,typ:o.typ}:i}),[],J4);const n=e.markers?e.markers.layers.map(({id:i})=>i):[];r.getLayers().getArray().filter(i=>typeof i.get("styleId")=="string"&&!n.includes(i.get("id"))).forEach(i=>{const o=Rh.returnStyleObject(i.get("styleId"));o&&i.setStyle(a=>X4.createStyle(o,a,a.get("features")!==void 0,""))})}}let Mc=[];function hg(r,e,t){for(const n of Mc)r.removeInteraction(n);Mc=u4(e,t);for(const n of Mc)r.addInteraction(n)}const tT={key:0,class:"polar-map-overlay"},rT=Fe({__name:"PolarMapOverlay.ce",setup(r,{expose:e}){const t=at(""),n=at(null),i=at(null),o=at(null);function a(){n.value&&n.value(),t.value="",i.value&&i.value(),o.value&&clearTimeout(o.value)}function s(l,c=null,u=2e3){n.value=At(l,d=>{t.value=d},{immediate:!0}),c&&(i.value=At(c,d=>{d||a()},{immediate:!0})),u>0&&(o.value=setTimeout(a,u))}return e({show:s,hide:a}),(l,c)=>(B(),qe(hy,{name:"fade"},{default:fs(()=>[t.value?(B(),de("div",tT,ut(t.value),1)):Nt("",!0)]),_:1}))}}),nT=".polar-map-overlay[data-v-e3473669]{position:absolute;display:flex;justify-content:center;align-items:center;width:inherit;height:inherit;z-index:42;font-size:var(--kern-typography-font-size-static-large);text-align:center;color:#fff;background-color:#00000073;pointer-events:none}.fade-enter-active[data-v-e3473669],.fade-leave-active[data-v-e3473669]{transition:opacity .5s}.fade-enter[data-v-e3473669],.fade-leave-to[data-v-e3473669]{opacity:0}",iT=st(rT,[["styles",[nT]],["__scopeId","data-v-e3473669"]]),oT=["aria-label"],aT=Fe({__name:"PolarMap.ce",setup(r){const e=uo(),{hasWindowSize:t,hasSmallDisplay:n,center:i,zoom:o}=dt(e),a=Un("polar-map-container"),s=Un("polar-map-overlay");function l(){i.value=e.map.getView().getCenter()||i.value,o.value=e.map.getView().getZoom()||o.value}function c(){e.map=o4.map.createMap({target:a.value,extent:void 0,...e.configuration,layerConf:e.serviceRegister},"2D",{mapParams:{interactions:nd({altShiftDragRotate:!1,pinchRotate:!1,dragPan:!1,mouseWheelZoom:!1,keyboard:!1})}}),e.map.on("moveend",l),hg(e.map,t.value,n.value),d4().forEach(y=>{e.map.addInteraction(y)}),v()}At(t,y=>{hg(e.map,y,n.value)}),At(i,y=>{e.map.getView().animate({center:y,duration:400,easing:lo})}),At(o,y=>{e.map.getView().setZoom(y)});const u=navigator.userAgent.indexOf("Mac")!==-1,d=Tc(()=>gr(y=>y.overlay.noCommandOnZoom,{ns:"core"})),h=Tc(()=>gr(y=>y.overlay.noControlOnZoom,{ns:"core"}));function p(y){if(t.value||!s.value)return;const _=fe(()=>!t.value);u&&!y.metaKey?s.value.show(d,_):!u&&!y.ctrlKey&&s.value.show(h,_)}ao(async()=>{c(),e.configuration.checkServiceAvailability&&c4(e.configuration,e.serviceRegister),e.configuration.markers&&L4(e.map),await eT(e.map,e.configuration,e.serviceRegister)});const m=Tc(()=>gr(y=>y.overlay.oneFingerPan,{ns:"core"}));function v(){!t.value&&a.value&&e.hasSmallDisplay&&new l4(a.value).on("pan",y=>{s.value&&y.maxPointers===1&&e.map.getInteractions().getArray().some(_=>_.get("_isPolarDragLikeInteraction"))&&s.value.show(m)})}return At(t,v),(y,_)=>(B(),de(vt,null,[ki(iT,{ref:"polar-map-overlay"},null,512),_e("div",{ref:"polar-map-container",class:"polar-map",tabindex:"0",role:"region","aria-label":y.$t(w=>w.canvas.label,{ns:"core"}),onWheel:p},null,40,oT)],64))}}),sT=':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}',lT=".polar-map[data-v-abb3f9c5]{width:100%;height:100%}",cT=st(aT,[["styles",[sT,lT]],["__scopeId","data-v-abb3f9c5"]]);var Ef=(r=>(r.TOP_LEFT="top-left top left layout-region",r.TOP_MIDDLE="top-mid mid top layout-region",r.TOP_RIGHT="top-right top right layout-region",r.MIDDLE_LEFT="mid-left mid left layout-region",r.MIDDLE_MIDDLE="mid-mid mid layout-region",r.MIDDLE_RIGHT="mid-right mid right layout-region",r.BOTTOM_LEFT="bottom-left bottom left layout-region",r.BOTTOM_MIDDLE="bottom-mid mid bottom layout-region",r.BOTTOM_RIGHT="bottom-right bottom right layout-region",r))(Ef||{});const uT=Fe({__name:"NineLayout.ce",setup(r){const e=Object.entries(Ef),t=uo(),{hasWindowSize:n}=dt(t),i=$u(),o=fe(()=>e.reduce((a,[s])=>({...a,[s]:i.plugins.filter(({id:l,independent:c,options:u})=>{if(u?.displayComponent&&!u.layoutTag)return console.warn(`@polar/polar(core/components/layouts/NineLayout.ce.vue?vue&type=script&setup=true&lang:30:7)
`,`@polar/polar(core/components/layouts/NineLayout.ce:38:7)
`,`Component of plugin "${l}" was registered as visible ('displayComponent' had a truthy value), but no 'layoutTag' was associated. This may be an error in configuration and will lead to the component not being visible in the UI.`),!1;const d=typeof u?.displayComponent=="boolean"?u.displayComponent:!1;return typeof c=="boolean"?d&&c:d}).filter(({options:l})=>l?.layoutTag===s)}),{}));return(a,s)=>(B(!0),de(vt,null,Kt(Z(e),([l,c],u)=>(B(),de("div",{key:u,class:ft([{[c]:!0,"has-window-size":Z(n)},"layout-region"])},[(B(!0),de(vt,null,Kt(o.value[l],(d,h)=>(B(),qe(Bt(d.component),{key:`${u}-${h}`}))),128))],2))),128))}}),dT=".layout-region{&[data-v-bf916003]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;max-width:100%}&[data-v-bf916003]>*{pointer-events:all}&.has-window-size[data-v-bf916003]{max-height:100%}&.mid[data-v-bf916003]{inset:33%}&.left[data-v-bf916003]{left:0;right:auto;align-items:flex-start}&.right[data-v-bf916003]{right:0;left:66%;align-items:flex-end}&.top[data-v-bf916003]{top:0;justify-content:flex-start}&.bottom[data-v-bf916003]{bottom:0;justify-content:flex-end}}",hT=st(uT,[["styles",[dT]],["__scopeId","data-v-bf916003"]]),pT=Fe({__name:"StandardLayout.ce",setup(r){const e=$u(),t=fe(()=>e.plugins.filter(({component:n,independent:i})=>n&&(typeof i=="boolean"?i:!0)));return(n,i)=>(B(!0),de(vt,null,Kt(t.value,({component:o,id:a},s)=>(B(),de("div",{key:`${a}-${s}`,class:"layout"},[(B(),qe(Bt(o)))]))),128))}}),gT=".layout[data-v-14621b9a]{pointer-events:all}",mT=st(pT,[["styles",[gT]],["__scopeId","data-v-14621b9a"]]),fT=Fe({__name:"PolarUI.ce",setup(r){const e=uo(),{hasWindowSize:t}=dt(e),n=fe(()=>e.layout==="standard"?mT:e.layout==="nineRegions"?hT:e.layout);return(i,o)=>(B(),de("div",{class:ft(["polar-ui",{"polar-shadow":!Z(t)}])},[(B(),qe(Bt(n.value)))],2))}}),yT='.polar-ui[data-v-94b8d84c]{position:absolute;inset:0;pointer-events:none;width:100%;height:100%}.polar-shadow{&[data-v-94b8d84c]:before{content:"";position:absolute;box-shadow:inset 0 1px 1px #35395680,inset 0 1px 2px #35395680,inset 0 1px 6px #6e759780;inset:0;z-index:1;border-radius:var(--kern-metric-border-radius-large);pointer-events:none}}',vT=st(fT,[["styles",[yT]],["__scopeId","data-v-94b8d84c"]]),kT=["lang","data-kern-theme"],bT=Fe({inheritAttrs:!1,__name:"PolarContainer.ce",props:{mapConfiguration:{type:Object},serviceRegister:{type:Array}},setup(r,{expose:e}){ly(h=>({v62ab46c2:Z(n).configuration.theme?.brandColor?.l,v62ab46d4:Z(n).configuration.theme?.brandColor?.c,v62ab46ca:Z(n).configuration.theme?.brandColor?.h}));const t=r;e();const n=uo(),{hasSmallWidth:i,hasWindowSize:o,language:a}=dt(n);n.configuration=ln(n.configuration,b_(t.mapConfiguration)),n.configuration.colorScheme&&(n.colorScheme=n.configuration.colorScheme),n.configuration.oidcToken&&(n.oidcToken=n.configuration.oidcToken),n.configuration.locales&&n.configuration.locales.forEach(h=>{Object.entries(h.resources).forEach(([p,m])=>{kr.addResourceBundle(h.type,p,m,!0,!0)})}),n.configuration.language&&kr.changeLanguage(n.configuration.language).catch(h=>{console.error(`@polar/polar(core/components/PolarContainer.ce.vue?vue&type=script&setup=true&lang:85:4)
`,`@polar/polar(core/components/PolarContainer.ce:84:4)
`,"Failed to set initial language:",h)}),n.serviceRegister=t.serviceRegister,n.language=kr.language,kr.on("languageChanged",h=>{n.language=h}),At(()=>n.language,async h=>{kr.language!==h&&await kr.changeLanguage(h)});const s=Un("polar-wrapper");let l=null;const{isActive:c}=dt(a0()),u=at(0);At(c,()=>u.value+=1);function d(){n.clientHeight=s.value.clientHeight,n.clientWidth=s.value.clientWidth}return ao(()=>{n.lightElement=cy(),n.shadowRoot=uy(),k_(n.shadowRoot,n.configuration.theme?.kern||{}),n.setup(),l=new ResizeObserver(d),l.observe(s.value),d(),n.lightElement.store=ct()}),Zs(()=>{l instanceof ResizeObserver&&(l.unobserve(s.value),l=null),n.teardown()}),(h,p)=>(B(),de("div",{ref:"polar-wrapper",class:"polar-wrapper",lang:Z(a),"data-kern-theme":Z(n).colorScheme},[ki(cT),ki(vT),Z(c)&&Z(o)&&Z(i)?(B(),qe(T_,{key:u.value})):Nt("",!0)],8,kT))}}),xT=":host{--brand-color-l: var(--v62ab46c2);--brand-color-c: var(--v62ab46d4);--brand-color-h: var(--v62ab46ca);--polar-shadow-color: 0deg 0% 63%;--polar-shadow: 0 .5px .5px hsl(var(--polar-shadow-color) / .43), 0 1.5px 1.6px -1px hsl(var(--polar-shadow-color) / .4), 0 4px 4.2px -2px hsl(var(--polar-shadow-color) / .36), -.1px 10.1px 10.6px -3px hsl(var(--polar-shadow-color) / .32)}@layer polar-map{:host{display:block;width:100%;height:30em;border-radius:var(--kern-metric-border-radius-large);overflow:hidden;box-sizing:border-box}}",wT=".polar-wrapper[data-v-cf4d0708]{position:relative;height:100%;width:100%}",_T=st(bT,[["styles",[xT,wT]],["__scopeId","data-v-cf4d0708"]]),{slice:TT,forEach:ET}=[];function MT(r){return ET.call(TT.call(arguments,1),e=>{if(e)for(const t in e)r[t]===void 0&&(r[t]=e[t])}),r}function CT(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(r))}const pg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ST=function(r,e){const t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${r}=${n}`;if(t.maxAge>0){const o=t.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(t.domain){if(!pg.test(t.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${t.domain}`}if(t.path){if(!pg.test(t.path))throw new TypeError("option path is invalid");i+=`; Path=${t.path}`}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t.partitioned&&(i+="; Partitioned"),i},gg={create(r,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=ST(r,e,i)},read(r){const e=`${r}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var LT={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return gg.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&gg.create(t,r,n,i,o)}},IT={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const a=i[o].indexOf("=");a>0&&i[o].substring(0,a)===e&&(t=i[o].substring(a+1))}}return t}},AT={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:t}=r,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(e){const a=o.split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(n=a[s].substring(l+1))}}if(n)return n;if(!n&&t>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let Pi=null;const mg=()=>{if(Pi!==null)return Pi;try{if(Pi=typeof window<"u"&&window.localStorage!==null,!Pi)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Pi=!1}return Pi};var NT={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&mg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:t}=e;t&&mg()&&window.localStorage.setItem(t,r)}};let Di=null;const fg=()=>{if(Di!==null)return Di;try{if(Di=typeof window<"u"&&window.sessionStorage!==null,!Di)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Di=!1}return Di};var OT={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&fg())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:t}=e;t&&fg()&&window.sessionStorage.setItem(t,r)}},PT={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},DT={name:"htmlTag",lookup(r){let{htmlTag:e}=r,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},RT={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},jT={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let Mf=!1;try{document.cookie,Mf=!0}catch{}const Cf=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Mf||Cf.splice(1,1);const qT=()=>({order:Cf,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class Sf{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=MT(t,this.options||{},qT()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(LT),this.addDetector(IT),this.addDetector(NT),this.addDetector(OT),this.addDetector(PT),this.addDetector(DT),this.addDetector(RT),this.addDetector(jT),this.addDetector(AT)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!CT(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Sf.type="languageDetector";const Lf=Symbol();function FT(r,{i18next:e,rerenderOn:t=["languageChanged","loaded","added","removed"],slotStart:n="{",slotEnd:i="}"}){const o=sy(new Date),a=()=>Ys(()=>{o.value=new Date}),s=()=>o.value;t.forEach(u=>{switch(u){case"added":case"removed":e.store?.on(u,a);break;default:e.on(u,a);break}}),r.component("i18next",$T);const l=()=>e.isInitialized;r.config.globalProperties.$t=yg(e.t.bind(e),s,l);const c=new Proxy(e,{get(u,d){return s(),Reflect.get(u,d)}});r.config.globalProperties.$i18next=c,r.provide(Lf,{i18next:c,slotPattern:UT(n,i),withAccessRecording(u,d){return yg(u,s,d)}})}function yg(r,e,t){return new Proxy(r,{apply:function(n,i,o){return e(),t()?Reflect.apply(n,i,o):""}})}function zT(){const r=Ug(Lf);if(!r)throw new Error("i18next-vue: Make sure to register the i18next-vue plugin using app.use(...).");return r}function UT(r,e){const t=`${r}\\s*([a-z0-9\\-]+)\\s*${e}`;return new RegExp(t,"gi")}const $T=Fe({props:{translation:{type:String,required:!0}},setup(r,{slots:e}){const{slotPattern:t}=zT();return()=>{const n=r.translation,i=[];let o,a=0;for(;(o=t.exec(n))!==null;){i.push(n.substring(a,o.index));const s=e[o[1]];s?i.push(...s()):i.push(o[0]),a=t.lastIndex}return i.push(n.substring(a)),i}}}),GT={canvas:{label:"Kartenanwendung"},error:{serviceUnavailable:'Der Kartendienst "{{serviceName}}" (ID: {{serviceId}}) ist derzeit nicht verfgbar. Dies kann die Funktionalitt der Karte einschrnken.'},overlay:{noControlOnZoom:"Verwenden Sie Strg+Scrollen zum Zoomen der Karte",noCommandOnZoom:"Verwenden Sie Command  + Scrollen zum Zoomen der Karte",oneFingerPan:"Verwenden Sie mindestens zwei Finger zum Verschieben der Karte"}},BT={canvas:{label:"Map application"},error:{serviceUnavailable:`Service  "{{serviceName}}" (ID: {{serviceId}}) is unavailable. This may limit the map's functionality.`},overlay:{noControlOnZoom:"Use Ctrl+Mousewheel to zoom into the map",noCommandOnZoom:"Use Command  + Mousewheel to zoom into the map",oneFingerPan:"Use at least two fingers to pan the map"}},Cc=[{type:"de",resources:GT},{type:"en",resources:BT}],VT="core",HT={async install(r){r.use(FT,{i18next:kr}),kr.use(Sf);try{await kr.init({resources:Object.fromEntries(Cc.map(({type:e,resources:t})=>[e,{core:t}])),detection:{lookupQuerystring:"lng",order:["querystring","navigator","htmlTag"]},load:"languageOnly",fallbackLng:Cc[0]?.type,ns:[VT],supportedLngs:Cc.map(({type:e})=>e)}),console.info(`@polar/polar(core/vuePlugins/i18next:32:4)
`,"Successfully initialized i18next.")}catch(e){console.error(`@polar/polar(core/vuePlugins/i18next:34:4)
`,"Error while initializing:",e)}}};function YT({store:r}){}function ZT({pinia:r,store:e}){e._instance=r}const WT={install(r){const e=Kv();e.use(ZT),e.use(YT),r.use(e)}},If=/{(?<key>[^=]+)=(?<value>[^}]+)}/gm;function KT(r,e){const t={},n=e.replaceAll(If,(i,o,a)=>(t[o]=a,""));fetch(n,{method:"GET",headers:t}).then(i=>i.ok?i.blob():i.text().then(o=>{throw new Error(o)})).then(i=>{r.getImage().src=URL.createObjectURL(i)}).catch(i=>{console.error(`@polar/polar(core/monkeyHeaderLoader:32:4)
`,i)})}const QT=Bn.prototype.addLayer;Bn.prototype.addLayer=function(...r){QT.call(this,...r),Bn.prototype.getLayers.call(this).getArray().forEach(e=>{if(!(e instanceof Ci))return;const t=e.getSource();t.urls?.some(n=>If.test(n))&&typeof t.setTileLoadFunction=="function"&&(t.setTileLoadFunction(KT),e.setSource(t))})};async function XT(r){return await new Promise(e=>Ws.initializeLayerList(r,e))}function JT(r,e){const t=document.createElement("polar-map");return t.mapConfiguration=r,t.serviceRegister=e,t}async function X8(r,e,t){customElements.get("polar-map")||rE(),typeof t=="string"&&(t=await XT(t));const n=JT(e,t),i=document.getElementById(r);if(!i)throw new Error(`Container with ID '${r}' not found`);return n.id=i.id,i.classList.forEach(o=>n.classList.add(o)),i.replaceWith(n),n}function J8(r,e){e.forEach(t=>{eE(r,t)})}function eE(r,e){r.store.addPlugin(e)}function eS(r,e){r.store.removePlugin(e)}function Af(r,e){return e==="core"?r.store:r.store.getPluginStore(e)}function tS(r,e,t,n,i){const o=Af(r,e);return At(()=>o[t],n,{immediate:!0,...i})}function rS(r,e,t,n){const i=Af(r,e);i[t]=n}const tE=ay(_T,{configureApp(r){r.use(WT),r.use(HT)}});function rE(){customElements.define("polar-map",tE)}const nE={class:"kern-card kern-card--small",tabindex:"-1"},iE={class:"kern-card__container"},oE=Fe({__name:"PolarCard.ce",setup(r){return(e,t)=>(B(),de("article",nE,[_e("div",iE,[py(e.$slots,"default",{},void 0,!0)])]))}}),aE=".kern-card{&[data-v-0249006d]{height:inherit;min-width:25rem;border-radius:var(--kern-metric-border-radius-large);box-shadow:var(--polar-shadow)}.kern-card__container[data-v-0249006d]{padding:var(--kern-metric-space-small);padding-bottom:.625rem}}",sE=st(oE,[["styles",[aE]],["__scopeId","data-v-0249006d"]]);function lE(r){let e=r.getSource();if(!e)throw new Error("Could not find a vector source for this layer");for(;e instanceof Ea;)if(e=e.getSource(),!e)throw new Error("Could not find a vector source for this layer");if(!(e instanceof Mr))throw new Error("Could not find a vector source for this layer");return e}const zr="filter",Nf=Mi("plugins/filter/main",()=>{const r=ct(),e=fe(()=>r.configuration[zr]??{layers:{}}),t=at({}),n=fe(()=>Object.entries(e.value.layers).map(([u,d])=>({layerId:u,layerConfiguration:r.getLayerMapConfiguration(u),filterConfiguration:d}))),i=at(null);At(()=>e.value.layers,u=>{Object.keys(u).forEach(d=>{t.value[d]??={}}),i.value=Object.keys(u)[0]||""},{immediate:!0,deep:!0});const o=fe(()=>n.value.find(u=>u.layerId===i.value)??null),a=fe(()=>i.value?e.value.layers[i.value]:{}),s=fe(()=>i.value?t.value[i.value]:null),l=fe(()=>a.value.time?.last||a.value.time?.next||a.value.time?.freeSelection),c=fe(()=>r.map.getAllLayers().filter(u=>Object.keys(e.value.layers).includes(u.get("id"))));return{configuration:e,state:t,layers:n,selectedLayerId:i,selectedLayer:o,selectedLayerConfiguration:a,selectedLayerState:s,selectedLayerHasTimeFilter:l,filteredLayers:c}}),cE=Mi("plugins/filter/time",()=>{const r=new Date(-864e13),e=new Date(864e13),t=ct(),n=Nf(),i=fe(()=>n.selectedLayerConfiguration.time||{}),o=fe(()=>n.selectedLayerState?.timeSpan||null),a=fe(()=>i.value.targetProperty||""),s=fe(()=>i.value.pattern||"YYYY-MM-DD"),l=fe(()=>o.value?.[a.value]??{from:r,until:e,pattern:s.value}),c=fe({get:()=>l.value.from.getTime()===r.getTime()?null:l.value.from,set:y=>{if(!n.selectedLayerState)return;const _=n.selectedLayerState,w=_.timeSpan??={},A=w[a.value]??={from:r,until:e,pattern:s.value};A.from=y||r}}),u=fe({get:()=>{if(l.value.until.getTime()===e.getTime())return null;const y=new Date(l.value.until);return y.setDate(y.getDate()-1),y},set:y=>{if(!n.selectedLayerState)return;const _=n.selectedLayerState,w=_.timeSpan??={},A=w[a.value]??={from:r,until:e,pattern:s.value};if(y===null){A.until=e;return}const T=new Date(y);T.setDate(T.getDate()+1),A.until=T}});function d(y,_){const w=new Date;return w.setDate(w.getDate()+y),_.toDateString()===w.toDateString()}const h=at(!1),p=fe({get:()=>{if(h.value)return"custom";if(c.value===null&&u.value===null)return"all";if(c.value&&u.value){for(const y of n.selectedLayerConfiguration.time?.last||[])if(d(0,u.value)&&d(-y,c.value))return`last-${y}`;for(const y of n.selectedLayerConfiguration.time?.next||[])if(d(0,c.value)&&d(y,u.value))return`next-${y}`}return"custom"},set:y=>{if(y==="all"||y==="custom")c.value=null,u.value=null;else if(y.startsWith("last-")){const _=Number(y.substring(5)),w=new Date,A=new Date(w.getFullYear(),w.getMonth(),w.getDate()-_),T=new Date(w.getFullYear(),w.getMonth(),w.getDate());c.value=A,u.value=T}else if(y.startsWith("next-")){const _=Number(y.substring(5)),w=new Date,A=new Date(w.getFullYear(),w.getMonth(),w.getDate()),T=new Date(w.getFullYear(),w.getMonth(),w.getDate()+_);T.setDate(T.getDate()+_),c.value=A,u.value=T}h.value=y==="custom"}}),m=fe(()=>({from:{min:new Date},until:{max:new Date}})[n.selectedLayerConfiguration.time?.freeSelection||""]||{}),v=fe(()=>(t.language,[{value:"all",label:gr(y=>y.time.noRestriction,{ns:zr}),icon:"kern-icon--all-inclusive"},...i.value.last?.map(y=>({value:`last-${y}`,label:gr(_=>_.time.last,{ns:zr,count:y}),icon:"kern-icon--history"}))||[],...i.value.next?.map(y=>({value:`next-${y}`,label:gr(_=>_.time.next,{ns:zr,count:y}),icon:"kern-icon--timeline"}))||[],...i.value.freeSelection?[{value:"custom",label:gr(y=>y.time.chooseTimeFrame,{ns:zr}),icon:"kern-icon--calendar-month"}]:[]]));return{model:p,customModelStart:c,customModelEnd:u,timeConstraints:m,items:v}});function Of(r,e){const t=r.getFeatures().flatMap(n=>n.get("features")||[n]);r.clear(),t.forEach(n=>{(uk(n,e)?pk:gk)(n)}),r.addFeatures(t)}if(import.meta.vitest){const{test:r,expect:e,vi:t}=import.meta.vitest,{isVisible:n,isInvisible:i}=await Fn(async()=>{const{isVisible:a,isInvisible:s}=await import("./invisibleStyle-disvIazK-BcRg_BHd.js").then(l=>l.i);return{isVisible:a,isInvisible:s}},__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),o=await Fn(()=>import("./doesFeaturePassFilter-nD_k0aUS-Be9P_n6W.js").then(a=>a.d),__vite__mapDeps([7,5]),import.meta.url);t.spyOn(o,"doesFeaturePassFilter").mockImplementation(a=>a.get("filter")==="yes"),r("feature visibility is updated according to filter",()=>{const a=new Ti;a.set("filter","yes");const s=new Ti;s.set("filter","no");const l=new Mr;l.addFeatures([a,s]),Of(l,{}),e(l.getFeatures()).toHaveLength(2),e(l.getFeatures()).toContain(a),e(n(a)).toBeTruthy(),e(l.getFeatures()).toContain(s),e(i(s)).toBeTruthy()})}const Aa=Mi("plugins/filter",()=>{const r=Nf(),e=dt(r),t=cE(),n=dt(t),i=[];function o(){r.filteredLayers.forEach(s=>{const l=lE(s),c=()=>{Of(l,r.state[s.get("id")]??{})};l.on("featuresloadend",c),i.push(()=>{l.un("featuresloadend",c)}),i.push(At(()=>r.state[s.get("id")],()=>{c()},{deep:!0,immediate:!0}))})}function a(){i.forEach(s=>{s()})}return{layers:e.layers,selectedLayerId:e.selectedLayerId,selectedLayer:e.selectedLayer,selectedLayerConfiguration:e.selectedLayerConfiguration,selectedLayerState:e.selectedLayerState,selectedLayerHasTimeFilter:e.selectedLayerHasTimeFilter,timeModel:n.model,timeStart:n.customModelStart,timeEnd:n.customModelEnd,timeConstraints:n.timeConstraints,timeItems:n.items,setupPlugin:o,teardownPlugin:a}}),uE={class:"kern-label"},dE=Fe({__name:"KernBlockButton.ce",props:{icon:{type:Boolean},label:{type:String}},emits:["click"],setup(r,{emit:e}){const t=r,n=e;return(i,o)=>(B(),de("button",{class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:o[0]||(o[0]=a=>n("click"))},[t.icon?(B(),de("span",{key:0,class:ft({"kern-icon":!0,[t.icon]:!0}),"aria-hidden":"true"},null,2)):Nt("",!0),_e("span",uE,ut(t.label),1)]))}}),hE=".kern-btn--tertiary{&[data-v-36d236e4]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-36d236e4]{text-decoration:none}}",pE=st(dE,[["styles",[hE]],["__scopeId","data-v-36d236e4"]]),gE=["id"],mE=["for"],fE={class:"kern-label"},yE=Fe({__name:"KernBlockButtonCheckbox.ce",props:so({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=$n(r,"modelValue"),n=fa();function i(o){const a=o.target,s=a.parentElement?.querySelector(`label[for="${a.id}"]`);s?.scrollIntoView&&s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(o,a)=>(B(),de(vt,null,[ma(_e("input",{id:Z(n),"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),type:"checkbox",onKeydown:a[1]||(a[1]=ys(qn(s=>t.value=!t.value,["prevent"]),["enter"])),onFocus:a[2]||(a[2]=s=>i(s))},null,40,gE),[[$g,t.value]]),_e("label",{for:Z(n),class:"kern-btn kern-btn--block kern-btn--tertiary"},[e.icon?(B(),de("span",{key:0,class:ft({"kern-icon":!0,[e.icon]:!0}),"aria-hidden":"true"},null,2)):Nt("",!0),_e("span",fE,ut(e.label),1)],8,mE)],64))}}),vE=".kern-btn--tertiary{&[data-v-b66c5b7b]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-b66c5b7b]{text-decoration:none}}label[data-v-b66c5b7b]{border:var(--kern-metric-border-width-default) solid transparent}input[type=checkbox]{&[data-v-b66c5b7b]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-b66c5b7b]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&:checked+label[data-v-b66c5b7b]{border-color:var(--kern-color-action-default)}}",kE=st(yE,[["styles",[vE]],["__scopeId","data-v-b66c5b7b"]]),bE={class:"kern-form-check"},xE=["id"],wE=["for"],_E=Fe({__name:"KernCheckbox.ce",props:so({icon:{type:Boolean},label:{type:String}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=$n(r,"modelValue"),n=fa();return(i,o)=>(B(),de("div",bE,[ma(_e("input",{id:Z(n),"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-check__checkbox",type:"checkbox",onKeydown:o[1]||(o[1]=ys(qn(a=>t.value=!t.value,["prevent"]),["enter"]))},null,40,xE),[[$g,t.value]]),_e("label",{for:Z(n),class:"kern-label"},ut(e.label),9,wE)]))}}),TE={class:"kern-heading-small"},EE={class:"polar-filter-category-values"},ME=Fe({__name:"FilterCategory.ce",setup(r){const e=ct(),t=Aa();function n(c){return typeof c=="string"?{key:c,values:[c]}:c}function i(c){return n(c).key}function o(c){const u=t.selectedLayerState;return u.knownValues??={},u.knownValues[c]??=Object.fromEntries(t.selectedLayerConfiguration.categories?.find(d=>d.targetProperty===c)?.knownValues.map(d=>[i(d),!0])??[])}function a(c,{values:u}){return Object.entries(t.selectedLayerState?.knownValues?.[c]??{}).filter(([d])=>u.includes(d)).every(([,d])=>d)}function s(c,{values:u},d){const h=o(c);u.forEach(p=>h[p]=d)}function l(c){const u=o(c.targetProperty),d=c.knownValues.flatMap(p=>typeof p=="string"?[p]:p.values),h=Object.values(u).filter(p=>p).length!==d.length;d.forEach(p=>u[p]=h)}return(c,u)=>(B(!0),de(vt,null,Kt(Z(t).selectedLayerConfiguration.categories,(d,h)=>(B(),de("section",{key:h,class:"polar-filter-section"},[_e("h3",TE,ut(c.$t(p=>p.layer[Z(t).selectedLayerId].category[d.targetProperty].title,{ns:Z(zr),defaultValue:d.targetProperty})),1),_e("div",EE,[d.selectAll?(B(),qe(pE,{key:0,icon:"kern-icon--deselect",label:c.$t(p=>p.category.deselectAll,{ns:Z(zr)}),onClick:p=>l(d)},null,8,["label","onClick"])):Nt("",!0),(B(!0),de(vt,null,Kt(d.knownValues,p=>(B(),qe(Bt(Z(e).layout==="standard"?kE:_E),{key:i(p),icon:typeof p!="string"&&p.icon,label:c.$t(m=>m.layer[Z(t).selectedLayerId].category[d.targetProperty].knownValue[i(p)],{ns:Z(zr),defaultValue:i(p)}),"model-value":a(d.targetProperty,n(p)),"onUpdate:modelValue":m=>s(d.targetProperty,n(p),m)},null,8,["icon","label","model-value","onUpdate:modelValue"]))),128))])]))),128))}}),CE={class:"kern-form-input"},SE={class:"kern-form-input__select-wrapper"},LE=["value"],IE=Fe({__name:"FilterLayerChooser.ce",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const e=$n(r,"modelValue"),t=fe({get:()=>e.value||"",set:i=>{e.value=i||null}}),n=Aa();return(i,o)=>(B(),de("div",CE,[o[1]||(o[1]=_e("label",{class:"kern-label",for:"select"},"Fachdatensatz auswhlen",-1)),_e("div",SE,[ma(_e("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"kern-form-input__select"},[(B(!0),de(vt,null,Kt(Z(n).layers,a=>(B(),de("option",{key:a.layerId,value:a.layerId},ut(a.layerConfiguration?.name||a.layerId),9,LE))),128))],512),[[gy,t.value]])])]))}}),AE={class:"radiogroup",role:"radiogroup"},NE=["aria-checked","aria-labelledby","data-value","onKeydown"],OE=["id","onClick"],PE={class:"kern-label"},DE=Fe({__name:"KernBlockButtonRadioGroup.ce",props:so({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=$n(r,"modelValue"),n=fa(),i=Un("radios");function o(a){const s=a.target,l=s.parentElement?.querySelector(`label[id="${s.getAttribute("aria-labelledby")}"]`);l?.scrollIntoView&&l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}return(a,s)=>(B(),de("div",AE,[(B(!0),de(vt,null,Kt(e.items,(l,c)=>(B(),de(vt,{key:l.value},[_e("span",{ref_for:!0,ref_key:"radios",ref:i,role:"radio","aria-checked":t.value===l.value,"aria-labelledby":Z(n)+"*"+l.value,tabindex:"0","data-value":l.value,onKeydown:[ys(qn(u=>t.value=l.value,["prevent"]),["space"]),ys(qn(u=>t.value=l.value,["prevent"]),["enter"])],onFocus:s[0]||(s[0]=u=>o(u))},null,40,NE),_e("label",{id:Z(n)+"*"+l.value,class:"kern-btn kern-btn--block kern-btn--tertiary",onClick:qn(u=>(t.value=l.value,i.value?.[c].focus()),["prevent"])},[l.icon?(B(),de("span",{key:0,class:ft({"kern-icon":!0,[l.icon]:!0}),"aria-hidden":"true"},null,2)):Nt("",!0),_e("span",PE,ut(l.label),1)],8,OE)],64))),128))]))}}),RE=".radiogroup[data-v-69676e58]{display:contents}.kern-btn--tertiary{&[data-v-69676e58]{background-color:#edf1fa;justify-content:left}.kern-label[data-v-69676e58]{text-decoration:none}}label[data-v-69676e58]{border:var(--kern-metric-border-width-default) solid transparent}[role=radio]{&[data-v-69676e58]{position:absolute;height:0;clip-path:circle(0)}&:focus-visible+label[data-v-69676e58]{padding:var(--kern-metric-space-none) var(--kern-metric-space-default);border-radius:var(--kern-metric-border-radius-default);box-shadow:0 0 0 2px var(--kern-color-action-on-default),0 0 0 4px var(--kern-color-action-focus-border-inside),0 0 0 6px var(--kern-color-action-focus-border-outside)}&[aria-checked=true]+label[data-v-69676e58]{border-color:var(--kern-color-action-default)}}",jE=st(DE,[["styles",[RE]],["__scopeId","data-v-69676e58"]]);function Sc(r){return r===null?"":[r.getFullYear(),r.getMonth()+1,r.getDate()].map(e=>e.toString().padStart(2,"0")).join("-")}function qE(r){if(r.length===0)return null;const[e,t,n]=r.split("-");return new Date(Number(e),Number(t)-1,Number(n))}const FE=["min","max"],vg=Fe({__name:"KernDatePicker.ce",props:so({min:{type:Date},max:{type:Date}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=$n(r,"modelValue"),n=fe({get:()=>Sc(t.value),set:i=>{t.value=qE(i)}});return(i,o)=>ma((B(),de("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),type:"date",class:"kern-form-input__input",min:Z(Sc)(e.min??null),max:Z(Sc)(e.max??null)},null,8,FE)),[[yy,n.value]])}}),zE={class:"range-picker"},UE=Fe({__name:"KernDateRangePicker.ce",props:so({min:{type:Date},max:{type:Date}},{start:{required:!0},startModifiers:{},end:{required:!0},endModifiers:{}}),emits:["update:start","update:end"],setup(r){const e=r,t=$n(r,"start"),n=$n(r,"end");return(i,o)=>(B(),de("div",zE,[ki(vg,Fc({modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a)},e),null,16,["modelValue"]),o[2]||(o[2]=fy("  ",-1)),ki(vg,Fc({modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},e),null,16,["modelValue"])]))}}),$E=".range-picker[data-v-7414cb2a]{display:flex;align-items:center;justify-content:space-between;margin:.3em 0}",GE=st(UE,[["styles",[$E]],["__scopeId","data-v-7414cb2a"]]),BE=["id","value"],VE=["for"],HE=Fe({__name:"KernRadioGroup.ce",props:so({items:{type:Array}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const e=r,t=$n(r,"modelValue"),n=fa();return(i,o)=>(B(!0),de(vt,null,Kt(e.items,a=>(B(),de("div",{key:a.value,class:"kern-form-check"},[ma(_e("input",{id:Z(n)+"*"+a.value,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),class:"kern-form-check__radio",type:"radio",value:a.value},null,8,BE),[[my,t.value]]),_e("label",{for:Z(n)+"*"+a.value,class:"kern-label"},ut(a.label),9,VE)]))),128))}}),YE={class:"kern-heading-small"},ZE={class:"polar-filter-category-values"},WE=Fe({__name:"FilterTime.ce",setup(r){const e=ct(),t=Aa(),n=Un("section");async function i(o){o==="custom"&&(await Ys(),n.value?.lastElementChild?.scrollIntoView&&n.value.lastElementChild.scrollIntoView({behavior:"smooth"}))}return(o,a)=>(B(),de("section",{ref_key:"section",ref:n,class:"polar-filter-section"},[_e("h3",YE,ut(o.$t(s=>s.time.header,{ns:Z(zr)})),1),_e("div",ZE,[(B(),qe(Bt(Z(e).layout==="standard"?jE:HE),{modelValue:Z(t).timeModel,"onUpdate:modelValue":[a[0]||(a[0]=s=>Z(t).timeModel=s),a[1]||(a[1]=s=>i(s))],items:Z(t).timeItems},null,8,["modelValue","items"]))]),Z(t).timeModel==="custom"?(B(),qe(GE,Fc({key:0,start:Z(t).timeStart,"onUpdate:start":a[2]||(a[2]=s=>Z(t).timeStart=s),end:Z(t).timeEnd,"onUpdate:end":a[3]||(a[3]=s=>Z(t).timeEnd=s)},Z(t).timeConstraints),null,16,["start","end"])):Nt("",!0)],512))}}),KE={key:1,class:"kern-heading-medium"},QE=Fe({__name:"FilterUI.ce",setup(r){const e=Aa();return(t,n)=>(B(),qe(sE,null,{default:fs(()=>[Z(e).layers.length>1?(B(),qe(IE,{key:0,modelValue:Z(e).selectedLayerId,"onUpdate:modelValue":n[0]||(n[0]=i=>Z(e).selectedLayerId=i)},null,8,["modelValue"])):(B(),de("h2",KE,ut(Z(e).selectedLayer?.layerConfiguration?.name),1)),Z(e).selectedLayerId?(B(),qe(ME,{key:2})):Nt("",!0),Z(e).selectedLayerHasTimeFilter?(B(),qe(WE,{key:3})):Nt("",!0)]),_:1}))}}),XE="[data-v-e48f57e4] .polar-filter-section{width:100%;h3{padding-left:.15em}.polar-filter-category-values{display:flex;flex-direction:column;gap:var(--kern-metric-space-x-small)}}",JE=st(QE,[["styles",[XE]],["__scopeId","data-v-e48f57e4"]]),eM={category:{deselectAll:"Alle an-/abwhlen"},time:{header:"Zeitraum",noRestriction:"Keine Einschrnkung",last_zero:"Heute",last_one:"Der letzte Tag",last_other:"Die letzten {{count}} Tage",next_zero:"Heute",next_one:"Der nchste Tag",next_other:"Die nchsten {{count}} Tage",chooseTimeFrame:"Zeitraum whlen"}},tM={category:{deselectAll:"De-/select all"},time:{header:"Time frame",noRestriction:"No restriction",last_zero:"Today",last_one:"The last day",last_other:"The last {{count}} days",next_zero:"Today",next_one:"The next day",next_other:"The next {{count}} days",chooseTimeFrame:"Choose time frame"}},rM=[{type:"de",resources:eM},{type:"en",resources:tM}];function nS(r){return{id:zr,component:JE,locales:rM,icon:"kern-icon--filter-alt",storeModule:Aa,options:r}}const nM={class:"kern-label kern-sr-only"},iM=Fe({__name:"PolarIconButton.ce",props:{hint:{type:String},icon:{type:String},active:{type:Boolean},tooltipPosition:{type:String}},setup(r){const{hasSmallDisplay:e}=dt(ct());return(t,n)=>(B(),de("button",{class:ft(["kern-btn kern-btn--secondary polar-icon-button",{"polar-icon-button-active":r.active}])},[_e("span",{class:ft(["kern-icon",{[r.icon]:!0,"polar-icon-button-icon-active":r.active}]),"aria-hidden":"true"},null,2),_e("span",nM,ut(r.hint),1),r.tooltipPosition&&!Z(e)?(B(),de("span",{key:0,class:ft(["polar-tooltip",`polar-tooltip-${r.tooltipPosition}`]),"aria-hidden":"true"},ut(r.hint),3)):Nt("",!0)],2))}}),oM=".polar-icon-button{&[data-v-c643a442]{position:relative;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);border:none}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}.polar-icon-button-icon-active[data-v-c643a442]{background:var(--kern-color-layout-background-default)}.polar-tooltip{&[data-v-c643a442]{z-index:42;position:absolute;padding:5px 16px;font-family:sans-serif;background:#616161e6;color:#fff;border:2px solid #fff;border-radius:4px;font-size:14px;line-height:22px;white-space:nowrap;pointer-events:none;transition-property:opacity,right,left;transition-duration:.25s;transition-timing-function:ease;opacity:0}&.polar-tooltip-left[data-v-c643a442]{right:calc(100% + .75rem)}&.polar-tooltip-right[data-v-c643a442]{left:calc(100% + .75rem)}}&:hover .polar-tooltip[data-v-c643a442],&:focus-visible .polar-tooltip[data-v-c643a442]{opacity:1}}.polar-icon-button-active{&[data-v-c643a442]{background:var(--kern-color-action-default)}&[data-v-c643a442]:focus,&[data-v-c643a442]:hover{background:var(--kern-color-action-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}",eh=st(iM,[["styles",[oM]],["__scopeId","data-v-c643a442"]]),Nl="fullscreen",th=Mi("plugins/fullscreen",()=>{const r=ct(),e=fe(()=>r.configuration[Nl]),t=fe(()=>e.value.renderType),n=fe(()=>typeof e.value.targetContainer=="string"?document.getElementById(e.value.targetContainer)||document.documentElement:e.value.targetContainer?e.value.targetContainer:r.lightElement||document.documentElement),i=at(!1),o=at(null);function a(){r.lightElement&&(o.value=r.lightElement.style.cssText,r.lightElement.style.position="fixed",r.lightElement.style.margin="0",r.lightElement.style.top="0",r.lightElement.style.left="0",r.lightElement.style.width="100%",r.lightElement.style.height="100%",r.lightElement.style.zIndex="9999")}async function s(){if(!n.value.requestFullscreen){if(n.value.webkitRequestFullscreen){await n.value.webkitRequestFullscreen(),u();return}a();return}await n.value.requestFullscreen(),u()}async function l(){if(o.value!==null){r.lightElement&&(r.lightElement.style.cssText=o.value),o.value=null;return}if(document.webkitExitFullscreen){await document.webkitExitFullscreen(),u();return}await document.exitFullscreen(),u()}const c=fe({get:()=>o.value!==null||i.value,set:p=>{(p?s:l)().catch(()=>{console.warn(`@polar/polar(plugins/fullscreen/store:110:5)
`,"Failed to toggle fullscreen mode")})}});function u(){i.value=!!(document.fullscreenElement||document.webkitFullscreenElement)}function d(){addEventListener("fullscreenchange",u),addEventListener("webkitfullscreenchange",u)}function h(){removeEventListener("fullscreenchange",u),removeEventListener("webkitfullscreenchange",u)}return{fullscreenEnabled:c,enableSimulatedFullscreen:a,renderType:t,setupPlugin:d,teardownPlugin:h}});if(import.meta.vitest){const{expect:r,test:e,vi:t}=import.meta.vitest,{createPinia:n,setActivePinia:i}=await Fn(async()=>{const{createPinia:l,setActivePinia:c}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:l,setActivePinia:c}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await Fn(async()=>{const{reactive:l}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:l}},[],import.meta.url),a=await Fn(()=>import("./invisibleStyle-disvIazK-BcRg_BHd.js").then(l=>l.s),__vite__mapDeps([2,0,1,3,4,5,6]),import.meta.url),s=e.extend({coreStore:[async({},l)=>{const c=o({configuration:{[Nl]:{}}});t.spyOn(a,"useCoreStore").mockReturnValue(c),await l(c)},{auto:!0}],store:async({},l)=>{i(n());const c=th();c.setupPlugin(),await l(c),c.teardownPlugin()}});s.for([{native:!0,webkit:!0,result:!0},{native:!0,webkit:!1,result:!0},{native:!1,webkit:!0,result:!0},{native:!1,webkit:!1,result:!1}])("Fullscreen detection uses webkit prefix if necessary (native=$native, webkit=$webkit)",({native:l,webkit:c,result:u},{store:d})=>{jsdom.window.document.fullscreenElement=l,jsdom.window.document.webkitFullscreenElement=c,dispatchEvent(new Event("fullscreenchange")),r(d.fullscreenEnabled).toBe(u)}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Enable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u,coreStore:d})=>{jsdom.window.document.fullscreenElement=null;const h=t.fn(()=>new Promise(p=>{jsdom.window.document.fullscreenElement=document.createElement("div"),p()}));d.lightElement={...l?{requestFullscreen:h}:{},...c?{webkitRequestFullscreen:h}:{}},u.fullscreenEnabled=!0,r(h).toHaveBeenCalled(),await t.waitUntil(()=>u.fullscreenEnabled),r(u.fullscreenEnabled).toBeTruthy()}),s.for([{native:!0,webkit:!0},{native:!0,webkit:!1},{native:!1,webkit:!0}])("Disable fullscreen uses webkit prefix if necessary (native=$native, webkit=$webkit)",async({native:l,webkit:c},{store:u})=>{jsdom.window.document.fullscreenElement=document.createElement("div"),dispatchEvent(new Event("fullscreenchange"));const d=t.fn(()=>new Promise(h=>{jsdom.window.document.fullscreenElement=null,h()}));l&&(jsdom.window.document.exitFullscreen=d),c&&(jsdom.window.document.webkitExitFullscreen=d),u.fullscreenEnabled=!1,r(d).toHaveBeenCalled(),await t.waitUntil(()=>!u.fullscreenEnabled),r(u.fullscreenEnabled).toBeFalsy(),delete jsdom.window.document.exitFullscreen,delete jsdom.window.document.webkitExitFullscreen}),s("Enable simulated fullscreen if Fullscreen API is not available",({store:l,coreStore:c})=>{const u=new CSSStyleDeclaration;c.lightElement={style:u},u.cssText="position: relative; width: 400px; height: 300px;",l.fullscreenEnabled=!0,r(l.fullscreenEnabled).toBeTruthy(),r(u.position).toBe("fixed"),l.fullscreenEnabled=!1,r(l.fullscreenEnabled).toBeFalsy(),r(u.position).toBe("relative")})}const aM=Fe({__name:"FullscreenUI.ce",setup(r){const e=ct(),t=th(),{fullscreenEnabled:n}=dt(t),i=fe(()=>e.layout==="standard"?"polar-plugin-fullscreen-standard":t.renderType==="iconMenu"?"":"polar-plugin-fullscreen-nine-regions");return(o,a)=>(B(),qe(eh,{class:ft(i.value),hint:o.$t(s=>s.button.label,{ns:Z(Nl),context:Z(n)?"off":"on"}),icon:Z(n)?"kern-icon--fullscreen-exit":"kern-icon--fullscreen","tooltip-position":"left",onClick:a[0]||(a[0]=()=>n.value=!Z(n))},null,8,["class","hint","icon"]))}}),sM=".polar-icon-button.polar-plugin-fullscreen-standard[data-v-502a0228]{box-shadow:none}.polar-icon-button.polar-plugin-fullscreen-nine-regions[data-v-502a0228]{margin:var(--kern-metric-space-small)}",lM=st(aM,[["styles",[sM]],["__scopeId","data-v-502a0228"]]),cM={button:{label:"Vollbildmodus",label_off:"Vollbildmodus deaktivieren",label_on:"Vollbildmodus aktivieren"}},uM={button:{label:"Fullscreen mode",label_off:"Disable fullscreen mode",label_on:"Enable fullscreen mode"}},dM=[{type:"de",resources:cM},{type:"en",resources:uM}];function iS(r={}){return{id:Nl,component:lM,locales:dM,storeModule:th,options:r}}const bo=Mi("plugins/iconMenu",()=>{const r=ct(),e=at([]),t=at([]),n=at(-1),i=at(-1),o=fe(()=>r.configuration.iconMenu?.buttonComponent?ai(r.configuration.iconMenu.buttonComponent):null);function a(){e.value=(r.configuration.iconMenu?.menus||[]).map(p=>p.filter(({plugin:{id:m}})=>{const v=r.configuration[m]?.displayComponent;return typeof v=="boolean"?v:!0})),t.value=(r.configuration.iconMenu?.focusMenus||[]).filter(({plugin:{id:p}})=>{const m=r.configuration[p]?.displayComponent;return typeof m=="boolean"?m:!0}),e.value.concat(t.value).flat().forEach(({plugin:p})=>{r.addPlugin(ln(p,{independent:!1}))}),e.value.map(p=>p.map(m=>ln(m,{plugin:{component:ai(m.plugin.component)}}))),t.value.map(p=>ln(p,{plugin:{component:ai(p.plugin.component)}}));const d=r.configuration.iconMenu?.initiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&d&&l(d);const h=r.configuration.iconMenu?.focusInitiallyOpen;!r.hasSmallHeight&&!r.hasSmallWidth&&h&&c(h)}function s(){}function l(d){const h=e.value.reduce((p,m,v)=>{const y=m.findIndex(({plugin:{id:_}})=>_===d);return y===-1?p!==-1?p:-1:v+y},-1);h!==-1&&(n.value=h,u(h))}function c(d){const h=t.value.findIndex(({plugin:{id:p}})=>p===d);h!==-1&&(i.value=h,u(h,!0))}function u(d,h=!1){const p=h?t.value[d]:e.value.flat()[d];if(!p){console.error(`@polar/polar(plugins/iconMenu/store:131:4)
`,`Menu with index ${d} could not be found.`);return}if(!p.plugin.component){console.error(`@polar/polar(plugins/iconMenu/store:135:4)
`,`The plugin ${p.plugin.id} does not have any component to display and thus can not be opened in the moveHandle.`);return}r.hasWindowSize&&r.hasSmallWidth&&(h&&n.value!==-1?n.value=-1:!h&&i.value!==-1&&(i.value=-1)),r.setMoveHandle({closeFunction:()=>{if(h){i.value=-1;return}n.value=-1},closeLabel:gr(m=>m.mobileCloseButton,{ns:"iconMenu",plugin:gr(m=>m.hints[p.plugin.id],{ns:"iconMenu"})}),component:p.plugin.component,plugin:"iconMenu"})}return{menus:e,focusMenus:t,open:n,focusOpen:i,buttonComponent:o,openInMoveHandle:u,openMenuById:l,openFocusMenuById:c,setupPlugin:a,teardownPlugin:s}}),hM=Fe({__name:"NineRegionsButton.ce",props:{icon:{type:String},index:{type:Number},hint:{type:String}},setup(r){const e=r,t=bo(),{open:n}=dt(t),i=fe(()=>n.value===e.index),o=Ug("updateMaxWidth");function a(){n.value===e.index?(n.value=-1,ct().setMoveHandle(null)):(n.value=e.index,t.openInMoveHandle(e.index)),o()}return(s,l)=>(B(),qe(eh,{active:i.value,hint:r.hint,icon:r.icon,"tooltip-position":"left",onClick:a},null,8,["active","hint","icon"]))}}),pM=Fe({__name:"NineRegionsMenu.ce",setup(r){const e=bo(),{clientHeight:t,deviceIsHorizontal:n,hasSmallWidth:i,hasWindowSize:o}=dt(ct()),{buttonComponent:a,open:s}=dt(e),l=at("inherit"),c=Un("pluginComponent"),u=fe(()=>e.menus.flat()),d=fe(()=>u.value.length>1),h=fe(()=>o.value?"inherit":`calc(${t.value}px - ${n.value?"calc(100% + 1.5em)":"1em"})`);At(n,m=>{m||p()}),ao(()=>{addEventListener("resize",p),p()}),Zs(()=>{removeEventListener("resize",p)});function p(){Ys(()=>{if(c.value?.[0])if(o.value)l.value="inherit";else{const{left:m,width:v}=c.value[0].$el.getBoundingClientRect();l.value=`${v+m}px`}})}return vy("updateMaxWidth",p),(m,v)=>(B(),qe(Bt(d.value?"ul":"div"),{class:"polar-plugin-icon-menu-list"},{default:fs(()=>[(B(!0),de(vt,null,Kt(u.value,({plugin:y,icon:_},w)=>(B(),qe(Bt(d.value?"li":"div"),{key:w,class:ft(Z(n)?"polar-plugin-icon-menu-list-item-horizontal":"polar-plugin-icon-menu-list-item")},{default:fs(()=>[_===void 0?(B(),qe(Bt(y.component),{key:0})):(B(),de(vt,{key:1},[Z(a)?(B(),qe(Bt(Z(a)),{key:0,id:y.id,icon:_,hint:m.$t(A=>A.hints[y.id],{ns:"iconMenu"}),index:w},null,8,["id","icon","hint","index"])):(B(),qe(hM,{key:1,icon:_,hint:m.$t(A=>A.hints[y.id],{ns:"iconMenu"}),index:w},null,8,["icon","hint","index"])),Z(s)===w&&(!Z(o)||!Z(i))?(B(),qe(Bt(y.component),{key:2,ref_for:!0,ref_key:"pluginComponent",ref:c,class:ft([Z(n)?"polar-plugin-icon-menu-list-item-content-horizontal":"polar-plugin-icon-menu-list-item-content","polar-plugin-icon-menu-list-item-content-scrollable-y"]),style:Go(`max-height: ${h.value}; max-width: ${l.value}`)},null,8,["class","style"])):Nt("",!0)],64))]),_:2},1032,["class"]))),128))]),_:1}))}}),gM=".polar-plugin-icon-menu-list[data-v-e3d6e395]{position:relative;list-style:none;padding:0;margin:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item-horizontal[data-v-e3d6e395]{float:left;margin-left:var(--kern-metric-space-small)}.polar-plugin-icon-menu-list-item[data-v-e3d6e395]{margin-bottom:var(--kern-metric-space-small);z-index:1}.polar-plugin-icon-menu-list-item-content[data-v-e3d6e395]{position:absolute;white-space:nowrap;top:0;right:calc(100% + var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-horizontal[data-v-e3d6e395]{position:absolute;white-space:nowrap;top:calc(100% + var(--kern-metric-space-small));right:calc(-1 * var(--kern-metric-space-small))}.polar-plugin-icon-menu-list-item-content-scrollable-y[data-v-e3d6e395]{z-index:1;overflow-y:auto;scrollbar-gutter:stable}",mM=st(pM,[["styles",[gM]],["__scopeId","data-v-e3d6e395"]]),fM={class:"polar-plugin-icon-menu-focus-list-wrapper"},yM=["onClick"],vM={class:"kern-label"},kM=Fe({__name:"StandardFocusMenu.ce",props:{menus:{type:Array}},setup(r){const e=r,t=ct(),{clientHeight:n,hasSmallWidth:i,hasWindowSize:o,moveHandleTop:a}=dt(t),s=bo(),l=at(null),c=fe(()=>`bottom: ${o.value&&a.value!==null?Math.min(n.value-a.value,n.value/4)/16:t.getPluginStore("footer")===null?0:1.5}rem`),u=fe(()=>o.value?"inherit":`calc(${t.clientHeight}px - ${t.deviceIsHorizontal?"calc(100% + 1.5em)":"1em"})`);function d(h){s.focusOpen===h?(s.focusOpen=-1,l.value=null,t.setMoveHandle(null)):(s.focusOpen=h,l.value=ai(e.menus.find((p,m)=>m===h).plugin.component),s.openInMoveHandle(h,!0))}return(h,p)=>(B(),de("div",fM,[l.value&&(!Z(o)||!Z(i))?(B(),qe(Bt(l.value),{key:0,class:"polar-plugin-icon-menu-focus-list-content",style:Go(`max-height: ${u.value}`)},null,8,["style"])):Nt("",!0),_e("ul",{class:"polar-plugin-icon-menu-focus-list",style:Go(c.value)},[(B(!0),de(vt,null,Kt(r.menus,({buttonClass:m,icon:v,plugin:y},_)=>(B(),de("li",{key:_,class:"polar-plugin-icon-menu-focus-list-item"},[_e("button",{class:ft(["kern-btn kern-btn--secondary polar-plugin-icon-menu-button",m]),onClick:()=>d(_)},[_e("span",{class:ft(["kern-icon",v]),"aria-hidden":"true"},null,2),_e("span",vM,ut(Z(gr)(w=>w.hints[y.id],{ns:"iconMenu"})),1)],10,yM)]))),128))],4)]))}}),bM=".polar-plugin-icon-menu-focus-list-wrapper{&[data-v-8cb55543]{display:flex;align-items:center;justify-content:center;gap:.5rem}.polar-plugin-icon-menu-focus-list{&[data-v-8cb55543]{list-style:none;position:absolute;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow);transition:bottom .25s ease}.polar-plugin-icon-menu-focus-list-item{&[data-v-8cb55543]{margin-bottom:0}.polar-plugin-icon-menu-button{&[data-v-8cb55543]{box-shadow:none;border:none}&[data-v-8cb55543]:focus,&[data-v-8cb55543]:hover{background:var(--kern-color-layout-background-default);border:solid var(--kern-color-action-on-default);outline:solid var(--kern-color-action-default)}}.polar-plugin-icon-menu-button-active{&[data-v-8cb55543]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-8cb55543]:focus,&[data-v-8cb55543]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}}}.polar-plugin-icon-menu-focus-list-content[data-v-8cb55543]{z-index:1;position:absolute;top:0;left:0;margin:var(--kern-metric-space-small);white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}",xM=st(kM,[["styles",[bM]],["__scopeId","data-v-8cb55543"]]),wM={class:"polar-plugin-icon-menu-list"},_M=Fe({__name:"StandardMenuList.ce",props:{menus:{type:Array},baseIndex:{default:0,type:Number}},setup(r){const e=ct(),{deviceIsHorizontal:t,hasSmallWidth:n,hasWindowSize:i}=dt(e),o=bo(),{open:a}=dt(o),s=at("inherit"),l=Un("pluginComponent"),c=fe(()=>i.value?"inherit":`calc(${e.clientHeight}px - ${t.value?"calc(100% + 1.5rem)":e.getPluginStore("footer")===null?"4.5rem":"6.5rem"})`);At(t,h=>{h||u()}),ao(()=>{addEventListener("resize",u),u()}),Zs(()=>{removeEventListener("resize",u)});function u(){Ys(()=>{if(l.value?.[0])if(i.value)s.value="inherit";else{const{left:h,width:p}=l.value[0].$el.getBoundingClientRect();s.value=`${p+h}px`}})}function d(h){a.value===h?(a.value=-1,e.setMoveHandle(null)):(a.value=h,o.openInMoveHandle(h)),u()}return(h,p)=>(B(),de("ul",wM,[(B(!0),de(vt,null,Kt(r.menus,({buttonClass:m,icon:v,plugin:y},_)=>(B(),de("li",{key:_,class:"polar-plugin-icon-menu-list-item"},[typeof v>"u"?(B(),qe(Bt(y.component),{key:0})):(B(),de(vt,{key:1},[ki(eh,{class:ft(m),hint:h.$t(w=>w.hints[y.id],{ns:"iconMenu"}),icon:v,"tooltip-position":"left",onClick:()=>d(r.baseIndex+_)},null,8,["class","hint","icon","onClick"]),Z(a)===r.baseIndex+_&&(!Z(i)||!Z(n))?(B(),qe(Bt(y.component),{key:0,ref_for:!0,ref_key:"pluginComponent",ref:l,class:"polar-plugin-icon-menu-list-item-content",style:Go(`max-height: ${c.value}; max-width: ${s.value}`)},null,8,["style"])):Nt("",!0)],64))]))),128))]))}}),TM=".polar-icon-button.polar-plugin-icon-menu-button[data-v-1fe204e1]{box-shadow:none}.polar-icon-button.polar-plugin-icon-menu-button-active{&[data-v-1fe204e1]{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}&[data-v-1fe204e1]:focus,&[data-v-1fe204e1]:hover{background:color-mix(in oklch,var(--kern-color-action-default) 12%,transparent)}}.polar-plugin-icon-menu-list{&[data-v-1fe204e1]{list-style:none;margin:0;padding:0;border-radius:.5rem;background:var(--kern-color-layout-background-default);box-shadow:var(--polar-shadow)}.polar-plugin-icon-menu-list-item{&[data-v-1fe204e1]{float:left;margin-bottom:0}.polar-plugin-icon-menu-list-item-content[data-v-1fe204e1]{z-index:1;position:absolute;top:calc(100% + .5rem);right:0;white-space:nowrap;overflow-y:auto;scrollbar-gutter:stable}}.polar-plugin-icon-menu-list-item[data-v-1fe204e1]:nth-child(n+2){margin-left:3px}}",EM=st(_M,[["styles",[TM]],["__scopeId","data-v-1fe204e1"]]),MM={class:"polar-plugin-icon-menu-list-wrapper"},CM=Fe({__name:"StandardMenu.ce",setup(r){const e=bo(),t=fe(()=>e.menus.map((i,o)=>i.map((a,s)=>ln(a,{buttonClass:[ct().layout==="standard"?"polar-plugin-icon-menu-button":"",e.open===o+s?" polar-plugin-icon-menu-button-active":""].reduce((l,c)=>l.concat(" ",c)),icon:"icon"in a?a.icon:a.plugin.icon})))),n=fe(()=>e.focusMenus.map((i,o)=>ln(i,{buttonClass:e.focusOpen===o?"polar-plugin-icon-menu-button-active":""})));return(i,o)=>(B(),de(vt,null,[_e("div",MM,[(B(!0),de(vt,null,Kt(t.value,(a,s)=>(B(),qe(EM,{key:s,menus:a,"base-index":s},null,8,["menus","base-index"]))),128))]),n.value.length?(B(),qe(xM,{key:0,menus:n.value},null,8,["menus"])):Nt("",!0)],64))}}),SM=".polar-plugin-icon-menu-list-wrapper[data-v-3edc9dff]{position:absolute;right:0;display:flex;justify-content:center;align-items:center;gap:var(--kern-metric-space-x-small);margin:var(--kern-metric-space-small)}",LM=st(CM,[["styles",[SM]],["__scopeId","data-v-3edc9dff"]]),IM=Fe({__name:"IconMenu.ce",setup(r){const{layout:e}=dt(ct());return(t,n)=>Z(e)==="standard"?(B(),qe(LM,{key:0})):(B(),qe(mM,{key:1}))}}),AM={mobileCloseButton:"{{plugin}} schlieen",hints:{attributions:"Quellennachweis",draw:"Zeichenwerkzeuge",filter:"Filter",layerChooser:"Kartenauswahl",gfi:"Objektliste"}},NM={mobileCloseButton:"Close {{plugin}}",hints:{attributions:"Attributions",draw:"Draw tools",filter:"Filter",layerChooser:"Choose map",gfi:"Feature list"}},OM=[{type:"de",resources:AM},{type:"en",resources:NM}],PM="iconMenu";function oS(r){return{id:PM,component:IM,locales:OM,storeModule:bo,options:r}}function DM(r,e,{signal:t,edges:n}={}){let i,o=null;const a=n!=null&&n.includes("leading"),s=n==null||n.includes("trailing"),l=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},c=()=>{s&&l(),p()};let u=null;const d=()=>{u!=null&&clearTimeout(u),u=setTimeout(()=>{u=null,c()},e)},h=()=>{u!==null&&(clearTimeout(u),u=null)},p=()=>{h(),i=void 0,o=null},m=()=>{l()},v=function(...y){if(t?.aborted)return;i=this,o=y;const _=u==null;d(),a&&_&&l()};return v.schedule=d,v.cancel=p,v.flush=m,t?.addEventListener("abort",p,{once:!0}),v}function RM(r,e,{signal:t,edges:n=["leading","trailing"]}={}){let i=null;const o=DM(function(...s){i=Date.now(),r.apply(this,s)},e,{signal:t,edges:n}),a=function(...s){if(i==null&&(i=Date.now()),Date.now()-i>=e){i=Date.now(),r.apply(this,s),o.cancel(),o.schedule();return}o.apply(this,s)};return a.cancel=o.cancel,a.flush=o.flush,a}function Pf(){let r=96;try{const e=document.createElement("div"),t=document.body;e.id="programmatical-dpidiv",e.setAttribute("style","position: absolute; height: 1in; width: 1in; top: -100%; left: -100%;"),t.appendChild(e),r=e.offsetWidth*(window.devicePixelRatio||1),t.removeChild(e)}catch(e){console.error(`@polar/polar(lib/dpi:26:3)
`,e),console.warn(`@polar/polar(lib/dpi:27:3)
`,`Since the dpi could not be inferred, the default value ${r} will be used.`)}return r}const Df=at(Pf());let as=0;const Ri=RM(()=>Df.value=Pf(),100);function jM(){return as===0&&(window.addEventListener("resize",Ri,{passive:!0}),window.addEventListener("orientationchange",Ri),window.visualViewport?.addEventListener("resize",Ri)),as++,Gg(function(){as--,as===0&&(window.removeEventListener("resize",Ri),window.removeEventListener("orientationchange",Ri),window.visualViewport?.removeEventListener("resize",Ri))}),{dpi:Df}}const kg=(r,e)=>`1 : ${new Intl.NumberFormat(e,{maximumFractionDigits:0}).format(r>1e4?Math.round(r/500)*500:r>1e3?Math.round(r/50)*50:r)}`;function bg(r,e,t){return Math.round(e*Ho[r]*39.37*t)}const Rf=Mi("plugins/scale",()=>{const r=ct(),{dpi:e}=jM(),t=at(0),n=fe(()=>kg(t.value,r.language)),i=fe(()=>{const c=Math.round(.02*t.value);return c>=1e3?`${Math.round(c/100)/10}km`:`${c}m`}),o=fe(()=>r.configuration.options.map(c=>{const u=kg(bg(r.map.getView().getProjection().getUnits(),c.resolution,e.value),r.language);return{...c,label:u,ariaLabel:N0(()=>gr(d=>d.to,{ns:"scale",number:u.split(":")[1]?.replace(/[,.]/g,"").trim()})).value,value:c.zoomLevel}})),a=fe(()=>r.configuration.scale?.layoutTag),s=fe(()=>r.configuration.scale?.showScaleSwitcher&&o.value.length>0);function l(){const c=r.map.getView().getProjection().getUnits(),u=r.map.getView().getResolution(),d=bg(c,u,e.value);t.value=d}return r.map.on("moveend",l),Gg(()=>{r.map.un("moveend",l)}),{layoutTag:a,scaleToOne:n,scaleWithUnit:i,showScaleSwitcher:s,zoomOptions:o}}),qM={class:"kern-form-input"},FM=["for"],zM=["id","aria-label","disabled","required","multiple","value"],UM={key:0,value:""},$M=["value","aria-label"],GM=Fe({__name:"PolarSelect.ce",props:{label:{default:"",type:String},ariaLabel:{default:void 0,type:String},defaultLabel:{default:"",type:String},value:{type:[String,Array]},options:{type:Array},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},small:{type:Boolean,default:!1},id:{default:"",type:String}},emits:["update:value"],setup(r,{emit:e}){const t=r,n=fa(),i=fe(()=>t.id||n),o=e;function a(s){const l=s.target;if(t.multiple){const c=Array.from(l.selectedOptions).map(u=>u.value);o("update:value",c)}else o("update:value",l.value)}return(s,l)=>(B(),de("div",qM,[r.label?(B(),de("label",{key:0,class:"kern-label",for:i.value},ut(r.label),9,FM)):Nt("",!0),_e("div",{class:ft(["kern-form-input__select-wrapper",r.small?"small":""])},[_e("select",{id:i.value,class:"kern-form-input__select","aria-label":r.ariaLabel,disabled:r.disabled,required:r.required,multiple:r.multiple,value:r.value,onChange:a},[r.defaultLabel?(B(),de("option",UM,ut(r.defaultLabel),1)):Nt("",!0),(B(!0),de(vt,null,Kt(r.options,({value:c,label:u,ariaLabel:d})=>(B(),de("option",{key:c,value:c,"aria-label":d},ut(u),9,$M))),128))],40,zM)],2)]))}}),BM=".kern-form-input__select-wrapper.small{&[data-v-f13e0d28]{height:var(--kern-metric-dimension-default)}.kern-form-input__select[data-v-f13e0d28]{padding-top:0;padding-bottom:0}&[data-v-f13e0d28]:after{position:absolute;top:50%;transform:translateY(-50%)}&[data-v-f13e0d28]:hover:not(:focus-within):after{top:calc(50% + calc(calc(var(--kern-metric-border-width-bold) - var(--kern-metric-border-width-default)) / 2))}}",VM=st(GM,[["styles",[BM]],["__scopeId","data-v-f13e0d28"]]),ps="scale",HM=["title","aria-label"],YM={key:1,class:"scale-as-a-ratio"},ZM={class:"scale-line"},WM={class:"scale-line-text"},KM=Fe({__name:"ScaleWidget.ce",setup(r){const e=Rf(),t=ct(),{layoutTag:n,scaleToOne:i,scaleWithUnit:o,showScaleSwitcher:a,zoomOptions:s}=dt(e),{layout:l,zoom:c}=dt(t),u=fe(()=>`${Math.round(c.value)}`);function d(h){c.value=Number(h)}return(h,p)=>(B(),de("div",{class:ft(["polar-plugin-scale",Z(l)==="nineRegions"?`polar-plugin-scale-nineRegions ${Z(n)}`:""]),title:h.$t(m=>m.label,{ns:Z(ps)}),"aria-label":h.$t(m=>m.label,{ns:Z(ps)})},[Z(a)?(B(),qe(VM,{key:0,value:u.value,options:Z(s),"aria-label":h.$t(m=>m.scaleSwitcher,{ns:Z(ps)}),small:"","onUpdate:value":d},null,8,["value","options","aria-label"])):(B(),de("span",YM,ut(Z(i)),1)),_e("span",ZM,[_e("span",WM,ut(Z(o)),1),p[0]||(p[0]=_e("span",{class:"scale-line-scale"},null,-1))])],10,HM))}}),QM=".polar-plugin-scale{&[data-v-9b75fe49]{display:flex;flex-direction:row;align-items:center;gap:var(--kern-metric-space-small);padding:0 var(--kern-metric-space-small)}.scale-as-a-ratio[data-v-9b75fe49]{white-space:nowrap;color:var(--kern-color-layout-text-default)}.scale-line-text[data-v-9b75fe49]{font-weight:bolder;color:var(--kern-color-layout-text-default);min-width:5ch;text-align:right}.scale-line{&[data-v-9b75fe49]{display:flex;align-items:anchor-center;gap:var(--kern-metric-space-small)}.scale-line-scale[data-v-9b75fe49]{border-radius:0 0 .125rem .125rem;border-right:1px solid var(--kern-color-form-input-border);border-bottom:1px solid var(--kern-color-form-input-border);border-left:1px solid var(--kern-color-form-input-border);height:.75rem;width:2cm}}[data-v-9b75fe49] .kern-form-input__select-wrapper{background-color:var(--kern-color-form-input-background-inverted)}&.polar-plugin-scale-nineRegions{&[data-v-9b75fe49]{gap:var(--kern-metric-space-2x-small);padding:var(--kern-metric-space-2x-small);align-items:stretch}>*[data-v-9b75fe49]{background:var(--kern-color-form-input-background-inverted);border-radius:var(--kern-metric-border-radius-large);padding:var(--kern-metric-space-x-small) var(--kern-metric-space-small);box-shadow:var(--polar-shadow)}.scale-line-text[data-v-9b75fe49]{text-align:left}&.BOTTOM_LEFT[data-v-9b75fe49],&.TOP_LEFT[data-v-9b75fe49],&.MIDDLE_LEFT[data-v-9b75fe49]{flex-direction:row-reverse}}}",XM=st(KM,[["styles",[QM]],["__scopeId","data-v-9b75fe49"]]),JM={label:"Skala",scaleSwitcher:"Mastab ndern",to:"Eins zu {{number}}"},eC={label:"Scale",scaleSwitcher:"Change scale",to:"One to {{number}}"},tC=[{type:"de",resources:JM},{type:"en",resources:eC}];function aS(r){return{id:ps,component:XM,locales:tC,options:r,storeModule:Rf}}function rC(r){if(typeof r=="object"){if("oklch"in r)return`oklch(${r.oklch.l}, ${r.oklch.c}, ${r.oklch.h})`;if("rgba"in r)return r.rgba.a?`rgba(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b}, ${r.rgba.a})`:`rgb(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b})`}return r}const nC={class:"kern-alert__header"},iC={class:"kern-title"},oC=["onClick"],aC={class:"kern-label kern-sr-only"},sC=Fe({__name:"ToastUI.ce",setup(r){const e=Ju();function t(i){return{error:"danger",info:"info",warning:"warning",success:"success"}[i]}const n=fe(()=>e.toasts.map(i=>{const o=t(i.severity);return{alertClass:`kern-alert--${o}`,alertStyle:i.theme?.color?{"background-color":rC(i.theme.color)}:{},iconClass:i.theme?.icon||`kern-icon--${o}`,text:i.text,originalToast:i}}));return(i,o)=>(B(!0),de(vt,null,Kt(n.value,(a,s)=>(B(),de("div",{key:s,class:ft(["kern-alert",a.alertClass]),style:Go(a.alertStyle),role:"alert"},[_e("div",nC,[_e("span",{class:ft(["kern-icon",a.iconClass]),"aria-hidden":"true"},null,2),_e("span",iC,ut(a.text),1),_e("button",{class:"kern-btn",onClick:l=>Z(e).removeToast(a.originalToast)},[o[0]||(o[0]=_e("span",{class:"kern-icon kern-icon--close","aria-hidden":"true"},null,-1)),_e("span",aC,ut(i.$t(l=>l.dismissButton.label,{ns:Z(Xo)})),1)],8,oC)])],6))),128))}}),lC=".kern-alert{&[data-v-d4942d6e]{margin:var(--kern-metric-space-small) var(--kern-metric-space-none)}>.kern-alert__header{&[data-v-d4942d6e]{padding:var(--kern-metric-space-x-small) var(--kern-metric-space-default)}>.kern-icon[data-v-d4942d6e]{display:none;@media(min-width:30em){display:initial}}>.kern-title[data-v-d4942d6e]{flex:1;max-width:calc(100% - 2.5em);overflow-wrap:break-word}}}.kern-btn[data-v-d4942d6e]{margin-left:var(--kern-metric-space-x-small);background-color:transparent}",xg=st(sC,[["styles",[lC]],["__scopeId","data-v-d4942d6e"]]),cC={key:0,class:"polar-plugin-toast-standard-layout"},uC=Fe({__name:"ToastContainer.ce",setup(r){const{layout:e}=dt(ct());return(t,n)=>Z(e)==="standard"?(B(),de("div",cC,[ki(xg)])):(B(),qe(xg,{key:1}))}}),dC=".polar-plugin-toast-standard-layout[data-v-13133193]{position:absolute;z-index:40;top:0;left:var(--kern-metric-space-small);right:var(--kern-metric-space-small);@media(min-width:50em){left:25%;right:25%}}",hC=st(uC,[["styles",[dC]],["__scopeId","data-v-13133193"]]),pC={dismissButton:{label:"Benachrichtigung ausblenden"}},gC={dismissButton:{label:"Hide notification"}},mC=[{type:"de",resources:pC},{type:"en",resources:gC}];function sS(r){return{id:Xo,component:hC,locales:mC,storeModule:Ju,options:r}}function rh(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const He={},Xi=[],Hr=()=>{},jf=()=>!1,nh=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),qf=r=>r.startsWith("onUpdate:"),zt=Object.assign,ih=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},fC=Object.prototype.hasOwnProperty,$e=(r,e)=>fC.call(r,e),be=Array.isArray,Ji=r=>Na(r)==="[object Map]",Ff=r=>Na(r)==="[object Set]",wg=r=>Na(r)==="[object Date]",Me=r=>typeof r=="function",Ut=r=>typeof r=="string",mn=r=>typeof r=="symbol",Ye=r=>r!==null&&typeof r=="object",zf=r=>(Ye(r)||Me(r))&&Me(r.then)&&Me(r.catch),Uf=Object.prototype.toString,Na=r=>Uf.call(r),yC=r=>Na(r).slice(8,-1),$f=r=>Na(r)==="[object Object]",Ol=r=>Ut(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ro=rh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pl=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},vC=/-\w/g,Wr=Pl(r=>r.replace(vC,e=>e.slice(1).toUpperCase())),kC=/\B([A-Z])/g,Oa=Pl(r=>r.replace(kC,"-$1").toLowerCase()),oh=Pl(r=>r.charAt(0).toUpperCase()+r.slice(1)),Lc=Pl(r=>r?`on${oh(r)}`:""),zn=(r,e)=>!Object.is(r,e),Ic=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},Gf=(r,e,t,n=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:n,value:t})},bC=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let _g;const Dl=()=>_g||(_g=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ah(r){if(be(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=Ut(n)?TC(n):ah(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(Ut(r)||Ye(r))return r}const xC=/;(?![^(]*\))/g,wC=/:([^]+)/,_C=/\/\*[^]*?\*\//g;function TC(r){const e={};return r.replace(_C,"").split(xC).forEach(t=>{if(t){const n=t.split(wC);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function sh(r){let e="";if(Ut(r))e=r;else if(be(r))for(let t=0;t<r.length;t++){const n=sh(r[t]);n&&(e+=n+" ")}else if(Ye(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const EC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lS=rh(EC);function cS(r){return!!r||r===""}function MC(r,e){if(r.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<r.length;n++)t=lh(r[n],e[n]);return t}function lh(r,e){if(r===e)return!0;let t=wg(r),n=wg(e);if(t||n)return t&&n?r.getTime()===e.getTime():!1;if(t=mn(r),n=mn(e),t||n)return r===e;if(t=be(r),n=be(e),t||n)return t&&n?MC(r,e):!1;if(t=Ye(r),n=Ye(e),t||n){if(!t||!n)return!1;const i=Object.keys(r).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in r){const s=r.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!lh(r[a],e[a]))return!1}}return String(r)===String(e)}const Bf=r=>!!(r&&r.__v_isRef===!0),CC=r=>Ut(r)?r:r==null?"":be(r)||Ye(r)&&(r.toString===Uf||!Me(r.toString))?Bf(r)?CC(r.value):JSON.stringify(r,Vf,2):String(r),Vf=(r,e)=>Bf(e)?Vf(r,e.value):Ji(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i],o)=>(t[Ac(n,o)+" =>"]=i,t),{})}:Ff(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Ac(t))}:mn(e)?Ac(e):Ye(e)&&!be(e)&&!$f(e)?String(e):e,Ac=(r,e="")=>{var t;return mn(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};let Rt;class Hf{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Rt,!e&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Rt;try{return Rt=this,e()}finally{Rt=t}}}on(){++this._on===1&&(this.prevScope=Rt,Rt=this)}off(){this._on>0&&--this._on===0&&(Rt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function uS(r){return new Hf(r)}function SC(){return Rt}function dS(r,e=!1){Rt&&Rt.cleanups.push(r)}let Qe;const Nc=new WeakSet;class Yf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nc.has(this)&&(Nc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tg(this),Kf(this);const e=Qe,t=Cr;Qe=this,Cr=!0;try{return this.fn()}finally{Qf(this),Qe=e,Cr=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)dh(e);this.deps=this.depsTail=void 0,Tg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Su(this)&&this.run()}get dirty(){return Su(this)}}let Zf=0,jo,qo;function Wf(r,e=!1){if(r.flags|=8,e){r.next=qo,qo=r;return}r.next=jo,jo=r}function ch(){Zf++}function uh(){if(--Zf>0)return;if(qo){let e=qo;for(qo=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;jo;){let e=jo;for(jo=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){r||(r=n)}e=t}}if(r)throw r}function Kf(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Qf(r){let e,t=r.depsTail,n=t;for(;n;){const i=n.prevDep;n.version===-1?(n===t&&(t=i),dh(n),LC(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}r.deps=e,r.depsTail=t}function Su(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Xf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function Xf(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===ua)||(r.globalVersion=ua,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!Su(r))))return;r.flags|=2;const e=r.dep,t=Qe,n=Cr;Qe=r,Cr=!0;try{Kf(r);const i=r.fn(r._value);(e.version===0||zn(i,r._value))&&(r.flags|=128,r._value=i,e.version++)}catch(i){throw e.version++,i}finally{Qe=t,Cr=n,Qf(r),r.flags&=-3}}function dh(r,e=!1){const{dep:t,prevSub:n,nextSub:i}=r;if(n&&(n.nextSub=i,r.prevSub=void 0),i&&(i.prevSub=n,r.nextSub=void 0),t.subs===r&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let o=t.computed.deps;o;o=o.nextDep)dh(o,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function LC(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Cr=!0;const Jf=[];function fn(){Jf.push(Cr),Cr=!1}function yn(){const r=Jf.pop();Cr=r===void 0?!0:r}function Tg(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=Qe;Qe=void 0;try{e()}finally{Qe=t}}}let ua=0;class IC{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Qe||!Cr||Qe===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Qe)t=this.activeLink=new IC(Qe,this),Qe.deps?(t.prevDep=Qe.depsTail,Qe.depsTail.nextDep=t,Qe.depsTail=t):Qe.deps=Qe.depsTail=t,e1(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Qe.depsTail,t.nextDep=void 0,Qe.depsTail.nextDep=t,Qe.depsTail=t,Qe.deps===t&&(Qe.deps=n)}return t}trigger(e){this.version++,ua++,this.notify(e)}notify(e){ch();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{uh()}}}function e1(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)e1(n)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const zs=new WeakMap,fi=Symbol(""),Lu=Symbol(""),da=Symbol("");function jt(r,e,t){if(Cr&&Qe){let n=zs.get(r);n||zs.set(r,n=new Map);let i=n.get(t);i||(n.set(t,i=new hh),i.map=n,i.key=t),i.track()}}function on(r,e,t,n,i,o){const a=zs.get(r);if(!a){ua++;return}const s=l=>{l&&l.trigger()};if(ch(),e==="clear")a.forEach(s);else{const l=be(r),c=l&&Ol(t);if(l&&t==="length"){const u=Number(n);a.forEach((d,h)=>{(h==="length"||h===da||!mn(h)&&h>=u)&&s(d)})}else switch((t!==void 0||a.has(void 0))&&s(a.get(t)),c&&s(a.get(da)),e){case"add":l?c&&s(a.get("length")):(s(a.get(fi)),Ji(r)&&s(a.get(Lu)));break;case"delete":l||(s(a.get(fi)),Ji(r)&&s(a.get(Lu)));break;case"set":Ji(r)&&s(a.get(fi));break}}uh()}function AC(r,e){const t=zs.get(r);return t&&t.get(e)}function ji(r){const e=ze(r);return e===r?e:(jt(e,"iterate",da),ar(r)?e:e.map(Sr))}function Rl(r){return jt(r=ze(r),"iterate",da),r}function An(r,e){return vn(r)?io(yi(r)?Sr(e):e):Sr(e)}const NC={__proto__:null,[Symbol.iterator](){return Oc(this,Symbol.iterator,r=>An(this,r))},concat(...r){return ji(this).concat(...r.map(e=>be(e)?ji(e):e))},entries(){return Oc(this,"entries",r=>(r[1]=An(this,r[1]),r))},every(r,e){return Jr(this,"every",r,e,void 0,arguments)},filter(r,e){return Jr(this,"filter",r,e,t=>t.map(n=>An(this,n)),arguments)},find(r,e){return Jr(this,"find",r,e,t=>An(this,t),arguments)},findIndex(r,e){return Jr(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return Jr(this,"findLast",r,e,t=>An(this,t),arguments)},findLastIndex(r,e){return Jr(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return Jr(this,"forEach",r,e,void 0,arguments)},includes(...r){return Pc(this,"includes",r)},indexOf(...r){return Pc(this,"indexOf",r)},join(r){return ji(this).join(r)},lastIndexOf(...r){return Pc(this,"lastIndexOf",r)},map(r,e){return Jr(this,"map",r,e,void 0,arguments)},pop(){return Lo(this,"pop")},push(...r){return Lo(this,"push",r)},reduce(r,...e){return Eg(this,"reduce",r,e)},reduceRight(r,...e){return Eg(this,"reduceRight",r,e)},shift(){return Lo(this,"shift")},some(r,e){return Jr(this,"some",r,e,void 0,arguments)},splice(...r){return Lo(this,"splice",r)},toReversed(){return ji(this).toReversed()},toSorted(r){return ji(this).toSorted(r)},toSpliced(...r){return ji(this).toSpliced(...r)},unshift(...r){return Lo(this,"unshift",r)},values(){return Oc(this,"values",r=>An(this,r))}};function Oc(r,e,t){const n=Rl(r),i=n[e]();return n!==r&&!ar(r)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=t(o.value)),o}),i}const OC=Array.prototype;function Jr(r,e,t,n,i,o){const a=Rl(r),s=a!==r&&!ar(r),l=a[e];if(l!==OC[e]){const d=l.apply(r,o);return s?Sr(d):d}let c=t;a!==r&&(s?c=function(d,h){return t.call(this,An(r,d),h,r)}:t.length>2&&(c=function(d,h){return t.call(this,d,h,r)}));const u=l.call(a,c,n);return s&&i?i(u):u}function Eg(r,e,t,n){const i=Rl(r);let o=t;return i!==r&&(ar(r)?t.length>3&&(o=function(a,s,l){return t.call(this,a,s,l,r)}):o=function(a,s,l){return t.call(this,a,An(r,s),l,r)}),i[e](o,...n)}function Pc(r,e,t){const n=ze(r);jt(n,"iterate",da);const i=n[e](...t);return(i===-1||i===!1)&&jl(t[0])?(t[0]=ze(t[0]),n[e](...t)):i}function Lo(r,e,t=[]){fn(),ch();const n=ze(r)[e].apply(r,t);return uh(),yn(),n}const PC=rh("__proto__,__v_isRef,__isVue"),t1=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(mn));function DC(r){mn(r)||(r=String(r));const e=ze(this);return jt(e,"has",r),e.hasOwnProperty(r)}class r1{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return o;if(t==="__v_raw")return n===(i?o?VC:a1:o?o1:i1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=be(e);if(!i){let l;if(a&&(l=NC[t]))return l;if(t==="hasOwnProperty")return DC}const s=Reflect.get(e,t,St(e)?e:n);if((mn(t)?t1.has(t):PC(t))||(i||jt(e,"get",t),o))return s;if(St(s)){const l=a&&Ol(t)?s:s.value;return i&&Ye(l)?Au(l):l}return Ye(s)?i?Au(s):gh(s):s}}class n1 extends r1{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];const a=be(e)&&Ol(t);if(!this._isShallow){const c=vn(o);if(!ar(n)&&!vn(n)&&(o=ze(o),n=ze(n)),!a&&St(o)&&!St(n))return c||(o.value=n),!0}const s=a?Number(t)<e.length:$e(e,t),l=Reflect.set(e,t,n,St(e)?e:i);return e===ze(i)&&(s?zn(n,o)&&on(e,"set",t,n):on(e,"add",t,n)),l}deleteProperty(e,t){const n=$e(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&on(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(!mn(t)||!t1.has(t))&&jt(e,"has",t),n}ownKeys(e){return jt(e,"iterate",be(e)?"length":fi),Reflect.ownKeys(e)}}class RC extends r1{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const jC=new n1,qC=new RC,FC=new n1(!0);const Iu=r=>r,ss=r=>Reflect.getPrototypeOf(r);function zC(r,e,t){return function(...n){const i=this.__v_raw,o=ze(i),a=Ji(o),s=r==="entries"||r===Symbol.iterator&&a,l=r==="keys"&&a,c=i[r](...n),u=t?Iu:e?io:Sr;return!e&&jt(o,"iterate",l?Lu:fi),zt(Object.create(c),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:s?[u(d[0]),u(d[1])]:u(d),done:h}}})}}function ls(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function UC(r,e){const t={get(i){const o=this.__v_raw,a=ze(o),s=ze(i);r||(zn(i,s)&&jt(a,"get",i),jt(a,"get",s));const{has:l}=ss(a),c=e?Iu:r?io:Sr;if(l.call(a,i))return c(o.get(i));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!r&&jt(ze(i),"iterate",fi),i.size},has(i){const o=this.__v_raw,a=ze(o),s=ze(i);return r||(zn(i,s)&&jt(a,"has",i),jt(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=ze(s),c=e?Iu:r?io:Sr;return!r&&jt(l,"iterate",fi),s.forEach((u,d)=>i.call(o,c(u),c(d),a))}};return zt(t,r?{add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear")}:{add(i){!e&&!ar(i)&&!vn(i)&&(i=ze(i));const o=ze(this);return ss(o).has.call(o,i)||(o.add(i),on(o,"add",i,i)),this},set(i,o){!e&&!ar(o)&&!vn(o)&&(o=ze(o));const a=ze(this),{has:s,get:l}=ss(a);let c=s.call(a,i);c||(i=ze(i),c=s.call(a,i));const u=l.call(a,i);return a.set(i,o),c?zn(o,u)&&on(a,"set",i,o):on(a,"add",i,o),this},delete(i){const o=ze(this),{has:a,get:s}=ss(o);let l=a.call(o,i);l||(i=ze(i),l=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return l&&on(o,"delete",i,void 0),c},clear(){const i=ze(this),o=i.size!==0,a=i.clear();return o&&on(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=zC(i,r,e)}),t}function ph(r,e){const t=UC(r,e);return(n,i,o)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get($e(t,i)&&i in n?t:n,i,o)}const $C={get:ph(!1,!1)},GC={get:ph(!1,!0)},BC={get:ph(!0,!1)};const i1=new WeakMap,o1=new WeakMap,a1=new WeakMap,VC=new WeakMap;function HC(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YC(r){return r.__v_skip||!Object.isExtensible(r)?0:HC(yC(r))}function gh(r){return vn(r)?r:mh(r,!1,jC,$C,i1)}function ZC(r){return mh(r,!1,FC,GC,o1)}function Au(r){return mh(r,!0,qC,BC,a1)}function mh(r,e,t,n,i){if(!Ye(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=YC(r);if(o===0)return r;const a=i.get(r);if(a)return a;const s=new Proxy(r,o===2?n:t);return i.set(r,s),s}function yi(r){return vn(r)?yi(r.__v_raw):!!(r&&r.__v_isReactive)}function vn(r){return!!(r&&r.__v_isReadonly)}function ar(r){return!!(r&&r.__v_isShallow)}function jl(r){return r?!!r.__v_raw:!1}function ze(r){const e=r&&r.__v_raw;return e?ze(e):r}function WC(r){return!$e(r,"__v_skip")&&Object.isExtensible(r)&&Gf(r,"__v_skip",!0),r}const Sr=r=>Ye(r)?gh(r):r,io=r=>Ye(r)?Au(r):r;function St(r){return r?r.__v_isRef===!0:!1}function hS(r){return s1(r,!1)}function KC(r){return s1(r,!0)}function s1(r,e){return St(r)?r:new QC(r,e)}class QC{constructor(e,t){this.dep=new hh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ze(e),this._value=t?e:Sr(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||ar(e)||vn(e);e=n?e:ze(e),zn(e,t)&&(this._rawValue=e,this._value=n?e:Sr(e),this.dep.trigger())}}function l1(r){return St(r)?r.value:r}const XC={get:(r,e,t)=>e==="__v_raw"?r:l1(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return St(i)&&!St(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function c1(r){return yi(r)?r:new Proxy(r,XC)}function pS(r){const e=be(r)?new Array(r.length):{};for(const t in r)e[t]=e6(r,t);return e}class JC{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=ze(e);let i=!0,o=e;if(!be(e)||!Ol(String(t)))do i=!jl(o)||ar(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=l1(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&St(this._raw[this._key])){const t=this._object[this._key];if(St(t)){t.value=e;return}}this._object[this._key]=e}get dep(){return AC(this._raw,this._key)}}function e6(r,e,t){return new JC(r,e,t)}class t6{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new hh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ua-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Qe!==this)return Wf(this,!0),!0}get value(){const e=this.dep.track();return Xf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function r6(r,e,t=!1){let n,i;return Me(r)?n=r:(n=r.get,i=r.set),new t6(n,i,t)}const cs={},Us=new WeakMap;let ti;function n6(r,e=!1,t=ti){if(t){let n=Us.get(t);n||Us.set(t,n=[]),n.push(r)}}function i6(r,e,t=He){const{immediate:n,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=t,c=T=>i?T:ar(T)||i===!1||i===0?an(T,1):an(T);let u,d,h,p,m=!1,v=!1;if(St(r)?(d=()=>r.value,m=ar(r)):yi(r)?(d=()=>c(r),m=!0):be(r)?(v=!0,m=r.some(T=>yi(T)||ar(T)),d=()=>r.map(T=>{if(St(T))return T.value;if(yi(T))return c(T);if(Me(T))return l?l(T,2):T()})):Me(r)?e?d=l?()=>l(r,2):r:d=()=>{if(h){fn();try{h()}finally{yn()}}const T=ti;ti=u;try{return l?l(r,3,[p]):r(p)}finally{ti=T}}:d=Hr,e&&i){const T=d,N=i===!0?1/0:i;d=()=>an(T(),N)}const y=SC(),_=()=>{u.stop(),y&&y.active&&ih(y.effects,u)};if(o&&e){const T=e;e=(...N)=>{T(...N),_()}}let w=v?new Array(r.length).fill(cs):cs;const A=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const N=u.run();if(i||m||(v?N.some((W,Y)=>zn(W,w[Y])):zn(N,w))){h&&h();const W=ti;ti=u;try{const Y=[N,w===cs?void 0:v&&w[0]===cs?[]:w,p];w=N,l?l(e,3,Y):e(...Y)}finally{ti=W}}}else u.run()};return s&&s(A),u=new Yf(d),u.scheduler=a?()=>a(A,!1):A,p=T=>n6(T,!1,u),h=u.onStop=()=>{const T=Us.get(u);if(T){if(l)l(T,4);else for(const N of T)N();Us.delete(u)}},e?n?A(!0):w=u.run():a?a(A.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function an(r,e=1/0,t){if(e<=0||!Ye(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,St(r))an(r.value,e,t);else if(be(r))for(let n=0;n<r.length;n++)an(r[n],e,t);else if(Ff(r)||Ji(r))r.forEach(n=>{an(n,e,t)});else if($f(r)){for(const n in r)an(r[n],e,t);for(const n of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,n)&&an(r[n],e,t)}return r}function Pa(r,e,t,n){try{return n?r(...n):r()}catch(i){ql(i,e,t)}}function kn(r,e,t,n){if(Me(r)){const i=Pa(r,e,t,n);return i&&zf(i)&&i.catch(o=>{ql(o,e,t)}),i}if(be(r)){const i=[];for(let o=0;o<r.length;o++)i.push(kn(r[o],e,t,n));return i}}function ql(r,e,t,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||He;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](r,l,c)===!1)return}s=s.parent}if(o){fn(),Pa(o,null,10,[r,l,c]),yn();return}}o6(r,t,i,n,a)}function o6(r,e,t,n=!0,i=!1){if(i)throw r;console.error(r)}const Gt=[];let Or=-1;const eo=[];let Nn=null,$i=0;const u1=Promise.resolve();let $s=null;function a6(r){const e=$s||u1;return r?e.then(this?r.bind(this):r):e}function s6(r){let e=Or+1,t=Gt.length;for(;e<t;){const n=e+t>>>1,i=Gt[n],o=ha(i);o<r||o===r&&i.flags&2?e=n+1:t=n}return e}function fh(r){if(!(r.flags&1)){const e=ha(r),t=Gt[Gt.length-1];!t||!(r.flags&2)&&e>=ha(t)?Gt.push(r):Gt.splice(s6(e),0,r),r.flags|=1,d1()}}function d1(){$s||($s=u1.then(p1))}function l6(r){be(r)?eo.push(...r):Nn&&r.id===-1?Nn.splice($i+1,0,r):r.flags&1||(eo.push(r),r.flags|=1),d1()}function Mg(r,e,t=Or+1){for(;t<Gt.length;t++){const n=Gt[t];if(n&&n.flags&2){if(r&&n.id!==r.uid)continue;Gt.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function h1(r){if(eo.length){const e=[...new Set(eo)].sort((t,n)=>ha(t)-ha(n));if(eo.length=0,Nn){Nn.push(...e);return}for(Nn=e,$i=0;$i<Nn.length;$i++){const t=Nn[$i];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Nn=null,$i=0}}const ha=r=>r.id==null?r.flags&2?-1:1/0:r.id;function p1(r){try{for(Or=0;Or<Gt.length;Or++){const e=Gt[Or];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Or<Gt.length;Or++){const e=Gt[Or];e&&(e.flags&=-2)}Or=-1,Gt.length=0,h1(),$s=null,(Gt.length||eo.length)&&p1()}}let rr=null,g1=null;function Gs(r){const e=rr;return rr=r,g1=r&&r.type.__scopeId||null,e}function c6(r,e=rr,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&qg(-1);const o=Gs(e);let a;try{a=r(...i)}finally{Gs(o),n._d&&qg(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function gS(r,e){if(rr===null)return r;const t=Gl(rr),n=r.dirs||(r.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=He]=e[i];o&&(Me(o)&&(o={mounted:o,updated:o}),o.deep&&an(a),n.push({dir:o,instance:t,value:a,oldValue:void 0,arg:s,modifiers:l}))}return r}function Jn(r,e,t,n){const i=r.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(fn(),kn(l,t,8,[r.el,s,r,e]),yn())}}function u6(r,e){if(Ft){let t=Ft.provides;const n=Ft.parent&&Ft.parent.provides;n===t&&(t=Ft.provides=Object.create(n)),t[r]=e}}function gs(r,e,t=!1){const n=$l();if(n||vi){let i=vi?vi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&r in i)return i[r];if(arguments.length>1)return t&&Me(e)?e.call(n&&n.proxy):e}}function mS(){return!!($l()||vi)}const d6=Symbol.for("v-scx"),h6=()=>gs(d6);function Dc(r,e,t){return m1(r,e,t)}function m1(r,e,t=He){const{immediate:n,deep:i,flush:o,once:a}=t,s=zt({},t),l=e&&n||!e&&o!=="post";let c;if(ga){if(o==="sync"){const p=h6();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Hr,p.resume=Hr,p.pause=Hr,p}}const u=Ft;s.call=(p,m,v)=>kn(p,u,m,v);let d=!1;o==="post"?s.scheduler=p=>{Vt(p,u&&u.suspense)}:o!=="sync"&&(d=!0,s.scheduler=(p,m)=>{m?p():fh(p)}),s.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=i6(r,e,s);return ga&&(c?c.push(h):l&&h()),h}function p6(r,e,t){const n=this.proxy,i=Ut(r)?r.includes(".")?f1(n,r):()=>n[r]:r.bind(n,n);let o;Me(e)?o=e:(o=e.handler,t=e);const a=Da(this),s=m1(i,o.bind(n),t);return a(),s}function f1(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}const g6=Symbol("_vte"),m6=r=>r.__isTeleport,f6=Symbol("_leaveCb");function yh(r,e){r.shapeFlag&6&&r.component?(r.transition=e,yh(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function fS(r,e){return Me(r)?zt({name:r.name},e,{setup:r}):r}function yS(){const r=$l();return r?(r.appContext.config.idPrefix||"v")+"-"+r.ids[0]+r.ids[1]++:""}function y1(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function vS(r){const e=$l(),t=KC(null);if(e){const i=e.refs===He?e.refs={}:e.refs;Object.defineProperty(i,r,{enumerable:!0,get:()=>t.value,set:o=>t.value=o})}return t}function Cg(r,e){let t;return!!((t=Object.getOwnPropertyDescriptor(r,e))&&!t.configurable)}const Bs=new WeakMap;function Fo(r,e,t,n,i=!1){if(be(r)){r.forEach((v,y)=>Fo(v,e&&(be(e)?e[y]:e),t,n,i));return}if(zo(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Fo(r,e,t,n.component.subTree);return}const o=n.shapeFlag&4?Gl(n.component):n.el,a=i?null:o,{i:s,r:l}=r,c=e&&e.r,u=s.refs===He?s.refs={}:s.refs,d=s.setupState,h=ze(d),p=d===He?jf:v=>Cg(u,v)?!1:$e(h,v),m=(v,y)=>!(y&&Cg(u,y));if(c!=null&&c!==l){if(Sg(e),Ut(c))u[c]=null,p(c)&&(d[c]=null);else if(St(c)){const v=e;m(c,v.k)&&(c.value=null),v.k&&(u[v.k]=null)}}if(Me(l))Pa(l,s,12,[a,u]);else{const v=Ut(l),y=St(l);if(v||y){const _=()=>{if(r.f){const w=v?p(l)?d[l]:u[l]:m()||!r.k?l.value:u[r.k];if(i)be(w)&&ih(w,o);else if(be(w))w.includes(o)||w.push(o);else if(v)u[l]=[o],p(l)&&(d[l]=u[l]);else{const A=[o];m(l,r.k)&&(l.value=A),r.k&&(u[r.k]=A)}}else v?(u[l]=a,p(l)&&(d[l]=a)):y&&(m(l,r.k)&&(l.value=a),r.k&&(u[r.k]=a))};if(a){const w=()=>{_(),Bs.delete(r)};w.id=-1,Bs.set(r,w),Vt(w,t)}else Sg(r),_()}}}function Sg(r){const e=Bs.get(r);e&&(e.flags|=8,Bs.delete(r))}Dl().requestIdleCallback;Dl().cancelIdleCallback;const zo=r=>!!r.type.__asyncLoader,v1=r=>r.type.__isKeepAlive;function y6(r,e){k1(r,"a",e)}function v6(r,e){k1(r,"da",e)}function k1(r,e,t=Ft){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Fl(e,n,t),t){let i=t.parent;for(;i&&i.parent;)v1(i.parent.vnode)&&k6(n,e,t,i),i=i.parent}}function k6(r,e,t,n){const i=Fl(e,r,n,!0);b1(()=>{ih(n[e],i)},t)}function Fl(r,e,t=Ft,n=!1){if(t){const i=t[r]||(t[r]=[]),o=e.__weh||(e.__weh=(...a)=>{fn();const s=Da(t),l=kn(e,t,r,a);return s(),yn(),l});return n?i.unshift(o):i.push(o),o}}const bn=r=>(e,t=Ft)=>{(!ga||r==="sp")&&Fl(r,(...n)=>e(...n),t)},b6=bn("bm"),x6=bn("m"),w6=bn("bu"),_6=bn("u"),T6=bn("bum"),b1=bn("um"),E6=bn("sp"),M6=bn("rtg"),C6=bn("rtc");function S6(r,e=Ft){Fl("ec",r,e)}const L6="components",x1=Symbol.for("v-ndc");function kS(r){return Ut(r)?I6(L6,r,!1)||r:r||x1}function I6(r,e,t=!0,n=!1){const i=rr||Ft;if(i){const o=i.type;{const s=f8(o,!1);if(s&&(s===e||s===Wr(e)||s===oh(Wr(e))))return o}const a=Lg(i[r]||o[r],e)||Lg(i.appContext[r],e);return!a&&n?o:a}}function Lg(r,e){return r&&(r[e]||r[Wr(e)]||r[oh(Wr(e))])}function bS(r,e,t,n){let i;const o=t,a=be(r);if(a||Ut(r)){const s=a&&yi(r);let l=!1,c=!1;s&&(l=!ar(r),c=vn(r),r=Rl(r)),i=new Array(r.length);for(let u=0,d=r.length;u<d;u++)i[u]=e(l?c?io(Sr(r[u])):Sr(r[u]):r[u],u,void 0,o)}else if(typeof r=="number"){i=new Array(r);for(let s=0;s<r;s++)i[s]=e(s+1,s,void 0,o)}else if(Ye(r))if(r[Symbol.iterator])i=Array.from(r,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(r);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[l]=e(r[u],u,l,o)}}else i=[];return i}const Nu=r=>r?G1(r)?Gl(r):Nu(r.parent):null,Uo=zt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Nu(r.parent),$root:r=>Nu(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>_1(r),$forceUpdate:r=>r.f||(r.f=()=>{fh(r.update)}),$nextTick:r=>r.n||(r.n=a6.bind(r.proxy)),$watch:r=>p6.bind(r)}),Rc=(r,e)=>r!==He&&!r.__isScriptSetup&&$e(r,e),A6={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=r;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return o[e]}else{if(Rc(n,e))return a[e]=1,n[e];if(i!==He&&$e(i,e))return a[e]=2,i[e];if($e(o,e))return a[e]=3,o[e];if(t!==He&&$e(t,e))return a[e]=4,t[e];Ou&&(a[e]=0)}}const c=Uo[e];let u,d;if(c)return e==="$attrs"&&jt(r.attrs,"get",""),c(r);if((u=s.__cssModules)&&(u=u[e]))return u;if(t!==He&&$e(t,e))return a[e]=4,t[e];if(d=l.config.globalProperties,$e(d,e))return d[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:o}=r;return Rc(i,e)?(i[e]=t,!0):n!==He&&$e(n,e)?(n[e]=t,!0):$e(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,props:o,type:a}},s){let l;return!!(t[s]||r!==He&&s[0]!=="$"&&$e(r,s)||Rc(e,s)||$e(o,s)||$e(n,s)||$e(Uo,s)||$e(i.config.globalProperties,s)||(l=a.__cssModules)&&l[s])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:$e(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function Ig(r){return be(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Ou=!0;function N6(r){const e=_1(r),t=r.proxy,n=r.ctx;Ou=!1,e.beforeCreate&&Ag(e.beforeCreate,r,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:v,deactivated:y,beforeDestroy:_,beforeUnmount:w,destroyed:A,unmounted:T,render:N,renderTracked:W,renderTriggered:Y,errorCaptured:ie,serverPrefetch:te,expose:le,inheritAttrs:R,components:D,directives:Q,filters:C}=e;if(c&&O6(c,n,null),a)for(const ke in a){const Le=a[ke];Me(Le)&&(n[ke]=Le.bind(t))}if(i){const ke=i.call(t,t);Ye(ke)&&(r.data=gh(ke))}if(Ou=!0,o)for(const ke in o){const Le=o[ke],kt=Me(Le)?Le.bind(t,t):Me(Le.get)?Le.get.bind(t,t):Hr,$=!Me(Le)&&Me(Le.set)?Le.set.bind(t):Hr,Lt=v8({get:kt,set:$});Object.defineProperty(n,ke,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:Ke=>Lt.value=Ke})}if(s)for(const ke in s)w1(s[ke],n,t,ke);if(l){const ke=Me(l)?l.call(t):l;Reflect.ownKeys(ke).forEach(Le=>{u6(Le,ke[Le])})}u&&Ag(u,r,"c");function J(ke,Le){be(Le)?Le.forEach(kt=>ke(kt.bind(t))):Le&&ke(Le.bind(t))}if(J(b6,d),J(x6,h),J(w6,p),J(_6,m),J(y6,v),J(v6,y),J(S6,ie),J(C6,W),J(M6,Y),J(T6,w),J(b1,T),J(E6,te),be(le))if(le.length){const ke=r.exposed||(r.exposed={});le.forEach(Le=>{Object.defineProperty(ke,Le,{get:()=>t[Le],set:kt=>t[Le]=kt,enumerable:!0})})}else r.exposed||(r.exposed={});N&&r.render===Hr&&(r.render=N),R!=null&&(r.inheritAttrs=R),D&&(r.components=D),Q&&(r.directives=Q),te&&y1(r)}function O6(r,e,t=Hr){be(r)&&(r=Pu(r));for(const n in r){const i=r[n];let o;Ye(i)?"default"in i?o=gs(i.from||n,i.default,!0):o=gs(i.from||n):o=gs(i),St(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[n]=o}}function Ag(r,e,t){kn(be(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function w1(r,e,t,n){let i=n.includes(".")?f1(t,n):()=>t[n];if(Ut(r)){const o=e[r];Me(o)&&Dc(i,o)}else if(Me(r))Dc(i,r.bind(t));else if(Ye(r))if(be(r))r.forEach(o=>w1(o,e,t,n));else{const o=Me(r.handler)?r.handler.bind(t):e[r.handler];Me(o)&&Dc(i,o,r)}}function _1(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=r.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>Vs(l,c,a,!0)),Vs(l,e,a)),Ye(e)&&o.set(e,l),l}function Vs(r,e,t,n=!1){const{mixins:i,extends:o}=e;o&&Vs(r,o,t,!0),i&&i.forEach(a=>Vs(r,a,t,!0));for(const a in e)if(!(n&&a==="expose")){const s=P6[a]||t&&t[a];r[a]=s?s(r[a],e[a]):e[a]}return r}const P6={data:Ng,props:Og,emits:Og,methods:No,computed:No,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:No,directives:No,watch:R6,provide:Ng,inject:D6};function Ng(r,e){return e?r?function(){return zt(Me(r)?r.call(this,this):r,Me(e)?e.call(this,this):e)}:e:r}function D6(r,e){return No(Pu(r),Pu(e))}function Pu(r){if(be(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function $t(r,e){return r?[...new Set([].concat(r,e))]:e}function No(r,e){return r?zt(Object.create(null),r,e):e}function Og(r,e){return r?be(r)&&be(e)?[...new Set([...r,...e])]:zt(Object.create(null),Ig(r),Ig(e??{})):e}function R6(r,e){if(!r)return e;if(!e)return r;const t=zt(Object.create(null),r);for(const n in e)t[n]=$t(r[n],e[n]);return t}function T1(){return{app:null,config:{isNativeTag:jf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j6=0;function q6(r,e){return function(n,i=null){Me(n)||(n=zt({},n)),i!=null&&!Ye(i)&&(i=null);const o=T1(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:j6++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:k8,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&Me(u.install)?(a.add(u),u.install(c,...d)):Me(u)&&(a.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||hn(n,i);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),r(p,u,h),l=!0,c._container=u,u.__vue_app__=c,Gl(p.component)}},onUnmount(u){s.push(u)},unmount(){l&&(kn(s,c._instance,16),r(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=vi;vi=c;try{return u()}finally{vi=d}}};return c}}let vi=null;const F6=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${Wr(e)}Modifiers`]||r[`${Oa(e)}Modifiers`];function z6(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||He;let i=t;const o=e.startsWith("update:"),a=o&&F6(n,e.slice(7));a&&(a.trim&&(i=t.map(u=>Ut(u)?u.trim():u)),a.number&&(i=t.map(bC)));let s,l=n[s=Lc(e)]||n[s=Lc(Wr(e))];!l&&o&&(l=n[s=Lc(Oa(e))]),l&&kn(l,r,6,i);const c=n[s+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,kn(c,r,6,i)}}const U6=new WeakMap;function E1(r,e,t=!1){const n=t?U6:e.emitsCache,i=n.get(r);if(i!==void 0)return i;const o=r.emits;let a={},s=!1;if(!Me(r)){const l=c=>{const u=E1(c,e,!0);u&&(s=!0,zt(a,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!o&&!s?(Ye(r)&&n.set(r,null),null):(be(o)?o.forEach(l=>a[l]=null):zt(a,o),Ye(r)&&n.set(r,a),a)}function zl(r,e){return!r||!nh(e)?!1:(e=e.slice(2).replace(/Once$/,""),$e(r,e[0].toLowerCase()+e.slice(1))||$e(r,Oa(e))||$e(r,e))}function Pg(r){const{type:e,vnode:t,proxy:n,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:m,inheritAttrs:v}=r,y=Gs(r);let _,w;try{if(t.shapeFlag&4){const T=i||n,N=T;_=Pr(c.call(N,T,u,d,p,h,m)),w=s}else{const T=e;_=Pr(T.length>1?T(d,{attrs:s,slots:a,emit:l}):T(d,null)),w=e.props?s:$6(s)}}catch(T){$o.length=0,ql(T,r,1),_=hn(Vn)}let A=_;if(w&&v!==!1){const T=Object.keys(w),{shapeFlag:N}=A;T.length&&N&7&&(o&&T.some(qf)&&(w=G6(w,o)),A=oo(A,w,!1,!0))}return t.dirs&&(A=oo(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(t.dirs):t.dirs),t.transition&&yh(A,t.transition),_=A,Gs(y),_}const $6=r=>{let e;for(const t in r)(t==="class"||t==="style"||nh(t))&&((e||(e={}))[t]=r[t]);return e},G6=(r,e)=>{const t={};for(const n in r)(!qf(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function B6(r,e,t){const{props:n,children:i,component:o}=r,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Dg(n,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(M1(a,n,h)&&!zl(c,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?Dg(n,a,c):!0:!!a;return!1}function Dg(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(M1(e,r,o)&&!zl(t,o))return!0}return!1}function M1(r,e,t){const n=r[t],i=e[t];return t==="style"&&Ye(n)&&Ye(i)?!lh(n,i):n!==i}function V6({vnode:r,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=e.vnode).el=t,e=e.parent;else break}}const C1={},S1=()=>Object.create(C1),L1=r=>Object.getPrototypeOf(r)===C1;function H6(r,e,t,n=!1){const i={},o=S1();r.propsDefaults=Object.create(null),I1(r,e,i,o);for(const a in r.propsOptions[0])a in i||(i[a]=void 0);t?r.props=n?i:ZC(i):r.type.props?r.props=i:r.props=o,r.attrs=o}function Y6(r,e,t,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=r,s=ze(i),[l]=r.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=r.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(zl(r.emitsOptions,h))continue;const p=e[h];if(l)if($e(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const m=Wr(h);i[m]=Du(l,s,m,p,r,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{I1(r,e,i,o)&&(c=!0);let u;for(const d in s)(!e||!$e(e,d)&&((u=Oa(d))===d||!$e(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=Du(l,s,d,void 0,r,!0)):delete i[d]);if(o!==s)for(const d in o)(!e||!$e(e,d))&&(delete o[d],c=!0)}c&&on(r.attrs,"set","")}function I1(r,e,t,n){const[i,o]=r.propsOptions;let a=!1,s;if(e)for(let l in e){if(Ro(l))continue;const c=e[l];let u;i&&$e(i,u=Wr(l))?!o||!o.includes(u)?t[u]=c:(s||(s={}))[u]=c:zl(r.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(o){const l=ze(t),c=s||He;for(let u=0;u<o.length;u++){const d=o[u];t[d]=Du(i,l,d,c[d],r,!$e(c,d))}}return a}function Du(r,e,t,n,i,o){const a=r[t];if(a!=null){const s=$e(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Me(l)){const{propsDefaults:c}=i;if(t in c)n=c[t];else{const u=Da(i);n=c[t]=l.call(null,e),u()}}else n=l;i.ce&&i.ce._setProp(t,n)}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===Oa(t))&&(n=!0))}return n}const Z6=new WeakMap;function A1(r,e,t=!1){const n=t?Z6:e.propsCache,i=n.get(r);if(i)return i;const o=r.props,a={},s=[];let l=!1;if(!Me(r)){const u=d=>{l=!0;const[h,p]=A1(d,e,!0);zt(a,h),p&&s.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!o&&!l)return Ye(r)&&n.set(r,Xi),Xi;if(be(o))for(let u=0;u<o.length;u++){const d=Wr(o[u]);Rg(d)&&(a[d]=He)}else if(o)for(const u in o){const d=Wr(u);if(Rg(d)){const h=o[u],p=a[d]=be(h)||Me(h)?{type:h}:zt({},h),m=p.type;let v=!1,y=!0;if(be(m))for(let _=0;_<m.length;++_){const w=m[_],A=Me(w)&&w.name;if(A==="Boolean"){v=!0;break}else A==="String"&&(y=!1)}else v=Me(m)&&m.name==="Boolean";p[0]=v,p[1]=y,(v||$e(p,"default"))&&s.push(d)}}const c=[a,s];return Ye(r)&&n.set(r,c),c}function Rg(r){return r[0]!=="$"&&!Ro(r)}const vh=r=>r==="_"||r==="_ctx"||r==="$stable",kh=r=>be(r)?r.map(Pr):[Pr(r)],W6=(r,e,t)=>{if(e._n)return e;const n=c6((...i)=>kh(e(...i)),t);return n._c=!1,n},N1=(r,e,t)=>{const n=r._ctx;for(const i in r){if(vh(i))continue;const o=r[i];if(Me(o))e[i]=W6(i,o,n);else if(o!=null){const a=kh(o);e[i]=()=>a}}},O1=(r,e)=>{const t=kh(e);r.slots.default=()=>t},P1=(r,e,t)=>{for(const n in e)(t||!vh(n))&&(r[n]=e[n])},K6=(r,e,t)=>{const n=r.slots=S1();if(r.vnode.shapeFlag&32){const i=e._;i?(P1(n,e,t),t&&Gf(n,"_",i,!0)):N1(e,n)}else e&&O1(r,e)},Q6=(r,e,t)=>{const{vnode:n,slots:i}=r;let o=!0,a=He;if(n.shapeFlag&32){const s=e._;s?t&&s===1?o=!1:P1(i,e,t):(o=!e.$stable,N1(e,i)),a=e}else e&&(O1(r,e),a={default:1});if(o)for(const s in i)!vh(s)&&a[s]==null&&delete i[s]},Vt=t8;function xS(r){return X6(r)}function X6(r,e){const t=Dl();t.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=Hr,insertStaticContent:m}=r,v=(k,b,E,P=null,S=null,O=null,F=void 0,V=null,z=!!b.dynamicChildren)=>{if(k===b)return;k&&!Io(k,b)&&(P=Ue(k),Ke(k,S,O,!0),k=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:L,ref:ce,shapeFlag:X}=b;switch(L){case Ul:y(k,b,E,P);break;case Vn:_(k,b,E,P);break;case qc:k==null&&w(b,E,P,F);break;case tn:D(k,b,E,P,S,O,F,V,z);break;default:X&1?N(k,b,E,P,S,O,F,V,z):X&6?Q(k,b,E,P,S,O,F,V,z):(X&64||X&128)&&L.process(k,b,E,P,S,O,F,V,z,G)}ce!=null&&S?Fo(ce,k&&k.ref,O,b||k,!b):ce==null&&k&&k.ref!=null&&Fo(k.ref,null,O,k,!0)},y=(k,b,E,P)=>{if(k==null)n(b.el=s(b.children),E,P);else{const S=b.el=k.el;b.children!==k.children&&c(S,b.children)}},_=(k,b,E,P)=>{k==null?n(b.el=l(b.children||""),E,P):b.el=k.el},w=(k,b,E,P)=>{[k.el,k.anchor]=m(k.children,b,E,P,k.el,k.anchor)},A=({el:k,anchor:b},E,P)=>{let S;for(;k&&k!==b;)S=h(k),n(k,E,P),k=S;n(b,E,P)},T=({el:k,anchor:b})=>{let E;for(;k&&k!==b;)E=h(k),i(k),k=E;i(b)},N=(k,b,E,P,S,O,F,V,z)=>{if(b.type==="svg"?F="svg":b.type==="math"&&(F="mathml"),k==null)W(b,E,P,S,O,F,V,z);else{const L=k.el&&k.el._isVueCE?k.el:null;try{L&&L._beginPatch(),te(k,b,S,O,F,V,z)}finally{L&&L._endPatch()}}},W=(k,b,E,P,S,O,F,V)=>{let z,L;const{props:ce,shapeFlag:X,transition:K,dirs:ee}=k;if(z=k.el=a(k.type,O,ce&&ce.is,ce),X&8?u(z,k.children):X&16&&ie(k.children,z,null,P,S,jc(k,O),F,V),ee&&Jn(k,null,P,"created"),Y(z,k,k.scopeId,F,P),ce){for(const ge in ce)ge!=="value"&&!Ro(ge)&&o(z,ge,null,ce[ge],O,P);"value"in ce&&o(z,"value",null,ce.value,O),(L=ce.onVnodeBeforeMount)&&Nr(L,P,k)}ee&&Jn(k,null,P,"beforeMount");const oe=J6(S,K);oe&&K.beforeEnter(z),n(z,b,E),((L=ce&&ce.onVnodeMounted)||oe||ee)&&Vt(()=>{L&&Nr(L,P,k),oe&&K.enter(z),ee&&Jn(k,null,P,"mounted")},S)},Y=(k,b,E,P,S)=>{if(E&&p(k,E),P)for(let O=0;O<P.length;O++)p(k,P[O]);if(S){let O=S.subTree;if(b===O||q1(O.type)&&(O.ssContent===b||O.ssFallback===b)){const F=S.vnode;Y(k,F,F.scopeId,F.slotScopeIds,S.parent)}}},ie=(k,b,E,P,S,O,F,V,z=0)=>{for(let L=z;L<k.length;L++){const ce=k[L]=V?rn(k[L]):Pr(k[L]);v(null,ce,b,E,P,S,O,F,V)}},te=(k,b,E,P,S,O,F)=>{const V=b.el=k.el;let{patchFlag:z,dynamicChildren:L,dirs:ce}=b;z|=k.patchFlag&16;const X=k.props||He,K=b.props||He;let ee;if(E&&ei(E,!1),(ee=K.onVnodeBeforeUpdate)&&Nr(ee,E,b,k),ce&&Jn(b,k,E,"beforeUpdate"),E&&ei(E,!0),(X.innerHTML&&K.innerHTML==null||X.textContent&&K.textContent==null)&&u(V,""),L?le(k.dynamicChildren,L,V,E,P,jc(b,S),O):F||Le(k,b,V,null,E,P,jc(b,S),O,!1),z>0){if(z&16)R(V,X,K,E,S);else if(z&2&&X.class!==K.class&&o(V,"class",null,K.class,S),z&4&&o(V,"style",X.style,K.style,S),z&8){const oe=b.dynamicProps;for(let ge=0;ge<oe.length;ge++){const re=oe[ge],ye=X[re],xe=K[re];(xe!==ye||re==="value")&&o(V,re,ye,xe,S,E)}}z&1&&k.children!==b.children&&u(V,b.children)}else!F&&L==null&&R(V,X,K,E,S);((ee=K.onVnodeUpdated)||ce)&&Vt(()=>{ee&&Nr(ee,E,b,k),ce&&Jn(b,k,E,"updated")},P)},le=(k,b,E,P,S,O,F)=>{for(let V=0;V<b.length;V++){const z=k[V],L=b[V],ce=z.el&&(z.type===tn||!Io(z,L)||z.shapeFlag&198)?d(z.el):E;v(z,L,ce,null,P,S,O,F,!0)}},R=(k,b,E,P,S)=>{if(b!==E){if(b!==He)for(const O in b)!Ro(O)&&!(O in E)&&o(k,O,b[O],null,S,P);for(const O in E){if(Ro(O))continue;const F=E[O],V=b[O];F!==V&&O!=="value"&&o(k,O,V,F,S,P)}"value"in E&&o(k,"value",b.value,E.value,S)}},D=(k,b,E,P,S,O,F,V,z)=>{const L=b.el=k?k.el:s(""),ce=b.anchor=k?k.anchor:s("");let{patchFlag:X,dynamicChildren:K,slotScopeIds:ee}=b;ee&&(V=V?V.concat(ee):ee),k==null?(n(L,E,P),n(ce,E,P),ie(b.children||[],E,ce,S,O,F,V,z)):X>0&&X&64&&K&&k.dynamicChildren&&k.dynamicChildren.length===K.length?(le(k.dynamicChildren,K,E,S,O,F,V),(b.key!=null||S&&b===S.subTree)&&D1(k,b,!0)):Le(k,b,E,ce,S,O,F,V,z)},Q=(k,b,E,P,S,O,F,V,z)=>{b.slotScopeIds=V,k==null?b.shapeFlag&512?S.ctx.activate(b,E,P,F,z):C(b,E,P,S,O,F,z):U(k,b,z)},C=(k,b,E,P,S,O,F)=>{const V=k.component=d8(k,P,S);if(v1(k)&&(V.ctx.renderer=G),h8(V,!1,F),V.asyncDep){if(S&&S.registerDep(V,J,F),!k.el){const z=V.subTree=hn(Vn);_(null,z,b,E),k.placeholder=z.el}}else J(V,k,b,E,S,O,F)},U=(k,b,E)=>{const P=b.component=k.component;if(B6(k,b,E))if(P.asyncDep&&!P.asyncResolved){ke(P,b,E);return}else P.next=b,P.update();else b.el=k.el,P.vnode=b},J=(k,b,E,P,S,O,F)=>{const V=()=>{if(k.isMounted){let{next:X,bu:K,u:ee,parent:oe,vnode:ge}=k;{const je=R1(k);if(je){X&&(X.el=ge.el,ke(k,X,F)),je.asyncDep.then(()=>{Vt(()=>{k.isUnmounted||L()},S)});return}}let re=X,ye;ei(k,!1),X?(X.el=ge.el,ke(k,X,F)):X=ge,K&&Ic(K),(ye=X.props&&X.props.onVnodeBeforeUpdate)&&Nr(ye,oe,X,ge),ei(k,!0);const xe=Pg(k),Pe=k.subTree;k.subTree=xe,v(Pe,xe,d(Pe.el),Ue(Pe),k,S,O),X.el=xe.el,re===null&&V6(k,xe.el),ee&&Vt(ee,S),(ye=X.props&&X.props.onVnodeUpdated)&&Vt(()=>Nr(ye,oe,X,ge),S)}else{let X;const{el:K,props:ee}=b,{bm:oe,m:ge,parent:re,root:ye,type:xe}=k,Pe=zo(b);ei(k,!1),oe&&Ic(oe),!Pe&&(X=ee&&ee.onVnodeBeforeMount)&&Nr(X,re,b),ei(k,!0);{ye.ce&&ye.ce._hasShadowRoot()&&ye.ce._injectChildStyle(xe);const je=k.subTree=Pg(k);v(null,je,E,P,k,S,O),b.el=je.el}if(ge&&Vt(ge,S),!Pe&&(X=ee&&ee.onVnodeMounted)){const je=b;Vt(()=>Nr(X,re,je),S)}(b.shapeFlag&256||re&&zo(re.vnode)&&re.vnode.shapeFlag&256)&&k.a&&Vt(k.a,S),k.isMounted=!0,b=E=P=null}};k.scope.on();const z=k.effect=new Yf(V);k.scope.off();const L=k.update=z.run.bind(z),ce=k.job=z.runIfDirty.bind(z);ce.i=k,ce.id=k.uid,z.scheduler=()=>fh(ce),ei(k,!0),L()},ke=(k,b,E)=>{b.component=k;const P=k.vnode.props;k.vnode=b,k.next=null,Y6(k,b.props,P,E),Q6(k,b.children,E),fn(),Mg(k),yn()},Le=(k,b,E,P,S,O,F,V,z=!1)=>{const L=k&&k.children,ce=k?k.shapeFlag:0,X=b.children,{patchFlag:K,shapeFlag:ee}=b;if(K>0){if(K&128){$(L,X,E,P,S,O,F,V,z);return}else if(K&256){kt(L,X,E,P,S,O,F,V,z);return}}ee&8?(ce&16&&ht(L,S,O),X!==L&&u(E,X)):ce&16?ee&16?$(L,X,E,P,S,O,F,V,z):ht(L,S,O,!0):(ce&8&&u(E,""),ee&16&&ie(X,E,P,S,O,F,V,z))},kt=(k,b,E,P,S,O,F,V,z)=>{k=k||Xi,b=b||Xi;const L=k.length,ce=b.length,X=Math.min(L,ce);let K;for(K=0;K<X;K++){const ee=b[K]=z?rn(b[K]):Pr(b[K]);v(k[K],ee,E,null,S,O,F,V,z)}L>ce?ht(k,S,O,!0,!1,X):ie(b,E,P,S,O,F,V,z,X)},$=(k,b,E,P,S,O,F,V,z)=>{let L=0;const ce=b.length;let X=k.length-1,K=ce-1;for(;L<=X&&L<=K;){const ee=k[L],oe=b[L]=z?rn(b[L]):Pr(b[L]);if(Io(ee,oe))v(ee,oe,E,null,S,O,F,V,z);else break;L++}for(;L<=X&&L<=K;){const ee=k[X],oe=b[K]=z?rn(b[K]):Pr(b[K]);if(Io(ee,oe))v(ee,oe,E,null,S,O,F,V,z);else break;X--,K--}if(L>X){if(L<=K){const ee=K+1,oe=ee<ce?b[ee].el:P;for(;L<=K;)v(null,b[L]=z?rn(b[L]):Pr(b[L]),E,oe,S,O,F,V,z),L++}}else if(L>K)for(;L<=X;)Ke(k[L],S,O,!0),L++;else{const ee=L,oe=L,ge=new Map;for(L=oe;L<=K;L++){const Ve=b[L]=z?rn(b[L]):Pr(b[L]);Ve.key!=null&&ge.set(Ve.key,L)}let re,ye=0;const xe=K-oe+1;let Pe=!1,je=0;const tt=new Array(xe);for(L=0;L<xe;L++)tt[L]=0;for(L=ee;L<=X;L++){const Ve=k[L];if(ye>=xe){Ke(Ve,S,O,!0);continue}let Ie;if(Ve.key!=null)Ie=ge.get(Ve.key);else for(re=oe;re<=K;re++)if(tt[re-oe]===0&&Io(Ve,b[re])){Ie=re;break}Ie===void 0?Ke(Ve,S,O,!0):(tt[Ie-oe]=L+1,Ie>=je?je=Ie:Pe=!0,v(Ve,b[Ie],E,null,S,O,F,V,z),ye++)}const Ot=Pe?e8(tt):Xi;for(re=Ot.length-1,L=xe-1;L>=0;L--){const Ve=oe+L,Ie=b[Ve],Tt=b[Ve+1],xt=Ve+1<ce?Tt.el||j1(Tt):P;tt[L]===0?v(null,Ie,E,xt,S,O,F,V,z):Pe&&(re<0||L!==Ot[re]?Lt(Ie,E,xt,2):re--)}}},Lt=(k,b,E,P,S=null)=>{const{el:O,type:F,transition:V,children:z,shapeFlag:L}=k;if(L&6){Lt(k.component.subTree,b,E,P);return}if(L&128){k.suspense.move(b,E,P);return}if(L&64){F.move(k,b,E,G);return}if(F===tn){n(O,b,E);for(let X=0;X<z.length;X++)Lt(z[X],b,E,P);n(k.anchor,b,E);return}if(F===qc){A(k,b,E);return}if(P!==2&&L&1&&V)if(P===0)V.beforeEnter(O),n(O,b,E),Vt(()=>V.enter(O),S);else{const{leave:X,delayLeave:K,afterLeave:ee}=V,oe=()=>{k.ctx.isUnmounted?i(O):n(O,b,E)},ge=()=>{O._isLeaving&&O[f6](!0),X(O,()=>{oe(),ee&&ee()})};K?K(O,oe,ge):ge()}else n(O,b,E)},Ke=(k,b,E,P=!1,S=!1)=>{const{type:O,props:F,ref:V,children:z,dynamicChildren:L,shapeFlag:ce,patchFlag:X,dirs:K,cacheIndex:ee}=k;if(X===-2&&(S=!1),V!=null&&(fn(),Fo(V,null,E,k,!0),yn()),ee!=null&&(b.renderCache[ee]=void 0),ce&256){b.ctx.deactivate(k);return}const oe=ce&1&&K,ge=!zo(k);let re;if(ge&&(re=F&&F.onVnodeBeforeUnmount)&&Nr(re,b,k),ce&6)bt(k.component,E,P);else{if(ce&128){k.suspense.unmount(E,P);return}oe&&Jn(k,null,b,"beforeUnmount"),ce&64?k.type.remove(k,b,E,G,P):L&&!L.hasOnce&&(O!==tn||X>0&&X&64)?ht(L,b,E,!1,!0):(O===tn&&X&384||!S&&ce&16)&&ht(z,b,E),P&&_t(k)}(ge&&(re=F&&F.onVnodeUnmounted)||oe)&&Vt(()=>{re&&Nr(re,b,k),oe&&Jn(k,null,b,"unmounted")},E)},_t=k=>{const{type:b,el:E,anchor:P,transition:S}=k;if(b===tn){lr(E,P);return}if(b===qc){T(k);return}const O=()=>{i(E),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(k.shapeFlag&1&&S&&!S.persisted){const{leave:F,delayLeave:V}=S,z=()=>F(E,O);V?V(k.el,O,z):z()}else O()},lr=(k,b)=>{let E;for(;k!==b;)E=h(k),i(k),k=E;i(b)},bt=(k,b,E)=>{const{bum:P,scope:S,job:O,subTree:F,um:V,m:z,a:L}=k;jg(z),jg(L),P&&Ic(P),S.stop(),O&&(O.flags|=8,Ke(F,k,b,E)),V&&Vt(V,b),Vt(()=>{k.isUnmounted=!0},b)},ht=(k,b,E,P=!1,S=!1,O=0)=>{for(let F=O;F<k.length;F++)Ke(k[F],b,E,P,S)},Ue=k=>{if(k.shapeFlag&6)return Ue(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const b=h(k.anchor||k.el),E=b&&b[g6];return E?h(E):b};let Be=!1;const Ae=(k,b,E)=>{let P;k==null?b._vnode&&(Ke(b._vnode,null,null,!0),P=b._vnode.component):v(b._vnode||null,k,b,null,null,null,E),b._vnode=k,Be||(Be=!0,Mg(P),h1(),Be=!1)},G={p:v,um:Ke,m:Lt,r:_t,mt:C,mc:ie,pc:Le,pbc:le,n:Ue,o:r};return{render:Ae,hydrate:void 0,createApp:q6(Ae)}}function jc({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ei({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function J6(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function D1(r,e,t=!1){const n=r.children,i=e.children;if(be(n)&&be(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=rn(i[o]),s.el=a.el),!t&&s.patchFlag!==-2&&D1(a,s)),s.type===Ul&&(s.patchFlag===-1&&(s=i[o]=rn(s)),s.el=a.el),s.type===Vn&&!s.el&&(s.el=a.el)}}function e8(r){const e=r.slice(),t=[0];let n,i,o,a,s;const l=r.length;for(n=0;n<l;n++){const c=r[n];if(c!==0){if(i=t[t.length-1],r[i]<c){e[n]=i,t.push(n);continue}for(o=0,a=t.length-1;o<a;)s=o+a>>1,r[t[s]]<c?o=s+1:a=s;c<r[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,a=t[o-1];o-- >0;)t[o]=a,a=e[a];return t}function R1(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:R1(e)}function jg(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}function j1(r){if(r.placeholder)return r.placeholder;const e=r.component;return e?j1(e.subTree):null}const q1=r=>r.__isSuspense;function t8(r,e){e&&e.pendingBranch?be(r)?e.effects.push(...r):e.effects.push(r):l6(r)}const tn=Symbol.for("v-fgt"),Ul=Symbol.for("v-txt"),Vn=Symbol.for("v-cmt"),qc=Symbol.for("v-stc"),$o=[];let nr=null;function r8(r=!1){$o.push(nr=r?null:[])}function n8(){$o.pop(),nr=$o[$o.length-1]||null}let pa=1;function qg(r,e=!1){pa+=r,r<0&&nr&&e&&(nr.hasOnce=!0)}function F1(r){return r.dynamicChildren=pa>0?nr||Xi:null,n8(),pa>0&&nr&&nr.push(r),r}function wS(r,e,t,n,i,o){return F1($1(r,e,t,n,i,o,!0))}function i8(r,e,t,n,i){return F1(hn(r,e,t,n,i,!0))}function z1(r){return r?r.__v_isVNode===!0:!1}function Io(r,e){return r.type===e.type&&r.key===e.key}const U1=({key:r})=>r??null,ms=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?Ut(r)||St(r)||Me(r)?{i:rr,r,k:e,f:!!t}:r:null);function $1(r,e=null,t=null,n=0,i=null,o=r===tn?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&U1(e),ref:e&&ms(e),scopeId:g1,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rr};return s?(bh(l,t),o&128&&r.normalize(l)):t&&(l.shapeFlag|=Ut(t)?8:16),pa>0&&!a&&nr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&nr.push(l),l}const hn=o8;function o8(r,e=null,t=null,n=0,i=null,o=!1){if((!r||r===x1)&&(r=Vn),z1(r)){const s=oo(r,e,!0);return t&&bh(s,t),pa>0&&!o&&nr&&(s.shapeFlag&6?nr[nr.indexOf(r)]=s:nr.push(s)),s.patchFlag=-2,s}if(y8(r)&&(r=r.__vccOpts),e){e=a8(e);let{class:s,style:l}=e;s&&!Ut(s)&&(e.class=sh(s)),Ye(l)&&(jl(l)&&!be(l)&&(l=zt({},l)),e.style=ah(l))}const a=Ut(r)?1:q1(r)?128:m6(r)?64:Ye(r)?4:Me(r)?2:0;return $1(r,e,t,n,i,a,o,!0)}function a8(r){return r?jl(r)||L1(r)?zt({},r):r:null}function oo(r,e,t=!1,n=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=r,c=e?l8(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&U1(c),ref:e&&e.ref?t&&o?be(o)?o.concat(ms(e)):[o,ms(e)]:ms(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==tn?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:l,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&oo(r.ssContent),ssFallback:r.ssFallback&&oo(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return l&&n&&yh(u,l.clone(u)),u}function s8(r=" ",e=0){return hn(Ul,null,r,e)}function _S(r="",e=!1){return e?(r8(),i8(Vn,null,r)):hn(Vn,null,r)}function Pr(r){return r==null||typeof r=="boolean"?hn(Vn):be(r)?hn(tn,null,r.slice()):z1(r)?rn(r):hn(Ul,null,String(r))}function rn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:oo(r)}function bh(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(be(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),bh(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!L1(e)?e._ctx=rr:i===3&&rr&&(rr.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:rr},t=32):(e=String(e),n&64?(t=16,e=[s8(e)]):t=8);r.children=e,r.shapeFlag|=t}function l8(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=sh([e.class,n.class]));else if(i==="style")e.style=ah([e.style,n.style]);else if(nh(i)){const o=e[i],a=n[i];a&&o!==a&&!(be(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=n[i])}return e}function Nr(r,e,t,n=null){kn(r,e,7,[t,n])}const c8=T1();let u8=0;function d8(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||c8,o={uid:u8++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:A1(n,i),emitsOptions:E1(n,i),emit:null,emitted:null,propsDefaults:He,inheritAttrs:n.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=z6.bind(null,o),r.ce&&r.ce(o),o}let Ft=null;const $l=()=>Ft||rr;let Hs,Ru;{const r=Dl(),e=(t,n)=>{let i;return(i=r[t])||(i=r[t]=[]),i.push(n),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};Hs=e("__VUE_INSTANCE_SETTERS__",t=>Ft=t),Ru=e("__VUE_SSR_SETTERS__",t=>ga=t)}const Da=r=>{const e=Ft;return Hs(r),r.scope.on(),()=>{r.scope.off(),Hs(e)}},Fg=()=>{Ft&&Ft.scope.off(),Hs(null)};function G1(r){return r.vnode.shapeFlag&4}let ga=!1;function h8(r,e=!1,t=!1){e&&Ru(e);const{props:n,children:i}=r.vnode,o=G1(r);H6(r,n,o,e),K6(r,i,t||e);const a=o?p8(r,e):void 0;return e&&Ru(!1),a}function p8(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,A6);const{setup:n}=t;if(n){fn();const i=r.setupContext=n.length>1?m8(r):null,o=Da(r),a=Pa(n,r,0,[r.props,i]),s=zf(a);if(yn(),o(),(s||r.sp)&&!zo(r)&&y1(r),s){if(a.then(Fg,Fg),e)return a.then(l=>{zg(r,l)}).catch(l=>{ql(l,r,0)});r.asyncDep=a}else zg(r,a)}else B1(r)}function zg(r,e,t){Me(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Ye(e)&&(r.setupState=c1(e)),B1(r)}function B1(r,e,t){const n=r.type;r.render||(r.render=n.render||Hr);{const i=Da(r);fn();try{N6(r)}finally{yn(),i()}}}const g8={get(r,e){return jt(r,"get",""),r[e]}};function m8(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,g8),slots:r.slots,emit:r.emit,expose:e}}function Gl(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(c1(WC(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Uo)return Uo[t](r)},has(e,t){return t in e||t in Uo}})):r.proxy}function f8(r,e=!0){return Me(r)?r.displayName||r.name:r.name||e&&r.__name}function y8(r){return Me(r)&&"__vccOpts"in r}const v8=(r,e)=>r6(r,e,ga),k8="3.5.28";export{i8 as $,dS as A,a6 as B,pS as C,v8 as D,Dc as E,XT as F,fS as G,vS as H,tS as I,J8 as J,wS as K,r8 as L,tn as M,$1 as N,_S as O,sh as P,CC as Q,l1 as R,Af as S,oS as T,aS as U,sS as V,iS as W,yS as X,nS as Y,bS as Z,gS as _,Ut as a,s8 as a0,kS as a1,rE as a2,st as a3,Yr as a4,Mr as a5,zk as a6,Ik as a7,eh as a8,Ge as a9,Cn as aA,ro as aB,rl as aC,tl as aD,nl as aE,Fk as aF,z8 as aG,Qh as aH,Ak as aI,Fn as aJ,X8 as aK,JT as aL,eE as aM,eS as aN,rS as aO,ne as aa,Zt as ab,De as ac,ve as ad,Yt as ae,kk as af,Xu as ag,L8 as ah,bk as ai,ue as aj,Vi as ak,Ku as al,I0 as am,sE as an,$8 as ao,_a as ap,G8 as aq,U8 as ar,qk as as,fr as at,Wt as au,Ta as av,Dk as aw,ep as ax,R0 as ay,nt as az,nh as b,xS as c,qf as d,zt as e,lS as f,Wr as g,cS as h,Me as i,mn as j,be as k,Oa as l,oh as m,kn as n,lh as o,Ic as p,uS as q,hS as r,WC as s,gs as t,mS as u,gh as v,St as w,yi as x,ze as y,SC as z};
