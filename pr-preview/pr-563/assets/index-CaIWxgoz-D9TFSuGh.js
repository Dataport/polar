import{defineStore as K,storeToRefs as Ee}from"./pinia-snXBaUt1-B8Ma67qa.js";import{computed as m,ref as y,watch as Fe,shallowRef as Ie,markRaw as oe,reactive as Te}from"./vue.runtime.esm-bundler-CUj6__bO-Clqvd2vg.js";function De(n){return n==null||typeof n!="object"&&typeof n!="function"}function Ve(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function X(n){if(De(n))return n;if(Array.isArray(n)||Ve(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n);if(e==null)return Object.assign(Object.create(e),n);const t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const s=new t(n);return s.lastIndex=n.lastIndex,s}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){let s;return n instanceof AggregateError?s=new t(n.errors,n.message,{cause:n.cause}):s=new t(n.message,{cause:n.cause}),s.stack=n.stack,Object.assign(s,n),s}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const s=Object.create(e);return Object.assign(s,n)}return n}function G(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function ze(n){return n==="__proto__"}function I(n,e,t){const s=Object.keys(e);for(let o=0;o<s.length;o++){const i=s[o];if(ze(i))continue;const a=e[i],r=n[i],l=t(r,a,i,n,e);l!==void 0?n[i]=l:Array.isArray(a)?Array.isArray(r)?n[i]=I(r,a,t):n[i]=I([],a,t):G(a)?G(r)?n[i]=I(r,a,t):n[i]=I({},a,t):(r===void 0||a!==void 0)&&(n[i]=a)}return n}function Le(n,e){return I(X(n),e,function t(s,o){if(Array.isArray(o))return Array.isArray(s)?I(X(s),o,t):I([],o,t);if(G(o))return G(s)?I(X(s),o,t):I({},o,t)})}const g=n=>typeof n=="string",H=()=>{let n,e;const t=new Promise((s,o)=>{n=s,e=o});return t.resolve=n,t.reject=e,t},ce=n=>n==null?"":""+n,Ae=(n,e,t)=>{n.forEach(s=>{e[s]&&(t[s]=e[s])})},He=/###/g,pe=n=>n&&n.indexOf("###")>-1?n.replace(He,"."):n,he=n=>!n||g(n),M=(n,e,t)=>{const s=g(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(he(n))return{};const i=pe(s[o]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++o}return he(n)?{}:{obj:n,k:pe(s[o])}},ge=(n,e,t)=>{const{obj:s,k:o}=M(n,e,Object);if(s!==void 0||e.length===1){s[o]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),r=M(n,a,Object);for(;r.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),r=M(n,a,Object),r?.obj&&typeof r.obj[`${r.k}.${i}`]<"u"&&(r.obj=void 0);r.obj[`${r.k}.${i}`]=t},Me=(n,e,t,s)=>{const{obj:o,k:i}=M(n,e,Object);o[i]=o[i]||[],o[i].push(t)},J=(n,e)=>{const{obj:t,k:s}=M(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},Be=(n,e,t)=>{const s=J(n,t);return s!==void 0?s:J(e,t)},Re=(n,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?g(n[s])||n[s]instanceof String||g(e[s])||e[s]instanceof String?t&&(n[s]=e[s]):Re(n[s],e[s],t):n[s]=e[s]);return n},V=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ke=n=>g(n)?n.replace(/[&<>"'\/]/g,e=>_e[e]):n;class Ue{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const We=[" ",",","?","!",";"],Ge=new Ue(20),Je=(n,e,t)=>{e=e||"",t=t||"";const s=We.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(s.length===0)return!0;const o=Ge.getRegExp(`(${s.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!o.test(n);if(!i){const a=n.indexOf(t);a>0&&!o.test(n.substring(0,a))&&(i=!0)}return i},ie=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const s=e.split(t);let o=n;for(let i=0;i<s.length;){if(!o||typeof o!="object")return;let a,r="";for(let l=i;l<s.length;++l)if(l!==i&&(r+=t),r+=s[l],a=o[r],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<s.length-1)continue;i+=l-i+1;break}o=a}return o},_=n=>n?.replace("_","-"),qe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class q{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||qe,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,o){return o&&!this.debug?null:(g(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new q(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new q(this.logger,e)}}var N=new q;class Q{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(t)||0;this.observers[s].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let i=0;i<o;i++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let i=0;i<o;i++)s.apply(s,[e,...t])})}}class de extends Q{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,o={}){const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;e.indexOf(".")>-1?r=e.split("."):(r=[e,t],s&&(Array.isArray(s)?r.push(...s):g(s)&&i?r.push(...s.split(i)):r.push(s)));const l=J(this.data,r);return!l&&!t&&!s&&e.indexOf(".")>-1&&(e=r[0],t=r[1],s=r.slice(2).join(".")),l||!a||!g(s)?l:ie(this.data?.[e]?.[t],s,i)}addResource(e,t,s,o,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let r=[e,t];s&&(r=r.concat(a?s.split(a):s)),e.indexOf(".")>-1&&(r=e.split("."),o=t,t=r[1]),this.addNamespaces(t),ge(this.data,r,o),i.silent||this.emit("added",e,t,s,o)}addResources(e,t,s,o={silent:!1}){for(const i in s)(g(s[i])||Array.isArray(s[i]))&&this.addResource(e,t,i,s[i],{silent:!0});o.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,o,i,a={silent:!1,skipCopy:!1}){let r=[e,t];e.indexOf(".")>-1&&(r=e.split("."),o=s,s=t,t=r[1]),this.addNamespaces(t);let l=J(this.data,r)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?Re(l,s,i):l={...l,...s},ge(this.data,r,l),a.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var Pe={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,o){return n.forEach(i=>{e=this.processors[i]?.process(e,t,s,o)??e}),e}};const $e=Symbol("i18next/PATH_KEY");function Ye(){const n=[],e=Object.create(null);let t;return e.get=(s,o)=>(t?.revoke?.(),o===$e?n:(n.push(o),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function ne(n,e){const{[$e]:t}=n(Ye());return t.join(e?.keySeparator??".")}const fe={},ee=n=>!g(n)&&typeof n!="boolean"&&typeof n!="number";class Y extends Q{constructor(e,t={}){super(),Ae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=N.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(e==null)return!1;const o=this.resolve(e,s);if(o?.res===void 0)return!1;const i=ee(o.res);return!(s.returnObjects===!1&&i)}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=s&&e.indexOf(s)>-1,r=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Je(e,s,o);if(a&&!r){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:g(i)?[i]:i};const u=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(o)}return{key:e,namespaces:g(i)?[i]:i}}translate(e,t,s){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=ne(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const i=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:r,namespaces:l}=this.extractFromKey(e[e.length-1],o),u=l[l.length-1];let c=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");const p=o.lng||this.language,h=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return h?i?{res:`${u}${c}${r}`,usedKey:r,exactUsedKey:r,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(o)}:`${u}${c}${r}`:i?{res:r,usedKey:r,exactUsedKey:r,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(o)}:r;const f=this.resolve(e,o);let d=f?.res;const v=f?.usedKey||r,b=f?.exactUsedKey||r,P=["[object Number]","[object Function]","[object RegExp]"],x=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,k=o.count!==void 0&&!g(o.count),$=Y.hasDefaultValue(o),L=k?this.pluralResolver.getSuffix(p,o.count,o):"",z=o.ordinal&&k?this.pluralResolver.getSuffix(p,o.count,{ordinal:!1}):"",re=k&&!o.ordinal&&o.count===0,T=re&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${L}`]||o[`defaultValue${z}`]||o.defaultValue;let j=d;E&&!d&&$&&(j=T);const Ce=ee(j),Ne=Object.prototype.toString.apply(j);if(E&&j&&Ce&&P.indexOf(Ne)<0&&!(g(x)&&Array.isArray(j))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,j,{...o,ns:l}):`key '${r} (${this.language})' returned an object instead of string.`;return i?(f.res=C,f.usedParams=this.getUsedParamsDetails(o),f):C}if(a){const C=Array.isArray(j),R=C?[]:{},Z=C?b:v;for(const O in j)if(Object.prototype.hasOwnProperty.call(j,O)){const F=`${Z}${a}${O}`;$&&!d?R[O]=this.translate(F,{...o,defaultValue:ee(T)?T[O]:void 0,joinArrays:!1,ns:l}):R[O]=this.translate(F,{...o,joinArrays:!1,ns:l}),R[O]===F&&(R[O]=j[O])}d=R}}else if(E&&g(x)&&Array.isArray(d))d=d.join(x),d&&(d=this.extendTranslation(d,e,o,s));else{let C=!1,R=!1;!this.isValidLookup(d)&&$&&(C=!0,d=T),this.isValidLookup(d)||(R=!0,d=r);const Z=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:d,O=$&&T!==d&&this.options.updateMissing;if(R||C||O){if(this.logger.log(O?"updateKey":"missingKey",p,u,r,O?T:d),a){const w=this.resolve(r,{...o,keySeparator:!1});w&&w.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let w=0;w<U.length;w++)F.push(U[w]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(o.lng||this.language):F.push(o.lng||this.language);const le=(w,D,A)=>{const ue=$&&A!==d?A:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(w,u,D,ue,O,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(w,u,D,ue,O,o),this.emit("missingKey",w,u,D,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?F.forEach(w=>{const D=this.pluralResolver.getSuffixes(w,o);re&&o[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(A=>{le([w],r+A,o[`defaultValue${A}`]||T)})}):le(F,r,T))}d=this.extendTranslation(d,e,o,f,s),R&&d===r&&this.options.appendNamespaceToMissingKey&&(d=`${u}${c}${r}`),(R||C)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${c}${r}`:r,C?d:void 0,o))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(o),f):d}extendTranslation(e,t,s,o,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const l=g(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let c=s.replace&&!g(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,s.lng||this.language||o.usedLng,s),l){const p=e.match(this.interpolator.nestingRegexp),h=p&&p.length;u<h&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>i?.[0]===p[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),s)),s.interpolation&&this.interpolator.reset()}const a=s.postProcess||this.options.postProcess,r=g(a)?[a]:a;return e!=null&&r?.length&&s.applyPostProcessor!==!1&&(e=Pe.handle(r,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,o,i,a,r;return g(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(l,t),c=u.key;o=c;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const h=t.count!==void 0&&!g(t.count),f=h&&!t.ordinal&&t.count===0,d=t.context!==void 0&&(g(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(b=>{this.isValidLookup(s)||(r=b,!fe[`${v[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(r)&&(fe[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${o}" for languages "${v.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(P=>{if(this.isValidLookup(s))return;a=P;const x=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,P,b,t);else{let k;h&&(k=this.pluralResolver.getSuffix(P,t.count,t));const $=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(t.ordinal&&k.indexOf(L)===0&&x.push(c+k.replace(L,this.options.pluralSeparator)),x.push(c+k),f&&x.push(c+$)),d){const z=`${c}${this.options.contextSeparator||"_"}${t.context}`;x.push(z),h&&(t.ordinal&&k.indexOf(L)===0&&x.push(z+k.replace(L,this.options.pluralSeparator)),x.push(z+k),f&&x.push(z+$))}}let E;for(;E=x.pop();)this.isValidLookup(s)||(i=E,s=this.getResource(P,b,E,t))}))})}),{res:s,usedKey:o,exactUsedKey:i,usedLng:a,usedNS:r}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,o):this.resourceStore.getResource(e,t,s,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!g(e.replace);let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const i of t)delete o[i]}return o}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class me{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=N.create("languageUtils")}getScriptPartFromCode(e){if(e=_(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=_(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(g(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return t=o;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(a=>{if(a===i||!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),g(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],i=a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return g(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):g(e)&&i(this.formatLanguageCode(e)),s.forEach(a=>{o.indexOf(a)<0&&i(this.formatLanguageCode(a))}),o}}const ye={zero:0,one:1,two:2,few:3,many:4,other:5},ve={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Qe{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=N.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=_(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(s,{type:o})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),ve;if(!e.match(/-|_/))return ve;const r=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(r,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((o,i)=>ye[o]-ye[i]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,s={}){const o=this.getRule(e,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const xe=(n,e,t,s=".",o=!0)=>{let i=Be(n,e,t);return!i&&o&&g(t)&&(i=ie(n,t,s),i===void 0&&(i=ie(e,t,s))),i},te=n=>n.replace(/\$/g,"$$$$");class be{constructor(e={}){this.logger=N.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:o,prefix:i,prefixEscaped:a,suffix:r,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:p,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:d,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:P,alwaysFormat:x}=e.interpolation;this.escape=t!==void 0?t:Ke,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=i?V(i):a||"{{",this.suffix=r?V(r):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?V(h):f||V("$t("),this.nestingSuffix=d?V(d):v||V(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=P||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,o){let i,a,r;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const b=xe(t,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,s,{...o,...t,interpolationkey:h}):b}const f=h.split(this.formatSeparator),d=f.shift().trim(),v=f.join(this.formatSeparator).trim();return this.format(xe(t,l,d,this.options.keySeparator,this.options.ignoreJSONStructure),v,s,{...o,...t,interpolationkey:d})};this.resetRegExp();const c=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>te(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?te(this.escape(h)):te(h)}].forEach(h=>{for(r=0;i=h.regex.exec(e);){const f=i[1].trim();if(a=u(f),a===void 0)if(typeof c=="function"){const v=c(e,i,o);a=g(v)?v:""}else if(o&&Object.prototype.hasOwnProperty.call(o,f))a="";else if(p){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${f} for interpolating ${e}`),a="";else!g(a)&&!this.useRawValueToEscape&&(a=ce(a));const d=h.safeValue(a);if(e=e.replace(i[0],d),p?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=i[0].length):h.regex.lastIndex=0,r++,r>=this.maxReplaces)break}}),e}nest(e,t,s={}){let o,i,a;const r=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const p=l.split(new RegExp(`${V(c)}[ ]*{`));let h=`{${p[1]}`;l=p[0],h=this.interpolate(h,a);const f=h.match(/'/g),d=h.match(/"/g);((f?.length??0)%2===0&&!d||(d?.length??0)%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${c}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;o=this.nestingRegexp.exec(e);){let l=[];a={...s},a=a.replace&&!g(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(u!==-1&&(l=o[1].slice(u).split(this.formatSeparator).map(c=>c.trim()).filter(Boolean),o[1]=o[1].slice(0,u)),i=t(r.call(this,o[1].trim(),a),a),i&&o[0]===e&&!g(i))return i;g(i)||(i=ce(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((c,p)=>this.format(c,p,s.lng,{...s,interpolationkey:o[1].trim()}),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}const Ze=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(i=>{if(i){const[a,...r]=i.split(":"),l=r.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=l),l==="false"&&(t[u]=!1),l==="true"&&(t[u]=!0),isNaN(l)||(t[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:t}},Se=n=>{const e={};return(t,s,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const a=s+JSON.stringify(i);let r=e[a];return r||(r=n(_(s),o),e[a]=r),r(t)}},Xe=n=>(e,t,s)=>n(_(t),s)(e);class et{constructor(e={}){this.logger=N.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?Se:Xe;this.formats={number:s((o,i)=>{const a=new Intl.NumberFormat(o,{...i});return r=>a.format(r)}),currency:s((o,i)=>{const a=new Intl.NumberFormat(o,{...i,style:"currency"});return r=>a.format(r)}),datetime:s((o,i)=>{const a=new Intl.DateTimeFormat(o,{...i});return r=>a.format(r)}),relativetime:s((o,i)=>{const a=new Intl.RelativeTimeFormat(o,{...i});return r=>a.format(r,i.range||"day")}),list:s((o,i)=>{const a=new Intl.ListFormat(o,{...i});return r=>a.format(r)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Se(t)}format(e,t,s,o={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(r=>r.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,r)=>{const{formatName:l,formatOptions:u}=Ze(r);if(this.formats[l]){let c=a;try{const p=o?.formatParams?.[o.interpolationkey]||{},h=p.locale||p.lng||o.locale||o.lng||s;c=this.formats[l](a,h,{...u,...o,...p})}catch(p){this.logger.warn(p)}return c}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}const tt=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class st extends Q{constructor(e,t,s,o={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=N.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,o.backend,o)}queueLoad(e,t,s,o){const i={},a={},r={},l={};return e.forEach(u=>{let c=!0;t.forEach(p=>{const h=`${u}|${p}`;!s.reload&&this.store.hasResourceBundle(u,p)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,c=!1,a[h]===void 0&&(a[h]=!0),i[h]===void 0&&(i[h]=!0),l[p]===void 0&&(l[p]=!0)))}),c||(r[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(l)}}loaded(e,t,s){const o=e.split("|"),i=o[0],a=o[1];t&&this.emit("failedLoading",i,a,t),!t&&s&&this.store.addResourceBundle(i,a,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const r={};this.queue.forEach(l=>{Me(l.loaded,[i],a),tt(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{r[u]||(r[u]={});const c=l.loaded[u];c.length&&c.forEach(p=>{r[u][p]===void 0&&(r[u][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(l=>!l.done)}read(e,t,s,o=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:o,wait:i,callback:a});return}this.readingCalls++;const r=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,o+1,i*2,a)},i);return}a(u,c)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(c=>r(null,c)).catch(r):r(null,u)}catch(u){r(u)}return}return l(e,t,r)}prepareLoading(e,t,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();g(e)&&(e=this.languageUtils.toResolveHierarchy(e)),g(t)&&(t=[t]);const i=this.queueLoad(e,t,s,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),o=s[0],i=s[1];this.read(o,i,"read",void 0,void 0,(a,r)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${o} failed`,a),!a&&r&&this.logger.log(`${t}loaded namespace ${i} for language ${o}`,r),this.loaded(e,a,r)})}saveMissing(e,t,s,o,i,a={},r=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,t,s,o,l):c=u(e,t,s,o),c&&typeof c.then=="function"?c.then(p=>r(null,p)).catch(r):r(null,c)}catch(c){r(c)}else u(e,t,s,o,r,l)}!e||!e[0]||this.store.addResource(e[0],t,s,o)}}}const se=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),g(n[1])&&(e.defaultValue=n[1]),g(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ke=n=>(g(n.ns)&&(n.ns=[n.ns]),g(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),g(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),W=()=>{},ot=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{typeof n[e]=="function"&&(n[e]=n[e].bind(n))})},je="__i18next_supportNoticeShown",it=()=>typeof globalThis<"u"&&!!globalThis[je],nt=()=>{typeof globalThis<"u"&&(globalThis[je]=!0)},at=n=>!!(n?.modules?.backend?.name?.indexOf("Locize")>0||n?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||n?.options?.backend?.backends&&n.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0)||n?.options?.backend?.projectId||n?.options?.backend?.backendOptions&&n.options.backend.backendOptions.some(e=>e?.projectId));class B extends Q{constructor(e={},t){if(super(),this.options=ke(e),this.services={},this.logger=N,this.modules={external:[]},ot(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(g(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=se();this.options={...s,...this.options,...ke(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!at(this)&&!it()&&(typeof console<"u"&&typeof console.info<"u"&&console.info("ðŸŒ i18next is maintained with support from Locize â€” consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ðŸ’™"),nt());const o=r=>r?typeof r=="function"?new r:r:null;if(!this.options.isClone){this.modules.logger?N.init(o(this.modules.logger),this.options):N.init(null,this.options);let r;this.modules.formatter?r=this.modules.formatter:r=et;const l=new me(this.options);this.store=new de(this.options.resources,this.options);const u=this.services;u.logger=N,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new Qe(l,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),r&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(u.formatter=o(r),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new be(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new st(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(c,...p)=>{this.emit(c,...p)}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Y(this.services,this.options),this.translator.on("*",(c,...p)=>{this.emit(c,...p)}),this.modules.external.forEach(c=>{c.init&&c.init(this)})}if(this.format=this.options.interpolation.format,t||(t=W),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.length>0&&r[0]!=="dev"&&(this.options.lng=r[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(r=>{this[r]=(...l)=>this.store[r](...l)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(r=>{this[r]=(...l)=>(this.store[r](...l),this)});const i=H(),a=()=>{const r=(l,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(u),t(l,u)};if(this.languages&&!this.isInitialized)return r(null,this.t.bind(this));this.changeLanguage(this.options.lng,r)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),i}loadResources(e,t=W){let s=t;const o=g(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],a=r=>{!r||r==="cimode"||this.services.languageUtils.toResolveHierarchy(r).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};o?a(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(r=>a(r)),this.options.preload?.forEach?.(r=>a(r)),this.services.backendConnector.load(i,this.options.ns,r=>{!r&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(r)})}else s(null)}reloadResources(e,t,s){const o=H();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=W),this.services.backendConnector.reload(e,t,i=>{o.resolve(),s(i)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Pe.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=H();this.emit("languageChanging",e);const o=r=>{this.language=r,this.languages=this.services.languageUtils.toResolveHierarchy(r),this.resolvedLanguage=void 0,this.setResolvedLanguage(r)},i=(r,l)=>{l?this.isLanguageChangingTo===e&&(o(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve((...u)=>this.t(...u)),t&&t(r,(...u)=>this.t(...u))},a=r=>{!e&&!r&&this.services.languageDetector&&(r=[]);const l=g(r)?r:r&&r[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(g(r)?[r]:r);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,c=>{i(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,t,s){const o=(i,a,...r)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(r)):l={...a},l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||o.keyPrefix);const u=this.options.keySeparator||".";let c;return l.keyPrefix&&Array.isArray(i)?c=i.map(p=>(typeof p=="function"&&(p=ne(p,{...this.options,...a})),`${l.keyPrefix}${u}${p}`)):(typeof i=="function"&&(i=ne(i,{...this.options,...a})),c=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(c,l)};return g(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=s,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(r,l)=>{const u=this.services.backendConnector.state[`${r}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const r=t.precheck(this,a);if(r!==void 0)return r}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(s,e)&&(!o||a(i,e)))}loadNamespaces(e,t){const s=H();return this.options.ns?(g(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=H();g(e)&&(e=[e]);const o=this.options.preload||[],i=e.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=o.concat(i),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const i=o.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new me(se());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const s=new B(e,t);return s.createInstance=B.createInstance,s}cloneInstance(e={},t=W){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},i=new B(o);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const a=Object.keys(this.store.data).reduce((r,l)=>(r[l]={...this.store.data[l]},r[l]=Object.keys(r[l]).reduce((u,c)=>(u[c]={...r[l][c]},u),r[l]),r),{});i.store=new de(a,o),i.services.resourceStore=i.store}if(e.interpolation){const a={...se().interpolation,...this.options.interpolation,...e.interpolation},r={...o,interpolation:a};i.services.interpolator=new be(r)}return i.translator=new Y(i.services,o),i.translator.on("*",(a,...r)=>{i.emit(a,...r)}),i.init(o,t),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const S=B.createInstance();S.createInstance;S.dir;S.init;S.loadResources;S.reloadResources;S.use;S.changeLanguage;S.getFixedT;const dt=S.t;S.exists;S.setDefaultNamespace;S.hasLoadedNamespace;S.loadNamespaces;S.loadLanguages;function rt(n,e){const{fetch:t}=window;window.fetch=(s,o)=>{let i=o;const a=e();if(Object.keys(a).length>0&&typeof s=="string"&&s.match(n)){const r=new Headers(o?.headers);a.entries().forEach(([l,u])=>{r.append(l,u)}),i={...o,headers:r}}return t(s,i)}}const Oe=480,we=768,lt={epsg:"EPSG:25832",options:[{resolution:66.14579761460263,scale:25e4,zoomLevel:0},{resolution:26.458319045841044,scale:1e5,zoomLevel:1},{resolution:15.874991427504629,scale:6e4,zoomLevel:2},{resolution:10.583327618336419,scale:4e4,zoomLevel:3},{resolution:5.2916638091682096,scale:2e4,zoomLevel:4},{resolution:2.6458319045841048,scale:1e4,zoomLevel:5},{resolution:1.3229159522920524,scale:5e3,zoomLevel:6},{resolution:.6614579761460262,scale:2500,zoomLevel:7},{resolution:.2645831904584105,scale:1e3,zoomLevel:8},{resolution:.1322915952292052,scale:500,zoomLevel:9}],namedProjections:[["EPSG:25832","+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"],["EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],["EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"],["EPSG:31467","+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.70 +units=m +no_defs"],["EPSG:4647","+proj=tmerc +lat_0=0 +lon_0=9 +k=0.9996 +x_0=32500000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"]],startResolution:15.874991427504629},ae=K("main",()=>{const n=y("system"),e=y(Le({layers:[],startCenter:[0,0]},lt)),t=y(""),s=y(null),o=Ie({}),i=y([]),a=y(null),r=m(()=>e.value.layout??"standard"),l=y(0),u=y(0),c=m(()=>l.value<=Oe),p=m(()=>u.value<=we),h=m(()=>window.innerHeight===l.value&&window.innerWidth===u.value),f=m(()=>c.value&&h.value),d=y(!1);function v(){d.value=window.innerHeight<=Oe||window.innerWidth<=we}const b=y("");Fe(()=>e.value.secureServiceUrlRegex,L=>{L&&rt(L,()=>new Headers([["Authorization",`Bearer ${b.value}`]]))});const P=y(0),x=y([0,0]);function E(L){x.value=L.getGeometry().getCoordinates()}function k(){addEventListener("resize",v),v()}function $(){removeEventListener("resize",v)}return{colorScheme:n,configuration:e,clientHeight:l,clientWidth:u,hasSmallDisplay:d,language:t,lightElement:s,map:o,oidcToken:b,serviceRegister:i,shadowRoot:a,center:x,zoom:P,layout:r,hasSmallHeight:c,hasSmallWidth:p,hasWindowSize:h,deviceIsHorizontal:f,centerOnFeature:E,updateHasSmallDisplay:v,setup:k,teardown:$}}),ut=K("marker",()=>{const n=ae(),e=m(()=>n.configuration.markers),t=m(()=>typeof e.value?.callOnMapSelect=="function"?e.value.callOnMapSelect:null),s=m(()=>e.value?.clusterClickZoom||!1),o=y(null),i=y(null),a=m(()=>i.value===null?null:i.value.getGeometry().getCoordinates());return{configuration:e,callOnMapSelect:t,clusterClickZoom:s,hovered:o,selected:i,selectedCoordinates:a}}),ct=K("moveHandle",()=>{const n=y(null),e=y(()=>{}),t=y("kern-icon--close"),s=y(""),o=y(null),i=y(!1),a=y(""),r=y(null);function l(p){if(p===null){e.value(!1),c();return}a.value!==p.plugin&&e.value(!1),i.value=!0,e.value=p.closeFunction,s.value=p.closeLabel,o.value=oe(p.component),a.value=p.plugin,p.closeIcon&&(t.value=p.closeIcon)}function u(p){n.value=p===null?null:oe(p)}function c(){n.value=null,e.value=()=>{},t.value="kern-icon--close",s.value="",o.value=null,i.value=!1,a.value=""}return{actionButton:n,closeFunction:e,closeIcon:t,closeLabel:s,component:o,isActive:i,plugin:a,top:r,$reset:c,setMoveHandle:l,setMoveHandleActionButton:u}}),pt=K("plugin",()=>{const n=Te([]),e=ae();function t(i){const{id:a,locales:r,options:l,storeModule:u}=i,c=Le(l||{},e.configuration[a]||{});e.configuration[a]=c;const p=u?.(e._instance);p&&typeof p.setupPlugin=="function"&&p.setupPlugin(),r&&r.forEach(h=>{S.addResourceBundle(h.type,a,h.resources,!0)}),n.push({...i,options:c,...i.component?{component:oe(i.component)}:{}})}function s(i){const a=n.findIndex(({id:u})=>u===i),r=n[a];if(!r){console.error(`@polar/polar(core/stores/plugin:55:4)
`,`Plugin "${i}" not found.`);return}const l=r.storeModule?.(e._instance);l&&(typeof l.teardownPlugin=="function"&&l.teardownPlugin(),l.$dispose()),n.splice(a,1)}function o(i){return n.find(a=>a.id===i)?.storeModule?.(e._instance)||null}return{plugins:n,addPlugin:t,removePlugin:s,getPluginStore:o}}),ft=K("core",()=>{const n=ae(),e=Ee(n),t=ct(),s=pt(),o=ut();return{colorScheme:e.colorScheme,clientHeight:m(()=>n.clientHeight),clientWidth:m(()=>n.clientWidth),configuration:m(()=>n.configuration),deviceIsHorizontal:m(()=>n.deviceIsHorizontal),hasSmallDisplay:m(()=>n.hasSmallDisplay),hasSmallHeight:m(()=>n.hasSmallHeight),hasSmallWidth:m(()=>n.hasSmallWidth),hasWindowSize:m(()=>n.hasWindowSize),language:e.language,zoom:e.zoom,addPlugin:s.addPlugin,removePlugin:s.removePlugin,getPluginStore:s.getPluginStore,oidcToken:n.oidcToken,lightElement:m(()=>n.lightElement),layout:m(()=>n.layout),map:m(()=>n.map),moveHandleTop:m(()=>t.top),selectedCoordinates:m(()=>o.selectedCoordinates),shadowRoot:m(()=>n.shadowRoot),setMoveHandle:t.setMoveHandle,setMoveHandleActionButton:t.setMoveHandleActionButton}});export{S as L,Le as R,ut as c,ct as f,dt as g,pt as h,ft as m,ae as o};
