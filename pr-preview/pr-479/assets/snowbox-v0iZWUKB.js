const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pinia-DFMOV6lD-BZLsqLPB.js","./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js","./store-CqS7jimi.js","./index-CJTauI5J-CQLz5u6V.js","./reverseGeocode-CR3Bbmu1-BHvlk3Fj.js","./indicateLoading-DZ_RgipL-Bv5bk0yu.js"])))=>i.map(i=>d[i]);
import{s as C,i as Te,k as Ee,Z as Se,v as Ae,y as D,e as K,x as Pe,U as Oe,m as Re,n as se,P as le,G as Me,f as j,h as Ge,E as Fe,a as Be,u as De,w as $e,b as Ne,d as Je,N as ze,B as He,c as Ue,_ as O,A as We,g as N,j as J,o as z,l as F,K as Ve,I as Ke,L as _,Q as Ye,p as Z,J as je,q as de,M as ce,r as ue,D as Qe,t as Ze,S as Xe,W as qe,z as et}from"./runtime-core.esm-bundler--Tq44PZj.js";import{ref as x,markRaw as ne,defineComponent as H,createElementBlock as h,openBlock as u,createElementVNode as I,Fragment as E,renderList as S,unref as b,createBlock as $,resolveDynamicComponent as Q,computed as w,normalizeClass as tt,createCommentVNode as oe,createVNode as at,withCtx as nt,watch as ot}from"./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js";import{defineStore as U,storeToRefs as G}from"./pinia-DFMOV6lD-BZLsqLPB.js";import{d as A,R as B,h as Y,L as R}from"./index-CJTauI5J-CQLz5u6V.js";import{indicateLoading as it}from"./indicateLoading-DZ_RgipL-Bv5bk0yu.js";import{reverseGeocode as rt}from"./reverseGeocode-CR3Bbmu1-BHvlk3Fj.js";import"./store-CqS7jimi.js";const pe=U("plugins/footer",()=>{const e=A(),t=x([]),a=x([]);function n(){t.value=(e.configuration.footer?.leftEntries||[]).filter(({id:o})=>{const i=e.configuration[o]?.displayComponent;return typeof i=="boolean"?i:!0}),a.value=(e.configuration.footer?.rightEntries||[]).filter(({id:o})=>{const i=e.configuration[o]?.displayComponent;return typeof i=="boolean"?i:!0}),t.value.concat(a.value).forEach(o=>{e.addPlugin(B(o,{independent:!1}))}),t.value.map(o=>B(o,{component:ne(o.component)})),a.value.map(o=>B(o,{component:ne(o.component)}))}function s(){}return{leftEntries:t,rightEntries:a,setupPlugin:n,teardownPlugin:s}}),st={class:"polar-plugin-footer-wrapper"},lt=H({__name:"PolarFooter.ce",setup(e){const{leftEntries:t,rightEntries:a}=G(pe());return(n,s)=>(u(),h("div",st,[I("ul",null,[(u(!0),h(E,null,S(b(t),(o,i)=>(u(),h("li",{key:i},[(u(),$(Q(o.component)))]))),128))]),I("ul",null,[(u(!0),h(E,null,S(b(a),(o,i)=>(u(),h("li",{key:i},[(u(),$(Q(o.component)))]))),128))])]))}}),dt=".polar-plugin-footer-wrapper{&[data-v-9004f27e]{position:absolute;bottom:0;display:flex;width:100%;height:var(--kern-metric-dimension-large);padding:var(--kern-metric-space-x-small) var(--kern-metric-space-x-small) var(--kern-metric-space-x-small) var(--kern-metric-space-small);justify-content:space-between;align-items:center;flex-shrink:0;background:var(--kern-color-layout-background-hued);box-shadow:0 1px 1px #35395629,0 1px 2px #35395640,0 1px 6px #6e759740;border-radius:0 0 var(--kern-metric-border-radius-large) var(--kern-metric-border-radius-large)}ul{&[data-v-9004f27e]{display:flex;align-items:center;gap:var(--kern-metric-space-small);padding:0}li[data-v-9004f27e]{list-style:none}}}",ct=C(lt,[["styles",[dt]],["__scopeId","data-v-9004f27e"]]),ut={},pt={},gt=[{type:"de",resources:ut},{type:"en",resources:pt}],mt="footer";function ht(e){return{id:mt,component:ct,locales:gt,storeModule:pe,options:e}}function ie(){}const l={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},vt={ERROR:"error"};class ft extends ze{constructor(t){super(vt.ERROR),this.code=t.code,this.message=t.message}}class yt extends Fe{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.position_=null,this.transform_=Be,this.watchId_=void 0,this.addChangeListener(l.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(l.TRACKING,this.handleTrackingChanged_),t.projection!==void 0&&this.setProjection(t.projection),t.trackingOptions!==void 0&&this.setTrackingOptions(t.trackingOptions),this.setTracking(t.tracking!==void 0?t.tracking:!1)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const t=this.getProjection();t&&(this.transform_=De(D("EPSG:4326"),t),this.position_&&this.set(l.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(t){const a=t.coords;this.set(l.ACCURACY,a.accuracy),this.set(l.ALTITUDE,a.altitude===null?void 0:a.altitude),this.set(l.ALTITUDE_ACCURACY,a.altitudeAccuracy===null?void 0:a.altitudeAccuracy),this.set(l.HEADING,a.heading===null?void 0:$e(a.heading)),this.position_?(this.position_[0]=a.longitude,this.position_[1]=a.latitude):this.position_=[a.longitude,a.latitude];const n=this.transform_(this.position_);this.set(l.POSITION,n.slice()),this.set(l.SPEED,a.speed===null?void 0:a.speed);const s=Ne(this.position_,a.accuracy);s.applyTransform(this.transform_),this.set(l.ACCURACY_GEOMETRY,s),this.changed()}positionError_(t){this.dispatchEvent(new ft(t))}getAccuracy(){return this.get(l.ACCURACY)}getAccuracyGeometry(){return this.get(l.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(l.ALTITUDE)}getAltitudeAccuracy(){return this.get(l.ALTITUDE_ACCURACY)}getHeading(){return this.get(l.HEADING)}getPosition(){return this.get(l.POSITION)}getProjection(){return this.get(l.PROJECTION)}getSpeed(){return this.get(l.SPEED)}getTracking(){return this.get(l.TRACKING)}getTrackingOptions(){return this.get(l.TRACKING_OPTIONS)}setProjection(t){this.set(l.PROJECTION,D(t))}setTracking(t){this.set(l.TRACKING,t)}setTrackingOptions(t){this.set(l.TRACKING_OPTIONS,t)}}const bt=(e,t)=>()=>e.innerHTML=t.map(([a,n,s={}])=>`<${a}>${R.t(n,s)}</${a}>`).join(""),kt=`
	background: rgba(255, 255, 255, 0.8);
	padding: 0.2em 0.5em;
	border-radius: 4px;
	color: #16161d;
	box-shadow: 0px 0px 3px 2px rgba(0, 0, 0, 0.5);
`;function xt(e,t=kt){const a=document.createElement("div");a.style.cssText=t;const n=bt(a,e);return R.on("languageChanged",n),R.store.on("added",n),n(),{element:a,unregister:()=>{R.off("languageChanges",n),R.store.off("added",n)}}}function _t(){return navigator.permissions.query({name:"geolocation"}).then(({state:e})=>e==="denied").catch(()=>!1)}function Ct(e,t){const a=t/2*Math.sqrt(3),n=document.createElement("canvas").getContext("2d").createLinearGradient(0,-a,Math.sin(e),a+Math.cos(e));return n.addColorStop(0,"#0794FAFF"),n.addColorStop(2/3,"#0794FA00"),n}function wt(e){if(typeof e.get("heading")>"u")return new j;const t=42,a=Math.PI-e.get("heading");return new j({image:new Je({points:3,radius:t,rotation:a,fill:new le({color:Ct(a,t)}),displacement:[0,-30]})})}function It(){const e=new le({color:"#0078D4"}),t=new Me({color:"#FFFFFF",width:2});return a=>[wt(a),new j({image:new Ge({fill:e,stroke:t,radius:12}),fill:e,stroke:t})]}const Lt=(e,t)=>e[0]!==t[0]||e[1]!==t[1],ge=U("plugins/geoLocation",()=>{const e=A(),t=x(!1),a=x(null),n=x(null),s=x([]),o=w(()=>B({showTooltip:!1,zoomLevel:7},e.configuration.geoLocation||{})),i=w(()=>o.value.boundary),d=w(()=>t.value?"DISABLED":a.value===null?"LOCATABLE":"LOCATED"),r=new Te({type:"point",name:"geoLocationMarker"}),p=new Ee({source:new Se({features:[r]}),properties:{name:"geoLocationMarkerLayer"},zIndex:1/0,style:It()});function c(){e.map.addLayer(p),o.value.checkLocationInitially?q():_t().then(m=>t.value=m),L()}function g(){e.map.removeLayer(p),W(),V(),y()}let y=ie;function L(){if(o.value.showTooltip){const{unregister:m,element:k}=xt([["h2","markerText",{ns:"geoLocation"}]]),f=new Ae({element:k,positioning:"bottom-center",offset:[0,-5]});e.map.addOverlay(f);const T=({pixel:P,dragging:we})=>{if(we)return;const Ie=e.map.getFeaturesAtPixel(P,{layerFilter:Le=>Le.get("name")==="geoLocationMarkerLayer"}).length?e.map.getCoordinateFromPixel(P):void 0;f.setPosition(Ie)};e.map.on("pointermove",T),y=()=>{m(),e.map.removeOverlay(f),e.map.un("pointermove",T),y=ie}}}function _e(){(d.value==="LOCATABLE"?q:W)()}function q(){if(t.value){ee({message:"Geolocation API usage was denied by user or configuration."});return}a.value===null?a.value=new yt({trackingOptions:{enableHighAccuracy:!0},tracking:!0,projection:D("EPSG:4326")}):te(),a.value.on("change:position",te),a.value.on("change:heading",({target:m})=>{r.set("heading",m.getHeading())}),a.value.on("error",ee)}function ee(m){K("error",Y(k=>k.button.locationAccessDenied,{ns:"geoLocation"})),console.error(`@polar/polar(plugins/geoLocation/store:176:3)
`,m.message),t.value=!0,V()}function W(){a.value?.setTracking(!1),V(),a.value=null}async function te(){const m=Pe(a.value?.getPosition(),D("EPSG:4326"),e.configuration.epsg),k=e.configuration.extent?Oe(e.configuration.extent,m):!0,f=await Re(e.map,i.value?.layerId,m),T=n.value!==f;n.value=f;const P=typeof f=="symbol"&&i.value?.onError==="strict";if(!k||P){ae(P),W();return}Lt(s.value,m)&&(Ce(m),T&&!f&&ae(!1))}function Ce(m){s.value=m;const k=!!r.getGeometry();r.setGeometry(new se(m)),(o.value.keepCentered||!k)&&n.value&&(e.map.getView().setCenter(m),e.map.getView().setZoom(o.value.zoomLevel))}function V(){r.setGeometry(void 0),s.value=[]}function ae(m){if(m){const f=Y(T=>T.toast.boundaryError,{ns:"geoLocation"});K("error",f),console.error(`@polar/polar(plugins/geoLocation/store:264:4)
`,f);return}const k=Y(f=>f.toast.notInBoundary,{ns:"geoLocation"});K("info",k,{timeout:1e4}),console.info(`@polar/polar(plugins/geoLocation/store:272:3)
`,k)}return{setupPlugin:c,teardownPlugin:g,locate:_e,configuration:o,isGeolocationDenied:t,state:d,position:s,boundaryCheck:n}}),me="geoLocation",Tt=H({__name:"GeoLocation.ce",setup(e){const{layout:t}=G(A()),a=ge(),{state:n}=G(a),s=w(()=>n.value==="LOCATED"?"kern-icon-fill--near-me":n.value==="LOCATABLE"?"kern-icon--near-me":"kern-icon--near-me-disabled"),o=w(()=>a.configuration.renderType==="iconMenu"?void 0:t.value==="standard"||a.configuration.layoutTag?.includes("RIGHT")?"left":"right");return(i,d)=>(u(),$(He,{class:tt(b(t)==="nineRegions"?"polar-plugin-geoLocation-nineRegions":""),hint:i.$t(r=>r.button.tooltip,{ns:b(me)}),icon:s.value,"tooltip-position":o.value,disabled:b(n)==="DISABLED",onClick:b(a).locate},null,8,["class","hint","icon","tooltip-position","disabled","onClick"]))}}),Et=".polar-plugin-geoLocation-nineRegions[data-v-45fc3e3e]{margin:var(--kern-metric-space-small)}",St=C(Tt,[["styles",[Et]],["__scopeId","data-v-45fc3e3e"]]),At={markerText:"Aktuelle Position",button:{locationAccessDenied:"Standortzugriff nutzerseitig abgelehnt",tooltip:"Eigene Position markieren"},toast:{boundaryError:"Die Überprüfung Ihrer Position ist fehlgeschlagen. Bitte versuchen Sie es später erneut oder wenden Sie sich an einen Administrator, wenn das Problem bestehen bleibt.",notInBoundary:"Sie befinden sich nicht im Kartengebiet."}},Pt={markerText:"Current location",button:{locationAccessDenied:"Location access denied by user",tooltip:"Mark own location"},toast:{boundaryError:"Validating your position failed. Please try later again or contact an administrator if the issue persists.",notInBoundary:"You are not within the map's boundaries."}},Ot=[{type:"de",resources:At},{type:"en",resources:Pt}];function Rt(e){return{id:me,component:St,locales:Ot,storeModule:ge,options:e}}const Mt=["KernLoader","BasicLoader","RingLoader","RollerLoader","CircleLoader","SpinnerLoader"],he=U("plugins/loadingIndicator",()=>{const e=x(new Set),t=x("KernLoader"),a=w(()=>e.value.size>0);function n(){const r=A().configuration.loadingIndicator?.loaderStyle;r&&d(r)}function s(){d("KernLoader")}function o(r){e.value=new Set([...e.value,r])}function i(r){const p=new Set(e.value);p.delete(r),e.value=p}function d(r){Mt.includes(r)?t.value=r:console.error(`@polar/polar(plugins/loadingIndicator/store:62:5)
`,`Loader style ${r} does not exist. Using previous style (${t.value}).`)}return{loaderStyle:t,showLoader:a,addLoadingKey:o,removeLoadingKey:i,setLoaderStyle:d,setupPlugin:n,teardownPlugin:s}}),Gt={class:"lds-default"},Ft=H({__name:"BasicLoader.ce",setup(e){return(t,a)=>(u(),h("div",Gt,[(u(),h(E,null,S(12,n=>I("div",{key:n})),64))]))}}),Bt=".lds-default[data-v-6079aaec]{color:var(--kern-color-action-default)}.lds-default[data-v-6079aaec],.lds-default div[data-v-6079aaec]{box-sizing:border-box}.lds-default[data-v-6079aaec]{display:inline-block;position:relative;width:80px;height:80px}.lds-default div[data-v-6079aaec]{position:absolute;width:6.4px;height:6.4px;background:currentColor;border-radius:50%;animation:lds-default-6079aaec 1.2s linear infinite}.lds-default div[data-v-6079aaec]:nth-child(1){animation-delay:0s;top:36.8px;left:66.24px}.lds-default div[data-v-6079aaec]:nth-child(2){animation-delay:-.1s;top:22.08px;left:62.29579px}.lds-default div[data-v-6079aaec]:nth-child(3){animation-delay:-.2s;top:11.30421px;left:51.52px}.lds-default div[data-v-6079aaec]:nth-child(4){animation-delay:-.3s;top:7.36px;left:36.8px}.lds-default div[data-v-6079aaec]:nth-child(5){animation-delay:-.4s;top:11.30421px;left:22.08px}.lds-default div[data-v-6079aaec]:nth-child(6){animation-delay:-.5s;top:22.08px;left:11.30421px}.lds-default div[data-v-6079aaec]:nth-child(7){animation-delay:-.6s;top:36.8px;left:7.36px}.lds-default div[data-v-6079aaec]:nth-child(8){animation-delay:-.7s;top:51.52px;left:11.30421px}.lds-default div[data-v-6079aaec]:nth-child(9){animation-delay:-.8s;top:62.29579px;left:22.08px}.lds-default div[data-v-6079aaec]:nth-child(10){animation-delay:-.9s;top:66.24px;left:36.8px}.lds-default div[data-v-6079aaec]:nth-child(11){animation-delay:-1s;top:62.29579px;left:51.52px}.lds-default div[data-v-6079aaec]:nth-child(12){animation-delay:-1.1s;top:51.52px;left:62.29579px}@keyframes lds-default-6079aaec{0%,20%,80%,to{transform:scale(1)}50%{transform:scale(1.5)}}",Dt=C(Ft,[["styles",[Bt]],["__scopeId","data-v-6079aaec"]]),$t={},Nt=".lds-circle[data-v-149ac9d5]{color:var(--kern-color-action-default)}.lds-circle[data-v-149ac9d5],.lds-circle div[data-v-149ac9d5]{box-sizing:border-box}.lds-circle[data-v-149ac9d5]{display:inline-block;transform:translateZ(1px);width:80px;height:80px}.lds-circle>div[data-v-149ac9d5]{display:inline-block;width:64px;height:64px;margin:8px;background:currentColor;border-radius:50%;animation:lds-circle-149ac9d5 2.4s cubic-bezier(0,.2,.8,1) infinite}@keyframes lds-circle-149ac9d5{0%,to{animation-timing-function:cubic-bezier(.5,0,1,.5)}0%{transform:rotateY(0)}50%{transform:rotateY(1800deg);animation-timing-function:cubic-bezier(0,.5,.5,1)}to{transform:rotateY(3600deg)}}",Jt={class:"lds-circle"};function zt(e,t,a,n,s,o){return u(),h("div",Jt,[...t[0]||(t[0]=[I("div",null,null,-1)])])}const Ht=C($t,[["render",zt],["styles",[Nt]],["__scopeId","data-v-149ac9d5"]]),Ut={},Wt=".lds-ring[data-v-712a38e8]{color:var(--kern-color-action-default)}.lds-ring[data-v-712a38e8],.lds-ring div[data-v-712a38e8]{box-sizing:border-box}.lds-ring[data-v-712a38e8]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div[data-v-712a38e8]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid currentColor;border-radius:50%;animation:lds-ring-712a38e8 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:currentColor transparent transparent transparent}.lds-ring div[data-v-712a38e8]:nth-child(1){animation-delay:-.45s}.lds-ring div[data-v-712a38e8]:nth-child(2){animation-delay:-.3s}.lds-ring div[data-v-712a38e8]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring-712a38e8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",Vt={class:"lds-ring"};function Kt(e,t,a,n,s,o){return u(),h("div",Vt,[(u(),h(E,null,S(4,i=>I("div",{key:i})),64))])}const Yt=C(Ut,[["render",Kt],["styles",[Wt]],["__scopeId","data-v-712a38e8"]]),jt={},Qt='.lds-roller[data-v-c8254b29]{color:var(--kern-color-action-default)}.lds-roller[data-v-c8254b29],.lds-roller div[data-v-c8254b29],.lds-roller div[data-v-c8254b29]:after{box-sizing:border-box}.lds-roller[data-v-c8254b29]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller div[data-v-c8254b29]{animation:lds-roller-c8254b29 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller div[data-v-c8254b29]:after{content:" ";display:block;position:absolute;width:7.2px;height:7.2px;border-radius:50%;background:currentColor;margin:-3.6px 0 0 -3.6px}.lds-roller div[data-v-c8254b29]:nth-child(1){animation-delay:-36ms}.lds-roller div[data-v-c8254b29]:nth-child(1):after{top:62.62742px;left:62.62742px}.lds-roller div[data-v-c8254b29]:nth-child(2){animation-delay:-72ms}.lds-roller div[data-v-c8254b29]:nth-child(2):after{top:67.71281px;left:56px}.lds-roller div[data-v-c8254b29]:nth-child(3){animation-delay:-.108s}.lds-roller div[data-v-c8254b29]:nth-child(3):after{top:70.90963px;left:48.28221px}.lds-roller div[data-v-c8254b29]:nth-child(4){animation-delay:-.144s}.lds-roller div[data-v-c8254b29]:nth-child(4):after{top:72px;left:40px}.lds-roller div[data-v-c8254b29]:nth-child(5){animation-delay:-.18s}.lds-roller div[data-v-c8254b29]:nth-child(5):after{top:70.90963px;left:31.71779px}.lds-roller div[data-v-c8254b29]:nth-child(6){animation-delay:-.216s}.lds-roller div[data-v-c8254b29]:nth-child(6):after{top:67.71281px;left:24px}.lds-roller div[data-v-c8254b29]:nth-child(7){animation-delay:-.252s}.lds-roller div[data-v-c8254b29]:nth-child(7):after{top:62.62742px;left:17.37258px}.lds-roller div[data-v-c8254b29]:nth-child(8){animation-delay:-.288s}.lds-roller div[data-v-c8254b29]:nth-child(8):after{top:56px;left:12.28719px}@keyframes lds-roller-c8254b29{0%{transform:rotate(0)}to{transform:rotate(360deg)}}',Zt={class:"lds-roller"};function Xt(e,t,a,n,s,o){return u(),h("div",Zt,[(u(),h(E,null,S(8,i=>I("div",{key:i})),64))])}const qt=C(jt,[["render",Xt],["styles",[Qt]],["__scopeId","data-v-c8254b29"]]),ea={},ta='.lds-spinner[data-v-1790c8de]{color:var(--kern-color-action-default)}.lds-spinner[data-v-1790c8de],.lds-spinner div[data-v-1790c8de],.lds-spinner div[data-v-1790c8de]:after{box-sizing:border-box}.lds-spinner[data-v-1790c8de]{color:currentColor;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner div[data-v-1790c8de]{transform-origin:40px 40px;animation:lds-spinner-1790c8de 1.2s linear infinite}.lds-spinner div[data-v-1790c8de]:after{content:" ";display:block;position:absolute;top:3.2px;left:36.8px;width:6.4px;height:17.6px;border-radius:20%;background:currentColor}.lds-spinner div[data-v-1790c8de]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner div[data-v-1790c8de]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner div[data-v-1790c8de]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner div[data-v-1790c8de]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner div[data-v-1790c8de]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner div[data-v-1790c8de]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner div[data-v-1790c8de]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner div[data-v-1790c8de]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner div[data-v-1790c8de]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner div[data-v-1790c8de]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner div[data-v-1790c8de]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner div[data-v-1790c8de]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes lds-spinner-1790c8de{0%{opacity:1}to{opacity:0}}',aa={class:"lds-spinner"};function na(e,t,a,n,s,o){return u(),h("div",aa,[(u(),h(E,null,S(12,i=>I("div",{key:i})),64))])}const oa=C(ea,[["render",na],["styles",[ta]],["__scopeId","data-v-1790c8de"]]),ia={key:0,class:"polar-plugin-loading-indicator-wrapper"},ra={key:0,class:"polar-plugin-loading-indicator-overlay"},sa={key:0,class:"kern-loader kern-loader--visible",role:"status"},la=H({__name:"LoadingIndicator.ce",setup(e){const{layout:t}=G(A()),{loaderStyle:a,showLoader:n}=G(he()),s={BasicLoader:Dt,CircleLoader:Ht,RingLoader:Yt,RollerLoader:qt,SpinnerLoader:oa};return(o,i)=>b(n)&&b(a)!==null?(u(),h("div",ia,[b(t)==="standard"?(u(),h("div",ra)):oe("",!0),at(Ue,null,{default:nt(()=>[b(a)==="KernLoader"?(u(),h("div",sa)):(u(),$(Q(s[b(a)]),{key:1,class:"kern-loader--visible",role:"status"}))]),_:1})])):oe("",!0)}}),da=".polar-plugin-loading-indicator-wrapper{&[data-v-d34e6512]{z-index:100;position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.polar-plugin-loading-indicator-overlay[data-v-d34e6512]{position:absolute;width:100%;height:100%;opacity:var(--kern-color-action-state-opacity-overlay);background:#fff}.kern-card[data-v-d34e6512]{min-width:fit-content;height:fit-content;border-radius:50%}[data-v-d34e6512] .kern-card__container{padding:var(--kern-metric-space-small)!important}}",ca=C(la,[["styles",[da]],["__scopeId","data-v-d34e6512"]]),ua="loadingIndicator";function pa(e){return{id:ua,component:ca,storeModule:he,options:e}}const X="reverseGeocoder",ve=U("plugins/reverseGeocoder",()=>{const e=A(),t=w(()=>e.configuration[X]),a=x([]);function n(){for(const d of t.value.coordinateSources||[]){const r=d.plugin?e.getPluginStore(d.plugin):e;r&&a.value.push(ot(()=>r[d.key],async p=>{p&&await i(p)},{immediate:!0}))}}function s(){a.value.forEach(d=>{d()})}function o(d,r){const p=d.plugin?e.getPluginStore(d.plugin):e;p&&p[d.key](r)}async function i(d){const r=it();try{const p=await rt(t.value.url,d);return t.value.addressTarget&&o(t.value.addressTarget,p),t.value.zoomTo&&e.map.getView().fit(new se(d),{maxZoom:t.value.zoomTo,duration:400,easing:We}),p}catch(p){return console.error(`@polar/polar(plugins/reverseGeocoder/store:102:5)
`,"Reverse geocoding failed:",p),null}finally{r()}}return{reverseGeocode:i,setupPlugin:n,teardownPlugin:s}});if(import.meta.vitest){const{expect:e,test:t,vi:a}=import.meta.vitest,{createPinia:n,setActivePinia:s}=await O(async()=>{const{createPinia:c,setActivePinia:g}=await import("./pinia-DFMOV6lD-BZLsqLPB.js");return{createPinia:c,setActivePinia:g}},__vite__mapDeps([0,1]),import.meta.url),{reactive:o}=await O(async()=>{const{reactive:c}=await import("./vue.runtime.esm-bundler-CYHrvVzW-BTeeWO83.js");return{reactive:c}},[],import.meta.url),i=await O(()=>import("./store-CqS7jimi.js").then(c=>c.s),__vite__mapDeps([2,0,1,3]),import.meta.url),d=await O(()=>import("./reverseGeocode-CR3Bbmu1-BHvlk3Fj.js"),__vite__mapDeps([4,2,0,1,3]),import.meta.url),r=await O(()=>import("./indicateLoading-DZ_RgipL-Bv5bk0yu.js"),__vite__mapDeps([5,3,0,1]),import.meta.url),p=t.extend({reverseGeocodeUtil:[async({},c)=>{const g=a.spyOn(d,"reverseGeocode").mockResolvedValue(null);await c(g)},{auto:!0}],indicateLoading:[async({},c)=>{const g=a.spyOn(r,"indicateLoading").mockImplementation(()=>()=>{});await c(g)},{auto:!0}],coreStore:[async({},c)=>{const g=a.fn(),y=o({configuration:{[X]:{url:"https://wps.example",coordinateSources:[{key:"coordinateSource"}],addressTarget:{key:"addressTarget"},zoomTo:99}},map:{getView:()=>({fit:g})},coordinateSource:null,addressTarget:a.fn()});a.spyOn(i,"useCoreStore").mockReturnValue(y),await c(y)},{auto:!0}],store:[async({},c)=>{s(n());const g=ve();g.setupPlugin(),await c(g),g.teardownPlugin()},{auto:!0}]});p("detects changes in coordinate sources",async({reverseGeocodeUtil:c,coreStore:g})=>{g.coordinateSource=[1,2],await new Promise(y=>setTimeout(y)),e(c).toHaveBeenCalledWith("https://wps.example",[1,2])}),p("passes geocoding result to address target",async({reverseGeocodeUtil:c,coreStore:g,store:y})=>{const L=Symbol("feature");c.mockResolvedValueOnce(L),await y.reverseGeocode([3,4]),e(g.addressTarget).toHaveBeenCalledOnce(),e(g.addressTarget).toHaveBeenCalledWith(L)}),p("zooms to input coordinate",async({reverseGeocodeUtil:c,coreStore:g,store:y})=>{const L=Symbol("feature");c.mockResolvedValueOnce(L),await y.reverseGeocode([3,4]),e(g.map.getView().fit).toHaveBeenCalledOnce()})}function ga(e){return{id:X,storeModule:ve,options:e}}const ma={style:{background:"#fff"}},ha=N({__name:"EmptyComponent",setup(e){return(t,a)=>(z(),J("div",ma,"HELLO THERE"))}}),va={class:"kern-btn kern-btn--tertiary",style:{"border-radius":"0.25rem","min-height":"2rem",width:"2rem"}},fa=N({__name:"MockAttributions.ce",setup(e){return(t,a)=>(z(),J("button",va,[...a[0]||(a[0]=[F("span",{class:"kern-icon kern-icon-fill--copyright",style:{color:"var(--kern-color-action-default)"}},null,-1)])]))}}),ya={style:{display:"flex",gap:"0.5rem"}},ba=N({__name:"MockPointerPosition.ce",setup(e){return(t,a)=>(z(),J("div",ya,[...a[0]||(a[0]=[F("span",{class:"kern-icon kern-icon--fullscreen","aria-hidden":"true"},null,-1),F("span",{style:{display:"flex","align-items":"center"}},"9.9555 | 53.5479",-1),F("button",{class:"kern-btn kern-btn--tertiary",style:{"min-height":"1rem","font-size":"1.125rem","text-decoration-line":"underline","text-underline-offset":"2px","text-underline-position":"from-font",color:"#1a3da5"}}," EPSG:4326 ",-1)])]))}}),fe=[{id:"23420",name:"basemap.de Web Raster Farbe",url:"https://sgx.geodatenzentrum.de/wms_basemapde",typ:"WMS",layers:"de_basemapde_web_raster_farbe",format:"image/png",version:"1.3.0",singleTile:!1,transparent:!0,transparency:0,urlIsVisible:!0,tilesize:512,gutter:0,minScale:"0",maxScale:"2500000",legendURL:"",cache:!1,featureCount:5},{id:"23421",name:"basemap.de Web Raster Grau",url:"https://sgx.geodatenzentrum.de/wms_basemapde",typ:"WMS",layers:"de_basemapde_web_raster_grau",format:"image/png",version:"1.3.0",singleTile:!1,transparent:!0,transparency:0,urlIsVisible:!0,tilesize:512,gutter:0,minScale:"0",maxScale:"2500000",legendURL:"",cache:!1,featureCount:5},{id:"1454",name:"Ausgleichsflächen",url:"https://geodienste.hamburg.de/HH_WFS_Ausgleichsflaechen",typ:"WFS",featureType:"ausgleichsflaechen",outputFormat:"XML",version:"1.1.0",featureNS:"https://registry.gdi-de.org/id/de.hh.up",featurePrefix:"de.hh.up",legendURL:""},{id:"6059",name:"MML Anliegen",url:"https://geodienste.hamburg.de/lgv-config/anliegen_extern.json",typ:"GeoJSON",format:"XML",version:"1.0",minScale:"0",maxScale:"2500000",legendURL:"",urlIsVisible:!0},{id:"denkmaelerWMS",name:"Denkmal WMS",url:"https://efi2-deegree.schleswig-holstein.de/dish-deegree/services/wms_shp",typ:"WMS",layers:"0,1,2,3,4,6,24,25",legendURL:"ignore",format:"image/png",version:"1.3.0",transparent:!0}],ka="data:application/json;base64,WwoJewoJCSJzdHlsZUlkIjogInBhbmRhIiwKCQkicnVsZXMiOiBbCgkJCXsKCQkJCSJzdHlsZSI6IHsKCQkJCQkicG9seWdvblN0cm9rZUNvbG9yIjogWzMsIDI1NSwgMSwgMV0sCgkJCQkJInBvbHlnb25GaWxsSGF0Y2giOiB7CgkJCQkJCSJiYWNrZ3JvdW5kQ29sb3IiOiBbMCwgMCwgMCwgMC4yNV0sCgkJCQkJCSJwYXR0ZXJuIjogImRpYWdvbmFsLXJpZ2h0IiwKCQkJCQkJInBhdHRlcm5Db2xvciI6IFszLCAyNTUsIDEsIDFdCgkJCQkJfQoJCQkJfQoJCQl9CgkJXQoJfQpdCg==",xa={style:{background:"#fff"}},_a=N({__name:"YetAnotherEmptyComponent",setup(e){return(t,a)=>(z(),J("div",xa,"Awesome"))}}),ye="23420",Ca="23421",wa="1454",re="6059",Ia="denkmaelerWMS",be="1693";let M="light";const La=e=>Number(e.slice(-1))%2===0,Ta=e=>e.get("features").reduce((t,a)=>La(a.get("mmlid"))||t,!1),v=await Ve("snowbox",{colorScheme:M,startCenter:[573364,6028874],layers:[{id:ye,visibility:!0,type:"background",name:"Basemap.de (Farbe)"},{id:Ca,type:"background",name:"Basemap.de (Grau)",maxZoom:6},{id:be,visibility:!0,hideInMenu:!0,type:"mask",name:"meldemichel.layers.hamburgBorder"},{id:re,type:"mask",name:"Anliegen (MML)",visibility:!1},{id:wa,type:"mask",name:"Ausgleichsflächen",styleId:"panda",visibility:!0,minZoom:5},{id:Ia,type:"mask",name:"Kulturdenkmale",visibility:!0,options:{layers:{order:"6,24,25,4,3,2,1,0",title:{6:"Denkmalbereich",24:"Mehrheit von baulichen Anlagen",25:"Sachgesamtheit",4:"Baudenkmal",3:"Gründenkmal",2:"Gewässer",1:"Baudenkmal (Fläche)",0:"Gründenkmal (Fläche)"},legend:!0}}}],layout:"standard",checkServiceAvailability:!0,featureStyles:ka,markers:{layers:[{id:re,defaultStyle:{stroke:"#FFFFFF",fill:"#005CA9"},hoverStyle:{stroke:"#46688E",fill:"#8BA1B8"},selectionStyle:{stroke:"#FFFFFF",fill:"#E10019"},unselectableStyle:{stroke:"#FFFFFF",fill:"#333333"},isSelectable:Ta}],clusterClickZoom:!0},locales:[{type:"de",resources:{fullscreen:{button:{label_on:"Mach groß",label_off:"Mach klein"}},iconMenu:{hints:{attributions:"LMAO",fullscreen:"BEEEEEG YOSHEEEEE"}}}}],scale:{showScaleSwitcher:!0}},fe);document.getElementById("secondMap").addEventListener("click",async()=>{const e=Ke({startCenter:[573364,6028874],layers:[{id:ye,visibility:!0,type:"background",name:"snowbox.layers.basemap"}]},fe);e.classList.add("snowbox"),document.getElementById("secondMapContainer").appendChild(e),_(e,ce({layoutTag:"TOP_RIGHT"}))});document.getElementById("secondMapClean").addEventListener("click",()=>{document.getElementById("secondMapContainer").innerText=""});_(v,ue({displayComponent:!0,layoutTag:"BOTTOM_MIDDLE"}));setTimeout(()=>{Ye(v,"toast")},3e3);setTimeout(()=>{_(v,ue({displayComponent:!0,layoutTag:"BOTTOM_MIDDLE"})),Z(v,"toast").addToast({text:"Sechs Sekunden",severity:"info"})},6e3);_(v,pa({loaderStyle:"BasicLoader"}));_(v,Qe({searchMethods:[{queryParameters:{searchStreets:!0,searchHouseNumbers:!0},type:"mpapi",url:"https://geodienste.hamburg.de/HH_WFS_GAGES?service=WFS&request=GetFeature&version=2.0.0"}],minLength:3,waitMs:300,focusAfterSearch:!0,groupProperties:{defaultGroup:{limitResults:5}}}));_(v,Ze({coordinateSources:[{plugin:"addressSearch",key:"chosenAddress"}],boundary:{layerId:be},movable:"drag",style:{fill:"#FF0019"},toZoomLevel:7}));_(v,ga({url:"https://geodienste.hamburg.de/HH_WPS",coordinateSources:[{plugin:"pins",key:"coordinate"}],addressTarget:{plugin:"addressSearch",key:"selectResult"},zoomTo:7}));_(v,Xe({displayComponent:!0,layoutTag:"TOP_RIGHT",initiallyOpen:"layerChooser",focusMenus:[{plugin:{component:_a,id:"attributions",locales:[]},icon:"kern-icon--near-me"}],menus:[[{plugin:Rt({checkLocationInitially:!1,keepCentered:!1,showTooltip:!0,zoomLevel:7})}],[{plugin:{component:ha,id:"realKewl",locales:[]},icon:"kern-icon-fill--share"}],[{plugin:qe({})},{plugin:ce({})}]]}));_(v,ht({leftEntries:[{id:"mockPointer",component:ba}],rightEntries:[et({}),{id:"mockAttributions",component:fa}]}));const ke=Z(v,"toast");ke.addToast({text:"Hallo Welt",severity:"info"});ke.addToast({text:"Achtung! Dies ist ein Toast!",severity:"error"});const xe=Z(v,"loadingIndicator");xe.addLoadingKey("loadingTest");setTimeout(()=>xe.removeLoadingKey("loadingTest"),2e3);je(v,"core","selectedCoordinates",e=>document.getElementById("selected-feature-coordinates").innerText=JSON.stringify(e));document.getElementById("language-switcher").addEventListener("change",e=>{const t=e.target,{value:a}=t;de(v,"core","language",a),t[0].innerHTML=a==="en"?"English":"Englisch",t[1].innerHTML=a==="en"?"German":"Deutsch"});document.getElementById("color-scheme-switcher").addEventListener("click",({target:e})=>{e.innerHTML=`Switch to ${M} mode`,M=M==="light"?"dark":"light",de(v,"core","colorScheme",M)});
